;/*FB_PKG_DELIM*/

__d("QPLFlow",["QPLUserFlow","Random"],(function(a,b,c,d,e,f,g){"use strict";var h=0;function i(a,b){a=new j(a,b);a.start(b==null?void 0:b.annotations);return a}var j=function(){function a(a,b){this.$4=!1;this.$1=a;this.$2=(a=b==null?void 0:b.instanceKey)!=null?a:h++;this.$3=b==null?void 0:b.timeoutInMs}var b=a.prototype;b.start=function(a){this.$4=!0;c("QPLUserFlow").start(this.$1,{annotations:a,instanceKey:this.$2,timeoutInMs:(a=this.$3)!=null?a:void 0})};b.addPoint=function(a,b){c("QPLUserFlow").addPoint(this.$1,a,{instanceKey:this.$2}),b!=null&&this.$1!=null&&c("QPLUserFlow").addAnnotations(this.$1,b,{instanceKey:this.$2})};b.addAnnotations=function(a){c("QPLUserFlow").addAnnotations(this.$1,a,{instanceKey:this.$2})};b.endSuccess=function(a){c("QPLUserFlow").endSuccess(this.$1,{annotations:a,instanceKey:this.$2}),this.$4=!1};b.endFail=function(a,b){c("QPLUserFlow").endFailure(this.$1,a,{annotations:b,instanceKey:this.$2}),this.$4=!1};b.isActive=function(){return this.$4};b.getQPLAttrs=function(){return{event:this.$1,instanceKey:this.$2}};return a}();function k(a,b){var c=!0;return{addAnnotations:function(a){},addPoint:function(a,b){},endFail:function(a,b){c=!1},endSuccess:function(a){c=!1},getQPLAttrs:function(){return{event:a,instanceKey:0}},isActive:function(){return c},start:function(a){}}}function a(a,b,c){if(d("Random").coinflip(b))return i(a,c);else return k(a,c)}g.startQPLFlow=i;g.startQplFlowWithCoinflip=a}),98);
__d("Worm",["FBLogger","QPLFlow","WormReadOnlyStoreAccessor"],(function(a,b,c,d,e,f,g){"use strict";var h=1e4;a=function(){function a(a,b){this.$2=a,this.$1=b}var b=a.prototype;b.init=function(a){return this.$2.init(a)};b.close=function(){this.$2.close()};b.store=function(a){return new(d("WormReadOnlyStoreAccessor").ReadOnlyStoreAccessor)(this.$2,a,this.$1)};b.runInTransaction=async function(a,b,e,f){var g=this.$1!=null?d("QPLFlow").startQPLFlow(this.$1,{annotations:{string:{operationType:f}},timeoutInMs:h}):void 0;try{a=await this.$2.runInTransaction(a,b,e,{eventFlow:g});g==null?void 0:g.endSuccess();return a}catch(a){g==null?void 0:g.endFail("error");c("FBLogger")("worm").catching(a).mustfix("Error performing %s",f);throw a}};return a}();g.OP_TIMEOUT_MS=h;g.WormDatabase=a}),98);
__d("WormPromise",["Promise"],(function(a,b,c,d,e,f){"use strict";var g;a=typeof self==="object"?self.Promise:typeof globalThis==="object"?globalThis.Promise:g||b("Promise");f.WormPromise=a}),66);
__d("WormStoreFunctions",["WormPromise","err"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,c,e){var f=[];return d("WormPromise").WormPromise.all(e.map(function(b){b=b.selector;return a.getByIndex(c,b)})).then(function(c){var g=[],h=[];c.forEach(function(a,c){c=e[c].item;if(a){var d=babelHelpers.extends({},c);a=a[b.primaryKey];d[b.primaryKey]=a;g.push(d);f.push(a)}else h.push(c),f.push(null)});return d("WormPromise").WormPromise.all([a.bulkPut(g),a.bulkAdd(h).then(function(a){var b=0;f.forEach(function(c,d){c==null&&(f[d]=a[b++])})})])}).then(function(){return f.filter(Boolean)})}function b(a,b,c,d){return a.readIndex(b,c,babelHelpers.extends({},d,{limit:1})).then(function(a){return(a=a[0])!=null?a:null})}var h=function(){function a(a,b,c,d,e){this.query=a,this.cursorBuilder=b,this.order=c,this.filter=e,this.boundaries=d,(d==null?void 0:d.greaterThan)!=null?this.lowerBoundary={greaterThan:d.greaterThan}:(d==null?void 0:d.greaterThanOrEqual)!=null&&(this.lowerBoundary={greaterThanOrEqual:d.greaterThanOrEqual}),(d==null?void 0:d.lessThan)!=null?this.upperBoundary={lessThan:d.lessThan}:(d==null?void 0:d.lessThanOrEqual)!=null&&(this.upperBoundary={lessThanOrEqual:d.lessThanOrEqual})}var b=a.prototype;b.read=async function(a,b){var d=this.order==="asc",e;a==null?e=this.boundaries:d?e=babelHelpers.extends({},this.upperBoundary,{greaterThan:a}):e=babelHelpers.extends({},this.lowerBoundary,{lessThan:a});d=await this.query(e,{filter:this.filter,limit:b+1,order:this.order});var f;e=null;if(d.length<=b)f=d;else if(d.length===b+1)f=d.slice(0,b),e=d[b];else throw c("err")("unreachable");d=f[0];b=f[f.length-1];return{cursorInfo:{endCursor:b&&this.cursorBuilder(b),hasNext:e!=null,hasPrevious:a!=null,startCursor:d&&this.cursorBuilder(d)},data:f}};return a}();function e(a,b,d,e,f,g){b=b.indexes;if(b==null)throw c("err")("No indexes found");var i=b[d];if(i==null)throw c("err")("Index not found");return new h(function(b,c){return a(d,(b=b)!=null?b:void 0,c)},function(a){return i.fields.map(function(b){return a[b]})},e,f,g)}g.bulkUpsert=a;g.getByIndex=b;g.getIndexRangeIterator=e}),98);
__d("WormReadOnlyStoreAccessor",["FBLogger","QPLFlow","Worm","WormStoreFunctions"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a,b,c){this.$1=a,this.$2=b,this.$3=c}var b=a.prototype;b.$4=async function(a,b){b=this.$2+"."+b+"_inline";var e=this.$3!=null?d("QPLFlow").startQPLFlow(this.$3,{annotations:{string:{operationType:b}},timeoutInMs:d("Worm").OP_TIMEOUT_MS}):void 0;try{a=await this.$1.runInTransaction([this.$2],"readonly",a,{eventFlow:e});e==null?void 0:e.endSuccess();return a}catch(a){e==null?void 0:e.endFail("error");c("FBLogger")("worm").catching(a).mustfix("Error performing %s",b);throw a}};b.bulkGet=function(a){var b=this;return this.$4(function(c){return c.stores[b.$2].bulkGet(a)},"bulkGet")};b.count=function(){var a=this;return this.$4(function(b){return b.stores[a.$2].count()},"count")};b.get=function(a){var b=this;return this.$4(function(c){return c.stores[b.$2].get(a)},"get")};b.getByIndex=function(a,b,c){var d=this;return this.$4(function(e){return e.stores[d.$2].getByIndex(a,b,c)},"getByIndex")};b.getIndexRangeIterator=function(a,b,c,e){var f=this;return d("WormStoreFunctions").getIndexRangeIterator(function(a,b,c){return f.$4(function(d){return d.stores[f.$2].readIndexRange(a,b,c)},"getIndexRangeIterator")},this.$1.getSchema()[this.$2],a,b,c,e)};b.readAll=function(a){var b=this;return this.$4(function(c){return c.stores[b.$2].readAll(a)},"readAll")};b.readByKeyRange=function(a,b){var c=this;return this.$4(function(d){return d.stores[c.$2].readByKeyRange(a,b)},"readByKeyRange")};b.readIndex=function(a,b,c){var d=this;return this.$4(function(e){return e.stores[d.$2].readIndex(a,b,c)},"readIndex")};b.readIndexKeys=function(a,b,c){var d=this;return this.$4(function(e){return e.stores[d.$2].readIndexKeys(a,b,c)},"readIndexKeys")};b.readIndexRange=function(a,b,c){var d=this;return this.$4(function(e){return e.stores[d.$2].readIndexRange(a,b,c)},"readIndexRange")};b.readKeys=function(a){var b=this;return this.$4(function(c){return c.stores[b.$2].readKeys(a)},"readKeys")};b.readKeysByIndexRange=function(a,b,c){var d=this;return this.$4(function(e){return e.stores[d.$2].readKeysByIndexRange(a,b,c)},"readKeysByIndexRange")};return a}();g.ReadOnlyStoreAccessor=a}),98);
__d("WABinary",["WAHex","err"],(function(a,b,c,d,e,f,g){"use strict";var h=65533,i=10,j=new Uint8Array(i),k=new Uint8Array(0);a=function(){function a(b,c){var d=this;b===void 0&&(b=k);c===void 0&&(c=!1);this.$1=new Uint8Array(0);this.$2=0;this.$4=0;this.write=function(){for(var b=0;b<arguments.length;b++){var c=b<0||arguments.length<=b?void 0:arguments[b];typeof c==="string"?d.writeString(c):typeof c==="number"?d.writeUint8(c):c instanceof a?d.writeBinary(c):c instanceof ArrayBuffer?d.writeBuffer(c):c instanceof Uint8Array&&d.writeByteArray(c)}};b instanceof ArrayBuffer?(this.$1=new Uint8Array(b),this.$2=this.$4=b.byteLength):b instanceof Uint8Array&&(this.$1=b,this.$2=this.$4=b.length);this.$5=0;this.$6=this.$3=0;this.$7=null;this.$8=c;this.$9=0;this.$10=0}var b=a.prototype;b.size=function(){return this.$2-this.$3};b.peek=function(a,b){this.$9++;var c=this.$3,d=this.$5;try{return a(this,b)}finally{this.$9--,this.$3=c-(this.$5-d)}};b.advance=function(a){this.$11(a)};b.readWithViewParser=function(a,b,c,d){return b(this.$12(),this.$11(a),a,c,d)};b.readWithBytesParser=function(a,b,c,d){return b(this.$1,this.$11(a),a,c,d)};b.readUint8=function(){return p(this,1,r,!1)};b.readInt8=function(){return p(this,1,r,!0)};b.readUint16=function(a){a===void 0&&(a=this.$8);return p(this,2,s,a)};b.readInt32=function(a){a===void 0&&(a=this.$8);return p(this,4,t,a)};b.readUint32=function(a){a===void 0&&(a=this.$8);return p(this,4,u,a)};b.readInt64=function(a){a===void 0&&(a=this.$8);return p(this,8,v,U,a)};b.readUint64=function(a){a===void 0&&(a=this.$8);return p(this,8,v,V,a)};b.readLong=function(a,b){b===void 0&&(b=this.$8);return p(this,8,v,a,b)};b.readFloat32=function(a){a===void 0&&(a=this.$8);return p(this,4,w,a)};b.readFloat64=function(a){a===void 0&&(a=this.$8);return p(this,8,x,a)};b.readVarInt=function(a){var b=this.size();b=q(this,0,y,b);return q(this,b,z,a)};b.readBuffer=function(a){a===void 0&&(a=this.size());return a===0?new ArrayBuffer(0):q(this,a,A)};b.readByteArray=function(a){a===void 0&&(a=this.size());return a===0?new Uint8Array(0):q(this,a,B)};b.readBinary=function(b,c){b===void 0&&(b=this.size());c===void 0&&(c=this.$8);if(b===0)return new a(void 0,c);b=q(this,b,B);return new a(b,c)};b.indexOf=function(a){if(a.length===0)return 0;var b=this.$1,c=this.$2,d=this.$3,e=0,f=d;for(var g=d;g<c;g++)if(b[g]===a[e]){e===0&&(f=g);e++;if(e===a.byteLength)return g-d-a.byteLength+1}else e>0&&(e=0,g=f);return-1};b.readString=function(a){return q(this,a,C)};b.ensureCapacity=function(a){this.$13(this.$3+a)};b.ensureAdditionalCapacity=function(a){this.$13(this.$4+a)};b.writeToView=function(a,b,c,d){var e=this.$14(a);return b(this.$12(),e,a,c,d)};b.writeToBytes=function(a,b,c,d){var e=this.$14(a);return b(this.$1,e,a,c,d)};b.writeUint8=function(a){S(a,0,256,"uint8"),E(this,1,F,a,!1)};b.writeInt8=function(a){S(a,-128,128,"signed int8"),E(this,1,F,a,!0)};b.writeUint16=function(a,b){b===void 0&&(b=this.$8),S(a,0,65536,"uint16"),D(this,2,G,a,b)};b.writeInt16=function(a,b){b===void 0&&(b=this.$8),S(a,-32768,32768,"signed int16"),D(this,2,H,a,b)};b.writeUint32=function(a,b){b===void 0&&(b=this.$8),S(a,0,4294967296,"uint32"),D(this,4,I,a,b)};b.writeInt32=function(a,b){b===void 0&&(b=this.$8),S(a,-2147483648,2147483648,"signed int32"),D(this,4,J,a,b)};b.writeUint64=function(a,b){b===void 0&&(b=this.$8),S(a,0,18446744073709552e3,"uint64"),D(this,8,K,a,b)};b.writeInt64=function(a,b){b===void 0&&(b=this.$8),S(a,-9223372036854776e3,9223372036854776e3,"signed int64"),D(this,8,K,a,b)};b.writeFloat32=function(a,b){b===void 0&&(b=this.$8),D(this,4,L,a,b)};b.writeFloat64=function(a,b){b===void 0&&(b=this.$8),D(this,8,M,a,b)};b.writeVarInt=function(a){S(a,-9223372036854776e3,9223372036854776e3,"varint (signed int64)");var b=a<0;a=b?-a:a;var c=Math.floor(a/4294967296);a=a-c*4294967296;b&&(c=~c,a===0?c++:a=-a);b=R(c,a);E(this,b,N,c,a)};b.writeVarIntFromHexLong=function(a){var b=d("WAHex").hexLongIsNegative(a);a=b?d("WAHex").negateHexLong(a):a;a=d("WAHex").hexLongToHex(a);var c=0,e=0;for(var f=0;f<d("WAHex").NUM_HEX_IN_LONG;f++)c=c<<4|e>>>28,e=e<<4|d("WAHex").hexAt(a,f);b&&(c=~c,e===0?c++:e=-e);a=R(c,e);E(this,a,N,c,e)};b.writeBinary=function(a){a=a.peek(function(a){return a.readByteArray()});if(a.length){var b=this.$14(a.length);this.$1.set(a,b)}};b.writeBuffer=function(a){this.writeByteArray(new Uint8Array(a))};b.writeByteArray=function(a){var b=this.$14(a.length);this.$1.set(a,b)};b.writeBufferView=function(a){this.writeByteArray(new Uint8Array(a.buffer,a.byteOffset,a.byteLength))};b.writeString=function(a){E(this,n(a),O,a)};b.writeHexLong=function(a,b){b===void 0&&(b=this.$8),D(this,8,P,a,b)};b.writeBytes=function(){for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];for(var d=0;d<b.length;d++)S(b[d],0,256,"byte");E(this,b.length,Q,b)};b.writeAtomically=function(a,b){this.$10++;var c=this.$4,d=this.$5;try{a=a(this,b);c=this.$4;d=this.$5;return a}finally{this.$10--,this.$4=c-(this.$5-d)}};b.writeWithVarIntLength=function(a,b){var c=this.$4;a=this.writeAtomically(a,b);b=this.$4;this.writeVarInt(b-c);var d=this.$4-b,e=this.$1;for(var f=0;f<d;f++)j[f]=e[b+f];for(f=b-1;f>=c;f--)e[f+d]=e[f];for(b=0;b<d;b++)e[c+b]=j[b];return a};a.build=function(){for(var b=arguments.length,c=new Array(b),d=0;d<b;d++)c[d]=arguments[d];var e=0;for(var f=0;f<c.length;f++){var g=c[f];typeof g==="string"?e+=n(g):typeof g==="number"?e++:g instanceof a?e+=g.size():g instanceof ArrayBuffer?e+=g.byteLength:g instanceof Uint8Array&&(e+=g.length)}var h=new a();h.ensureCapacity(e);h.write.apply(h,arguments);return h};b.$12=function(){return this.$7||(this.$7=new DataView(this.$1.buffer,this.$1.byteOffset))};b.$11=function(a){if(a<0)throw c("err")("ReadError: given negative number of bytes to read");var b=this.$3;a=b+a;if(a>this.$2)throw c("err")(b===this.$2?"ReadError: tried to read from depleted binary":"ReadError: tried to read beyond end of binary");this.$3=a;this.$9||(this.$6=a);return b};b.$13=function(a){var b=this.$1;if(a<=b.length)return a;else{var c=this.$6;a=a-c;var d=Math.max(a,2*(b.length-c),64);d=new Uint8Array(d);c?(d.set(b.subarray(c)),this.$5+=c,this.$3-=c,this.$2-=c,this.$4-=c,this.$6=0):d.set(b);this.$1=d;this.$7=null;return a}};b.$14=function(a){a=this.$13(this.$4+a);var b=this.$4;this.$4=a;this.$10||(this.$2=a);return b};return a}();var l="",m=0;function n(a){if(a===l)return m;var b=a.length,c=0;for(var d=0;d<b;d++){var e=a.charCodeAt(d);if(e<128)c++;else if(e<2048)c+=2;else if(e<55296||57344<=e&&e<=65535)c+=3;else if(55296<=e&&e<56320&&d+1!==b){e=a.charCodeAt(d+1);56320<=e&&e<57344?(d++,c+=4):c+=3}else c+=3}l=a;return m=c}function o(a,b,c){var d=b>>21;if(!a)return d===0;else{a=b&2097151;b=Boolean(a||c);return d===0||d===-1&&b}}function p(a,b,c,d,e){return a.readWithViewParser(b,c,d,e)}function q(a,b,c,d,e){return a.readWithBytesParser(b,c,d,e)}function r(a,b,c,d){return d?a.getInt8(b):a.getUint8(b)}function s(a,b,c,d){return a.getUint16(b,d)}function t(a,b,c,d){return a.getInt32(b,d)}function u(a,b,c,d){return a.getUint32(b,d)}function v(a,b,c,d,e){c=a.getInt32(e?b+4:b,e);a=a.getInt32(e?b:b+4,e);return d(c,a)}function w(a,b,c,d){return a.getFloat32(b,d)}function x(a,b,c,d){return a.getFloat64(b,d)}function y(a,b,d,e){d=Math.min(e,i);e=0;var f=128;while(e<d&&f&128)f=a[b+e++];if(e===i&&f>1)throw c("err")("ParseError: varint exceeds 64 bits");else if(f&128)return e+1;return e}function z(b,c,d,a){var e=0,f=0,g=d;d===i&&(g--,f=b[c+g]&1);for(d=g-1;d>=0;d--)e=e<<7|f>>>25,f=f<<7|b[c+d]&127;return a(e,f)}function A(a,b,c){b=b+a.byteOffset;a=a.buffer;return b===0&&c===a.byteLength?a:a.slice(b,b+c)}function B(a,b,c){return a.subarray(b,b+c)}function C(a,b,c){c=b+c;var d=[],e=null;for(b=b;b<c;b++){d.length>5e3&&(e||(e=[]),e.push(String.fromCharCode.apply(String,d)),d=[]);var f=a[b]|0;if((f&128)===0)d.push(f);else if((f&224)===192){var g=W(a,b+1,c);if(g){b++;g=(f&31)<<6|g&63;g>=128?d.push(g):d.push(h)}else d.push(h)}else if((f&240)===224){g=W(a,b+1,c);var i=W(a,b+2,c);if(g&&i){b+=2;i=(f&15)<<12|(g&63)<<6|i&63;i>=2048&&!(55296<=i&&i<57344)?d.push(i):d.push(h)}else g?(b++,d.push(h)):d.push(h)}else if((f&248)===240){i=W(a,b+1,c);g=W(a,b+2,c);var j=W(a,b+3,c);if(i&&g&&j){b+=3;f=(f&7)<<18|(i&63)<<12|(g&63)<<6|j&63;if(f>=65536&&f<=1114111){j=f-65536;d.push(55296|j>>10,56320|j&1023)}else d.push(h)}else i&&g?(b+=2,d.push(h)):i?(b++,d.push(h)):d.push(h)}else d.push(h)}f=String.fromCharCode.apply(String,d);if(e){e.push(f);return e.join("")}else return f}function D(a,b,c,d,e){return a.writeToView(b,c,d,e)}function E(a,b,c,d,e){return a.writeToBytes(b,c,d,e)}function F(a,b,c,d){a[b]=d}function G(a,b,c,d,e){a.setUint16(b,d,e)}function H(a,b,c,d,e){a.setInt16(b,d,e)}function I(a,b,c,d,e){a.setUint32(b,d,e)}function J(a,b,c,d,e){a.setInt32(b,d,e)}function K(a,b,c,d,e){c=d<0;d=c?-d:d;var f=Math.floor(d/4294967296);d=d-f*4294967296;c&&(f=~f,d===0?f++:d=-d);a.setUint32(e?b+4:b,f,e);a.setUint32(e?b:b+4,d,e)}function L(a,b,c,d,e){a.setFloat32(b,d,e)}function M(a,b,c,d,e){a.setFloat64(b,d,e)}function N(a,b,c,d,e){d=d;e=e;c=b+c-1;for(b=b;b<c;b++)a[b]=128|e&127,e=d<<25|e>>>7,d>>>=7;a[c]=e}function O(a,b,c,d){c=b;b=d.length;for(var e=0;e<b;e++){var f=d.charCodeAt(e);if(f<128)a[c++]=f;else if(f<2048)a[c++]=192|f>>6,a[c++]=128|f&63;else if(f<55296||57344<=f)a[c++]=224|f>>12,a[c++]=128|f>>6&63,a[c++]=128|f&63;else if(55296<=f&&f<56320&&e+1!==b){var g=d.charCodeAt(e+1);if(56320<=g&&g<57344){e++;f=65536+((f&1023)<<10|g&1023);a[c++]=240|f>>18;a[c++]=128|f>>12&63;a[c++]=128|f>>6&63;a[c++]=128|f&63}else a[c++]=239,a[c++]=191,a[c++]=189}else a[c++]=239,a[c++]=191,a[c++]=189}}function P(a,b,c,e,f){c=d("WAHex").hexLongIsNegative(e);e=d("WAHex").hexLongToHex(e);var g=0,h=0;for(var i=0;i<16;i++)g=g<<4|h>>>28,h=h<<4|d("WAHex").hexAt(e,i);c&&(g=~g,h===0?g++:h=-h);a.setUint32(f?b+4:b,g,f);a.setUint32(f?b:b+4,h,f)}function Q(a,b,c,d){for(var e=0;e<c;e++)a[b+e]=d[e]}function R(a,b){var c;a?(c=5,a=a>>>3):(c=1,a=b>>>7);while(a)c++,a>>>=7;return c}function S(a,b,d,e){if(typeof a!=="number"||a!==a||Math.floor(a)!==a||a<b||a>=d)throw c("err")(typeof a==="string"?'TyperError WriteError: string "'+a+'" is not a valid '+e:"TypeError WriteError: "+String(a)+" is not a valid "+e)}function T(a,b,d){var e=o(a,b,d),f;b>=0?f=b:f=a?b:4294967296+b;a=d>=0?d:4294967296+d;b=f*4294967296+a;if(!e)throw c("err")("ReadError: integer exceeded 53 bits ("+b+")");return b}function U(a,b){return T(!0,a,b)}function V(a,b){return T(!1,a,b)}function W(a,b,c){if(b>=c)return 0;c=a[b]|0;return(c&192)===128?c:0}g.Binary=a;g.numUtf8Bytes=n;g.longFitsInDouble=o;g.parseInt64OrThrow=U;g.parseUint64OrThrow=V}),98);
__d("WACryptoSha256",["WABase64","WACryptoDependencies"],(function(a,b,c,d,e,f,g){"use strict";function h(a){return d("WACryptoDependencies").getCrypto().subtle.digest({name:"SHA-256"},a)}function i(a){return h(a).then(d("WABase64").encodeB64)}function a(a){return i(j(a))}function j(a){var b=new ArrayBuffer(a.length),c=new Uint8Array(b);for(var d=0,e=a.length;d<e;d++)c[d]=a.charCodeAt(d);return b}g.sha256=h;g.sha256Base64=i;g.sha256Str=a}),98);
__d("WACryptoSha256Builder",["WABinary"],(function(a,b,c,d,e,f,g){"use strict";var h=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],i=64,j=4;a=function(){function a(){this.h0=0,this.h1=0,this.h2=0,this.h3=0,this.h4=0,this.h5=0,this.h6=0,this.h7=0,this.tail=new Uint8Array(0),this.size=0,this.reset()}var b=a.prototype;b.reset=function(){this.h0=1779033703,this.h1=3144134277,this.h2=1013904242,this.h3=2773480762,this.h4=1359893119,this.h5=2600822924,this.h6=528734635,this.h7=1541459225,this.tail=new Uint8Array(0),this.size=0};b.update=function(a){var b=new Uint8Array(this.tail.length+a.length);b.set(this.tail);b.set(a,this.tail.length);this.size+=a.length*8;while(b.length>=i){a=b.subarray(0,i);this.$1(a);b=b.slice(i)}this.tail=b;return this};b.$2=function(){var a=new Uint8Array(64);a.set(this.tail);a.set(new Uint8Array([128]),this.tail.length);if(this.tail.length+9>i){this.$1(a);var b=p(new Uint8Array(0),this.size);this.$1(b)}else{b=p(a,this.size);this.$1(b)}};b.finish=function(){this.$2();var a=new(d("WABinary").Binary)();a.writeUint32(this.h0);a.writeUint32(this.h1);a.writeUint32(this.h2);a.writeUint32(this.h3);a.writeUint32(this.h4);a.writeUint32(this.h5);a.writeUint32(this.h6);a.writeUint32(this.h7);this.reset();return a.readByteArray()};b.$1=function(a){var b=[];for(var c=0;c<16;c++){var d=a.subarray(c*j,j*(c+1));d=d[0]<<24|d[1]<<16|d[2]<<8|d[3];b.push(d)}for(d=16;d<64;d++){a=k(b[d-15]);c=l(b[d-2]);a=b[d-16]+(b[d-7]+a+c)>>>0;b.push(a)}c=this.h0;a=this.h1;d=this.h2;var e=this.h3,f=this.h4,g=this.h5,i=this.h6,n=this.h7;for(var o=0;o<64;o++){var p=m(f,6)^m(f,11)^m(f,25),q=f&g^~f&i,r=m(c,2)^m(c,13)^m(c,22),s=c&a^c&d^a&d;p=n+p+q+h[o]+b[o];q=r+s;n=i;i=g;g=f;f=e+p>>>0;e=d;d=a;a=c;c=p+q>>>0}this.h0=this.h0+c>>>0;this.h1=this.h1+a>>>0;this.h2=this.h2+d>>>0;this.h3=this.h3+e>>>0;this.h4=this.h4+f>>>0;this.h5=this.h5+g>>>0;this.h6=this.h6+i>>>0;this.h7=this.h7+n>>>0};return a}();function k(a){var b=m(a,7),c=m(a,18);a=n(a,3);return b^c^a}function l(a){var b=m(a,17),c=m(a,19);a=n(a,10);return b^c^a}function m(a,b){return a>>>b|a<<32-b}function n(a,b){return a>>>b}function o(a){return new Uint8Array(new Uint32Array([a]).buffer)}function p(a,b){var c=new Uint8Array(i);c.set(a);a=o(b);c.set(a.subarray(0,1),c.length-1);c.set(a.subarray(1,2),c.length-2);c.set(a.subarray(2,3),c.length-3);c.set(a.subarray(3,4),c.length-4);c.set(a.subarray(4,5),c.length-5);c.set(a.subarray(5,6),c.length-6);c.set(a.subarray(6,7),c.length-7);c.set(a.subarray(7,8),c.length-8);return c}g.Sha256Builder=a;g.sigma0=k;g.sigma1=l;g.rotateRight=m;g.shiftRight=n}),98);
__d("WACryptoSha256HmacBuilder",["WACryptoSha256Builder"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){this.$1=new(d("WACryptoSha256Builder").Sha256Builder)(),this.$2=new Uint8Array(0),this.reset(a)}var b=a.prototype;b.reset=function(a){this.$2=new Uint8Array(64);a.length>64?this.$2.set(new(d("WACryptoSha256Builder").Sha256Builder)().update(a).finish(),0):this.$2.set(a,0);a=this.$2.map(function(a){return a^54});this.$1=new(d("WACryptoSha256Builder").Sha256Builder)().update(a)};b.update=function(a){this.$1.update(a);return this};b.finish=function(){var a=this.$2.map(function(a){return a^92}),b=this.$1.finish();return new(d("WACryptoSha256Builder").Sha256Builder)().update(a).update(b).finish()};return a}();g.Sha256HMacBuilder=a}),98);
__d("WormEncoding",["msgpack-msgpack"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a=new(d("msgpack-msgpack").ExtensionCodec)(),b=0;a.register({decode:function(a){a=d("msgpack-msgpack").decode(a);return a.buffer.slice(a.byteOffset,a.byteLength+a.byteOffset)},encode:function(a){if(a instanceof ArrayBuffer)return d("msgpack-msgpack").encode(new Uint8Array(a))},type:b});b=1;a.register({decode:function(a){a=d("msgpack-msgpack").decode(a);return new Uint8Array(a.buffer.slice(a.byteOffset,a.byteLength+a.byteOffset))},encode:function(a){if(a instanceof Uint8Array)return d("msgpack-msgpack").encode(a)},type:b});b=2;a.register({decode:function(a){a=d("msgpack-msgpack").decode(a);return BigInt(a)},encode:function(a){if(typeof a==="bigint")return d("msgpack-msgpack").encode(String(a))},type:b});b=3;a.register({decode:function(a){a=d("msgpack-msgpack").decode(a);return new Set(a)},encode:function(a){if(a instanceof Set)return d("msgpack-msgpack").encode(Array.from(a))},type:b});return{decode:function(b){return d("msgpack-msgpack").decode(b,{extensionCodec:a})},encode:function(b){return d("msgpack-msgpack").encode(b,{extensionCodec:a,ignoreUndefined:!0})}}}g.createEncoding=a}),98);
__d("WormIDbGetMinMaxKeySelector",[],(function(a,b,c,d,e,f){"use strict";a=-Infinity;var g;b=function(){if(g!=null)return g;try{IDBKeyRange.only([[]]);g=[[]];return g}catch(b){var a=String.fromCharCode(65535);g=a;return a}};f.MIN_KEY=a;f.getMaxSelector=b}),66);
__d("WormEAR",["FBLogger","WABinary","WACryptoDependencies","WACryptoSha256","WACryptoSha256HmacBuilder","WATimeUtils","WormEncoding","WormGlobalConfig","WormIDbGetMinMaxKeySelector","err","tweetnacl"],(function(a,b,c,d,e,f,g){"use strict";var h="_encryptedContent",i=function(b){babelHelpers.inheritsLoose(a,b);function a(a){var c;c=b.call(this,a)||this;c.name="WormEAREncryptionError";c.message=a;return c}return a}(babelHelpers.wrapNativeSuper(Error)),j=function(b){babelHelpers.inheritsLoose(a,b);function a(a,c,d){var e;e=b.call(this,a)||this;e.name="WormEARDecryptionError";e.message=a;e.store=c;e.maybeHashedPk=d;return e}return a}(babelHelpers.wrapNativeSuper(Error));function k(a,b,c){if(typeof a==="number")return a;b=b.encode(a);a=new(d("WACryptoSha256HmacBuilder").Sha256HMacBuilder)(new Uint8Array(c)).update(b).finish();return a.buffer}var l=32,m=2,n=128,o=12,p=256,q=new Uint8Array(0).buffer,r="AES-GCM",s="HKDF",t="SHA-256";a=60*60;b=24*a;var u=0,v=b*30*6;e=function(){function a(a,b,c){this.$6=0;this.$8=!1;this.$9=!1;this.$1=a;this.$7=(a=c==null?void 0:c.encKeyTtl)!=null?a:v;this.$2=d("WormEncoding").createEncoding();this.$3=b;this.$5=crypto.subtle.importKey("raw",b,{name:r},!1,["encrypt","decrypt"]);this.$4=new Map()}var b=a.prototype;b.isSecureStore=function(a){return this.$1[a].secure!==!1};b.$10=async function(){return(await d("WACryptoSha256").sha256Base64(this.$3)).substring(0,5)};b.prepareNewKeyVersion=async function(){var a=d("WACryptoDependencies").getCrypto(),b=a.getRandomValues(new Uint8Array(l)).buffer,c=a.getRandomValues(new Uint8Array(l)).buffer,e=a.getRandomValues(new Uint8Array(o)),f=await this.$5;a=await a.subtle.encrypt({iv:e,name:r,tagLength:n},f,c);return{clientKey:b,expiration:d("WATimeUtils").castToUnixTime(d("WATimeUtils").unixTime()+this.$7),keyHash:await this.$10(),salt:d("WABinary").Binary.build(e,a).readBuffer()}};b.init=async function(a,b,e){var f=this;this.$4=new Map();this.$6=0;this.$8=b.incorrectVersions;this.$9=b.versionsLoss;var g=d("WACryptoDependencies").getCrypto(),h=await this.$10(),i=!0;try{await Promise.all(a.map(function(a){i=i&&a.keyHash===h;var b=a.salt,c=b.slice(0,o),d=b.slice(o);return f.$5.then(function(b){return Promise.all([g.subtle.importKey("raw",a.clientKey,{name:s},!1,["deriveKey"]),g.subtle.decrypt({iv:new Uint8Array(c),name:r,tagLength:n},b,d)])}).then(function(a){var b=a[0];a=a[1];return g.subtle.deriveKey({hash:{name:t},info:q,name:s,salt:a},b,{length:p,name:r},!0,["encrypt","decrypt"])}).then(function(a){return g.subtle.exportKey("raw",a)}).then(function(b){f.$6=Math.max(f.$6,a.version),f.$4.set(a.version,b)})}))}catch(a){c("FBLogger")("worm").catching(a).mustfix("Error on keychain initialisation keyHashCheck: %s",i);throw a}finally{e==null?void 0:(b=e.eventFlow)==null?void 0:b.addAnnotations({bool:{keyHashCheck:i}})}};b.$11=function(a){if(this.$6===0)throw new i("EAR.Encryption. EAR is not initialised ");var b=this.$4.get(this.$6);if(b==null)throw new i("EAR.Encryption.Key does not exist for version");var c=d("tweetnacl").randomBytes(d("tweetnacl").secretbox.nonceLength);a=d("tweetnacl").secretbox(a,c,new Uint8Array(b));return d("WABinary").Binary.build(u,this.$6,c,a).readBuffer()};b.$12=function(a,b,c){var e=a.slice(0,m);e=new DataView(e).getUint8(1);var f=this.$4.get(e);if(f==null)throw new j("EAR.Decryption.Key does not exist for version: "+e+"; incorrectVersions: "+this.$8.toString()+" versionsLoss: "+this.$9.toString(),b,c);e=a.slice(m,m+d("tweetnacl").secretbox.nonceLength);a=a.slice(m+d("tweetnacl").secretbox.nonceLength);a=d("tweetnacl").secretbox.open(new Uint8Array(a),new Uint8Array(e),new Uint8Array(f));if(a==null)throw new j("EAR.Decryption. Unable to decrypt; incorrectVersions: "+this.$8.toString()+" versionsLoss: "+this.$9.toString(),b,c);return a};b.encryptEntity=function(a,b){b=this.$1[b];var c=new Set();b.autoIncrement!==!0&&c.add(b.primaryKey);var d=b.indexes;if(d!=null)for(var e of Object.keys(d)){var f=d[e];for(f of f.fields)c.add(f)}f={};for(e of c){f[e]=((d=b.nonEncryptedFields)==null?void 0:d.has(e))?a[e]:k(a[e],this.$2,this.$3)}b.autoIncrement===!0&&a[b.primaryKey]!=null&&(f[b.primaryKey]=a[b.primaryKey]);return babelHelpers.extends({},f,(c={},c[h]=this.$11(this.$2.encode(a)),c))};b.$13=function(a,b,d){(a==null||typeof a!=="object")&&c("FBLogger")("worm").mustfix("WORM.EAR: dbRecord is null or not object: %s, store: %s, reason %s",a,b,d);if((a==null?void 0:a[h])!=null){d=a[this.$1[b].primaryKey];return{encrypted:!0,encryptedEntity:a,pk:d}}else return{encrypted:!1,entity:a}};b.maybeDecrypt=function(a,b,e,f,g){if(a==null)return a;if(this.isSecureStore(b)===!1)return a;e=this.$13(a,b,e);if(!e.encrypted){if(g==null?void 0:g.shouldNotFailIfEntityIsNotEncrypted)return a;if(d("WormGlobalConfig").getWormGlobalConfig().treatMalformedEncryptedEntityAsDecryptionError()===!0){g=a[this.$1[b].primaryKey];throw new j("EAR.Decryption. Attempt to decrypt malformed encrypted entity. Missing '"+h+"' property. Pk is "+(g==null?"empty":"not empty"),b,g)}else throw c("err")("Attempt to decrypt not encrypted entity")}f==null?void 0:f.addPoint("decrypt_start");a=this.decryptEntity(e.encryptedEntity,b,e.pk);f==null?void 0:f.addPoint("decrypt_end");g=this.$1[b];if(g.autoIncrement===!0){return babelHelpers.extends({},a,(f={},f[g.primaryKey]=e.pk,f))}return a};b.maybeEncrypt=function(a,b,c){if(this.isSecureStore(b)===!1)return a;c==null?void 0:c.addPoint("encrypt_start");a=this.encryptEntity(a,b);c==null?void 0:c.addPoint("encrypt_end");return a};b.decryptEntity=function(a,b,c){return this.$2.decode(this.$12(a[h],b,c))};b.hashPk=function(a,b,c){return((a=this.$1[a].nonEncryptedFields)==null?void 0:a.has(b))?c:k(c,this.$2,this.$3)};b.hashSelector=function(a,b,c){var e;a=[].concat(a);e=(c=(e=this.$1[b].indexes)==null?void 0:(e=e[c])==null?void 0:e.fields)!=null?c:[];for(c=0;c<a.length;c++){var f,g=a[c],h=e[c];if(g===d("WormIDbGetMinMaxKeySelector").getMaxSelector())continue;if(g===-Infinity)continue;if((f=this.$1[b].nonEncryptedFields)==null?void 0:f.has(h))continue;a[c]=k(g,this.$2,this.$3)}return a};return a}();g.ENCRYPTED_COLUMN_NAME=h;g.EncryptionError=i;g.DecryptionError=j;g.WormEAR=e}),98);
__d("WormIDbStore",["Promise","WormIDbGetMinMaxKeySelector","WormPromise","WormStoreFunctions","err"],(function(a,b,c,d,e,f,g){"use strict";var h,i=function(){};a=function(){function a(a,b,c,d,e){var f=this;this.readIndexRange=function(a,b,c){return b==null?f.$11(function(){return f.$1.index(a).openCursor(null,(c==null?void 0:c.order)==="desc"?"prev":"next")},c):f.$11(function(){return f.$1.index(a).openCursor(f.$12(b,a),(c==null?void 0:c.order)==="desc"?"prev":"next")},c)};this.$1=b.objectStore(a);this.$2=a;this.$3=d;this.$4=c;this.$5=e}var e=a.prototype;e.$6=function(a,b){var c;c=((c=this.$4.eventFlow)==null?void 0:c.isActive())?this.$4.eventFlow:null;c==null?void 0:c.addPoint(b+"_start");a=a();c==null?void 0:c.addPoint(b+"_end");return a};e.$7=function(){return this.$3.isSecureStore(this.$2)};e.$8=function(a){var b=this;return!this.$7()?a:this.$6(function(){return b.$3.hashPk(b.$2,b.$5.primaryKey,a)},"hashPk")};e.$9=function(a,b){var c=this;if(!this.$7())return a;return a==null?a:this.$6(function(){return c.$3.hashSelector(a,c.$2,b)},"hashSelector")};e.$10=function(a){var b=this;return new(d("WormPromise").WormPromise)(function(c,d){var e=a();e.onsuccess=function(){try{c(e.result.map(function(a){return b.$3.maybeDecrypt(a,b.$2,"readArray",b.$4.eventFlow)}))}catch(a){d(a)}};e.onerror=function(){return d(e.error)}})};e.$11=function(a,b){var c=this;return new(d("WormPromise").WormPromise)(function(d,e){var f,g=[],h=(b==null?void 0:b.limit)!=null,i=Math.max(0,(f=b==null?void 0:b.limit)!=null?f:0);if(h&&i===0){d(g);return}var j=a();j.onsuccess=function(){var a=j.result;if(a){var f;try{f=c.$3.maybeDecrypt(a.value,c.$2,"readCursor",c.$4.eventFlow)}catch(a){e(a);return}(!(b==null?void 0:b.filter)||b.filter(f))&&g.push(f);if(h&&i===g.length){d(g);return}a["continue"]()}else d(g)};j.onerror=function(){return e(j.error)}})};e.bulkAdd=function(a){var c=this;return(h||(h=b("Promise"))).all(a.map(function(a){return new(d("WormPromise").WormPromise)(function(b,d){var e=c.$1.add(c.$3.maybeEncrypt(a,c.$2,c.$4.eventFlow));e.onsuccess=function(){c.$5.autoIncrement===!0?b(e.result):b(a[c.$5.primaryKey])};e.onerror=function(){return d(e.error)}})}))};e.bulkPut=function(a){var c=this;return(h||(h=b("Promise"))).all(a.map(function(a){return new(d("WormPromise").WormPromise)(function(b,d){var e,f=c.$1.put(c.$3.maybeEncrypt(a,c.$2,(e=c.$4.eventFlow)!=null?e:void 0));f.onsuccess=b;f.onerror=function(){return d(f.error)}})})).then(i)};e.bulkUpsert=function(a,b){return d("WormStoreFunctions").bulkUpsert(this,this.$5,a,b)};e.bulkGet=function(a){var c=this;return(h||(h=b("Promise"))).all(a.map(function(a){return new(d("WormPromise").WormPromise)(function(b,d){var e=c.$1.get(c.$8(a));e.onsuccess=function(){try{var a;b(c.$3.maybeDecrypt(e.result,c.$2,"bulkGet",(a=c.$4.eventFlow)!=null?a:void 0))}catch(a){d(a)}};e.onerror=function(){return d(e.error)}})}))};e.get=function(a){return this.bulkGet([a]).then(function(a){return a[0]})};e.getByIndex=function(a,b,c){return d("WormStoreFunctions").getByIndex(this,a,b,c)};e.readByKeyRange=function(a,b){var c=this;return a==null?this.$11(function(){return c.$1.openCursor(null,(b==null?void 0:b.order)==="desc"?"prev":"next")},b):this.$11(function(){return c.$1.openCursor(c.$12(a,c.$5.primaryKey),(b==null?void 0:b.order)==="desc"?"prev":"next")},b)};e.$13=function(a,b,e){if(this.$5.indexes==null)throw c("err")("No indexes found for store");a=this.$5.indexes[a].fields;if(b.length===a.length)return b;a=a.map(function(a,c){return(a=b[c])!=null?a:e==="max"?d("WormIDbGetMinMaxKeySelector").getMaxSelector():d("WormIDbGetMinMaxKeySelector").MIN_KEY});return a};e.$12=function(a,b){var d=b===this.$5.primaryKey;if(a.only!=null){if(this.$5.indexes==null)throw c("err")("No indexes found for store");var e=this.$5.indexes[b].fields;return a.only.length===e.length?IDBKeyRange.only(this.$9(a.only,b)):IDBKeyRange.bound(d?this.$8(a.only):this.$9(this.$13(b,a.only,"min"),b),d?this.$8(a.only):this.$9(this.$13(b,a.only,"max"),b),!0,!0)}if(a.lessThan!=null||a.lessThanOrEqual!=null){e=(e=a.lessThan)!=null?e:a.lessThanOrEqual;if(a.greaterThan!=null||a.greaterThanOrEqual!=null){var f;f=(f=a.greaterThan)!=null?f:a.greaterThanOrEqual;return IDBKeyRange.bound(d?this.$8(f):this.$9(this.$13(b,f,"min"),b),d?this.$8(e):this.$9(this.$13(b,e,"max"),b),a.greaterThan!=null,a.lessThan!=null)}return IDBKeyRange.upperBound(d?this.$8(e):this.$9(this.$13(b,e,"max"),b),a.lessThan!=null)}else{e=(f=a.greaterThan)!=null?f:a.greaterThanOrEqual;if(e!=null)return IDBKeyRange.lowerBound(d?this.$8(e):this.$9(this.$13(b,e,"min"),b),a.greaterThan!=null);else throw c("err")("Invalid range")}};e.readIndex=function(a,b,c){var d=this;return(c==null?void 0:c.filter)==null&&(c==null?void 0:c.order)!=="desc"?this.$10(function(){var e;return d.$1.index(a).getAll(d.$9(b,a),(e=c==null?void 0:c.limit)!=null?e:void 0)}):this.$11(function(){return d.$1.index(a).openCursor(d.$9(b,a),(c==null?void 0:c.order)==="desc"?"prev":"next")},c)};e.readIndexKeys=function(a,b,c){var d=this;return this.readIndex(a,b,c).then(function(a){return a.map(function(a){return a[d.$5.primaryKey]})})};e.readKeysByIndexRange=function(a,b,c){var d=this;return this.readIndexRange(a,b,c).then(function(a){return a.map(function(a){return a[d.$5.primaryKey]})})};e.getIndexRangeIterator=function(a,b,c,e){return d("WormStoreFunctions").getIndexRangeIterator(this.readIndexRange,this.$5,a,b,c,e)};e.readAll=function(a){var b=this;return(a==null?void 0:a.filter)===null&&(a==null?void 0:a.order)!=="desc"?this.$10(function(){var c;return b.$1.getAll((c=a==null?void 0:a.limit)!=null?c:void 0)}):this.$11(function(){return b.$1.openCursor(null,(a==null?void 0:a.order)==="desc"?"prev":"next")},a)};e.readKeys=function(a){var b=this;return this.readAll(a).then(function(a){return a.map(function(a){return a[b.$5.primaryKey]})})};e.bulkDelete=function(a){var c=this;return(h||(h=b("Promise"))).all(a.map(function(a){return new(d("WormPromise").WormPromise)(function(b,d){var e=c.$1["delete"](c.$8(a));e.onsuccess=b;e.onerror=function(){return d(e.error)}})})).then(i)};e["delete"]=function(a){var b=this;return new(d("WormPromise").WormPromise)(function(c,d){var e=b.$1["delete"](b.$8(a));e.onsuccess=function(){return c()};e.onerror=function(){return d(e.error)}})};e.clear=function(){var a=this;return new(d("WormPromise").WormPromise)(function(b,c){var d=a.$1.clear();d.onsuccess=b;d.onerror=function(){return c(d.error)}}).then(i)};e.count=function(){var a=this;return new(d("WormPromise").WormPromise)(function(b,c){var d=a.$1.count();d.onsuccess=function(){return b(d.result)};d.onerror=function(){return c(d.error)}})};return a}();g.WormIDbStore=a}),98);
__d("WormIDbTransaction",["WAResolvable","WormIDbStore"],(function(a,b,c,d,e,f,g){"use strict";var h=function(b){babelHelpers.inheritsLoose(a,b);function a(){var a,c="WormUnknownError";a=b.call(this,c)||this;a.name=c;a.message=c;return a}return a}(babelHelpers.wrapNativeSuper(Error)),i=function(b){babelHelpers.inheritsLoose(a,b);function a(){var a,c="WormUnknownAbortError";a=b.call(this,c)||this;a.name=c;a.message=c;return a}return a}(babelHelpers.wrapNativeSuper(Error));a=function(){function a(a,b,c,e,f){var g=this;this.$1=a;this.$2=new(d("WAResolvable").Resolvable)();this.$1.oncomplete=function(){g.$2.resolve()};this.$1.onerror=function(a){a=(a=(a=(a=a.target)==null?void 0:a.error)!=null?a:g.$1.error)!=null?a:new h();g.$2.reject(a)};this.$1.onabort=function(a){a=(a=(a=(a=a.target)==null?void 0:a.error)!=null?a:g.$1.error)!=null?a:new i();g.$2.reject(a)};this.$3=e.reduce(function(a,e){return babelHelpers["extends"]({},a,(a={},a[e]=new(d("WormIDbStore").WormIDbStore)(e,g.$1,b,c,f[e]),a))},(a=this.$3)!=null?a:{})}var b=a.prototype;b.commit=function(){this.$1.commit==null?void 0:this.$1.commit();return this.$2.promise};b.abort=function(){this.$2.isSettled||this.$1.abort()};babelHelpers.createClass(a,[{key:"stores",get:function(){return this.$3}}]);return a}();g.WormIDbTransaction=a}),98);
__d("WormIDbTypes",[],(function(a,b,c,d,e,f){"use strict";a="_worm_db_version_";b="_worm_ear_";c="schema_hash";d="creation_ts";f.DB_VERSION_STORE=a;f.EAR_STORE=b;f.SCHEMA_HASH_KEY=c;f.DB_CREATION_TS=d}),66);
__d("WAIDBTypes",[],(function(a,b,c,d,e,f){"use strict";function a(){return indexedDB}f.idb=a}),66);
__d("WormIDbUtils",["Promise","WAIDBTypes","err"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){return new(h||(h=b("Promise")))(function(b,c){a.onsuccess=function(){return b(a.result)},a.onerror=function(){return c(a.error)}})}function e(a,e,f){var g=e.onBecomeStale,i=e.onClose,j=e.onError,k=e.onUpgrade;return new(h||(h=b("Promise")))(function(b,e){var h=d("WAIDBTypes").idb().open(a,f);k!=null&&(h.onupgradeneeded=function(){if(h.transaction==null)throw c("err")("Transaction is null on upgradeneeded event");k(h.result,h.transaction)});h.onsuccess=function(){var a=h.result;i!=null&&(a.onclose=i);a.onversionchange=function(){a.close(),g!=null&&g()};b(a)};h.onerror=function(){e(h.error),j!=null&&j(h.error)}})}g.promisifyIDbRequest=a;g.openIDb=e}),98);
__d("WormIDbUpgrade",["WATimeUtils","WormIDbTypes","WormIDbUtils"],(function(a,b,c,d,e,f,g){"use strict";function h(a,b,c){var d=[],e=[],f=new Map(),g=Array.from(Object.keys(c)).map(function(a){return a.toString()});g=new Set(g);for(var h of Object.keys(c))if(!a.objectStoreNames.contains(h))d.push(h);else{var i=c[h];i=(i=i.indexes)!=null?i:{};var j=b.objectStore(h),k=j.indexNames,l=new Set(Object.keys(i)),m=[],n=[];for(var o of l)!k.contains(o)?m.push(o):j.index(o).unique!==i[o].unique&&(m.push(o),n.push(o));for(j=0;j<k.length;j++){o=k[j];l.has(o)||n.push(o)}(m.length>0||n.length>0)&&f.set(h,{indexesToCreate:m,indexesToDelete:n})}for(i=0;i<a.objectStoreNames.length;i++){o=a.objectStoreNames[i];g.has(o)||e.push(o)}return{storesToCreate:d,storesToDelete:e,storesToModify:f}}async function a(a,b){if(!a.objectStoreNames.contains(d("WormIDbTypes").DB_VERSION_STORE))return{isNewDb:!0,shouldUpgrade:!0};a=a.transaction(d("WormIDbTypes").DB_VERSION_STORE,"readonly");a=await d("WormIDbUtils").promisifyIDbRequest(a.objectStore(d("WormIDbTypes").DB_VERSION_STORE).get(d("WormIDbTypes").SCHEMA_HASH_KEY));return{isNewDb:!1,shouldUpgrade:(a==null?void 0:a.value)!==b}}function i(a,b,c){for(c of c){var d=b[c],e=a.createObjectStore(c,{autoIncrement:!!d.autoIncrement,keyPath:d.primaryKey});d=d.indexes;if(d==null)continue;for(var f of Object.keys(d)){var g=d[f];e.createIndex(f,g.fields.map(function(a){return a.toString()}),{unique:g.unique})}}}function b(a,b,c,e,f){var g=h(a,b,c),j=g.storesToCreate,k=g.storesToDelete;g=g.storesToModify;i(a,c,j);if(f.onlyCreateNewStores)return;for(j of k)f.safeToDeleteStores.has(j)&&a.deleteObjectStore(j);a=function(a){var d=a[0];k=a[1];a=k.indexesToCreate;var e=k.indexesToDelete;for(e of e)b.objectStore(d).deleteIndex(e);e=c[d].indexes;if(e==null)return"continue";var g=!1;for(a of a){var h=e[a];b.objectStore(d).createIndex(a,h.fields,{unique:h.unique});g=!0}if(g&&c[d].secure===!0&&f.maybeEar!=null){var i=d,j=f.maybeEar,l=b.objectStore(i).getAll();l.onsuccess=function(){var a=l.result;a.forEach(function(a){if(a==null)return;b.objectStore(d).put(j.maybeEncrypt(j.maybeDecrypt(a,i,"dbUpgrade",void 0,{shouldNotFailIfEntityIsNotEncrypted:!0}),i,void 0))})}}};for(j of g){g=a(j);if(g==="continue")continue}b.objectStore(d("WormIDbTypes").DB_VERSION_STORE).put({key:d("WormIDbTypes").SCHEMA_HASH_KEY,value:e});f.isNewDbInstance&&b.objectStore(d("WormIDbTypes").DB_VERSION_STORE).put({key:d("WormIDbTypes").DB_CREATION_TS,value:d("WATimeUtils").performanceAbsoluteNow()})}g.shouldUpgradeDb=a;g.createNewStores=i;g.upgradeDb=b}),98);
__d("WormIDbDriver",["FBLogger","WACryptoSha256","WAResolvable","WATimeUtils","WormGlobalConfig","WormIDbTransaction","WormIDbTypes","WormIDbUpgrade","WormIDbUtils","err"],(function(a,b,c,d,e,f,g){"use strict";var h={_worm_db_version_:{primaryKey:"key",secure:!1},_worm_ear_:{primaryKey:"version",secure:!1}};a=function(){function a(a,b,d,e,f,g){var h=this;this.$5=null;this.$8=[];this.$13=function(){h.$12.log(h.$3+".error.db_stale")};this.$14=function(){h.$12.log(h.$3+".error.db_close")};this.$15=function(a){c("FBLogger")("worm").catching(a).mustfix("Unexpected error  %s",h.$3)};this.$2=a;this.$3=b;this.$4=d;this.$6=(a=g==null?void 0:g.safeToDeleteStores)!=null?a:new Set();this.$9=g==null?void 0:g.blockingErrorThreshold;this.$10=(b=g==null?void 0:g.onBlockingError)!=null?b:function(){};this.$11=(d=g==null?void 0:g.onTransactionError)!=null?d:function(){};this.$7=e;this.$12=f}var b=a.prototype;b.getSchema=function(){return this.$4};b.$16=async function(a,b,e,f){this.$5!=null&&await this.$5.promise;if(this.$1==null)throw c("err")("IDB is not initialised: "+this.$3);b=new(d("WormIDbTransaction").WormIDbTransaction)(this.$1.transaction(a.map(function(a){return a.toString()}),b,{durability:"relaxed"}),f,this.$7,a,this.$4);var g;try{g=await e(b),await b.commit()}catch(a){b.abort();throw a}return g};b.$17=function(a){var b;if(this.$9==null)return;var d=this.$9;a=(b=(b=(b=a==null?void 0:a.name)!=null?b:a==null?void 0:a.message)!=null?b:a==null?void 0:a.toString())!=null?b:"unknown";this.$8.push(a);if(this.$8.length<Math.max(d,1))return;var e=this.$8[this.$8.length-1];b=this.$8.every(function(a){return a===e})?e:"mixed";c("FBLogger")("worm").mustfix("Unrecoverable error (%s): %s",this.$3,b);this.$10(b);this.$8=[]};b.$18=async function(a,b,c,e){if(this.$1==null){var f;(f=e.eventFlow)==null?void 0:f.addPoint("db_reinit_start",{bool:{isDbNull:!0}});await this.$19();(f=e.eventFlow)==null?void 0:f.addPoint("db_reinit_end")}var g;try{g=await this.$16(a,b,c,e)}catch(i){f=d("WormGlobalConfig").getWormGlobalConfig();var h=f.handleNotFoundErrorExperiment;f=f.handleUnknownErrorExperiment;if((i==null?void 0:i.name)==="InvalidStateError"||(i==null?void 0:i.name)==="NotFoundError"&&h()===!0||(i==null?void 0:i.name)==="UnknownError"&&f()===!0){(f=e.eventFlow)==null?void 0:f.addPoint("db_reinit_start",{bool:{isDbInvalid:!0}});await this.$19({forceUpgrade:(i==null?void 0:i.name)==="NotFoundError"&&h()===!0});(f=e.eventFlow)==null?void 0:f.addPoint("db_reinit_end");g=await this.$16(a,b,c,e)}else throw i}return g};b.runInTransaction=async function(a,b,c,d){var e;try{e=await this.$18(a,b,c,d),this.$8=[]}catch(a){this.$11(a);this.$17(a);throw a}return e};b.close=function(){var a;(a=this.$1)==null?void 0:a.close()};b.init=async function(a){try{await this.$19({eventFlow:(a=a==null?void 0:a.eventFlow)!=null?a:void 0})}catch(a){if((a==null?void 0:a.name)==="InvalidStateError")await this.$19();else throw a}};b.$20=function(a,b){var c=a.version;a.close();return d("WormIDbUtils").openIDb(this.$2,{onBecomeStale:this.$13,onClose:this.$14,onError:this.$15,onUpgrade:function(a,c){return d("WormIDbUpgrade").upgradeDb(a,c,h,b,{isNewDbInstance:!1,maybeEar:null,onlyCreateNewStores:!0,safeToDeleteStores:new Set()})}},c+1)};b.$19=async function(a){var b=this,e=!1;if(this.$5){e=!0;return this.$5.promise}this.$5=new(d("WAResolvable").Resolvable)();var f=!1;this.$1!=null&&(this.$1.close(),this.$1=null,f=!0);var g=!0;try{var i=babelHelpers.extends({},this.$4,h),j=JSON.stringify(i);if(j==null)throw c("err")("DB schema cannot be serialized: "+this.$3);var k=await d("WACryptoSha256").sha256Str(j);j=null;var l=await d("WormIDbUtils").openIDb(this.$2,{onBecomeStale:this.$13,onClose:this.$14,onError:this.$15,onUpgrade:function(a,c){j={isNewDb:!0,shouldUpgrade:!1};return d("WormIDbUpgrade").upgradeDb(a,c,i,k,{isNewDbInstance:!0,maybeEar:null,onlyCreateNewStores:!1,safeToDeleteStores:b.$6})}});try{if(Object.keys(h).some(function(a){return l.objectStoreNames.contains(a)===!1})){var m;a==null?void 0:(m=a.eventFlow)==null?void 0:m.addPoint("ear_schema_recovery_start");l=await this.$20(l,k);a==null?void 0:(m=a.eventFlow)==null?void 0:m.addPoint("ear_schema_recovery_end")}}catch(b){a==null?void 0:(m=a.eventFlow)==null?void 0:m.addPoint("ear_schema_recovery_fail");c("FBLogger")("worm").catching(b).mustfix("EAR initialization error")}this.$1=l;a==null?void 0:(m=a.eventFlow)==null?void 0:m.addPoint("ear_init_start");try{await this.$21((m=(m=j)==null?void 0:m.isNewDb)!=null?m:!1,{eventFlow:(m=a==null?void 0:a.eventFlow)!=null?m:void 0})}catch(b){a==null?void 0:(m=a.eventFlow)==null?void 0:m.addPoint("ear_init_err");c("FBLogger")("worm").catching(b).mustfix("EAR initialization error");throw b}a==null?void 0:(m=a.eventFlow)==null?void 0:m.addPoint("ear_init_end");var n=j!=null?j:await d("WormIDbUpgrade").shouldUpgradeDb(l,k);g=n.shouldUpgrade||((m=a==null?void 0:a.forceUpgrade)!=null?m:!1);if(g){this.$1=null;m=l.version;l.close();this.$1=await d("WormIDbUtils").openIDb(this.$2,{onBecomeStale:this.$13,onClose:this.$14,onError:this.$15,onUpgrade:function(a,c){return d("WormIDbUpgrade").upgradeDb(a,c,i,k,{isNewDbInstance:n.isNewDb,maybeEar:b.$7,onlyCreateNewStores:!1,safeToDeleteStores:b.$6})}},m+1)}(m=this.$5)==null?void 0:m.resolve()}catch(a){(m=this.$5)==null?void 0:m.reject(a);throw a}finally{a==null?void 0:(m=a.eventFlow)==null?void 0:m.addAnnotations({bool:{isClosingDb:f,isCompetingInit:e,shouldUpgrade:g}});this.$5=null}};b.$21=async function(a,b){var e=this,f=await this.$7.prepareNewKeyVersion(),g=!1,h=!1,j=await new Promise(function(b,j){if(e.$1==null)throw c("err")("IDB is not initialised: "+e.$3);var k=[],l=e.$1.transaction(d("WormIDbTypes").EAR_STORE,"readwrite");l.oncomplete=function(){return b(k)};l.onerror=l.onabort=function(){return j(l.error)};var m=l.objectStore(d("WormIDbTypes").EAR_STORE),n=m.getAll();n.onsuccess=function(){var c;c=(c=n.result)!=null?c:[];k=c.filter(i);g=c.length!==k.length;k.sort(function(a,b){return a.version-b.version});c=k.length===0||!d("WATimeUtils").isInFuture(k[k.length-1].expiration);if(!c){b(k);return}c=k.length===0?0:k[k.length-1].version;h=!a&&c===0;c=babelHelpers.extends({},f,{version:c+1});m.add(c);k.push(c)};n.onerror=function(){return j(n.error)}});await this.$7.init(j,{incorrectVersions:g,versionsLoss:h},{eventFlow:b==null?void 0:b.eventFlow})};return a}();function i(a){if(a==null)return!1;if(a.version==null)return!1;if(a.expiration==null)return!1;if(a.clientKey==null||a.clientKey.byteLength===0)return!1;return a.salt==null||a.salt.byteLength===0?!1:!0}g.sysSchema=h;g.WormIDbDriver=a}),98);
__d("EBDB",["$InternalEnum","QPLFlow","WALogger","Worm","WormEAR","WormIDbDriver","err"],(function(a,b,c,d,e,f,g){"use strict";function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["Error performing makeEBDB: ",""]);h=function(){return a};return a}f=b("$InternalEnum")({UI:0,Worker:1});var i={auto_restore_opt_out:{primaryKey:"optOutKey"},device_metadata:{primaryKey:"pk"},device_state:{primaryKey:"env"},encrypted_backups:{primaryKey:"pk"},encrypted_backups_virtual_devices:{primaryKey:"pk"},experiences_shared_state:{primaryKey:"stateKey"},migration:{primaryKey:"key",secure:!1},secure_encrypted_backups_client_state:{primaryKey:"backupId"},secure_encrypted_backups_epochs:{primaryKey:"epochId"},secure_encrypted_backups_recovery_code_status:{primaryKey:"pk"}},j,k=1e4;async function a(a,b,c,e,f){e=d("QPLFlow").startQPLFlow(b,{annotations:{int:{env:e},string:{operationType:"initEBDB"}},timeoutInMs:k});try{c=new(d("WormEAR").WormEAR)(i,c);a=new(d("Worm").WormDatabase)(new(d("WormIDbDriver").WormIDbDriver)(a,"ebdb",i,c,f,{onTransactionError:function(a){if(a instanceof d("WormEAR").DecryptionError){a=a;if(a.store==="device_state"){m();return}else n()}}}),b);j=a;await a.init({eventFlow:e});e.endSuccess();return a}catch(a){e.endFail("error");d("WALogger").ERROR(h(),a);throw a}}function l(){if(j==null)throw c("err")("EBDB is not initialized");return j}function m(){if(j==null)return;void j.runInTransaction(["device_state"],"readwrite",function(a){return a.stores.device_state.clear()},"EBDB - clearDeviceState")}function n(){if(j==null)return;void j.runInTransaction(["encrypted_backups_virtual_devices","secure_encrypted_backups_recovery_code_status","device_metadata","secure_encrypted_backups_epochs","secure_encrypted_backups_client_state","encrypted_backups","experiences_shared_state","auto_restore_opt_out"],"readwrite",function(a){return Promise.all([a.stores.encrypted_backups_virtual_devices.clear(),a.stores.secure_encrypted_backups_recovery_code_status.clear(),a.stores.device_metadata.clear(),a.stores.secure_encrypted_backups_epochs.clear(),a.stores.secure_encrypted_backups_client_state.clear(),a.stores.encrypted_backups.clear(),a.stores.experiences_shared_state.clear(),a.stores.auto_restore_opt_out.clear()])},"EBDB - clearEbStores")}function e(){var a=Object.keys(i);return l().runInTransaction(a,"readonly",async function(b){var c={};await Promise.all(a.map(async function(a){var d=await b.stores[a].readAll();c[a]=d}));return c},"EBDB - Dump").catch(function(){return{}})}g.StateHistoryEnvironment=f;g.ebdbDescriptor=i;g.makeEBDB=a;g.getEBDB=l;g.clearDeviceState=m;g.getDbDump=e}),98);
__d("EBDBApi",["$InternalEnum","EBDB","EBDBEbsmApi","FBLogger","I64","QPLUserFlow","ReQL","ReStorePersistence","justknobx","qpl"],(function(a,b,c,d,e,f,g){"use strict";var h,i=["encrypted_backups_virtual_devices","secure_encrypted_backups_recovery_code_status","device_metadata","secure_encrypted_backups_epochs","secure_encrypted_backups_client_state","encrypted_backups","experiences_shared_state","auto_restore_opt_out"],j=null;function a(){return j}async function k(a,b,e){try{var g=BigInt((h||(h=d("I64"))).to_string(e));await a.runInTransaction(["device_state"],"readwrite",function(a){return a.stores.device_state.bulkPut([{deviceId:g,env:b}])},"EBDB - AddDevice",f.id+":59");j=g}catch(a){c("FBLogger")("labyrinth_web").catching(a).mustfix("Error on EBDB - AddDevice")}}function l(a){return d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.tables.secure_encrypted_backups_client_state)).then(function(a){return a==null?void 0:a.deviceId})}async function e(a,b,d,e){if(e!=null)return k(b,d,e);try{e=await l(a);if(e==null)return;return k(b,d,e)}catch(a){c("FBLogger")("labyrinth_web").catching(a).mustfix("Error on fetching secure_encrypted_backups_client_state")}}async function m(a,b,d){c("QPLUserFlow").addPoint(d,"track_overprompting_start");try{var e=!1;await a.runInTransaction(["device_state"],"readwrite",async function(a){a=await a.stores.device_state.get(b);(a==null?void 0:a.deviceId)!=null&&(e=!0)},"EBDB - AddDevice",f.id+":113");c("QPLUserFlow").addAnnotations(d,{bool:{overprompting:e}});c("QPLUserFlow").addPoint(d,"track_overprompting_end")}catch(a){c("QPLUserFlow").addPoint(d,"track_overprompting_fail"),c("FBLogger")("labyrinth_web").catching(a).mustfix("Error on track overpropting")}}var n=b("$InternalEnum")({Disabled:0,EbsmInconsistent:1,EbdbInconsistent:2,Enabled:3,Inconsistent:4});async function o(a){a=await l(a);a=a!=null?BigInt((h||(h=d("I64"))).to_string(a)):null;if(a==null&&j==null)return n.Disabled;else if(a==null&&j!=null)return n.EbsmInconsistent;else if(a!=null&&j==null)return n.EbdbInconsistent;else if(a===j)return n.Enabled;else return n.Inconsistent}async function p(a,b,d,e){var f=1/c("justknobx")._("3914");if(Math.random()>=f)return;f=c("qpl")._(521471316,"2831");try{c("QPLUserFlow").start(f);a=await o(a);e!=null&&c("QPLUserFlow").addAnnotations(f,e());c("QPLUserFlow").endSuccess(f,{annotations:{int:{consistency:a,env:b,operation:d}}})}catch(a){c("QPLUserFlow").endFailure(f,"error"),c("FBLogger")("labyrinth_web").catching(a).mustfix("Error on trackConsistency in %s",b)}}async function q(a){await a.runInTransaction(["device_state"],"readwrite",function(a){return a.stores.device_state.clear()},"EBDB - EBDBApi - clearDeviceState",f.id+":211"),j=null}var r;async function s(a,b,e){r!=null&&r();await d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.tables.encrypted_backups)).then(function(a){a!=null&&((a==null?void 0:a.backupId)==null||(a==null?void 0:a.isUserOptedOut)===!0)&&void q(b)}).catch(function(a){c("FBLogger")("labyrinth_web").catching(a).mustfix("EBDBApi: EBLS error on fetching data from encrypted_backups")});r=a.tables.encrypted_backups.subscribe(function(a,c){c.operation!=="delete"&&((c.value.backupId==null||c.value.isUserOptedOut===!0)&&void q(b))});var g=await b.runInTransaction(["device_state"],"readonly",function(a){return a.stores.device_state.get(e)},"EBDB - readDeviceState",f.id+":260").catch(function(a){c("FBLogger")("labyrinth_web").catching(a).mustfix("EBDB error: fetching device_state")});j=t(g==null?void 0:g.deviceId);if(j==null){g=await l(a);if(g==null)return;var i=BigInt((h||(h=d("I64"))).to_string(g));j=i;await b.runInTransaction(["device_state"],"readwrite",function(a){return a.stores.device_state.bulkPut([{deviceId:i,env:e}])},"EBDB - writeDeviceState",f.id+":282").catch(function(a){c("FBLogger")("labyrinth_web").catching(a).mustfix("EBDB error: write device_state")})}}function t(a){if(a==null)return;if(typeof a==="bigint")return a;if(typeof a==="number")return BigInt(a);if(typeof a==="string")try{return BigInt(a)}catch(a){c("FBLogger")("labyrinth_web").catching(a).mustfix("EBDBApi: Parsing string as BigInt");d("EBDB").clearDeviceState();return}if(Array.isArray(a))try{return BigInt((h||(h=d("I64"))).to_string(a))}catch(a){c("FBLogger")("labyrinth_web").catching(a).mustfix("EBDBApi: Parsing I64 as BigInt");d("EBDB").clearDeviceState();return}c("FBLogger")("labyrinth_web").mustfix("EBDBApi: Parsing unknown as BigInt %s",String(a));d("EBDB").clearDeviceState()}async function u(a){var b=await a.next();while(b.done===!1)b=await a.next();return b.value}function v(a){var b={};for(var c of Object.keys(a)){var e=a[c];typeof e==="bigint"?b[c]=(h||(h=d("I64"))).of_string(String(e)):b[c]=e}return b}async function w(a,b){a=await a;var c=Array.from(b.keys());await a.runInTransaction(c,"readwrite",async function(a){var c=[],e=function(b){var e=b[0];g=b[1];b=g.toAdd;var f=g.toDelete,i=d("EBDB").ebdbDescriptor==null?void 0:d("EBDB").ebdbDescriptor[e];c.push(Promise.all([a.stores[e].bulkDelete(f.map(function(a){a=typeof a==="object"?a==null?void 0:a[i.primaryKey]:null;if(a==null)return;return BigInt((h||(h=d("I64"))).to_string(a))}).filter(function(a){return!!a})),a.stores[e].bulkPut(b.filter(function(a){return typeof a==="object"&&(a==null?void 0:a[i.primaryKey])!=null}).map(function(a){var b={};for(var c of Object.keys(a)){var e=a[c];(h||(h=d("I64"))).isI64(e)?b[c]=BigInt((h||(h=d("I64"))).to_string(e)):b[c]=e}return b}))]))};for(var f of b){var g;e(f)}await Promise.all(c)},"EBDB - flush EBSM state",f.id+":371")}async function x(a,b){c("QPLUserFlow").addPoint(c("qpl")._(521481876,"1407"),"EBSM_HYDRATION_LOAD_DATA_FROM_EBDB");a=await a;var e=!0;await a.runInTransaction(i,"readonly",function(a){return Promise.all(i.map(async function(f){try{var g=await a.stores[f].readAll();e=e&&g.length===0;var h=b(f);h=new(d("ReStorePersistence").ReStoreDbStoreTable)(h,f,function(){},{get:function(){},logError:function(){},shouldInline:function(){return!1}},"readwrite",function(){});for(g of g){var i=v(g),j=i[d("EBDB").ebdbDescriptor[f].primaryKey];await u(h.tableSet(new WeakMap(),[j],i))}c("QPLUserFlow").addPoint(c("qpl")._(521481876,"1407"),"EBSM_HYDRATION_DONE_ON_"+f.toUpperCase())}catch(a){c("QPLUserFlow").addPoint(c("qpl")._(521481876,"1407"),"EBSM_HYDRATION_FAILED_ON_"+f.toUpperCase());throw a}}))},"EBDB - rehydrate EBSM",f.id+":432");return e?d("EBDBEbsmApi").RehydrationResult.EmptyDb:d("EBDBEbsmApi").RehydrationResult.Success}g.EB_STORES=i;g.getDeviceId=a;g.addNewDevice=e;g.trackOverprompting=m;g.EBConsistencyResult=n;g.trackConsistency=p;g.clearState=q;g.startListeningDeviceRegistrations=s;g.flushEBSMtoEBDB=w;g.rehydrateEBSMFromEBDB=x}),98);
__d("EBMainThreadEBDBApi",["$InternalEnum","EBDB","EBDBApi","FBLogger","I64","LSDatabaseSingleton","ODS","ReQL","WAOdsEnums","WAResolvable"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=new(d("WAResolvable").Resolvable)(),l=new(d("WAResolvable").Resolvable)(),m=new(d("WAResolvable").Resolvable)();async function a(a,b,c){try{await d("EBDB").makeEBDB(a,b,c,d("EBDB").StateHistoryEnvironment.UI,{log:function(a){return(h||(h=d("ODS"))).bumpEntityKey(3185,d("WAOdsEnums").Entity.WORM,a)}}),l.resolve()}catch(a){l.reject(a)}}async function e(){var a=await (i||(i=d("LSDatabaseSingleton"))).LSDatabaseSingleton;try{await l.promise,await d("EBDBApi").startListeningDeviceRegistrations(a,d("EBDB").getEBDB(),d("EBDB").StateHistoryEnvironment.UI)}catch(a){c("FBLogger")("labyrinth_web").catching(a).mustfix("Error on startListeningDeviceRegistrations in UI")}finally{k.resolve(a)}}async function n(a){await d("EBDBApi").trackOverprompting(d("EBDB").getEBDB(),d("EBDB").StateHistoryEnvironment.UI,a)}async function o(a){var b=await k.promise;await d("EBDBApi").addNewDevice(b,d("EBDB").getEBDB(),d("EBDB").StateHistoryEnvironment.UI,a)}function p(){return d("EBDB").getDbDump()}function q(){void d("EBDB").getEBDB().runInTransaction(["device_state"],"readwrite",function(a){return a.stores.device_state.bulkDelete([d("EBDB").StateHistoryEnvironment.Worker])},"EBDB - clear worker state",f.id+":105")}var r=b("$InternalEnum")({Disabled:0,UIInconsistent:1,WorkerInconsistent:2,Consistent:3});async function s(a,b){var c=await k.promise;void d("EBDBApi").trackConsistency(c,d("EBDB").StateHistoryEnvironment.UI,a,function(){var a=r.Disabled,c=d("EBDBApi").getDeviceId();c!=null&&b!=null?a=r.Consistent:c!=null&&b==null?a=r.WorkerInconsistent:c==null&&b!=null&&(a=r.UIInconsistent);return{int:{crossEnvConsistency:a}}})}function t(a){var b={};for(var c of Object.keys(a)){var e=a[c];(j||(j=d("I64"))).isI64(e)?b[c]=BigInt((j||(j=d("I64"))).to_string(e)):b[c]=e}return b}async function u(a){try{await l.promise;var b=await d("EBDB").getEBDB().store("migration").get("isMigrated");if((b==null?void 0:b.value)===!0)return;var e=await Promise.all(d("EBDBApi").EB_STORES.map(function(b){return d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(a.tables[b]))}));await d("EBDB").getEBDB().runInTransaction([].concat(d("EBDBApi").EB_STORES,["migration"]),"readwrite",function(a){return Promise.all([].concat(d("EBDBApi").EB_STORES.map(function(b,c){return a.stores[b].bulkPut(e[c].map(t))}),[a.stores.migration.bulkPut([{key:"isMigrated",value:!0}])]))},"EBDB - migration EBSM -> WORM",f.id+":179")}catch(a){c("FBLogger")("labyrinth_web").catching(a).mustfix("Error on migrating EBSM to WORM in UI"),void d("EBDB").getEBDB().runInTransaction(["migration"],"readwrite",function(a){return a.stores.migration.bulkPut([{key:"isMigrated",value:!0}])},"EBDB - migration EBSM -> WORM: no-migration",f.id+":199")}finally{m.resolve()}}async function v(a){await m.promise;return d("EBDBApi").flushEBSMtoEBDB(l.promise.then(function(){return d("EBDB").getEBDB()}),a)}function w(a){return d("EBDBApi").rehydrateEBSMFromEBDB(l.promise.then(function(){return d("EBDB").getEBDB()}),a)}g.initEBDB=a;g.startListeningDeviceRegistrations=e;g.trackOverprompting=n;g.addNewDevice=o;g.getEBDBDump=p;g.clearWorkerState=q;g.EBCrossEnvConsistencyResult=r;g.trackConsistency=s;g.migrateEBSMtoWORM=u;g.flushEBSMtoEBDB=v;g.rehydrateEBSMFromEBDB=w}),98);
__d("MWChatTabOpenThreadCapabilitiesLoggingGated",["cr:10565"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:10565")}),98);
__d("MWGetOtherContactOrSelf",["I64","ReQL"],(function(a,b,c,d,e,f,g){"use strict";var h;async function a(a,b,c){a=await d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(c.tables.participants).getKeyRange(a));if(a.length===1){var e=a[0];return d("ReQL").firstAsync(d("ReQL").fromTableAscending(c.tables.contacts).getKeyRange(e.contactId))}if(a.length>2)return;e=a.find(function(a){return!(h||(h=d("I64"))).equal(a.contactId,b)});if(e!=null)return d("ReQL").firstAsync(d("ReQL").fromTableAscending(c.tables.contacts).getKeyRange(e.contactId))}g.getOtherContactOrSelf=a}),98);
__d("hasDefaultThreadOneToOneCapability",["FBLogger","LSContactBitOffset","MAWDefaultE2eeOneToOneEligibility","MWGetOtherContactOrSelf","ReQL"],(function(a,b,c,d,e,f,g){"use strict";async function a(a,b){if(a==null)return!1;var e=await d("ReQL").firstExnAsync(d("ReQL").fromTableAscending(b.tables._user_info).map(function(a){return a.facebookUserId})),f=await d("ReQL").firstAsync(d("ReQL").fromTableAscending(b.tables.contacts).getKeyRange(e));if(f==null){c("FBLogger")("messenger_search").warn("Error fetching viewer details");return!1}f=d("LSContactBitOffset").has(80,f);if(!f)return!1;f=await d("ReQL").firstAsync(d("ReQL").fromTableAscending(b.tables.contacts).getKeyRange(a));a=await d("MWGetOtherContactOrSelf").getOtherContactOrSelf(a,e,b);b=(e=a)!=null?e:f;return d("MAWDefaultE2eeOneToOneEligibility").isContactDefaultE2eeOneToOneEligible({maybeContact:b})}g.default=a}),98);/*FB_PKG_DELIM*/
__d("IWAAPI",["WABridge"],(function(a,b,c,d,e,f,g){"use strict";b=1;function a(a){return function(){for(var b=arguments.length,c=new Array(b),e=0;e<b;e++)c[e]=arguments[e];return d("WABridge").getBridge().sendAndReceive("backend","waapi",{type:a,args:c})}}g.version=b;g.makeBridgedApi=a}),98);
__d("LSCoreClientFolderType",[],(function(a,b,c,d,e,f){a=Object.freeze({INBOX:0,PENDING:1,OTHER:2,SPAM:3,ARCHIVED:4,HIDDEN:5,MARKETPLACE:12,RESTRICTED:15,INTEROP:19});f["default"]=a}),66);
__d("LSCreateE2EEMetadataThread",["LSArrayGetObjectAt","LSBase64Encode.nop","LSIsEncryptionVersionSecure","LSIssueNewTask","LSLogMebClientEvent.nop"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.sequence([function(a){return d[0]=c.i64.of_float(Date.now()),function(a){c.logger(a).info(a)}("[EncryptedBackups][createE2EEMetadataThread] Beginning execution."),d[1]=c.i64.of_float(Date.now()),c.islc(c.filter(c.db.table(168).fetch(),function(a){return c.i64.eq(a.authorityLevel,c.i64.cast([0,80]))||!1}),0,c.i64.to_float(c.i64.cast([0,1]))).next().then(function(a,b){var e=a.done;a=a.value;return e?(d[19]=new c.Map(),d[19].set("error_msg","Expected a nonempty query result"),d[19].set("code",c.i64.cast([0,3])),d[19].set("src_line","MEBClientStateUtils.php:247 MEBClientStateUtils::maybeClientStateFromDatabaseDirectly()"),d[20]=c.createArray(),d[21]=(d[20].push(d[19]),d[20]),e=[void 0,d[20]],d[2]=e[0],d[3]=e[1],e):(b=a.item,d[19]=new c.Map(),d[19].set("backup_id",b.backupId),d[19].set("device_public_key_blob",b.devicePublicKeyBlob),d[19].set("device_private_key_blob",b.devicePrivateKeyBlob),d[19].set("epoch_storage_public_key_blob",b.epochStoragePublicKeyBlob),d[19].set("epoch_storage_private_key_blob",b.epochStoragePrivateKeyBlob),d[19].set("epoch_auth_public_key_blob",b.epochAuthPublicKeyBlob),d[19].set("epoch_auth_private_key_blob",b.epochAuthPrivateKeyBlob),d[19].set("mailbox_root_key_blob",b.mailboxRootKeyBlob),d[19].set("ocmf_client_state_blob",b.ocmfClientStateBlob),d[19].set("orf_client_state_v2_blob",void 0),d[19].set("orf_v2_authority_level",void 0),d[19].set("oblivious_validation_token_blob",b.obliviousValidationTokenBlob),d[19].set("device_id",b.deviceId),d[19].set("backup_tenancy",b.backupTenancy),d[19].set("encryption_version",b.encryptionVersion),d[19].set("revision_version",b.revisionVersion),d[19].set("initialize_restore_result",void 0),d[19].set("device_creation_timestamp_sec",void 0),d[19].set("authority_level",b.authorityLevel),e=[d[19],void 0],d[2]=e[0],d[3]=e[1],e)})},function(a){return d[5]=new c.Map(),d[5].set("value",d[2]),d[5].set("errors",d[3]),d[6]=d[5].get("value"),d[6]!==void 0?c.sequence([function(a){return d[19]=d[6].get("backup_id"),d[20]=d[6].get("device_public_key_blob"),d[21]=d[6].get("device_private_key_blob"),d[22]=d[6].get("epoch_storage_public_key_blob"),d[23]=d[6].get("epoch_storage_private_key_blob"),d[24]=d[6].get("epoch_auth_public_key_blob"),d[25]=d[6].get("epoch_auth_private_key_blob"),d[26]=d[6].get("mailbox_root_key_blob"),d[27]=d[6].get("ocmf_client_state_blob"),d[28]=d[6].get("orf_client_state_v2_blob"),d[29]=d[6].get("orf_v2_authority_level"),d[30]=d[6].get("oblivious_validation_token_blob"),d[31]=d[6].get("device_id"),d[32]=d[6].get("backup_tenancy"),d[33]=d[6].get("encryption_version"),d[34]=d[6].get("revision_version"),d[35]=d[6].get("initialize_restore_result"),d[36]=d[6].get("device_creation_timestamp_sec"),d[37]=d[6].get("authority_level"),c.i64.neq(d[31],void 0)?c.sequence([function(a){return d[39]=void 0,c.i64.neq(d[39],void 0)?c.resolve(d[40]=d[39]):c.sequence([function(a){return d[52]=c.createArray(),c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,0])).then(function(a){return a=a,d[53]=a[0],a})},function(a){return d[53]?d[62]=(d[52].push(c.i64.cast([0,0])),d[52]):0,c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,2])).then(function(a){return a=a,d[54]=a[0],a})},function(a){return d[54]?d[62]=(d[52].push(c.i64.cast([0,2])),d[52]):0,c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,3])).then(function(a){return a=a,d[55]=a[0],a})},function(a){return d[55]?d[62]=(d[52].push(c.i64.cast([0,3])),d[52]):0,c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,4])).then(function(a){return a=a,d[56]=a[0],a})},function(a){return d[56]?d[62]=(d[52].push(c.i64.cast([0,4])),d[52]):0,d[57]=c.createArray(),d[58]=c.i64.of_int32(d[52].length),c.i64.gt(d[58],c.i64.cast([0,0]))?c.loopAsync(d[58],function(a){return d[62]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[52],d[62]).then(function(a){return a=a,d[63]=a[0],d[64]=a[1],a})},function(a){return d[65]=(d[57].push(d[63]),d[57])}])}):c.resolve()},function(a){return c.sequence([function(a){return d[62]=c.createArray(),d[63]=c.i64.of_int32(d[57].length),c.i64.gt(d[63],c.i64.cast([0,0]))?c.loopAsync(d[63],function(a){return d[65]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[57],d[65]).then(function(a){return a=a,d[66]=a[0],d[67]=a[1],a})},function(a){return d[68]=(d[62].push(c.i64.to_string(d[66])),d[62])}])}):c.resolve()},function(a){return d[64]=d[62].join(","),d[59]=d[64]}])},function(a){return d[57].some(function(a){return c.i64.eq(d[33],a)})?d[60]=d[33]:d[60]=void 0,c.i64.neq(d[60],void 0)?d[61]=d[60]:d[61]=void 0,d[40]=d[61]}])},function(a){return c.i64.neq(d[40],void 0)?d[41]=d[40]:d[41]=c.i64.cast([0,0]),c.i64.neq(d[32],void 0)?d[42]=d[32]:d[42]=c.i64.cast([0,1]),c.nativeOperation(b("LSBase64Encode.nop"),d[27]).then(function(a){return a=a,d[43]=a[0],a})},function(a){return c.nativeOperation(b("LSBase64Encode.nop"),d[26]).then(function(a){return a=a,d[44]=a[0],a})},function(a){return d[45]=new c.Map(),d[45].set("ocmf_client_state_blob",d[43]==null?"":d[43]),d[45].set("mailbox_root_key",d[44]==null?"":d[44]),d[46]=c.createArray(),c.forEach(c.filter(c.db.table(169).fetch(),function(a){return c.i64.eq(a.authorityLevel,c.i64.cast([0,80]))}),function(a){a=a.item;return d[52]=(d[46].push(a.epochId),d[46])})},function(a){return d[50]="Queried locally available epochs. Count: ",d[47]=c.i64.of_int32(d[46].length),d[51]=c.i64.to_string(d[47]),d[48]="",function(a){c.logger(a).info(a)}(["[EncryptedBackups][MEBEpochClientUtils] ",d[48],d[50],d[48],d[51]].join("")),c.resolve()},function(a){return d[49]=new c.Map(),d[49].set("device_id",d[31]),d[49].set("raw_tokens",d[45]),d[49].set("locally_available_epochs",d[46]),d[38]=d[49]}]):c.resolve(d[38]=void 0)},function(a){return d[7]=d[38]}]):c.resolve((d[19]=d[5].get("errors"),d[20]=d[5].get("errors"),d[7]=void 0))},function(e){return d[8]=c.i64.random(),d[9]=c.i64.to_string(d[8]),d[10]=new c.Map(),d[10].set("wa_jid",a[0]),d[10].set("offline_thread_key",a[1]),d[10].set("thread_type",a[2]),d[10].set("folder_type",a[3]),d[10].set("bump_timestamp_ms",a[4]),d[10].set("tam_thread_subtype",c.i64.cast([0,0])),d[10].set("created_by_local_device",a[5]),d[10].set("device_context",d[7]),d[10].set("qpl_instance_key",d[9]),d[11]=d[10].get("offline_thread_key"),d[12]=c.toJSON(d[10]),c.storedProcedure(b("LSIssueNewTask"),c.i64.to_string(d[11]),c.i64.cast([0,388]),d[12],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]))},function(a){return d[13]=c.i64.of_float(Date.now()),d[14]=c.i64.random(),d[16]="Finishing execution. Execution time: ",d[17]=c.i64.to_string(c.i64.sub(d[13],d[0])),d[18]=" ms",d[15]="",function(a){c.logger(a).info(a)}(["[EncryptedBackups][createE2EEMetadataThread] ",d[15],d[16],d[15],d[17],d[15],d[18]].join("")),c.i64.eq(c.i64.mod_(d[14],c.i64.cast([0,1e3])),c.i64.cast([0,0]))?(d[19]=",",d[20]=c.createArray(),void 0!==void 0?d[21]=(d[20].push(void 0),d[20]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"createE2EEMetadataThread",[d[16],d[19],d[17],d[19],d[18]].join(""),d[20],c.i64.cast([0,4]))):c.resolve()}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSE2EEMessagingMetadataMailboxCreateE2EEMetadataThreadStoredProcedure";a.__tables__=["secure_encrypted_backups_client_state","secure_encrypted_backups_epochs"];e.exports=a}),null);
__d("LSCreateE2EEMetadataThreadStoredProcedure",["LSCreateE2EEMetadataThread","LSSynchronousPromise","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSCreateE2EEMetadataThread"),e.waJid,e.offlineThreadKey,e.threadType,e.folderType,e.bumpTimestampMs,e.createdByLocalDevice);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("LSCreateOfflineThreadingIDStoredProcedure",["LSCreateOfflineThreadingID","LSSynchronousPromise","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSCreateOfflineThreadingID"),e.timestampMs);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("LSCutoverMappingQueryFromOpenThreadId",["LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return d[0]=new c.Map(),d[0].set("open_thread_id",a[0]),d[1]=d[0].get("open_thread_id"),d[2]=c.toJSON(d[0]),c.storedProcedure(b("LSIssueNewTask"),["cutover_mapping_query_",c.i64.to_string(d[1])].join(""),c.i64.cast([0,180001]),d[2],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]))},function(a){return c.resolve(e)}])}a.__sproc_name__="LSE2EEMessagingMetadataMailboxCutoverMappingQueryFromOpenThreadIdStoredProcedure";a.__tables__=[];e.exports=a}),null);
__d("LSCutoverMappingQueryFromOpenThreadIdStoredProcedure",["LSCutoverMappingQueryFromOpenThreadId","LSSynchronousPromise","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSCutoverMappingQueryFromOpenThreadId"),e.openThreadId);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("LSRefetchContactRowIfExists",["LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.filter(c.db.table(7).fetch([[[a[0]]]]),function(b){return c.i64.eq(b.id,a[0])&&c.i64.eq(c.i64.cast([0,1]),c.i64.cast([0,1]))}).next().then(function(e,f){var g=e.done;e=e.value;return g?0:(f=e.item,c.i64.le(f.authorityLevel,c.i64.cast([0,80]))?(d[0]=new c.Map(),d[0].set("contact_id",a[0]),d[1]=c.toJSON(d[0]),c.storedProcedure(b("LSIssueNewTask"),"cpq_v2",c.i64.cast([0,207]),d[1],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]))):c.resolve())})},function(a){return c.resolve(e)}])}a.__sproc_name__="LSContactRefetchContactRowIfExistsStoredProcedure";a.__tables__=["contacts"];e.exports=a}),null);
__d("LSRefetchContactRowIfExistsStoredProcedure",["LSRefetchContactRowIfExists","LSSynchronousPromise","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSRefetchContactRowIfExists"),e.id);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("LSRtcCallState",[],(function(a,b,c,d,e,f){a=Object.freeze({NO_ONGOING_CALL:0,AUDIO_GROUP_CALL:1,VIDEO_GROUP_CALL:2,VIDEO_1TO1_CALL:3,AUDIO_1TO1_CALL:4});f["default"]=a}),66);
__d("LSThreadPointQueryAndRestoreMessagesWithJID",["LSArrayGetObjectAt","LSBase64Encode.nop","LSIsEncryptionVersionSecure","LSIssueNewTask","LSLogMebClientEvent.nop"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.sequence([function(a){return d[0]=c.i64.of_float(Date.now()),function(a){c.logger(a).info(a)}("[EncryptedBackups][ThreadPointQueryAndRestoreMessagesWithJID] Beginning execution."),d[1]=c.i64.of_float(Date.now()),c.islc(c.filter(c.db.table(168).fetch(),function(a){return c.i64.eq(a.authorityLevel,c.i64.cast([0,80]))||!1}),0,c.i64.to_float(c.i64.cast([0,1]))).next().then(function(a,b){var e=a.done;a=a.value;return e?(d[19]=new c.Map(),d[19].set("error_msg","Expected a nonempty query result"),d[19].set("code",c.i64.cast([0,3])),d[19].set("src_line","MEBClientStateUtils.php:247 MEBClientStateUtils::maybeClientStateFromDatabaseDirectly()"),d[20]=c.createArray(),d[21]=(d[20].push(d[19]),d[20]),e=[void 0,d[20]],d[2]=e[0],d[3]=e[1],e):(b=a.item,d[19]=new c.Map(),d[19].set("backup_id",b.backupId),d[19].set("device_public_key_blob",b.devicePublicKeyBlob),d[19].set("device_private_key_blob",b.devicePrivateKeyBlob),d[19].set("epoch_storage_public_key_blob",b.epochStoragePublicKeyBlob),d[19].set("epoch_storage_private_key_blob",b.epochStoragePrivateKeyBlob),d[19].set("epoch_auth_public_key_blob",b.epochAuthPublicKeyBlob),d[19].set("epoch_auth_private_key_blob",b.epochAuthPrivateKeyBlob),d[19].set("mailbox_root_key_blob",b.mailboxRootKeyBlob),d[19].set("ocmf_client_state_blob",b.ocmfClientStateBlob),d[19].set("orf_client_state_v2_blob",void 0),d[19].set("orf_v2_authority_level",void 0),d[19].set("oblivious_validation_token_blob",b.obliviousValidationTokenBlob),d[19].set("device_id",b.deviceId),d[19].set("backup_tenancy",b.backupTenancy),d[19].set("encryption_version",b.encryptionVersion),d[19].set("revision_version",b.revisionVersion),d[19].set("initialize_restore_result",void 0),d[19].set("device_creation_timestamp_sec",void 0),d[19].set("authority_level",b.authorityLevel),e=[d[19],void 0],d[2]=e[0],d[3]=e[1],e)})},function(a){return d[5]=new c.Map(),d[5].set("value",d[2]),d[5].set("errors",d[3]),d[6]=d[5].get("value"),d[6]!==void 0?c.sequence([function(a){return d[19]=d[6].get("backup_id"),d[20]=d[6].get("device_public_key_blob"),d[21]=d[6].get("device_private_key_blob"),d[22]=d[6].get("epoch_storage_public_key_blob"),d[23]=d[6].get("epoch_storage_private_key_blob"),d[24]=d[6].get("epoch_auth_public_key_blob"),d[25]=d[6].get("epoch_auth_private_key_blob"),d[26]=d[6].get("mailbox_root_key_blob"),d[27]=d[6].get("ocmf_client_state_blob"),d[28]=d[6].get("orf_client_state_v2_blob"),d[29]=d[6].get("orf_v2_authority_level"),d[30]=d[6].get("oblivious_validation_token_blob"),d[31]=d[6].get("device_id"),d[32]=d[6].get("backup_tenancy"),d[33]=d[6].get("encryption_version"),d[34]=d[6].get("revision_version"),d[35]=d[6].get("initialize_restore_result"),d[36]=d[6].get("device_creation_timestamp_sec"),d[37]=d[6].get("authority_level"),c.i64.neq(d[31],void 0)?c.sequence([function(a){return d[39]=void 0,c.i64.neq(d[39],void 0)?c.resolve(d[40]=d[39]):c.sequence([function(a){return d[52]=c.createArray(),c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,0])).then(function(a){return a=a,d[53]=a[0],a})},function(a){return d[53]?d[62]=(d[52].push(c.i64.cast([0,0])),d[52]):0,c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,2])).then(function(a){return a=a,d[54]=a[0],a})},function(a){return d[54]?d[62]=(d[52].push(c.i64.cast([0,2])),d[52]):0,c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,3])).then(function(a){return a=a,d[55]=a[0],a})},function(a){return d[55]?d[62]=(d[52].push(c.i64.cast([0,3])),d[52]):0,c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,4])).then(function(a){return a=a,d[56]=a[0],a})},function(a){return d[56]?d[62]=(d[52].push(c.i64.cast([0,4])),d[52]):0,d[57]=c.createArray(),d[58]=c.i64.of_int32(d[52].length),c.i64.gt(d[58],c.i64.cast([0,0]))?c.loopAsync(d[58],function(a){return d[62]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[52],d[62]).then(function(a){return a=a,d[63]=a[0],d[64]=a[1],a})},function(a){return d[65]=(d[57].push(d[63]),d[57])}])}):c.resolve()},function(a){return c.sequence([function(a){return d[62]=c.createArray(),d[63]=c.i64.of_int32(d[57].length),c.i64.gt(d[63],c.i64.cast([0,0]))?c.loopAsync(d[63],function(a){return d[65]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[57],d[65]).then(function(a){return a=a,d[66]=a[0],d[67]=a[1],a})},function(a){return d[68]=(d[62].push(c.i64.to_string(d[66])),d[62])}])}):c.resolve()},function(a){return d[64]=d[62].join(","),d[59]=d[64]}])},function(a){return d[57].some(function(a){return c.i64.eq(d[33],a)})?d[60]=d[33]:d[60]=void 0,c.i64.neq(d[60],void 0)?d[61]=d[60]:d[61]=void 0,d[40]=d[61]}])},function(a){return c.i64.neq(d[40],void 0)?d[41]=d[40]:d[41]=c.i64.cast([0,0]),c.i64.neq(d[32],void 0)?d[42]=d[32]:d[42]=c.i64.cast([0,1]),c.nativeOperation(b("LSBase64Encode.nop"),d[27]).then(function(a){return a=a,d[43]=a[0],a})},function(a){return c.nativeOperation(b("LSBase64Encode.nop"),d[26]).then(function(a){return a=a,d[44]=a[0],a})},function(a){return d[45]=new c.Map(),d[45].set("ocmf_client_state_blob",d[43]==null?"":d[43]),d[45].set("mailbox_root_key",d[44]==null?"":d[44]),d[46]=c.createArray(),c.forEach(c.filter(c.db.table(169).fetch(),function(a){return c.i64.eq(a.authorityLevel,c.i64.cast([0,80]))}),function(a){a=a.item;return d[52]=(d[46].push(a.epochId),d[46])})},function(a){return d[50]="Queried locally available epochs. Count: ",d[47]=c.i64.of_int32(d[46].length),d[51]=c.i64.to_string(d[47]),d[48]="",function(a){c.logger(a).info(a)}(["[EncryptedBackups][MEBEpochClientUtils] ",d[48],d[50],d[48],d[51]].join("")),c.resolve()},function(a){return d[49]=new c.Map(),d[49].set("device_id",d[31]),d[49].set("raw_tokens",d[45]),d[49].set("locally_available_epochs",d[46]),d[38]=d[49]}]):c.resolve(d[38]=void 0)},function(a){return d[7]=d[38]}]):c.resolve((d[19]=d[5].get("errors"),d[20]=d[5].get("errors"),d[7]=void 0))},function(e){return d[8]=c.i64.random(),d[9]=c.i64.to_string(d[8]),d[10]=new c.Map(),d[10].set("wa_jid",a[0]),d[10].set("tam_thread_subtype",c.i64.cast([0,0])),d[10].set("enable_logging_for_tpq",!1),d[10].set("device_context",d[7]),d[10].set("qpl_instance_key",d[9]),d[11]=d[10].get("wa_jid"),d[12]=c.toJSON(d[10]),c.storedProcedure(b("LSIssueNewTask"),c.i64.to_string(d[11]),c.i64.cast([0,556]),d[12],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]))},function(a){return d[13]=c.i64.of_float(Date.now()),d[14]=c.i64.random(),d[16]="Finishing execution. Execution time: ",d[17]=c.i64.to_string(c.i64.sub(d[13],d[0])),d[18]=" ms",d[15]="",function(a){c.logger(a).info(a)}(["[EncryptedBackups][ThreadPointQueryAndRestoreMessagesWithJID] ",d[15],d[16],d[15],d[17],d[15],d[18]].join("")),c.i64.eq(c.i64.mod_(d[14],c.i64.cast([0,1e3])),c.i64.cast([0,0]))?(d[19]=",",d[20]=c.createArray(),void 0!==void 0?d[21]=(d[20].push(void 0),d[20]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"ThreadPointQueryAndRestoreMessagesWithJID",[d[16],d[19],d[17],d[19],d[18]].join(""),d[20],c.i64.cast([0,4]))):c.resolve()}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSE2EEMessagingMetadataMailboxThreadPointQueryAndRestoreMessagesWithJIDStoredProcedure";a.__tables__=["secure_encrypted_backups_client_state","secure_encrypted_backups_epochs"];e.exports=a}),null);
__d("LSThreadPointQueryAndRestoreMessagesWithJIDStoredProcedure",["LSSynchronousPromise","LSThreadPointQueryAndRestoreMessagesWithJID","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSThreadPointQueryAndRestoreMessagesWithJID"),e.waJid);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("LSVerifyThreadExistsV2",["LSGetViewerFBID","LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.sequence([function(b){return[c.i64.cast([0,7]),c.i64.cast([0,8]),c.i64.cast([0,13]),c.i64.cast([0,10]),c.i64.cast([0,11]),c.i64.cast([0,16])].some(function(b){return c.i64.eq(a[1],b)})?c.resolve((b=[!1,!1,!1],d[0]=b[0],d[1]=b[1],d[2]=b[2],b)):c.sequence([function(b){return c.db.table(9).fetch([[[a[0]]]]).next().then(function(b,e){var f=b.done;b=b.value;return f?(f=[!0,!0,!1],d[3]=f[0],d[4]=f[1],d[5]=f[2],f):(e=b.item,d[12]=e.threadName,d[11]=e.authorityLevel,d[10]=e.threadType,e.folderName==="other"?(f=[!0,!1,!1],d[7]=f[0],d[8]=f[1],d[9]=f[2],f):(c.i64.eq(d[10],c.i64.cast([0,0]))&&c.i64.eq(d[11],c.i64.cast([0,40]))||[c.i64.cast([0,23]),c.i64.cast([0,21]),c.i64.cast([0,18]),c.i64.cast([0,26]),c.i64.cast([0,27])].some(function(a){return c.i64.eq(d[10],a)})&&c.i64.neq(d[11],c.i64.cast([0,20]))&&((d[12]===""?void 0:d[12])===void 0||c.i64.lt(d[11],c.i64.cast([0,80])))||[c.i64.cast([0,151]),c.i64.cast([0,155]),c.i64.cast([0,153])].some(function(a){return c.i64.eq(d[10],a)})||[c.i64.cast([0,24]),c.i64.cast([0,22]),c.i64.cast([0,19]),c.i64.cast([0,25]),c.i64.cast([0,28])].some(function(a){return c.i64.eq(d[10],a)})||[c.i64.cast([0,150]),c.i64.cast([0,154]),c.i64.cast([0,152])].some(function(b){return c.i64.eq(a[1],b)})&&c.i64.lt(d[11],c.i64.cast([0,80]))||[c.i64.cast([0,150]),c.i64.cast([0,154]),c.i64.cast([0,152])].some(function(b){return c.i64.eq(a[1],b)})&&c.i64.eq(a[6],c.i64.cast([0,205]))&&(c.i64.eq(e.syncGroup,void 0)||!1)?(b=[!0,!0,!1],d[13]=b[0],d[14]=b[1],d[15]=b[2],b):(c.i64.ge(d[11],a[4])||c.i64.eq(d[11],c.i64.cast([0,20]))&&([c.i64.cast([0,2]),c.i64.cast([0,202])].some(function(b){return c.i64.eq(a[1],b)})||[c.i64.cast([0,23]),c.i64.cast([0,21]),c.i64.cast([0,18]),c.i64.cast([0,26]),c.i64.cast([0,27])].some(function(b){return c.i64.eq(a[1],b)}))?(f=[!1,!1,!1],d[16]=f[0],d[17]=f[1],d[18]=f[2],f):(e=[!0,!1,!0],d[16]=e[0],d[17]=e[1],d[18]=e[2],e),b=[d[16],d[17],d[18]],d[13]=b[0],d[14]=b[1],d[15]=b[2],b),f=[d[13],d[14],d[15]],d[7]=f[0],d[8]=f[1],d[9]=f[2],f),e=[d[7],d[8],d[9]],d[3]=e[0],d[4]=e[1],d[5]=e[2],e)})},function(a){return a=[d[3],d[4],d[5]],d[0]=a[0],d[1]=a[1],d[2]=a[2],a}])},function(e){return d[0]?(d[3]=new c.Map(),d[3].set("thread_fbid",a[0]),d[3].set("force_upsert",a[5]),d[3].set("use_open_messenger_transport",!1),d[3].set("sync_group",a[6]),d[3].set("metadata_only",a[7]),d[3].set("preview_only",!1),d[4]=d[3].get("thread_fbid"),d[5]=c.toJSON(d[3]),c.storedProcedure(b("LSIssueNewTask"),c.i64.to_string(d[4]),c.i64.cast([0,209]),d[5],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]))):c.resolve()},function(e){return d[1]?c.sequence([function(b){return c.db.table(9).fetch([[[a[0]]]]).next().then(function(b,e){var f=b.done;b=b.value;return f?c.sequence([function(b){return c.filter(c.db.table(7).fetch([[[a[0]]]]),function(b){return c.i64.eq(b.id,a[0])&&c.i64.eq(c.i64.cast([0,1]),c.i64.cast([0,1]))}).next().then(function(b,e){var a=b.done;b=b.value;return a?d[22]=!1:(e=b.item,d[22]=c.i64.eq(e.contactTypeExact,c.i64.cast([0,16]))?!0:!1)})},function(a){return d[3]=d[22]}]):(e=b.item,d[3]=c.i64.eq(e.threadType,c.i64.cast([0,201]))?!0:!1)})},function(b){return d[5]=c.i64.cast([0,1083495711]),d[6]=c.i64.cast([0,1024]),d[7]=c.i64.cast([0,0]),d[8]=c.i64.cast([0,0]),d[9]=c.i64.cast([0,0]),c.filter(c.db.table(7).fetch([[[a[0]]]]),function(b){return c.i64.eq(b.id,a[0])&&c.i64.eq(c.i64.cast([0,1]),c.i64.cast([0,1]))}).next().then(function(a,b){var e=a.done;a=a.value;return e?d[10]=!1:(b=a.item,d[10]=c.i64.eq(b.contactReachabilityStatusType,c.i64.cast([0,12]))?!0:!1)})},function(b){return d[12]=c.i64.cast([0,1083495711]),d[13]=c.i64.cast([0,1024]),d[14]=c.i64.cast([0,0]),d[15]=c.i64.cast([0,134217728]),d[16]=c.i64.cast([0,0]),d[17]=c.i64.cast([0,8650752]),d[18]=c.i64.cast([0,1024]),d[19]=c.i64.cast([0,0]),d[20]=c.i64.cast([0,0]),d[21]=c.i64.cast([0,0]),c.forEach(c.filter(c.db.table(9).fetch([[[a[0]]]]),function(b){return c.i64.eq(b.threadKey,a[0])&&c.i64.lt(b.authorityLevel,a[4])}),function(a){return a["delete"]()})},function(b){return c.db.table(9).add({threadKey:a[0],mailboxType:c.i64.cast([0,0]),threadType:a[1],syncGroup:a[6],folderName:a[2],lastReadWatermarkTimestampMs:c.i64.cast([0,0]),removeWatermarkTimestampMs:c.i64.cast([-1,4294967295]),ongoingCallState:c.i64.cast([0,0]),parentThreadKey:a[3],authorityLevel:a[4],capabilities:d[3]?d[17]:d[12],capabilities2:d[3]?d[18]:d[13],capabilities3:d[3]?d[19]:d[14],capabilities4:d[3]?d[20]:d[15],capabilities5:d[3]?d[21]:d[16],unsendLimitMs:c.i64.cast([-1,4294967295])})},function(e){return[c.i64.cast([0,1]),c.i64.cast([0,201]),c.i64.cast([0,204])].some(function(b){return c.i64.eq(a[1],b)})?c.sequence([function(b){return c.forEach(c.filter(c.db.table(14).fetch([[[a[0],a[0]]]]),function(b){return c.i64.eq(b.threadKey,a[0])&&c.i64.eq(c.i64.cast([0,0]),c.i64.cast([0,0]))&&c.i64.eq(b.contactId,a[0])&&c.i64.lt(b.authorityLevel,a[4])}),function(a){return a["delete"]()})},function(b){return c.db.table(14).add({threadKey:a[0],contactId:a[0],readWatermarkTimestampMs:c.i64.cast([0,0]),deliveredWatermarkTimestampMs:c.i64.cast([0,0]),authorityLevel:a[4],isModerator:!1})},function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[22]=a[0],a})},function(b){return c.forEach(c.filter(c.db.table(14).fetch([[[a[0],d[22]]]]),function(b){return c.i64.eq(b.threadKey,a[0])&&c.i64.eq(c.i64.cast([0,0]),c.i64.cast([0,0]))&&c.i64.eq(b.contactId,d[22])&&c.i64.lt(b.authorityLevel,a[4])}),function(a){return a["delete"]()})},function(b){return c.db.table(14).add({threadKey:a[0],contactId:d[22],readWatermarkTimestampMs:c.i64.cast([0,0]),deliveredWatermarkTimestampMs:c.i64.cast([0,0]),authorityLevel:a[4],isModerator:!1})}]):c.resolve()}]):c.resolve()},function(b){return d[2]?c.forEach(c.db.table(9).fetch([[[a[0]]]]),function(b){var c=b.update;b.item;return c({authorityLevel:a[4]})}):c.resolve()}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSMailboxVerifyThreadExistsV2StoredProcedure";a.__tables__=["threads","contacts","participants"];e.exports=a}),null);
__d("LSVerifyThreadExists",["LSVerifyThreadExistsV2"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[];return c.sequence([function(d){return c.storedProcedure(b("LSVerifyThreadExistsV2"),a[0],a[1],a[2],a[3],a[4],!1,a[5],!1,!1)},function(a){return c.resolve(d)}])}a.__sproc_name__="LSMailboxVerifyThreadExistsStoredProcedure";a.__tables__=[];e.exports=a}),null);
__d("LSVerifyThreadRowExists",["LSVerifyThreadExists"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[];return c.sequence([function(d){return c.storedProcedure(b("LSVerifyThreadExists"),a[0],a[1]==null?c.i64.cast([0,1]):a[1],"inbox",c.i64.cast([0,0]),c.i64.cast([0,40])==null?c.i64.cast([0,40]):c.i64.cast([0,40]),a[2])},function(a){return c.resolve(d)}])}a.__sproc_name__="LSMailboxVerifyThreadRowExistsStoredProcedure";a.__tables__=[];e.exports=a}),null);
__d("LSVerifyThreadRowExistsStoredProcedure",["LSSynchronousPromise","LSVerifyThreadRowExists","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSVerifyThreadRowExists"),e.threadKey,e.threadType,e.syncGroup);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("MAWBridgeGroupInviteLoadedHandler",["fbt","I64","LSMessagingThreadTypeUtil","MAWMiActMappingTableAPI","ReQL","justknobx"],(function(a,b,c,d,e,f,g,h){"use strict";var i;function a(a,b,c){return k(a,c,b.actorId)}function j(a,b,c){return d("MAWMiActMappingTableAPI").getThreadKeyForChatJid(a,b).then(function(b){return b==null?Promise.resolve():k(a,b,c)})}async function k(a,b,e){var f=a.threads,g=await d("ReQL").firstAsync(d("ReQL").fromTableAscending(f).getKeyRange(b));if(g==null)return;var j=d("LSMessagingThreadTypeUtil").isGroup(g.threadType);if(!j)return;j=await d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.group_invites).getKeyRange(b));if(j==null){c("justknobx")._("1162")&&await f.put(babelHelpers.extends({},g,{additionalThreadContext:void 0}));return}b=(i||(i=d("I64"))).equal((i||(i=d("I64"))).of_string(e),j.inviterId)?null:await d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.contacts,["name"]).getKeyRange(j.inviterId));if(b==null)return;e=h._(/*BTDS*/"{Inviter Name} invited you to join",[h._param("Inviter Name",b.name)]).toString();a=g.folderName==="inbox"?h._(/*BTDS*/"Message request").toString():g.additionalThreadContext;await f.put(babelHelpers.extends({},g,{additionalThreadContext:a,snippet:e}))}function b(a,b){return j(a,b.threadJid,b.actorId)}function e(a,b,c){return j(a,b,c)}g.callForOneDb=a;g.call=b;g.callFromMainThread=e}),226);
__d("MAWContactRelationshipType",["I64","LSContactBitOffset","WADbContact"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){var b=d("LSContactBitOffset").hasWithDefault(64,a,!0);a=(h||(h=d("I64"))).ge(a.contactViewerRelationship,h.of_string("2"));if(a&&b)return d("WADbContact").ONE_WAY_CONTACT;else if(!a&&!b)return d("WADbContact").REVERSED_ONE_WAY_CONTACT;else if(a&&!b)return d("WADbContact").TWO_WAY_CONTACT;return d("WADbContact").NON_CONTACT}g.getContactRelationshipType=a}),98);
__d("MAWBridgeOneToOneMessageRequestLoadedHandler",["fbt","I64","LSAuthorityLevel","LSIntEnum","LSMessagingThreadTypeUtil","LSThreadBitOffset","MAWContactRelationshipType","MAWJids","MAWMessageRequestUtil","MAWMiActMappingTableAPI","ODS","ReQL","WADbContact"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k;function a(a,b){b=b.threadJid;return l(a,b)}function b(a,b){return l(a,b)}async function l(a,b){var c=d("MAWJids").convertChatJidToIntJid(b);b=await d("MAWMiActMappingTableAPI").getThreadKeyForChatJid(a,b);if(b==null)return;b=await Promise.all([d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.threads).getKeyRange(b)),d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.contacts).getKeyRange(c))]);c=b[0];b=b[1];if(c==null||b==null||!d("LSMessagingThreadTypeUtil").isOneToOne(c.threadType))return;b=m(c,b);b=c.folderName==="pending"||c.folderName==="other"||c.folderName==="spam"||b;if(!b)return;b=c.folderName==="inbox"?h._(/*BTDS*/"Message request").toString():void 0;b=babelHelpers.extends({},c,{additionalThreadContext:b},n(c));await a.threads.put(b)}function m(a,b){var e=d("MAWContactRelationshipType").getContactRelationshipType(b);e=a.folderName==="inbox"&&e===d("WADbContact").REVERSED_ONE_WAY_CONTACT&&!(i||(i=d("I64"))).equal(a.lastActivityTimestampMs,(i||(i=d("I64"))).zero);a=(i||(i=d("I64"))).lt(b.authorityLevel,(j||(j=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").AUTHORITATIVE));e&&!a&&(k||(k=d("ODS"))).bumpEntityKey(3185,"e2ee.message_request_loaded_failure","contacts_not_yet_loaded",1);return e&&a}function n(a){a=d("LSThreadBitOffset").clear(d("MAWMessageRequestUtil").disabledThreadCapabilitiesForIncomingRequest,a.capabilities,a.capabilities2,a.capabilities3,a.capabilities4,a.capabilities5);a=d("LSThreadBitOffset").set(d("MAWMessageRequestUtil").enabledThreadCapabilitiesForIncomingRequest,a[0],a[1],a[2],a[3],a[4]);return{capabilities:a[0],capabilities2:a[1],capabilities3:a[2],capabilities4:a[3],capabilities5:a[4]}}g.call=a;g.callFromMainThread=b}),226);
__d("MAWActThreadMapping",["I64","MAWBridgeGroupInviteLoadedHandler","MAWBridgeOccamadilloVerifyThreadExistsHandler","MAWBridgeOneToOneMessageRequestLoadedHandler","MAWBridgeParticipantsUpdatedHandler","MAWBridgeSendAndReceive","MAWCurrentUser","MAWJids","MAWMiActMappingTableAPI","MAWMiActOnActThreadReadyQueue","MAWThreadMappingQPL","WAJids","gkx","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i=new Map(),j=null;function k(){return c("gkx")("14178")}function l(a,b,d,e){var g=e.then(function(b){c("promiseDone")(a.runInTransaction(function(a){return q(a,o(b),d)},"readwrite",void 0,void 0,f.id+":65"));return b});b.forEach(function(a){return i.set(a,g)})}function m(a){return Promise.all(Array.from(a).map(function(a){var b=a[0];a=a[1];return a.then(function(a){a=a.find(function(a){return((a=a.value)==null?void 0:a.chatJid)===b});return(a==null?void 0:a.status)==="fulfilled"?{status:"fulfilled",value:babelHelpers.extends({},a.value,{isCreated:!1})}:{reason:a==null?void 0:a.reason,status:"rejected"}})}))}function n(a){var b=new Map(),c=new Map();a.threads.forEach(function(a){var e=i.get(a.chatJid);e!=null?(a.instanceKey!=null&&d("MAWThreadMappingQPL").addPoint("reuse_existing_promise_for_act_mapping",a.instanceKey),c.set(a.chatJid,e)):b.set(a.chatJid,a)});return{cachedPromisesByJid:c,threadsToVerifyByJid:b}}function o(a){var b=new Map();a.forEach(function(a){a.status==="fulfilled"&&b.set(a.value.chatJid,a.value)});return b}async function p(a,b){var e=await d("MAWBridgeSendAndReceive").sendAndReceive("backend","bulkCreateOrUpdateThread",b);c("promiseDone")(a.runInTransaction(function(a){return q(a,o(e),b)},"readwrite",void 0,void 0,f.id+":160"));return e}function a(a,b){if(!k())return p(a,b);j==null&&(j=r(a));var c=n(b),e=c.cachedPromisesByJid;c=c.threadsToVerifyByJid;e=m(e);if(c.size===0)return e;var f=d("MAWBridgeSendAndReceive").sendAndReceive("backend","bulkCreateOrUpdateThread",babelHelpers.extends({},b,{threads:Array.from(c.values())}));l(a,Array.from(c.keys()),b,f);return Promise.all([f,e]).then(function(a){var b=a[0];a=a[1];return b.concat(a)})}function b(a){var b=a.authoritativeThreadKey,e=a.description,f=a.instanceKey,g=a.jid;a=a.optimisticThreadKey;f!=null&&d("MAWMiActOnActThreadReadyQueue").logOnFlushQueue(a,b,f,e);a!=null&&c("promiseDone")(d("MAWMiActOnActThreadReadyQueue").processQueueOnActThreadReady((h||(h=d("I64"))).of_string(a),g,e,"clientThreadKey"));b!=null&&c("promiseDone")(d("MAWMiActOnActThreadReadyQueue").processQueueOnActThreadReady((h||(h=d("I64"))).of_string(b),g,e,"authoritativeThreadKey"))}async function q(a,b,e){var f=[],g=d("MAWCurrentUser").getID(),h=c("gkx")("14386");await Promise.all(e.threads.map(function(e){var i=e.authoritativeThreadKey,j=e.chatJid;e=e.instanceKey;var k=b.get(j);if(k==null)return Promise.resolve();var l=k.clientThreadKey,m=k.folder,n=k.lastActivityTs;k=k.participants;k.forEach(function(a){f.push(babelHelpers.extends({},a,{chatJid:j}))});k=d("WAJids").switchOnMsgrChatJidType(j,{group:function(a){return!0},user:function(a){return!1}});h&&c("promiseDone")(k?d("MAWBridgeGroupInviteLoadedHandler").callFromMainThread(a,j,g):d("MAWBridgeOneToOneMessageRequestLoadedHandler").callFromMainThread(a,j));return d("MAWBridgeOccamadilloVerifyThreadExistsHandler").callFromMainThread(a,{authoritativeThreadKey:i,clientThreadKey:l,description:"bulkCreateThreadWithoutAfterTxn",folder:m,instanceKey:e,isGroup:k,jid:j,lastActivityTs:n})}));c("gkx")("13628")&&await d("MAWBridgeParticipantsUpdatedHandler").callFromMainThread(a,f)}function r(a){return d("MAWMiActMappingTableAPI").subscribeToMappingDeletion(a,function(a,b){b=d("MAWJids").convertIntJidToOneToOneChatJid(a);i.has(b)&&i.delete(b);b=d("MAWJids").convertIntJidToGroupJid(a);i.has(b)&&i.delete(b)})}g.bulkVerifyThreadExistsInWorker=a;g.executePromisesBlockedOnActThreadMapping=b}),98);
__d("MAWCreateOptimisticThread",["I64","LSAuthorityLevel","LSCreateOfflineThreadingIDStoredProcedure","LSFactory","LSIntEnum","LSMailboxType","LSRtcCallState"],(function(a,b,c,d,e,f,g){"use strict";var h,i;async function j(a){a=await c("LSCreateOfflineThreadingIDStoredProcedure")(c("LSFactory")(a),{timestampMs:(h||(h=d("I64"))).of_float(Date.now())});a=a[0];return a}async function k(a,b){var e={authorityLevel:(i||(i=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").OPTIMISTIC),folderName:"inbox",lastReadWatermarkTimestampMs:(h||(h=d("I64"))).of_float(0),mailboxType:i.ofNumber(c("LSMailboxType").MESSENGER),ongoingCallState:i.ofNumber(c("LSRtcCallState").NO_ONGOING_CALL),parentThreadKey:h.zero,threadKey:b,threadType:i.ofNumber(15)};await a.threads.put(e);return b}async function a(a){var b=await j(a);await k(a,b);return b}g.createOfflineThreadingId=j;g.createOptimisticThreadWithThreadKey=k;g.createOptimisticThread=a}),98);
__d("MessagingFolderTag",[],(function(a,b,c,d,e,f){a=Object.freeze({INBOX:"inbox",OTHER:"other",SPAM:"spam",PENDING:"pending",MONTAGE:"montage",HIDDEN:"hidden",LEGACY:"legacy",DISABLED:"disabled",PAGE_BACKGROUND:"page_background",PAGE_DONE:"page_done",BLOCKED:"blocked",COMMUNITY:"community",RESTRICTED:"restricted",BC_PARTNERSHIP:"bc_partnership",E2EE_CUTOVER:"e2ee_cutover",E2EE_CUTOVER_ARCHIVED:"e2ee_cutover_archived",E2EE_CUTOVER_PENDING:"e2ee_cutover_pending",E2EE_CUTOVER_OTHER:"e2ee_cutover_other",INTEROP:"interop",ARCHIVED:"archived",AI_ACTIVE:"ai_active",SALSA_RESTRICTED:"salsa_restricted",MESSENGER_MARKETING_MESSAGE:"messenger_marketing_message",SECRET_CONVERSATIONS:"secret_conversations",WEBCHAT_PLUGIN:"webchat_plugin",NFB_OVERFLOW:"nfb_overflow",UNKNOWN:""});f["default"]=a}),66);
__d("MAWFolderUtils",["FBLogger","I64","LSCoreClientFolderType","LSIntEnum","MAWFolderTypes","MessagingFolderTag"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a){switch(a){case d("MAWFolderTypes").PENDING:return c("MessagingFolderTag").PENDING;case d("MAWFolderTypes").OTHER:return c("MessagingFolderTag").OTHER;case d("MAWFolderTypes").SPAM:return c("MessagingFolderTag").SPAM;case d("MAWFolderTypes").ARCHIVED:return c("MessagingFolderTag").UNKNOWN;default:return c("MessagingFolderTag").INBOX}}function b(a){switch(a){case d("MAWFolderTypes").PENDING:return(h||(h=d("LSIntEnum"))).ofNumber(-101);case d("MAWFolderTypes").OTHER:return(h||(h=d("LSIntEnum"))).ofNumber(-102);case d("MAWFolderTypes").SPAM:return(h||(h=d("LSIntEnum"))).ofNumber(-103);case d("MAWFolderTypes").ARCHIVED:return(h||(h=d("LSIntEnum"))).ofNumber(-110);default:return(h||(h=d("LSIntEnum"))).ofNumber(-100)}}function e(a){switch(a){case d("MAWFolderTypes").ARCHIVED:return(h||(h=d("LSIntEnum"))).ofNumber(c("LSCoreClientFolderType").ARCHIVED);case d("MAWFolderTypes").INBOX:return(h||(h=d("LSIntEnum"))).ofNumber(c("LSCoreClientFolderType").INBOX);case d("MAWFolderTypes").OTHER:return(h||(h=d("LSIntEnum"))).ofNumber(c("LSCoreClientFolderType").SPAM);case d("MAWFolderTypes").PENDING:return(h||(h=d("LSIntEnum"))).ofNumber(c("LSCoreClientFolderType").OTHER);case d("MAWFolderTypes").RESTRICTED:return(h||(h=d("LSIntEnum"))).ofNumber(c("LSCoreClientFolderType").RESTRICTED);case d("MAWFolderTypes").SPAM:return(h||(h=d("LSIntEnum"))).ofNumber(c("LSCoreClientFolderType").PENDING);default:a;throw c("FBLogger")("messenger_web").mustfixThrow("Unhandled folder ID: "+a)}}function f(a){switch(a){case(h||(h=d("LSIntEnum"))).ofNumber(-1):return(h||(h=d("LSIntEnum"))).ofNumber(-101);case(h||(h=d("LSIntEnum"))).ofNumber(-2):return(h||(h=d("LSIntEnum"))).ofNumber(-102);case(h||(h=d("LSIntEnum"))).ofNumber(-3):return(h||(h=d("LSIntEnum"))).ofNumber(-103);case(h||(h=d("LSIntEnum"))).ofNumber(-10):return(h||(h=d("LSIntEnum"))).ofNumber(-110);default:return(h||(h=d("LSIntEnum"))).ofNumber(-100)}}function j(a){switch(a){case"inbox":return d("MAWFolderTypes").FOLDER_ID.INBOX;case"pending":return d("MAWFolderTypes").FOLDER_ID.PENDING;case"spam":return d("MAWFolderTypes").FOLDER_ID.SPAM;case"archived":return d("MAWFolderTypes").FOLDER_ID.ARCHIVED;case"other":return d("MAWFolderTypes").FOLDER_ID.OTHER;case"restricted":return d("MAWFolderTypes").FOLDER_ID.RESTRICTED;default:return null}}function k(a){switch((i||(i=d("I64"))).to_int32(a)){case d("MAWFolderTypes").FOLDER_ID.INBOX:return 0;case d("MAWFolderTypes").FOLDER_ID.PENDING:return-1;case d("MAWFolderTypes").FOLDER_ID.SPAM:return-3;case d("MAWFolderTypes").FOLDER_ID.ARCHIVED:return-10;case d("MAWFolderTypes").FOLDER_ID.OTHER:return-2;default:return null}}g.getMessagingFolderTag=a;g.getClientSystemFolder=b;g.systemFolderToLSCoreClientFolder=e;g.systemFolderToClientSystemFolder=f;g.folderTagToFolderId=j;g.parentThreadKeyToLsSystemFolder=k}),98);
__d("MAWCreateOptimisticMiThreadForActThread",["DateConsts","FBLogger","I64","LSCoreClientFolderType","LSCreateE2EEMetadataThreadStoredProcedure","LSFactory","LSIntEnum","LSThreadPointQueryAndRestoreMessagesWithJIDStoredProcedure","MAWCreateOptimisticThread","MAWFolderUtils","MAWLoggerDeferred","MAWThreadMappingQPL","MAWThreadMappingState","MAWThreadUpdateMiddlewareGatingUtil","MAWTimeUtils","WATimeUtils","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["[Occam] Creating e2ee metadata optimistic thread.\n  threadKey: ","\n  bumpTimestampMs: ",",\n  description: ",""]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["[Occam] Notifying MI server about thread: int jid ",", state: ",". "]);k=function(){return a};return a}var l=(h||(h=d("I64"))).of_int32(c("LSCoreClientFolderType").INBOX);function m(a){if(a==null){c("FBLogger")("messenger_web").warn("[Occam] no folder ID was supplied to Occamadillo verify thread exists handler");return l}return d("MAWFolderUtils").systemFolderToLSCoreClientFolder(a)}async function a(a,b,e){var f=b.authoritativeThreadKey,g=b.clientThreadKey,i=b.description,j=b.folder,k=b.instanceKey,l=b.intJid,m=b.isGroup;b=b.lastActivityTs;var n=d("MAWThreadUpdateMiddlewareGatingUtil").isNewMiThreadCreationFlowEnabled("exposure_logging_enabled");k!=null&&d("MAWThreadMappingQPL").addAnnotations({bool:{isNewServerThreadCreationFlowEnabled:n}},k);if(n){n=d("MAWThreadUpdateMiddlewareGatingUtil").isThreadCreationOptimisationEnabled()?(n=f)!=null?n:g:g;n!=null&&(await d("MAWThreadMappingState").markActThreadMappingAsCompleted(a,{intJid:l,threadKey:(h||(h=d("I64"))).of_string(n)},k),await d("MAWThreadMappingQPL").measurePerformanceForNullableInstanceKey("thread_point_query_sproc",k,function(){return c("LSThreadPointQueryAndRestoreMessagesWithJIDStoredProcedure")(c("LSFactory")(a),{waJid:l})}))}else{n=g!=null?(h||(h=d("I64"))).of_string(g):await d("MAWCreateOptimisticThread").createOptimisticThread(a);await Promise.all([await o(a,{i64ClientThreadKey:n,intJid:l,mawThread:{authoritativeThreadKey:f,description:i,folder:j,instanceKey:k,isGroup:m,lastActivityTs:b},threadLifecycleState:e}),await d("MAWThreadMappingState").markActThreadMappingAsCompleted(a,{intJid:l,threadKey:n},k)])}}function n(a){a=d("MAWTimeUtils").millisTimeToTimestamp(a);return(h||(h=d("I64"))).equal(a,(h||(h=d("I64"))).zero)?d("MAWTimeUtils").millisTimeToTimestamp(d("WATimeUtils").millisTime()):a}function o(a,b){var e=b.i64ClientThreadKey,f=b.intJid,g=b.mawThread;b=b.threadLifecycleState;c("promiseDone")(d("MAWLoggerDeferred").LOG(k(),f,b==null?void 0:b.type));var l=c("LSFactory")(a),o=n(g.lastActivityTs),p=m(g.folder),q=g.isGroup?(i||(i=d("LSIntEnum"))).ofNumber(16):(i||(i=d("LSIntEnum"))).ofNumber(15);a=(h||(h=d("I64"))).to_string(e);var r=g.description;c("promiseDone")(d("MAWLoggerDeferred").LOG(j(),a,h.to_string(o),r));a=d("WATimeUtils").millisTime();var s=h.to_float(o);Math.abs(s-a)<d("DateConsts").MS_PER_SEC&&c("FBLogger")("messenger_web").warn("[GetOrCreateThread] bumpTimestampMs is too close to now. bumpTimestampMs: %s, lastActivityTs: %s, now: %s, description: %s, threadLifecycleState: %s, mawThread.authoritativeThreadKey is null: %s",s,g.lastActivityTs,a,r,b==null?void 0:b.type,g.authoritativeThreadKey==null?"true":"false");s=g.instanceKey;s!=null&&d("MAWThreadMappingQPL").pendingThreadCreationOnServer.set((h||(h=d("I64"))).to_string(f),s);return d("MAWThreadMappingQPL").measurePerformanceForNullableInstanceKey("create_e2ee_metadata_thread_sproc",s,function(){return c("LSCreateE2EEMetadataThreadStoredProcedure")(l,{bumpTimestampMs:o,createdByLocalDevice:null,folderType:p,offlineThreadKey:e,threadType:q,waJid:f})})}g.maybeUpdateMappingTableAndUpgradeOptimisticActThreadInMI=a;g.upgradeOptimisticActThreadInMI=o}),98);
__d("MAWThreadDefaults",["fbt","I64","LSBitOffset","LSIntEnum","qex"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j;function k(){if(c("qex")._("327")===!0)return!0;else return c("qex")._("121")===!0}function a(a){if(k())return d("LSBitOffset").set((j||(j=d("LSIntEnum"))).ofNumber(42),a);else return a}function b(a){return d("LSBitOffset").set((j||(j=d("LSIntEnum"))).ofNumber(4),a)}e=d("LSBitOffset").set((j||(j=d("LSIntEnum"))).ofNumber(18),d("LSBitOffset").set(j.ofNumber(56),d("LSBitOffset").set(j.ofNumber(14),d("LSBitOffset").set(j.ofNumber(23),d("LSBitOffset").set(j.ofNumber(8),d("LSBitOffset").set(j.ofNumber(15),d("LSBitOffset").set(j.ofNumber(2),d("LSBitOffset").empty)))))));f=a(b(d("LSBitOffset").set(j.ofNumber(7),d("LSBitOffset").set(j.ofNumber(6),d("LSBitOffset").set(j.ofNumber(9),d("LSBitOffset").set(j.ofNumber(10),d("LSBitOffset").set(j.ofNumber(19),d("LSBitOffset").set(j.ofNumber(35),d("LSBitOffset").set(j.ofNumber(3),d("LSBitOffset").set(j.ofNumber(43),e))))))))));a=d("LSBitOffset").set(j.ofNumber(17),d("LSBitOffset").set(j.ofNumber(60),d("LSBitOffset").set(j.ofNumber(16),d("LSBitOffset").set(j.ofNumber(26),d("LSBitOffset").set(j.ofNumber(28),d("LSBitOffset").clear(j.ofNumber(27),f))))));b=d("LSBitOffset").set((i||(i=d("I64"))).sub(j.ofNumber(103),i.of_string("64")),d("LSBitOffset").set(i.sub(j.ofNumber(85),i.of_string("64")),d("LSBitOffset").set(i.sub(j.ofNumber(109),i.of_string("64")),d("LSBitOffset").set(i.sub(j.ofNumber(74),i.of_string("64")),d("LSBitOffset").set(i.sub(j.ofNumber(65),i.of_string("64")),d("LSBitOffset").set(i.sub(j.ofNumber(64),i.of_string("64")),d("LSBitOffset").set(i.sub(j.ofNumber(106),i.of_string("64")),d("LSBitOffset").empty)))))));e=h._(/*BTDS*/"Messages are secured with end-to-end encryption.").toString();h=d("LSBitOffset").set(i.sub(j.ofNumber(172),i.of_string("64")),d("LSBitOffset").set(i.sub(j.ofNumber(170),i.of_string("64")),d("LSBitOffset").empty));g.defaultThreadCapabilities=f;g.defaultGroupThreadCapabilities=a;g.defaultThreadCapabilities_2=b;g.nullstateDescriptionText1=e;g.defaultThreadCapabilities_3=h;g.defaultThreadCapabilities_4=d("LSBitOffset").empty;g.defaultThreadCapabilities_5=d("LSBitOffset").empty}),226);
__d("MAWBridgeOccamadilloVerifyThreadExistsHandler",["FBLogger","I64","LSAuthorityLevel","LSThreadBitOffset","MAWActThreadMapping","MAWBridgeFireAndForget","MAWCreateOptimisticMiThreadForActThread","MAWJids","MAWLoggerDeferred","MAWMiActGetThreadLifecycleState","MAWMiActThreadLifecycleState","MAWThreadDefaults","MAWThreadMappingQPL","MAWThreadMappingState","MAWTimeUtils","WATimeUtils","gkx"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["[Occam] Thread loading complete: jid ",", threadKey ",""]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["[Occam] New authoritative thread: jid ",", threadKey: ","), state: ",""]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["[Occam] Authoritative thread not found for clientThreadKey: ",""]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["[Occam] Thread is missing in verify thread exists"]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["Last activity ts = 0 from MI for thread: ",", using local state ts: ",""]);m=function(){return a};return a}function n(a,b,c){a=a;(h||(h=d("I64"))).equal(a,(h||(h=d("I64"))).zero)&&(void d("MAWLoggerDeferred").WARN(m(),(h||(h=d("I64"))).to_string(c),h.to_string(b)),a=b);return a}var o=[105,17,25,24,61,267];function p(a,b){var c=o.filter(function(b){return d("LSThreadBitOffset").has(b,a)});return d("LSThreadBitOffset").set(c,b?d("MAWThreadDefaults").defaultGroupThreadCapabilities:d("MAWThreadDefaults").defaultThreadCapabilities,d("MAWThreadDefaults").defaultThreadCapabilities_2,d("MAWThreadDefaults").defaultThreadCapabilities_3,d("MAWThreadDefaults").defaultThreadCapabilities_4,d("MAWThreadDefaults").defaultThreadCapabilities_5)}async function q(a,b,c){var e=await a.threads.get(b);if(e==null){void d("MAWLoggerDeferred").ERROR(l());return Promise.resolve()}var f=c.clientThreadKey!=null?(h||(h=d("I64"))).of_string(c.clientThreadKey):e.clientThreadKey,g=n(e.lastActivityTimestampMs,d("MAWTimeUtils").millisTimeToTimestamp(c.lastActivityTs),b);c=p(e,c.isGroup);return a.threads.upsert([b],babelHelpers.extends({},e,{capabilities:c[0],capabilities2:c[1],capabilities3:c[2],capabilities4:c[3],capabilities5:c[4],clientThreadKey:f,lastActivityTimestampMs:g}))}async function r(a,b,c,e){await Promise.all([d("MAWThreadMappingState").markActThreadMappingAsCompleted(a,{intJid:c,threadKey:b},e.instanceKey),t(a,b,e)])}async function s(a,b,c){(h||(h=d("I64"))).equal(b,c)||await a.threads.delete(c)}async function t(a,b,c){var e=c.clientThreadKey,f=c.instanceKey,g=c.isGroup,i=c.lastActivityTs;await d("MAWThreadMappingQPL").measurePerformanceForNullableInstanceKey("handle_existing_thread",f,function(){return Promise.all([q(a,b,{clientThreadKey:e,isGroup:g,lastActivityTs:i}),e!=null&&s(a,b,(h||(h=d("I64"))).of_string(e))])})}async function u(a,b,e){var f=await a.threads.get(b);f!=null&&(h||(h=d("I64"))).to_int32(f.authorityLevel)===c("LSAuthorityLevel").AUTHORITATIVE?await t(a,b,e):e.instanceKey!=null&&d("MAWThreadMappingQPL").handleExistingThreadFail(e.instanceKey,f);f==null&&void d("MAWLoggerDeferred").LOG(k(),e.clientThreadKey)}async function v(a,b){var e=b.authoritativeThreadKey,f=b.clientThreadKey,g=b.description,k=b.folder,l=b.instanceKey,m=b.isGroup,n=b.jid;b=b.lastActivityTs;var o=d("MAWJids").convertChatJidToIntJid(n),p=await d("MAWMiActGetThreadLifecycleState").getThreadLifecycleStateByJidOrThreadKey(a,o,e,"MAWBridgeOccamadilloVerifyThreadExistsHandler");l!=null&&d("MAWThreadMappingQPL").addAnnotations({string:{threadStateInOccamVTE:p.type.toString()}},l);switch(p.type){case d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.JID_MISSING_MAPPING_ROW:case d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.JID_MISSING_MI_THREAD:case d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.OPTIMISTIC_THREAD_WITH_ACT:case d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.CLIENT_PARTIAL_MI_THREAD:case d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.CLIENT_PARTIAL_MI_THREAD_WITH_ACT:case d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.SERVER_PARTIAL_MI_THREAD:case d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.THREAD_KEY_ONLY:return d("MAWCreateOptimisticMiThreadForActThread").maybeUpdateMappingTableAndUpgradeOptimisticActThreadInMI(a,{authoritativeThreadKey:e,clientThreadKey:f,description:g,folder:k,instanceKey:l,intJid:o,isGroup:m,lastActivityTs:b},p).then(function(){return{previousState:p.type}});case d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.AUTHORITATIVE_THREAD_ONLY:case d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.AUTHORITATIVE_THREAD_MISSING_MAPPING_ROW:e=(h||(h=d("I64"))).to_string(p.serverThreadKey);void d("MAWLoggerDeferred").LOG(j(),n,e,p.type);return r(a,p.serverThreadKey,o,{clientThreadKey:f,instanceKey:l,isGroup:m,lastActivityTs:b}).then(function(){return{previousState:p.type}});case d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.MI_AND_ACT_THREAD_COMPLETE:k=(h||(h=d("I64"))).to_string(p.serverThreadKey);void d("MAWLoggerDeferred").LOG(i(),n,k);return u(a,p.serverThreadKey,{clientThreadKey:f,instanceKey:l,isGroup:m,lastActivityTs:b}).then(function(){return{previousState:p.type}});case d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.OPTIMISTIC_THREAD_NO_ACT:throw c("FBLogger")("messenger_web").mustfixThrow("[Occam] Unimplemented VerifyThreadExists state: %s for JID: %s, from %s",p.type,n,g);default:p.type;throw c("FBLogger")("messenger_web").mustfixThrow("[Occam] Unhandled VerifyThreadExists state: %s for JID: %s, from %s",p.type,n,g)}}async function w(a,b,c,e){await d("MAWThreadMappingQPL").measurePerformanceForNullableInstanceKey("insert_ephemeral_cache",e,async function(){var e=await a.threads.get(b);if(e!=null){var f;e={ephemeralExpirationInSec:(h||(h=d("I64"))).to_int32((f=e.disappearingSettingTtl)!=null?f:(h||(h=d("I64"))).zero),ephemeralLastUpdatedOrSetTimestamp:d("WATimeUtils").castMilliSecondsToUnixTime(h.to_float((f=e.disappearingSettingUpdatedTs)!=null?f:(h||(h=d("I64"))).zero))};d("MAWBridgeFireAndForget").fireAndForget("backend","setEphemeralSettingCache",{jid:c,settings:e})}})}async function a(a,b){var c=b.authoritativeThreadKey,d=b.clientThreadKey,e=b.description,f=b.folder,g=b.instanceKey,h=b.isGroup,i=b.jid;b=b.lastActivityTs;await x(a,{authoritativeThreadKey:c,clientThreadKey:d,description:(a=e)!=null?a:"unknown",folder:f,instanceKey:g,isGroup:h,jid:i,lastActivityTs:b})}async function b(a,b){var c=b.authoritativeThreadKey,d=b.clientThreadKey,e=b.description,f=b.folder,g=b.instanceKey,h=b.isGroup,i=b.jid;b=b.lastActivityTs;await x(a,{authoritativeThreadKey:c,clientThreadKey:d,description:e,folder:f,instanceKey:g,isGroup:h,jid:i,lastActivityTs:b})}async function x(a,b){var e=b.authoritativeThreadKey,f=b.clientThreadKey,g=b.description,i=b.instanceKey,j=b.jid;i!=null&&d("MAWThreadMappingQPL").addPoint("occam_verify_thread_exists_start",i);var k=c("gkx")("11539");k&&d("MAWActThreadMapping").executePromisesBlockedOnActThreadMapping({authoritativeThreadKey:e,description:g,instanceKey:i,jid:j,optimisticThreadKey:f});var l=await v(a,b);l=l.previousState;k||d("MAWActThreadMapping").executePromisesBlockedOnActThreadMapping({authoritativeThreadKey:e,description:g,instanceKey:i,jid:j,optimisticThreadKey:f});g=(k=e)!=null?k:f;e=g!=null?(h||(h=d("I64"))).of_string(g):null;e!=null&&l!==d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.MI_AND_ACT_THREAD_COMPLETE&&await w(a,e,j,i);if(i!=null){d("MAWThreadMappingQPL").addPoint("occam_verify_thread_exists_end",i);k=d("MAWJids").convertChatJidToIntJid(b.jid);d("MAWThreadMappingQPL").pendingThreadCreationOnServer.has((h||(h=d("I64"))).to_string(k))||await d("MAWThreadMappingQPL").end({instanceKey:i,intJid:k,tables:a,threadKey:e})}}g.genUpdatesForAuthoritativeThread=t;g.insertEphemeralCache=w;g.call=a;g.callFromMainThread=b}),98);
__d("ReQLSubscribe",["ErrorGuard","ReQL","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b){a=a.take(1);var e=(h||(h=c("ErrorGuard"))).guard(b),f=!1,g=null,i=a.subscribe(function(a,b){if(f)return;switch(b.operation){case"delete":(g==null||g.current!==void 0)&&(g={current:void 0},e(g.current));return;case"add":case"put":((a=g)==null?void 0:a.current)!==b.value&&(g={current:b.value},e(g.current))}});c("promiseDone")(d("ReQL").firstAsync(a),function(a){!f&&g==null&&(g={current:a},e(a))});return function(){f||(f=!0,i==null?void 0:i())}}g.subscribeToFirst=a}),98);
__d("MAWThreadMappingUtils",["FBLogger","LSMessagingThreadTypeUtil","MAWJids","MAWMiActOnActThreadReadyInstrumentation","ReQL","ReQLSubscribe","err","gkx","setTimeout"],(function(a,b,c,d,e,f,g){"use strict";var h=3e4;async function i(a,b){a=await d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.threads).getKeyRange(b));if(a==null){c("FBLogger")("messenger_web").mustfix("[onActThreadReady] Thread is not ready to be used.");return null}return d("LSMessagingThreadTypeUtil").isGroup(a.threadType)}function j(a,b){return Promise.all([i(a,b),d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.mi_act_mapping_table).getKeyRange(b))]).then(function(a){var b=a[0];a=a[1];if(a==null||b==null){c("FBLogger")("messenger_web").mustfix("[onActThreadReady] Thread is not ready to be used.");return null}return d("MAWJids").convertIntJidToChatJid(a.jid,b)})}function k(a,b){return d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.mi_act_mapping_table).getKeyRange(b)).then(function(a){if(a==null){c("FBLogger")("messenger_web").mustfix("[onActThreadReady] Thread is not ready to be used.");return null}return a.jid})}async function a(a,b,e){var f,g=null,k=(f=d("MAWMiActOnActThreadReadyInstrumentation")).getOnActThreadReadyInstanceKey(e);f.startQPL(k,e,b,"getChatJidOnceInThreadMappingTable");f.addPointQPL(k,"get_existing_int_jid_from_mapping_table_start");e=await j(a.tables,b);f.addPointQPL(k,"get_existing_int_jid_from_mapping_table_end");if(e!=null){d("MAWMiActOnActThreadReadyInstrumentation").endSuccessQPL(k);return Promise.resolve(e)}var l=await i(a.tables,b);if(l==null){d("MAWMiActOnActThreadReadyInstrumentation").endFailureQPL(k,"thread_not_ready_to_be_used");throw c("FBLogger")("messenger_web").mustfixThrow("Thread is not ready to be used.")}d("MAWMiActOnActThreadReadyInstrumentation").addPointQPL(k,"subscribe_to_mapping_table_start");return new Promise(function(e,f){var i=d("ReQL").fromTableDescending(a.tables.mi_act_mapping_table).getKeyRange(b),j=d("ReQLSubscribe").subscribeToFirst(i,function(a){a!=null&&(g!=null&&window.clearTimeout(g),j(),d("MAWMiActOnActThreadReadyInstrumentation").addPointQPL(k,"subscribe_to_mapping_table_end"),d("MAWMiActOnActThreadReadyInstrumentation").endSuccessQPL(k),e(d("MAWJids").convertIntJidToChatJid(a.jid,l)))});g=c("setTimeout")(function(){j(),d("MAWMiActOnActThreadReadyInstrumentation").endFailureQPL(k,"subscribe_to_mapping_table_timeout"),f(c("err")("Timeout waiting for int jid to be populated in mapping table."))},h)})}async function b(a,b,e){var f,g=null,i=(f=d("MAWMiActOnActThreadReadyInstrumentation")).getOnActThreadReadyInstanceKey(e);f.startQPL(i,e,b,"getIntJidOnceInThreadMappingTable");f.addPointQPL(i,"get_existing_int_jid_from_mapping_table_start");e=await k(a.tables,b);f.addPointQPL(i,"get_existing_int_jid_from_mapping_table_end");if(e!=null){d("MAWMiActOnActThreadReadyInstrumentation").endSuccessQPL(i);return Promise.resolve(e)}d("MAWMiActOnActThreadReadyInstrumentation").addPointQPL(i,"subscribe_to_mapping_table_start");return new Promise(function(e,f){var j=d("ReQL").fromTableDescending(a.tables.mi_act_mapping_table).getKeyRange(b),k=d("ReQLSubscribe").subscribeToFirst(j,function(a){a!=null&&(g!=null&&window.clearTimeout(g),k(),d("MAWMiActOnActThreadReadyInstrumentation").addPointQPL(i,"subscribe_to_mapping_table_end"),d("MAWMiActOnActThreadReadyInstrumentation").endSuccessQPL(i),e(a.jid))});g=c("setTimeout")(function(){k(),d("MAWMiActOnActThreadReadyInstrumentation").endFailureQPL(i,"subscribe_to_mapping_table_timeout"),f(c("err")("Timeout waiting for int jid to be populated in mapping table."))},h)})}function e(){return c("gkx")("12587")}g.isThreadGroup=i;g.getChatJidFromMappingTable=j;g.getIntJidFromMappingTable=k;g.getChatJidOnceInThreadMappingTable=a;g.getIntJidOnceInThreadMappingTable=b;g.isDuplicateThreadCreationFixEnabled=e}),98);
__d("WABridgedAPI",["IWAAPI"],(function(a,b,c,d,e,f,g){"use strict";b={queryGroups:(a=d("IWAAPI")).makeBridgedApi("queryGroups"),getDevices:a.makeBridgedApi("getDevices"),removeCurrentDevice:a.makeBridgedApi("removeCurrentDevice"),removeDevice:a.makeBridgedApi("removeDevice"),getCurrentUserDeviceList:a.makeBridgedApi("getCurrentUserDeviceList")};c=b;g["default"]=c}),98);
__d("MAWCreateOneToOneThread",["I64","LSAuthorityLevel","LSFactory","LSIntEnum","MAWActThreadMapping","MAWBridgeOccamadilloVerifyThreadExistsHandler","MAWBridgeSendAndReceive","MAWJids","MAWMiActMappingTableAPI","MAWThreadMappingQPL","MAWThreadMappingState","MAWThreadMappingUtils","MAWThreadUpdateMiddlewareGatingUtil","MAWVerifyThreadExistsUtils","QPLUserFlow","ReQL","WABridgedAPI","WATimeUtils","gkx","qex","qpl"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function j(a,b,c){if(a!=null)return a;a=b!=null?(h||(h=d("I64"))).of_string(b):void 0;b=d("MAWThreadMappingQPL").getInstanceKeyForThreadKey((b=a)!=null?b:(h||(h=d("I64"))).zero);d("MAWThreadMappingQPL").start({instanceKey:b,threadKey:a,trigger:"MAWCreateOneToOneThread_"+c});return b}async function a(a,b,e,g,m,q){var r=d("MAWJids").convertIntJidToOneToOneChatJid(b),s=await k(a,b,r,e,g,q);if(s!=null)return s;s=await l(a,r);if(s!=null)return s;var t=j(q,e,g),u=(h||(h=d("I64"))).to_string(b);s=function(){return a.runInTransaction(async function(e){var f=await d("MAWVerifyThreadExistsUtils").runVerifyThreadExistsSproc(c("LSFactory")(e),{authorityLevel:(i||(i=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").OPTIMISTIC),threadType:i.ofNumber(15)},"MAWCreateOneToOneThread");f=f[0];p(a,r)&&(d("MAWThreadMappingQPL").addPoint("insert_placeholder_mapping_row",t),await d("MAWThreadMappingState").markActThreadMappingAsInProgress(e,f,b));return(h||(h=d("I64"))).to_string(f)},"readwrite",void 0,void 0,f.id+":121")};q=e!=null?Promise.resolve(e):d("MAWThreadMappingQPL").measurePerformance("running_verify_thread_exists",t,s);e=function(b){m!=null&&c("QPLUserFlow").addPoint(c("qpl")._(25313175,"1551"),"verify-e2ee-metadata-thread-exists-end",{instanceKey:m});b={contactFbid:u,description:g,instanceKey:t,s2sInstanceKey:m,threadKey:b};b=c("gkx")("14153")?o(a,g,b):n(a,b);return Promise.all([b,c("WABridgedAPI").getDevices({ignoreDhash:!1,reason:"creating-1-1-thread: "+g,users:new Set().add(d("MAWJids").toUserJid(u))})])};return q.then(e).then(function(a){a=a[0];return a})}async function k(a,b,e,g,i,j){if(!c("gkx")("11539"))return;b=await Promise.all([d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.tables.mi_act_mapping_table.index("jid")).getKeyRange(b)),g!=null?d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.tables.threads).getKeyRange((h||(h=d("I64"))).of_string(g))):Promise.resolve(null)]);var k=b[0],l=b[1];b=d("MAWThreadMappingState").getMappingStateForDbRows(l,k);b.actState===d("MAWThreadMappingState").ActState.READY&&d("MAWActThreadMapping").executePromisesBlockedOnActThreadMapping({authoritativeThreadKey:null,description:"MAWCreateOneToOneThread_"+i,instanceKey:j,jid:e,optimisticThreadKey:g});if(d("MAWThreadMappingState").isReady(b)&&l!=null){await a.runInTransaction(function(a){return d("MAWBridgeOccamadilloVerifyThreadExistsHandler").genUpdatesForAuthoritativeThread(a,l.threadKey,{clientThreadKey:l.clientThreadKey!=null?(h||(h=d("I64"))).to_string(l.clientThreadKey):null,instanceKey:j,isGroup:!1,lastActivityTs:d("WATimeUtils").castToMillisTime((h||(h=d("I64"))).to_float(l.lastActivityTimestampMs))})},"readwrite",void 0,void 0,f.id+":233");return{created:!1,jid:e}}}async function l(a,b){if(!d("MAWThreadMappingUtils").isDuplicateThreadCreationFixEnabled()||!d("MAWThreadUpdateMiddlewareGatingUtil").isNewMiThreadCreationFlowEnabled("exposure_logging_enabled"))return;a=await d("MAWThreadMappingState").genMappingStateFromJid(a.tables,b);if(a.miState!==d("MAWThreadMappingState").MiState.MISSING)return{created:!1,jid:b}}function m(a,b,c){var e=c.created,f=c.jid,g=d("MAWJids").convertChatJidToIntJid(f);return d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.mi_act_mapping_table.index("jid")).getKeyRange(g)).then(function(c){return c!=null?Promise.resolve({created:e,jid:f}):d("MAWThreadMappingState").markActThreadMappingAsCompleted(a,{intJid:g,threadKey:(h||(h=d("I64"))).of_string(b)}).then(function(){return{created:e,jid:f}})})}function n(a,b){return d("MAWThreadMappingQPL").measurePerformance("maw_create_thread",b.instanceKey,function(){return d("MAWBridgeSendAndReceive").sendAndReceive("backend","createThread",b)}).then(function(c){var d=c.created,e=c.jid;return a.runInTransaction(function(a){return m(a,b.threadKey,{created:d,jid:e}).then(function(){return{created:d,jid:e}})},"readwrite",void 0,void 0,f.id+":320")})}function o(a,b,c){var e=c.instanceKey,g=babelHelpers.objectWithoutPropertiesLoose(c,["instanceKey"]);return d("MAWThreadMappingQPL").measurePerformance("maw_create_thread",e,function(){return d("MAWBridgeSendAndReceive").sendAndReceive("backend","createOrUpdateThread",g)}).then(function(c){var h=c.clientThreadKey,i=c.created,j=c.folder,k=c.jid,l=c.lastActivityTs;return a.runInTransaction(function(a){return d("MAWBridgeOccamadilloVerifyThreadExistsHandler").callFromMainThread(a,{authoritativeThreadKey:null,clientThreadKey:h,description:b,folder:j,instanceKey:e,isGroup:!1,jid:k,lastActivityTs:l}).then(function(){return m(a,g.threadKey,{created:i,jid:k}).then(function(){return{created:i,jid:k}})})},"readwrite",void 0,void 0,f.id+":348")})}async function p(a,b){var e;e=(e=c("qex")._("3438"))!=null?e:!1;if(e)return!0;e=await d("MAWMiActMappingTableAPI").getMappingRowForChatJid(a.tables,b);return e==null&&d("MAWThreadUpdateMiddlewareGatingUtil").isNewMiThreadCreationFlowEnabled("exposure_logging_enabled")}g.call=a}),98);
__d("MAWChatOpenTabForUser",["I64","LSDatabaseSingleton","LSIntEnum","MAWCreateOneToOneThread","MAWMiActGetThreadLifecycleState","MAWMiActOnMiThreadExistsForJid__DO_NOT_USE","MAWMiActThreadLifecycleState","MWChatInteraction","MWChatStateActions","MWChatStateV2Types","cr:11022","dispatchOpenChatTabTraceLogging","gkx","isOfflineThreadingId","justknobx","qex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;function k(a){if(!c("gkx")("9459"))return{type:"continue"};if(a.type===d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.MI_AND_ACT_THREAD_COMPLETE||a.type===d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.AUTHORITATIVE_THREAD_ONLY){var b=a.serverThreadKey;if(c("isOfflineThreadingId")(b))return{existingThreadKey:b,reason:"otid",type:"continue"};return(h||(h=d("I64"))).le(b,(h||(h=d("I64"))).zero)?{reason:"negative",type:"continue"}:{existingThreadKey:b,type:"skipped"}}return{existingThreadKey:a.serverThreadKey,type:"continue"}}async function l(a,b,e){var g=await (i||(i=d("LSDatabaseSingleton"))).LSDatabaseSingleton;e==null?void 0:e.addMarkerPoint("create_one_to_one_secure_thread_start","AppTiming");var j=await d("MAWMiActGetThreadLifecycleState").getThreadLifecycleStateByJid(g.tables,(h||(h=d("I64"))).of_string(a),b),l=j.type;l!=null&&(e==null?void 0:e.addAnnotation("mi_act_thread_state_type_before",l));l=await k(j);if(l.type==="skipped"){e==null?void 0:e.addMarkerPoint("create_one_to_one_secure_thread_end","AppTiming");return{dispatchEntrypoint:"MAWChatOpenTabForUser_skipped_create_thread",threadKey:l.existingThreadKey}}l.reason!=null&&(e==null?void 0:e.addAnnotation("invalid_server_thread_key_in_mawchatopentabforuser_check",l.reason));j=l.existingThreadKey;l=c("qex")._("3438");var m=await d("MAWCreateOneToOneThread").call(g,h.of_string(a),l===!0&&j!=null?(h||(h=d("I64"))).to_string(j):void 0,"MAWChatOpenTabForUser: "+b);l=await d("MAWMiActGetThreadLifecycleState").getThreadLifecycleStateByJid(g.tables,h.of_string(a),b);j=l.type;j!=null&&(e==null?void 0:e.addAnnotation("mi_act_thread_state_type_after",j));e==null?void 0:e.addMarkerPoint("create_one_to_one_secure_thread_end","AppTiming");a=await g.runInTransaction(function(a){return d("MAWMiActOnMiThreadExistsForJid__DO_NOT_USE").onMiThreadExistsForJid__DO_NOT_USE(a,m.jid,"MAWChatOpenTabForUser",function(a,b){return Promise.resolve(b)})},"readonly",void 0,void 0,f.id+":164");return{clientThreadKey:a,threadKey:a}}async function a(a,e,f){if(b("cr:11022")==null)return;var g=c("gkx")("14315")?8:c("justknobx")._("2038");a=await l(a,e,null);e=a.threadKey;a=await (i||(i=d("LSDatabaseSingleton"))).LSDatabaseSingleton;return b("cr:11022").preloadSecureMessagesByThreadKey(a,e,f,g)}function e(a,b,e,f,g){var i=function(a){var f=a.clientThreadKey,i=a.dispatchEntrypoint;a=a.threadKey;d("MWChatInteraction").set((h||(h=d("I64"))).to_string(a),g.getTraceId());f={clientThreadKey:f,threadKey:a,threadType:(j||(j=d("LSIntEnum"))).ofNumber(15)};c("dispatchOpenChatTabTraceLogging")(g,f,i);e(d("MWChatStateActions").openTab(Date.now(),{shouldFocus:!b},{threadKeyDescriptor:f,type:d("MWChatStateV2Types").MWChatStateTabType.ChatTab}))};void l(a,f,g).then(function(a){var b=a.clientThreadKey,c=a.dispatchEntrypoint;a=a.threadKey;i({clientThreadKey:b,dispatchEntrypoint:(b=c)!=null?b:"MAWChatOpenTabForUser",threadKey:a})})}g.getThreadKeyByContactId=l;g.preloadSecureThreadForUser=a;g.openChatTab=e}),98);
__d("MAWVerifyThreadCutover_ContactCapabilities2Query_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="9592917614129945"}),null);
__d("MAWVerifyThreadCutover_ContactCapabilities2Query.graphql",["MAWVerifyThreadCutover_ContactCapabilities2Query_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"id"}],c=[{kind:"Variable",name:"id",variableName:"id"}],d={alias:null,args:null,kind:"ScalarField",name:"message_capabilities2_str",storageKey:null};return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"MAWVerifyThreadCutover_ContactCapabilities2Query",selections:[{alias:null,args:c,concreteType:"User",kind:"LinkedField",name:"user",plural:!1,selections:[d],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"MAWVerifyThreadCutover_ContactCapabilities2Query",selections:[{alias:null,args:c,concreteType:"User",kind:"LinkedField",name:"user",plural:!1,selections:[d,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}]},params:{id:b("MAWVerifyThreadCutover_ContactCapabilities2Query_facebookRelayOperation"),metadata:{},name:"MAWVerifyThreadCutover_ContactCapabilities2Query",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("MAWVerifyThreadCutover",["CometRelay","FBLogger","I64","LSAuthorityLevel","LSContactBitOffset","LSCutoverMappingQueryFromOpenThreadIdStoredProcedure","LSFactory","LSPlatformWaitForTaskCompletion","LSVerifyContactExistsWithID","MAWDefaultE2eeOneToOneEligibility","MAWVerifyThreadCutover_ContactCapabilities2Query.graphql","ReQL","ReQLSubscribe","ensureContactsExistAndUpdatedSync","err","gkx","isThreadLevelCutoverEnabled","justknobx","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=c("justknobx")._("2730"),k=c("justknobx")._("2731"),l=h!==void 0?h:h=b("MAWVerifyThreadCutover_ContactCapabilities2Query.graphql");async function a(a,b){if(c("isThreadLevelCutoverEnabled")()){a=await a;a=await d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.tables.mi_act_mapping_table.index("jid")).getKeyRange(b));return a}return Promise.resolve()}async function m(a,b){if(c("isThreadLevelCutoverEnabled")()){var e;a=await a;e=await Promise.all([(e=d("ReQL")).firstAsync(e.fromTableAscending(a.tables.cutover_threads).getKeyRange(b)),e.firstAsync(e.fromTableAscending(a.tables.contacts).getKeyRange(b))]);a=e[0];b=e[1];e=b!=null&&d("LSContactBitOffset").has(76,b);return a!=null||e}return!1}async function n(a,b){var e=await a;a=await d("ReQL").firstAsync(d("ReQL").fromTableAscending(e.tables.mi_act_mapping_table).getKeyRange(b));if(a!=null)return;var f=null;a=new Promise(function(a,g){var h=d("ReQLSubscribe").subscribeToFirst(d("ReQL").fromTableAscending(e.tables.mi_act_mapping_table.index("jid")).getKeyRange(b),function(b){b!=null&&(f!=null&&window.clearTimeout(f),h(),a())});f=window.setTimeout(function(){h(),g(c("err")("Timeout"))},k);c("promiseDone")(c("LSPlatformWaitForTaskCompletion")(e,function(a){return c("LSCutoverMappingQueryFromOpenThreadIdStoredProcedure")(c("LSFactory")(a),{openThreadId:b})},"readwrite","cutover_mapping_query_"+(i||(i=d("I64"))).to_string(b)),function(){f!=null&&window.clearTimeout(f),h(),a()})});try{await a}catch(a){c("FBLogger")("messenger_web").warn("Issue waiting for ACT thread to be ready",a)}await a}async function o(a,b,e){var f=await d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.tables.contacts).getKeyRange(e));if(f!=null&&(i||(i=d("I64"))).ge(f.authorityLevel,(i||(i=d("I64"))).of_int32(c("LSAuthorityLevel").AUTHORITATIVE)))return f;c("promiseDone")(c("ensureContactsExistAndUpdatedSync")(a,b,e));b=new Promise(function(b,f){var g=null,h=d("ReQLSubscribe").subscribeToFirst(d("ReQL").fromTableAscending(a.tables.contacts).getKeyRange(e),function(a){a!=null&&(i||(i=d("I64"))).ge(a.authorityLevel,(i||(i=d("I64"))).of_int32(c("LSAuthorityLevel").AUTHORITATIVE))&&(c("FBLogger")("messenger_web").info("Contact retrieval was successful"),g!=null&&window.clearTimeout(g),h(),b(a))});g=window.setTimeout(function(){h(),f(c("err")("Timeout"))},j)});try{f=await b}catch(f){b=await d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.tables.contacts).getKeyRange(e));c("FBLogger")("messenger_web").warn("Error retrieving and navigating to the most recent thread: contact exists in LSDB is %s and AuthorityLevel is %s",b!=null,(b==null?void 0:b.authorityLevel)!=null?(i||(i=d("I64"))).to_string(b==null?void 0:b.authorityLevel):"null",f)}return f}async function p(a,b,e,g){a=await a;g==null?void 0:g("update_contact_capabilities2_db_ready");b=await d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.tables.contacts).getKeyRange(b));g==null?void 0:g("update_contact_capabilities2_contact_ready");var h=d("LSContactBitOffset").contactCapabilitiesHas(83,(i||(i=d("I64"))).of_string(e)),j=d("LSContactBitOffset").contactCapabilitiesHas(76,i.of_string(e));if(b==null){c("FBLogger")("messenger_web").warn("contact is null in maybeUpdateContactCapabilities2IfOutOfSync");(h||j)&&c("FBLogger")("messenger_web").warn("contact is null and they have hasServerCutoverCapabilities as %s and hasServerDefaultE2eeCapabilities as %s from server",j,h);return null}var k=d("LSContactBitOffset").contactCapabilitiesHas(83,b.capabilities2),l=d("LSContactBitOffset").contactCapabilitiesHas(76,b.capabilities2);if(h&&!k&&!l||j&&!l){j=h?"default_e2ee":"cutover";c("FBLogger")("messenger_web").info("sync LS contactCapabilities2 with server value where contactAuthoritativeLevel is %s and serverContactCapabilities2 is %s",(i||(i=d("I64"))).to_string(b.authorityLevel),j);var m=babelHelpers.extends({},b,{capabilities2:i.of_string(e)});g==null?void 0:g("fetch_contact_from_lsdb_start");await a.runInTransaction(async function(a){await a.contacts.put(m)},"readwrite",void 0,void 0,f.id+":296");return m}else c("gkx")("9396")&&c("FBLogger")("messenger_web").info("LS contactCapabilities2 isDefaultE2ee: %s and isCutover: %s is synced with server values where contactAuthoritativeLevel is %s",k,l,(i||(i=d("I64"))).to_string(b.authorityLevel));return b}async function q(a,b,e,g,h){var j=null,k=null;await d("LSVerifyContactExistsWithID").runInTransaction(a,e,!1,void 0,f.id+":323");g==null?void 0:g("verify_contact_exists_with_id_complete");if(h!=null){k=await h[0];j=await h[1];g==null?void 0:g("fetch_contact_completed_from_preload");if(k!=null&&(i||(i=d("I64"))).ge(k.authorityLevel,(i||(i=d("I64"))).of_int32(c("LSAuthorityLevel").AUTHORITATIVE))){g==null?void 0:g("contact_not_available");return k}}else{k=await d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.tables.contacts).getKeyRange(e));g==null?void 0:g("fetch_contact_from_db_complete");if(k!=null&&(i||(i=d("I64"))).ge(k.authorityLevel,(i||(i=d("I64"))).of_int32(c("LSAuthorityLevel").AUTHORITATIVE))){g==null?void 0:g("contact_not_available");return k}h=await d("CometRelay").fetchQuery(b,l,{id:(i||(i=d("I64"))).to_string(e)},{fetchPolicy:"store-or-network"}).toPromise();g==null?void 0:g("fetch_contact_capability_from_graphql_complete");j=h==null?void 0:(b=h.user)==null?void 0:b.message_capabilities2_str}if(j==null){c("gkx")("9396")&&c("FBLogger")("messenger_web").warn("messageCapabilities2Str is null in makeSureContactCapabilitiesIsLoaded");g==null?void 0:g("contact_capability_not_available");return k}h=await p(Promise.resolve(a),e,j,g);g==null?void 0:g("update_contact_complete");return h}async function e(a,b,e,f,g){a=await a;var h=null;c("gkx")("8618")?(h=await q(a,b,e),h==null&&c("gkx")("9396")&&c("FBLogger")("messenger_web").warn("contact is null in makeSureContactCapabilitiesIsLoaded")):(h=await o(a,b,e),h==null&&c("gkx")("9396")&&c("FBLogger")("messenger_web").warn("contact is null in verifyContactCutoverOrOndemandCutover"));if(g!=null){b=await p(Promise.resolve(a),e,g);b!=null&&(h=b)}g=g!=null?(i||(i=d("I64"))).of_string(g):(b=h)==null?void 0:b.capabilities2;b=g!=null&&d("LSContactBitOffset").contactCapabilitiesHas(76,g);g=b||await m(Promise.resolve(a),e);if(g)return f===!0?"on_demand_cutover":"cutover";return d("MAWDefaultE2eeOneToOneEligibility").isContactDefaultE2eeOneToOneEligible({maybeContact:h})?"default_e2ee":null}async function r(a,b,e){a=await a;var f=null;c("gkx")("8618")?(f=await q(a,b,e),f==null&&c("gkx")("9396")&&c("FBLogger")("messenger_web").warn("contact is null in makeSureContactCapabilitiesIsLoaded")):(f=await o(a,b,e),f==null&&c("gkx")("9396")&&c("FBLogger")("messenger_web").warn("contact is null in verifyContactCutoverOrOndemandCutover"));b=await m(Promise.resolve(a),e);if(b){await n(Promise.resolve(a),e);b=await d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.tables.mi_act_mapping_table).getKeyRange(e));return b==null?"default_e2ee":"cutover"}return d("MAWDefaultE2eeOneToOneEligibility").isContactDefaultE2eeOneToOneEligible({maybeContact:f})?"default_e2ee":null}function s(a,b){return b==null?Promise.resolve(!1):m(a,(i||(i=d("I64"))).of_string(b))}g.getCutoverThread=a;g.verifyThreadCutover=m;g.ensureContactCapabilities2IsLoaded=q;g.verifyContactCutoverOrOndemandCutoverOrDefaultE2EE=e;g.verifyContactCutoverOrDefaultE2EEWhenReady=r;g.verifyThreadCutoverWithStringInput=s}),98);
__d("ensureContactsExistAndUpdatedSync",["LSFactory","LSPlatformWaitForTaskCompletion","LSRefetchContactRowIfExistsStoredProcedure","LSVerifyContactExistsWithID","MAWVerifyThreadCutover","gkx"],(function(a,b,c,d,e,f,g){"use strict";async function a(a,b,e,f,g){if(e==null)return;if(c("gkx")("231")){f==null?void 0:f("update_target_ensure_contact_exists_with_improvements_start");await d("MAWVerifyThreadCutover").ensureContactCapabilities2IsLoaded(a,b,e,f,g);return}await Promise.allSettled([d("LSVerifyContactExistsWithID").waitForTaskFinish(a,e,!1),c("LSPlatformWaitForTaskCompletion")(a,function(a){return c("LSRefetchContactRowIfExistsStoredProcedure")(c("LSFactory")(a),{id:e})},"readwrite")])}g.default=a}),98);
__d("MWChatOpenSecureTabForUserCallback",["Promise","cr:312"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,c,d,e,f){if(b("cr:312")!=null)return b("cr:312").openChatTab(a,c,d,e,f)}function c(a,c,d){return b("cr:312")!=null?b("cr:312").preloadSecureThreadForUser(a,c,d):(h||(h=b("Promise"))).resolve()}g.openChatTab=a;g.preloadSecureThreadForUser=c}),98);
__d("MWLSPreloadThreadForContact",["FBLogger","I64","LSDatabaseSingleton","LSFactory","LSIntEnum","LSIssueMessagesRangeQueryStoredProcedure","LSMailboxMessagesRangeQueryDirection","LSVerifyThreadRowExistsStoredProcedure","MAWVerifyThreadCutover","Promise","ReQL","ReStoreDbClosedError","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k;function l(a){c("promiseDone")((i||(i=d("LSDatabaseSingleton"))).LSDatabaseSingleton.then(function(e){return e.runInTransaction(function(f){var g=(k||(k=d("I64"))).of_string(a);return d("MAWVerifyThreadCutover").verifyThreadCutover((h||(h=b("Promise"))).resolve(e),g).then(function(a){if(a)return;else return d("ReQL").firstAsync(d("ReQL").fromTableAscending(f.messages_ranges_v2__generated).getKeyRange(g)).then(function(a){if(a!=null)if(a.minMessageId===a.maxMessageId&&a.minMessageId!=="")return c("LSIssueMessagesRangeQueryStoredProcedure")(c("LSFactory")(f),{direction:(j||(j=d("LSIntEnum"))).ofNumber(c("LSMailboxMessagesRangeQueryDirection").BEFORE),referenceTimestampMs:a.minTimestampMs,threadKey:g});else return;else return c("LSVerifyThreadRowExistsStoredProcedure")(c("LSFactory")(f),{syncGroup:(j||(j=d("LSIntEnum"))).ofNumber(1),threadKey:g})})})},"readwrite",void 0,void 0,f.id+":29")["catch"](function(a){if(a instanceof c("ReStoreDbClosedError"))c("FBLogger")("messenger_web").info("Failed to preload thread, db closed.");else throw a})}))}function a(){return l}g.verifyThreadExists=l;g.usePreloaderForUser=a}),98);
__d("MWV2OnAuthoritativeThreadInsert",["I64","LSAuthorityLevel","LSIntEnum","ReQL"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a,b,e){a=a[0];var f=d("ReQL").fromTableAscending(b.tables.threads.index("clientThreadKey")).getKeyRange(a).subscribe(function(a,b){if(b.operation==="delete")return;a=b.value;if((h||(h=d("I64"))).equal(a.authorityLevel,(i||(i=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").AUTHORITATIVE))){e(a);return f()}})}g.onAuthoritativeThreadInsert=a}),98);/*FB_PKG_DELIM*/
__d("BaseTypeaheadLayoutContextualStrategyStateContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b=a.createContext(null);g["default"]=b}),98);
__d("useBaseTypeaheadLayoutContextualStrategyStateContext",["BaseTypeaheadLayoutContextualStrategyStateContext","FBLogger","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useContext;function a(){var a=i(c("BaseTypeaheadLayoutContextualStrategyStateContext"));if(a==null)throw c("FBLogger")("typeahead_framework").mustfixThrow("Contextual Layout Strategy State is not found");return a}g["default"]=a}),98);
__d("useCometInternalTypeaheadFetchHandler",["react","useBaseTypeaheadLayoutContextualStrategyStateContext","useCometInternalTypeaheadFetch","useCometInternalTypeaheadState"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useCallback,j=b.useEffect;function a(a){var b=a.loggingProvider,d=a.queryString,e=a.traceProvider;a=c("useBaseTypeaheadLayoutContextualStrategyStateContext")();var f=a.isOpened;a=c("useCometInternalTypeaheadState")();var g=a.activeEntries;a=c("useCometInternalTypeaheadFetch")();var h=a.fetch;a=i(function(){function a(a,c){var d=null;b!=null&&(d=b.addEvent({action:"keystroke",entries:g,queryString:a},"useCometInternalTypeaheadFetchHandler"));d=d!=null?{loggingEventTrace:d,perfTraceAPI:c,query:a}:{perfTraceAPI:c,query:a};h(d)}var c=d.trimLeft().replace(/\s+/g," ");if(!f)return;e?e.trace(function(b){return a(c,b)},c):a(c)},[g,h,f,b,d,e]);j(a,[f,d])}g["default"]=a}),98);
__d("BaseTypeaheadDataFetchTrigger.react",["react-compiler-runtime","useCometInternalTypeaheadFetchHandler"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=d("react-compiler-runtime").c(4),e=a.loggingProvider,f=a.queryString;a=a.traceProvider;var g;b[0]!==e||b[1]!==f||b[2]!==a?(g={loggingProvider:e,queryString:f,traceProvider:a},b[0]=e,b[1]=f,b[2]=a,b[3]=g):g=b[3];c("useCometInternalTypeaheadFetchHandler")(g);return null}g["default"]=a}),98);
__d("cometTypeaheadMouseUtils",[],(function(a,b,c,d,e,f){"use strict";function a(a){return a!=null&&(a.ctrlKey||a.metaKey||a.shiftKey)}f.hasModifierKeyPressed=a}),66);
__d("useCometInternalTypeaheadOnAbandonLoggingHandler",["react","react-compiler-runtime","useCometInternalTypeaheadState"],(function(a,b,c,d,e,f,g){"use strict";var h;(h||d("react")).useCallback;function a(a){var b=d("react-compiler-runtime").c(5),e=a.callback,f=a.loggingProvider,g=a.queryString;a=c("useCometInternalTypeaheadState")();var h=a.activeEntries;b[0]!==h||b[1]!==e||b[2]!==f||b[3]!==g?(a=function(){f!=null&&f.isSessionActive()&&(f.addEvent({action:"abandon",entries:h,queryString:g},"useCometInternalTypeaheadOnAbandonLoggingHandler"),f.endSession()),e&&e()},b[0]=h,b[1]=e,b[2]=f,b[3]=g,b[4]=a):a=b[4];return a}g["default"]=a}),98);
__d("useCometInternalTypeaheadOnEnterLoggingHandler",["react","react-compiler-runtime","useCometInternalTypeaheadState"],(function(a,b,c,d,e,f,g){"use strict";var h;(h||d("react")).useCallback;function a(a){var b=d("react-compiler-runtime").c(6),e=a.loggingProvider,f=a.onEnter,g=a.queryString;a=c("useCometInternalTypeaheadState")();var h=a.activeEntries,i=a.highlightedEntry;b[0]!==h||b[1]!==i||b[2]!==e||b[3]!==f||b[4]!==g?(a=function(){i!=null&&(e&&e.addEvent({action:"click",entries:h,entry:i,queryString:g},"useCometInternalTypeaheadOnEnterLoggingHandler:without_highlightedEntry")),i==null&&(e&&e.addEvent({action:"enter",entries:h,queryString:g},"useCometInternalTypeaheadOnEnterLoggingHandler:with_highlightedEntry")),e&&e.endSession(),f&&f()},b[0]=h,b[1]=i,b[2]=e,b[3]=f,b[4]=g,b[5]=a):a=b[5];return a}g["default"]=a}),98);
__d("useCometInternalTypeaheadOnFocusLoggingHandler",["react","react-compiler-runtime","useCometInternalTypeaheadState"],(function(a,b,c,d,e,f,g){"use strict";var h;(h||d("react")).useCallback;function a(a){var b=d("react-compiler-runtime").c(5),e=a.loggingProvider,f=a.onFocus,g=a.queryString;a=c("useCometInternalTypeaheadState")();var h=a.activeEntries;b[0]!==h||b[1]!==e||b[2]!==f||b[3]!==g?(a=function(){e!=null&&(e.startSession(),e.addEvent({action:"typeahead_appeared",entries:h,queryString:g},"useCometInternalTypeaheadOnFocusLoggingHandler")),f&&f()},b[0]=h,b[1]=e,b[2]=f,b[3]=g,b[4]=a):a=b[4];return a}g["default"]=a}),98);
__d("useCometInternalTypeaheadOnPressEntryLoggingHandler",["react","react-compiler-runtime","useCometInternalTypeaheadState"],(function(a,b,c,d,e,f,g){"use strict";var h;(h||d("react")).useCallback;function a(a){var b=d("react-compiler-runtime").c(5),e=a.loggingProvider,f=a.onPressEntry,g=a.queryString;a=c("useCometInternalTypeaheadState")();var h=a.activeEntries;b[0]!==h||b[1]!==e||b[2]!==f||b[3]!==g?(a=function(a,b){e!=null&&(e.addEvent({action:"click",entries:h,entry:a,queryString:g},"useCometInternalTypeaheadOnPressEntryLoggingHandler"),e.endSession()),f&&f(a,b)},b[0]=h,b[1]=e,b[2]=f,b[3]=g,b[4]=a):a=b[4];return a}g["default"]=a}),98);
__d("useCometTypeaheadInputRefs",["mergeRefs","react"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useMemo,j=b.useRef;function a(a){var b=j(null),d=i(function(){return c("mergeRefs")(b,a)},[b,a]);return{composedRef:d,inputRef:b}}g["default"]=a}),98);
__d("CometInternalTypeahead.react",["BaseTypeaheadDataFetchTrigger.react","cometTypeaheadMouseUtils","emptyFunction","react","react-compiler-runtime","useCometInternalTypeaheadOnAbandonLoggingHandler","useCometInternalTypeaheadOnEnterLoggingHandler","useCometInternalTypeaheadOnFocusLoggingHandler","useCometInternalTypeaheadOnPressEntryLoggingHandler","useCometInternalTypeaheadState","useCometTypeaheadInputRefs"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));h.useCallback;function a(a){var b=d("react-compiler-runtime").c(69),e,f,g,h,j,k,l,m,n,o,p,q;b[0]!==a?(f=a.inputRef,e=a.layoutStrategyRenderer,g=a.loggingProvider,h=a.onEnter,j=a.onFocus,k=a.onPressEntry,l=a.onSelectFreeformQuery,m=a.onShiftTab,n=a.onTab,p=a.queryString,q=a.traceProvider,o=babelHelpers.objectWithoutPropertiesLoose(a,["inputRef","layoutStrategyRenderer","loggingProvider","onEnter","onFocus","onPressEntry","onSelectFreeformQuery","onShiftTab","onTab","queryString","traceProvider"]),b[0]=a,b[1]=e,b[2]=f,b[3]=g,b[4]=h,b[5]=j,b[6]=k,b[7]=l,b[8]=m,b[9]=n,b[10]=o,b[11]=p,b[12]=q):(e=b[1],f=b[2],g=b[3],h=b[4],j=b[5],k=b[6],l=b[7],m=b[8],n=b[9],o=b[10],p=b[11],q=b[12]);a=c("useCometTypeaheadInputRefs")(f);f=a.composedRef;var r=a.inputRef;a=c("useCometInternalTypeaheadState")();var s=a.highlightedEntry,t=a.secondaryActionHighlighted;b[13]!==s||b[14]!==h||b[15]!==k||b[16]!==l||b[17]!==p||b[18]!==t?(a=function(){s!=null?k==null?void 0:k(s,t):l&&l(p),h&&h()},b[13]=s,b[14]=h,b[15]=k,b[16]=l,b[17]=p,b[18]=t,b[19]=a):a=b[19];a=a;var u;b[20]!==g||b[21]!==p||b[22]!==a?(u={loggingProvider:g,onEnter:a,queryString:p},b[20]=g,b[21]=p,b[22]=a,b[23]=u):u=b[23];a=c("useCometInternalTypeaheadOnEnterLoggingHandler")(u);b[24]!==g||b[25]!==j||b[26]!==p?(u={loggingProvider:g,onFocus:j,queryString:p},b[24]=g,b[25]=j,b[26]=p,b[27]=u):u=b[27];j=c("useCometInternalTypeaheadOnFocusLoggingHandler")(u);b[28]!==r||b[29]!==k?(u=function(a,b){if(d("cometTypeaheadMouseUtils").hasModifierKeyPressed(b)){r.current&&r.current.focus();return}k&&k(a)},b[28]=r,b[29]=k,b[30]=u):u=b[30];u=u;var v;b[31]!==g||b[32]!==p||b[33]!==u?(v={loggingProvider:g,onPressEntry:u,queryString:p},b[31]=g,b[32]=p,b[33]=u,b[34]=v):v=b[34];u=c("useCometInternalTypeaheadOnPressEntryLoggingHandler")(v);b[35]!==g||b[36]!==m||b[37]!==p?(v={callback:m,loggingProvider:g,queryString:p},b[35]=g,b[36]=m,b[37]=p,b[38]=v):v=b[38];m=c("useCometInternalTypeaheadOnAbandonLoggingHandler")(v);b[39]!==g||b[40]!==n||b[41]!==p?(v={callback:n,loggingProvider:g,queryString:p},b[39]=g,b[40]=n,b[41]=p,b[42]=v):v=b[42];n=c("useCometInternalTypeaheadOnAbandonLoggingHandler")(v);b[43]!==g||b[44]!==p?(v={callback:c("emptyFunction"),loggingProvider:g,queryString:p},b[43]=g,b[44]=p,b[45]=v):v=b[45];v=c("useCometInternalTypeaheadOnAbandonLoggingHandler")(v);var w;b[46]!==g||b[47]!==p?(w={callback:c("emptyFunction"),loggingProvider:g,queryString:p},b[46]=g,b[47]=p,b[48]=w):w=b[48];w=c("useCometInternalTypeaheadOnAbandonLoggingHandler")(w);var x;b[49]!==g||b[50]!==p||b[51]!==q?(x=i.jsx(c("BaseTypeaheadDataFetchTrigger.react"),{loggingProvider:g,queryString:p,traceProvider:q}),b[49]=g,b[50]=p,b[51]=q,b[52]=x):x=b[52];b[53]!==e||b[54]!==f||b[55]!==w||b[56]!==a||b[57]!==j||b[58]!==v||b[59]!==u||b[60]!==m||b[61]!==n||b[62]!==o||b[63]!==p||b[64]!==q?(g=i.jsx(e,babelHelpers["extends"]({},o,{inputRef:f,onAbandonTypeahead_DO_NOT_USE:w,onClick:c("emptyFunction"),onEnter:a,onFocus:j,onHighlightEntry:o.onHighlightEntry,onOutsideClick:v,onPressEntry:u,onShiftTab:m,onTab:n,queryString:p,traceProvider:q,xstyles:o.xstyles})),b[53]=e,b[54]=f,b[55]=w,b[56]=a,b[57]=j,b[58]=v,b[59]=u,b[60]=m,b[61]=n,b[62]=o,b[63]=p,b[64]=q,b[65]=g):g=b[65];b[66]!==x||b[67]!==g?(e=i.jsxs(i.Fragment,{children:[x,g]}),b[66]=x,b[67]=g,b[68]=e):e=b[68];return e}g["default"]=a}),98);
__d("CometInternalTypeaheadEmptyFetchContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b=a.createContext(!1);g["default"]=b}),98);
__d("CometInternalTypeaheadEmptyFetchProvider",["CometInternalTypeaheadEmptyFetchContext","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useLayoutEffect,k=b.useState;function a(a){var b=d("react-compiler-runtime").c(6),e=a.children,f=a.isLoading;a=a.source;var g=k(!0),h=g[0],l=g[1],m;b[0]!==f?(g=function(){f&&l(!1)},m=[f],b[0]=f,b[1]=g,b[2]=m):(g=b[1],m=b[2]);j(g,m);g=["all","network"].includes(a);m=!(g&&h||f);b[3]!==e||b[4]!==m?(a=i.jsx(c("CometInternalTypeaheadEmptyFetchContext").Provider,{value:m,children:e}),b[3]=e,b[4]=m,b[5]=a):a=b[5];return a}g["default"]=a}),98);
__d("CometInternalTypeaheadStateDispatcherContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b=a.createContext();g["default"]=b}),98);
__d("useCometInternalTypeaheadStateDispatcher",["CometInternalTypeaheadStateDispatcherContext","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useContext;function a(){return i(c("CometInternalTypeaheadStateDispatcherContext"))}g["default"]=a}),98);
__d("CometInternalTypeaheadFetchProvider",["CometInternalTypeaheadEmptyFetchProvider","CometInternalTypeaheadFetchContext","react","react-compiler-runtime","useBaseTypeaheadDataSourceFetch","useCometInternalTypeaheadStateDispatcher"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;b.useCallback;b.useMemo;function a(a){var b=d("react-compiler-runtime").c(20),e=a.children,f=a.dataSource,g=a.dataSourceFetchConfigParams,h=a.onFetchEntries_DO_NOT_USE,j=a.traceProvider;a=c("useCometInternalTypeaheadStateDispatcher")();var k=a.dispatchActiveEntries;b[0]!==k||b[1]!==h||b[2]!==j?(a=function(b,a){var c;b=b.entries;var d=a.isTraceComplete;a=a.source;k((c=b)!=null?c:[]);h&&h(b);j&&!j.isResolved()&&(d&&(a==="cache"&&b.length>=j.getEntriesCountForVisualComplete()?j.setEndReason("max_suggestions_reached"):a==="network"?j.setEndReason("all_queries_completed"):a==="network-no-results"&&j.setEndReason("all_queries_completed_no_network_results"),j.resolve()))},b[0]=k,b[1]=h,b[2]=j,b[3]=a):a=b[3];a=a;var l;b[4]!==f||b[5]!==g||b[6]!==a?(l={dataSource:f,dataSourceFetchConfigParams:g,onResolvePayload:a},b[4]=f,b[5]=g,b[6]=a,b[7]=l):l=b[7];f=c("useBaseTypeaheadDataSourceFetch")(l);g=f[0];a=f[1];l=f[2];f=g.isLoading;g=g.source;var m;b[8]!==a||b[9]!==f||b[10]!==l||b[11]!==g?(m={fetch:a,isLoading:f,refetch:l,source:g},b[8]=a,b[9]=f,b[10]=l,b[11]=g,b[12]=m):m=b[12];a=m;l=a;b[13]!==e||b[14]!==f||b[15]!==g?(m=i.jsx(c("CometInternalTypeaheadEmptyFetchProvider"),{isLoading:f,source:g,children:e}),b[13]=e,b[14]=f,b[15]=g,b[16]=m):m=b[16];b[17]!==m||b[18]!==l?(a=i.jsx(c("CometInternalTypeaheadFetchContext").Provider,{value:l,children:m}),b[17]=m,b[18]=l,b[19]=a):a=b[19];return a}g["default"]=a}),98);
__d("BaseTypeaheadLayoutContextualStrategyStateContextProvider.react",["BaseTypeaheadLayoutContextualStrategyStateContext","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;b.useCallback;b.useMemo;var j=b.useState;function a(a){var b=d("react-compiler-runtime").c(10),e=a.children,f=a.autoOpen,g=a.onClose,h=a.onOpen;a=j(f);var k=a[0],l=a[1];b[0]!==k||b[1]!==g||b[2]!==h?(f=function(a){if(a===k)return;l(a);a?h():g()},b[0]=k,b[1]=g,b[2]=h,b[3]=f):f=b[3];a=f;b[4]!==a||b[5]!==k?(f={dispatchIsOpened:a,isOpened:k},b[4]=a,b[5]=k,b[6]=f):f=b[6];a=f;f=a;b[7]!==e||b[8]!==f?(a=i.jsx(c("BaseTypeaheadLayoutContextualStrategyStateContext").Provider,{value:f,children:e}),b[7]=e,b[8]=f,b[9]=a):a=b[9];return a}g["default"]=a}),98);
__d("CometInternalTypeaheadStateProvider",["BaseTypeaheadLayoutContextualStrategyStateContextProvider.react","CometInternalTypeaheadStateContext","CometInternalTypeaheadStateDispatcherContext","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;b.useCallback;var j=b.useEffect;b.useMemo;var k=b.useRef,l=b.useState,m=[];function a(a){var b=d("react-compiler-runtime").c(19),e=a.autoOpen,f=a.children,g=a.emptyEntries_DO_NOT_USE,h=a.onClose;a=a.onOpen;var n=g===void 0?m:g;g=l(null);var o=g[0],p=g[1];g=l(null);var q=g[0],r=g[1];g=l(null);var s=g[0],t=g[1];g=l(n);var u=g[0],v=g[1],w=k(n),x;b[0]!==n?(g=function(){if(w.current===n)return;w.current=n;v(function(a){return a.length?a:n})},x=[v,w,n],b[0]=n,b[1]=g,b[2]=x):(g=b[1],x=b[2]);j(g,x);b[3]===Symbol["for"]("react.memo_cache_sentinel")?(g=function(a){v(function(b){b=Array.isArray(a)?a:a(b);return b.length>0?b:w.current})},b[3]=g):g=b[3];x=g;b[4]===Symbol["for"]("react.memo_cache_sentinel")?(g=function(a){var b=a.entry,c=a.secondaryActionHighlighted;a=a.source;p(b);t(a);r(c)},b[4]=g):g=b[4];g=g;b[5]===Symbol["for"]("react.memo_cache_sentinel")?(x={dispatchActiveEntries:x,dispatchHighlightedEntry:g},b[5]=x):x=b[5];g=x;x=g;b[6]!==u||b[7]!==o||b[8]!==s||b[9]!==q?(g={activeEntries:u,highlightedEntry:o,highlightedEntrySource:s,secondaryActionHighlighted:q},b[6]=u,b[7]=o,b[8]=s,b[9]=q,b[10]=g):g=b[10];u=g;o=u;b[11]!==e||b[12]!==f||b[13]!==h||b[14]!==a?(s=i.jsx(c("BaseTypeaheadLayoutContextualStrategyStateContextProvider.react"),{autoOpen:e,onClose:h,onOpen:a,children:f}),b[11]=e,b[12]=f,b[13]=h,b[14]=a,b[15]=s):s=b[15];b[16]!==o||b[17]!==s?(q=i.jsx(c("CometInternalTypeaheadStateDispatcherContext").Provider,{value:x,children:i.jsx(c("CometInternalTypeaheadStateContext").Provider,{value:o,children:s})}),b[16]=o,b[17]=s,b[18]=q):q=b[18];return q}g["default"]=a}),98);
__d("withCometTypeaheadInputStrategyShouldQueryStringFollowHighlightedEntry",["react","react-compiler-runtime","useCometInternalTypeaheadState"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a,b){var e=b.shouldQueryStringFollowHighlightedEntry;function f(b){var f=d("react-compiler-runtime").c(8),g,h,j;f[0]!==b?(g=b.ref,h=b.queryString,j=babelHelpers.objectWithoutPropertiesLoose(b,["ref","queryString"]),f[0]=b,f[1]=g,f[2]=h,f[3]=j):(g=f[1],h=f[2],j=f[3]);b=c("useCometInternalTypeaheadState")();var k=b.highlightedEntry;b=b.highlightedEntrySource;b=e&&b==="keyboard"&&k!=null?k.label:h;f[4]!==g||f[5]!==b||f[6]!==j?(k=i.jsx(a,babelHelpers["extends"]({},j,{queryString:b,ref:g})),f[4]=g,f[5]=b,f[6]=j,f[7]=k):k=f[7];return k}return f}g["default"]=a}),98);
__d("BaseTypeahead.react",["CometHeroInteractionContextPassthrough.react","CometInternalTypeahead.react","CometInternalTypeaheadFetchProvider","CometInternalTypeaheadStateProvider","emptyFunction","react","react-compiler-runtime","withCometTypeaheadInputStrategyShouldQueryStringFollowHighlightedEntry"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;b.useCallback;var j=b.useId;b.useMemo;function a(a){var b=d("react-compiler-runtime").c(76),e,f,g,h,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J;b[0]!==a?(r=a.autoOpen,A=a.autoFocus,e=a.inputStrategyRenderer,g=a.dataSource,h=a.dataSourceFetchConfigParams,B=a.decorators,k=a.emptyEntries_DO_NOT_USE,n=a.id,C=a.isDisabled,D=a.label,m=a.loggingContext,E=a.onBackspace,F=a.onBlur,o=a.onChange,G=a.onClose,H=a.onEnter,s=a.onEscape,p=a.onFetchEntries_DO_NOT_USE,t=a.onFocus,u=a.onOpen,q=a.onPressEntry,v=a.placeholder,w=a.shouldQueryStringFollowHighlightedEntry,x=a.shouldQueryStringUpdateFromSelectedEntryOnClick,y=a.testid,I=a.traceProvider,z=a.viewRole,f=a.viewStrategyRenderer,l=a.inputRef,J=babelHelpers.objectWithoutPropertiesLoose(a,["autoOpen","autoFocus","inputStrategyRenderer","dataSource","dataSourceFetchConfigParams","decorators","emptyEntries_DO_NOT_USE","id","isDisabled","label","loggingContext","onBackspace","onBlur","onChange","onClose","onEnter","onEscape","onFetchEntries_DO_NOT_USE","onFocus","onOpen","onPressEntry","placeholder","shouldQueryStringFollowHighlightedEntry","shouldQueryStringUpdateFromSelectedEntryOnClick","testid","traceProvider","viewRole","viewStrategyRenderer","inputRef"]),b[0]=a,b[1]=e,b[2]=f,b[3]=g,b[4]=h,b[5]=k,b[6]=l,b[7]=m,b[8]=n,b[9]=o,b[10]=p,b[11]=q,b[12]=r,b[13]=s,b[14]=t,b[15]=u,b[16]=v,b[17]=w,b[18]=x,b[19]=y,b[20]=z,b[21]=A,b[22]=B,b[23]=C,b[24]=D,b[25]=E,b[26]=F,b[27]=G,b[28]=H,b[29]=I,b[30]=J):(e=b[1],f=b[2],g=b[3],h=b[4],k=b[5],l=b[6],m=b[7],n=b[8],o=b[9],p=b[10],q=b[11],r=b[12],s=b[13],t=b[14],u=b[15],v=b[16],w=b[17],x=b[18],y=b[19],z=b[20],A=b[21],B=b[22],C=b[23],D=b[24],E=b[25],F=b[26],G=b[27],H=b[28],I=b[29],J=b[30]);a=r===void 0?!1:r;r=A===void 0?!1:A;b[31]!==B?(A=B===void 0?[]:B,b[31]=B,b[32]=A):A=b[32];B=A;A=C===void 0?!1:C;C=D===void 0?"":D;D=E===void 0?c("emptyFunction"):E;E=F===void 0?c("emptyFunction"):F;F=G===void 0?c("emptyFunction"):G;G=H===void 0?c("emptyFunction"):H;H=s===void 0?c("emptyFunction"):s;s=t===void 0?c("emptyFunction"):t;t=u===void 0?c("emptyFunction"):u;u=v===void 0?"":v;v=w===void 0?!0:w;var K=x===void 0?!0:x;w=y===void 0?"":y;x=z===void 0?"listbox":z;y=j();var L;b[33]!==B?(L=c("CometInternalTypeahead.react"),B.forEach(function(a){var b=a.decorate;a=a.params;L=b(L,a)}),b[33]=B,b[34]=L):L=b[34];z=L;B=z;b[35]!==o||b[36]!==q||b[37]!==K?(z=function(a,b){K&&o(a.label),q==null?void 0:q(a,b)},b[35]=o,b[36]=q,b[37]=K,b[38]=z):z=b[38];z=z;var M;b[39]!==e||b[40]!==v?(M=c("withCometTypeaheadInputStrategyShouldQueryStringFollowHighlightedEntry")(e,{shouldQueryStringFollowHighlightedEntry:v}),b[39]=e,b[40]=v,b[41]=M):M=b[41];e=M;v=e;M=C||u;C=(e=n)!=null?e:y;if(b[42]!==v||b[43]!==B||b[44]!==f||b[45]!==r||b[46]!==l||b[47]!==D||b[48]!==E||b[49]!==G||b[50]!==H||b[51]!==s||b[52]!==z||b[53]!==A||b[54]!==o||b[55]!==u||b[56]!==M||b[57]!==C||b[58]!==w||b[59]!==I||b[60]!==J||b[61]!==x){e=i.jsx(B,babelHelpers["extends"]({},J,{autoFocus:r,id:C,inputRef:l,inputStrategyRenderer:v,isDisabled:A,label:M,onBackspace:D,onBlur:E,onChange:o,onDownArrow:n=c("emptyFunction"),onEnter:G,onEscape:H,onFocus:s,onHighlightEntry:n,onPressEntry:z,onShiftTab:n,onTab:n,onUpArrow:n,placeholder:u,testid:void 0,traceProvider:I,viewRole:x,viewStrategyRenderer:f}));b[42]=v;b[43]=B;b[44]=f;b[45]=r;b[46]=l;b[47]=D;b[48]=E;b[49]=G;b[50]=H;b[51]=s;b[52]=z;b[53]=A;b[54]=o;b[55]=u;b[56]=M;b[57]=C;b[58]=w;b[59]=I;b[60]=J;b[61]=x;b[62]=e}else e=b[62];b[63]!==g||b[64]!==h||b[65]!==m||b[66]!==p||b[67]!==e||b[68]!==I?(y=i.jsx(c("CometInternalTypeaheadFetchProvider"),{dataSource:g,dataSourceFetchConfigParams:h,loggingContext:m,onFetchEntries_DO_NOT_USE:p,traceProvider:I,children:e}),b[63]=g,b[64]=h,b[65]=m,b[66]=p,b[67]=e,b[68]=I,b[69]=y):y=b[69];b[70]!==a||b[71]!==k||b[72]!==F||b[73]!==t||b[74]!==y?(n=i.jsx(c("CometHeroInteractionContextPassthrough.react"),{clear:!0,children:i.jsx(c("CometInternalTypeaheadStateProvider"),{autoOpen:a,emptyEntries_DO_NOT_USE:k,onClose:F,onOpen:t,children:y})}),b[70]=a,b[71]=k,b[72]=F,b[73]=t,b[74]=y,b[75]=n):n=b[75];return n}g["default"]=a}),98);
__d("CometTypeaheadHelperText.react",["FDSTextPairing.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(3);a=a.text;var e;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e={className:"x1xmf6yo"},b[0]=e):e=b[0];b[1]!==a?(e=i.jsx("div",babelHelpers["extends"]({},e,{children:i.jsx(c("FDSTextPairing.react"),{level:4,meta:a,metaColor:"secondary"})})),b[1]=a,b[2]=e):e=b[2];return e}g["default"]=a}),98);
__d("cometTypeaheadInputWebkitStyles",[],(function(a,b,c,d,e,f,g){"use strict";a={"default":{appearance:"xtilpmw","::-webkit-search-cancel-button_appearance":"x1ad04t7","::-webkit-search-decoration_appearance":"x1glnyev","::-webkit-search-results-button_appearance":"x1ix68h3","::-webkit-search-results-decoration_appearance":"x19gujb8",$$css:!0}};b=a;g["default"]=b}),98);
__d("useCometTypeaheadInputStrategyOnChangeHandler",["react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h;(h||d("react")).useCallback;function a(a){var b=d("react-compiler-runtime").c(2),c=a.onChange;b[0]!==c?(a=function(a){var b=a.target.value;c&&c(b,a)},b[0]=c,b[1]=a):a=b[1];return a}g["default"]=a}),98);
__d("CometTypeaheadInputRoundedStrategy.react",["ADD_PLACEHOLDER_OR_LABEL_FIXME","FDSIcon.react","FDSRoundedTextInput.react","MagnifyingGlassFilled16IconSvg.react","UNTRANSLATED_STRING_FIXME","cometTypeaheadInputWebkitStyles","react","useCometTextDirection","useCometTypeaheadInputStrategyOnChangeHandler"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=a.ref,d=a.ariaProps;a.description;a.errorMessage;a.id;var e=a.inputEndContent,f=a.inputStartContent,g=a.inputExtraProps;g=g===void 0?{}:g;var h=g.hideIconOnFocus;h=h===void 0?!1:h;var j=g.hideIconAnimation;j=j===void 0?!1:j;var k=g.icon;k=k===void 0?i.jsx(c("FDSIcon.react"),{color:"secondary",icon:c("MagnifyingGlassFilled16IconSvg.react"),size:16}):k;var l=g.size;g=g.xstyle;g=g===void 0?null:g;var m=a.isDisabled,n=a.onChange,o=a.label;o=o===void 0?"":o;var p=a.queryString,q=a.testid;q=a.autoFocus;var r=a.placeholder;a=babelHelpers.objectWithoutPropertiesLoose(a,["ref","ariaProps","description","errorMessage","id","inputEndContent","inputStartContent","inputExtraProps","isDisabled","onChange","label","queryString","testid","autoFocus","placeholder"]);var s=c("useCometTextDirection")(p);n=c("useCometTypeaheadInputStrategyOnChangeHandler")({onChange:n});return i.jsxs("div",babelHelpers["extends"]({className:"x6s0dn4 x78zum5 xh8yej3"},{children:[f,i.jsx(c("FDSRoundedTextInput.react"),babelHelpers["extends"]({},d,a,{"aria-label":c("UNTRANSLATED_STRING_FIXME")(o.toString()),autoComplete:"off",autoFocus_PLEASE_USE_FOCUS_REGION_INSTEAD:q,"data-testid":void 0,dir:s,disabled:m,hideIconAnimation:j,hideIconOnFocus:h,icon:k,onChange:n,placeholder:(f=r)!=null?f:c("ADD_PLACEHOLDER_OR_LABEL_FIXME"),ref:b,size:l,spellCheck:!1,suppressHydrationWarning:!0,type:"search",value:p,xstyle:[g,c("cometTypeaheadInputWebkitStyles")["default"]]})),e]}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useCometTypeaheadInputStrategyOnBlurHandler",["react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h;(h||d("react")).useCallback;function a(a){var b=d("react-compiler-runtime").c(2),c=a.onBlur;b[0]!==c?(a=function(){c&&c()},b[0]=c,b[1]=a):a=b[1];return a}g["default"]=a}),98);
__d("useCometTypeaheadInputStrategyOnFocusHandler",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useCallback;function a(a){var b=a.inputRef,c=a.onFocus;return i(function(){b.current!=null&&b.current.select(),c&&c()},[b,c])}g["default"]=a}),98);
__d("useCometTypeaheadInputHandlers",["react-compiler-runtime","useCometTypeaheadInputStrategyOnBlurHandler","useCometTypeaheadInputStrategyOnFocusHandler"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=d("react-compiler-runtime").c(14),e,f,g,h;b[0]!==a?(e=a.inputRef,f=a.onBlur,g=a.onFocus,h=babelHelpers.objectWithoutPropertiesLoose(a,["inputRef","onBlur","onFocus"]),b[0]=a,b[1]=e,b[2]=f,b[3]=g,b[4]=h):(e=b[1],f=b[2],g=b[3],h=b[4]);b[5]!==e||b[6]!==g?(a={inputRef:e,onFocus:g},b[5]=e,b[6]=g,b[7]=a):a=b[7];e=c("useCometTypeaheadInputStrategyOnFocusHandler")(a);b[8]!==f?(g={onBlur:f},b[8]=f,b[9]=g):g=b[9];a=c("useCometTypeaheadInputStrategyOnBlurHandler")(g);b[10]!==a||b[11]!==e||b[12]!==h?(f=babelHelpers["extends"]({},h,{onBlur:a,onFocus:e}),b[10]=a,b[11]=e,b[12]=h,b[13]=f):f=b[13];return f}g["default"]=a}),98);
__d("useCometTypeaheadInputRefsWebOnly",["react-compiler-runtime","useCometTypeaheadInputRefs","xplatToDOMRef"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=d("react-compiler-runtime").c(2),e;b[0]!==a?(e=a!=null?d("xplatToDOMRef").xplatToInputRef(a):null,b[0]=a,b[1]=e):e=b[1];return c("useCometTypeaheadInputRefs")(e)}g["default"]=a}),98);
__d("CometTypeaheadInputStrategyEventListener.react",["fbt","CometComponentWithKeyCommands.react","CometKeys","react","react-compiler-runtime","useCometTypeaheadInputHandlers","useCometTypeaheadInputRefsWebOnly"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));i.useMemo;var k={root:{width:"xh8yej3",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(67),e,f,g,i,l,m,n,o,p,q,r,s,t,u;b[0]!==a?(e=a.children,g=a.isInline,u=a.omitEscape,t=a.ref,i=a.onBackspace,l=a.onDownArrow,m=a.onEnter,n=a.onEscape,o=a.onLeftArrow,p=a.onRightArrow,q=a.onShiftTab,r=a.onTab,s=a.onUpArrow,f=babelHelpers.objectWithoutPropertiesLoose(a,["children","isInline","omitEscape","ref","onBackspace","onDownArrow","onEnter","onEscape","onLeftArrow","onRightArrow","onShiftTab","onTab","onUpArrow"]),b[0]=a,b[1]=e,b[2]=f,b[3]=g,b[4]=i,b[5]=l,b[6]=m,b[7]=n,b[8]=o,b[9]=p,b[10]=q,b[11]=r,b[12]=s,b[13]=t,b[14]=u):(e=b[1],f=b[2],g=b[3],i=b[4],l=b[5],m=b[6],n=b[7],o=b[8],p=b[9],q=b[10],r=b[11],s=b[12],t=b[13],u=b[14]);a=u===void 0?!1:u;var v;b[15]===Symbol["for"]("react.memo_cache_sentinel")?(u={key:c("CometKeys").DELETE},v=h._(/*BTDS*/"Remove last character from input query."),b[15]=u,b[16]=v):(u=b[15],v=b[16]);b[17]!==i?(u={command:u,description:v,handler:function(){return i&&i()},isHiddenCommand:!0,shouldPreventDefault:!1,triggerFromInputs:!0},b[17]=i,b[18]=u):u=b[18];var w;b[19]===Symbol["for"]("react.memo_cache_sentinel")?(v={key:c("CometKeys").DOWN},w=h._(/*BTDS*/"Next suggestion"),b[19]=v,b[20]=w):(v=b[19],w=b[20]);b[21]!==l?(v={command:v,description:w,handler:function(){return l&&l()},triggerFromInputs:!0},b[21]=l,b[22]=v):v=b[22];var x;b[23]===Symbol["for"]("react.memo_cache_sentinel")?(w={key:c("CometKeys").UP},x=h._(/*BTDS*/"Previous suggestion"),b[23]=x,b[24]=w):(x=b[23],w=b[24]);b[25]!==s?(w={command:w,description:x,handler:function(){return s&&s()},triggerFromInputs:!0},b[25]=s,b[26]=w):w=b[26];b[27]!==a||b[28]!==n?(x=a?null:{command:{key:c("CometKeys").ESCAPE},description:h._(/*BTDS*/"Close suggestions"),handler:function(){return n&&n()},triggerFromInputs:!0},b[27]=a,b[28]=n,b[29]=x):x=b[29];var y;b[30]===Symbol["for"]("react.memo_cache_sentinel")?(a={key:c("CometKeys").ENTER},y=h._(/*BTDS*/"Select suggestion"),b[30]=a,b[31]=y):(a=b[30],y=b[31]);b[32]!==m?(a={command:a,description:y,handler:function(){return m&&m()},triggerFromInputs:!0},b[32]=m,b[33]=a):a=b[33];var z;b[34]===Symbol["for"]("react.memo_cache_sentinel")?(y={key:c("CometKeys").TAB},z=h._(/*BTDS*/"Leave input"),b[34]=y,b[35]=z):(y=b[34],z=b[35]);b[36]!==r?(y={command:y,description:z,handler:function(){return r&&r()},isHiddenCommand:!0,shouldPreventDefault:!1,shouldStopPropagation:!1,triggerFromInputs:!0},b[36]=r,b[37]=y):y=b[37];var A;b[38]===Symbol["for"]("react.memo_cache_sentinel")?(z={key:c("CometKeys").TAB,shift:!0},A=h._(/*BTDS*/"Leave input"),b[38]=z,b[39]=A):(z=b[38],A=b[39]);b[40]!==q?(z={command:z,description:A,handler:function(){return q&&q()},isHiddenCommand:!0,shouldPreventDefault:!1,shouldStopPropagation:!1,triggerFromInputs:!0},b[40]=q,b[41]=z):z=b[41];b[42]!==o?(A=o!=null?{command:{key:c("CometKeys").LEFT},description:h._(/*BTDS*/"Move focus to the previous cell"),handler:o,triggerFromInputs:!0}:null,b[42]=o,b[43]=A):A=b[43];b[44]!==p?(o=p!=null?{command:{key:c("CometKeys").RIGHT},description:h._(/*BTDS*/"Move focus to the next cell"),handler:p,triggerFromInputs:!0}:null,b[44]=p,b[45]=o):o=b[45];b[46]!==w||b[47]!==x||b[48]!==a||b[49]!==y||b[50]!==z||b[51]!==A||b[52]!==o||b[53]!==u||b[54]!==v?(p=[u,v,w,x,a,y,z,A,o].filter(Boolean),b[46]=w,b[47]=x,b[48]=a,b[49]=y,b[50]=z,b[51]=A,b[52]=o,b[53]=u,b[54]=v,b[55]=p):p=b[55];w=p;x=w;a=c("useCometTypeaheadInputRefsWebOnly")(t);y=a.composedRef;z=a.inputRef;b[56]!==f||b[57]!==z?(A=babelHelpers["extends"]({inputRef:z},f),b[56]=f,b[57]=z,b[58]=A):A=b[58];o=c("useCometTypeaheadInputHandlers")(A);u=g===!0?"span":"div";b[59]!==e||b[60]!==y||b[61]!==o?(v=e(y,o),b[59]=e,b[60]=y,b[61]=o,b[62]=v):v=b[62];b[63]!==x||b[64]!==u||b[65]!==v?(p=j.jsx(c("CometComponentWithKeyCommands.react"),{commandConfigs:x,elementType:u,xstyle:k.root,children:v}),b[63]=x,b[64]=u,b[65]=v,b[66]=p):p=b[66];return p}g["default"]=a}),226);
__d("useCometTypeaheadViewStrategyOutsideClickListener",["react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");b.useCallback;var i=b.useEffect;function a(a,b){var c=d("react-compiler-runtime").c(6),e;c[0]!==b||c[1]!==a?(e=function(c){var d=a.current;c=c.target;d!=null&&c instanceof Node&&!d.contains(c)&&b()},c[0]=b,c[1]=a,c[2]=e):e=c[2];var f=e,g;c[3]!==f?(e=function(){document.addEventListener("click",f);return function(){document.removeEventListener("click",f)}},g=[f],c[3]=f,c[4]=e,c[5]=g):(e=c[4],g=c[5]);i(e,g)}g["default"]=a}),98);
__d("CometTypeaheadViewStrategyEventListener.react",["react","useCometTypeaheadViewStrategyOutsideClickListener"],(function(a,b,c,d,e,f,g){"use strict";var h;h||(h=d("react"));var i=h.useRef;function a(a){var b=a.children;a=a.onOutsideClick;var d=i(null);c("useCometTypeaheadViewStrategyOutsideClickListener")(d,a);return b(d)}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("cometHandleHighlightDropOnMouseLeave",[],(function(a,b,c,d,e,f){"use strict";function a(a){return function(){a(null,"mouse",!1)}}f["default"]=a}),66);
__d("CometTypeaheadInternalLayoutContextualStrategy.react",["CometContextualLayer.react","CometTypeaheadInputStrategyEventListener.react","CometTypeaheadViewStrategyEventListener.react","cometHandleHighlightDropOnMouseLeave","react","react-compiler-runtime","stylex","useCometInternalTypeaheadState","xplatToDOMRef"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react")),k=i.useRef;function a(a){var b=d("react-compiler-runtime").c(99),e,f,g,i,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D;b[0]!==a?(B=a.contextualProps,g=a.description,i=a.errorMessage,C=a.extraLayoutProps,e=a.inputStrategyRenderer,m=a.label,n=a.onBackspace,o=a.onBlur,t=a.onFocus,p=a.onClick,q=a.onDownArrow,u=a.onLeftArrow,v=a.onRightArrow,r=a.onEnter,s=a.onEscape,w=a.onShiftTab,x=a.onTab,y=a.onUpArrow,A=a.queryString,l=a.inputRef,f=a.viewStrategyRenderer,D=a.xstyles,z=babelHelpers.objectWithoutPropertiesLoose(a,["contextualProps","description","errorMessage","extraLayoutProps","inputStrategyRenderer","label","onBackspace","onBlur","onFocus","onClick","onDownArrow","onLeftArrow","onRightArrow","onEnter","onEscape","onShiftTab","onTab","onUpArrow","queryString","inputRef","viewStrategyRenderer","xstyles"]),b[0]=a,b[1]=e,b[2]=f,b[3]=g,b[4]=i,b[5]=l,b[6]=m,b[7]=n,b[8]=o,b[9]=p,b[10]=q,b[11]=r,b[12]=s,b[13]=t,b[14]=u,b[15]=v,b[16]=w,b[17]=x,b[18]=y,b[19]=z,b[20]=A,b[21]=B,b[22]=C,b[23]=D):(e=b[1],f=b[2],g=b[3],i=b[4],l=b[5],m=b[6],n=b[7],o=b[8],p=b[9],q=b[10],r=b[11],s=b[12],t=b[13],u=b[14],v=b[15],w=b[16],x=b[17],y=b[18],z=b[19],A=b[20],B=b[21],C=b[22],D=b[23]);b[24]!==B?(a=B===void 0?{}:B,b[24]=B,b[25]=a):a=b[25];var E,F;if(b[26]!==a){B=a;E=B.align;F=B.position;B=babelHelpers.objectWithoutPropertiesLoose(B,["align","position"]);b[26]=a;b[27]=B;b[28]=E;b[29]=F}else B=b[27],E=b[28],F=b[29];a=E===void 0?"stretch":E;E=F===void 0?"below":F;F=C;C=F.ariaProps;var G=F.helperTextComponent,H=F.isAlwaysOpened,I=F.isLoading;F=F.isOpened;var J=C.ariaDescribedByProps,K=C.ariaInputProps,L=C.ariaViewProps;C=k(null);var M=k(null),N=c("useCometInternalTypeaheadState")(),O=N.activeEntries,P=N.highlightedEntry;b[30]!==z.onHighlightEntry?(N=c("cometHandleHighlightDropOnMouseLeave")(z.onHighlightEntry),b[30]=z.onHighlightEntry,b[31]=N):N=b[31];var Q=N;if(b[32]!==((N=D)==null?void 0:N.layoutXStyle)){var R;N=(h||(h=c("stylex"))).props((N=D)==null?void 0:N.layoutXStyle);b[32]=(R=D)==null?void 0:R.layoutXStyle;b[33]=N}else N=b[33];if(b[34]!==((R=D)==null?void 0:R.inputXStyle)){var S;R=(h||(h=c("stylex"))).props((R=D)==null?void 0:R.inputXStyle);b[34]=(S=D)==null?void 0:S.inputXStyle;b[35]=R}else R=b[35];S=F===!1&&A==="";var T;b[36]!==e||b[37]!==K||b[38]!==g||b[39]!==i||b[40]!==m||b[41]!==z.autoFocus||b[42]!==z.id||b[43]!==z.inputEndContent||b[44]!==z.inputExtraProps||b[45]!==z.inputStartContent||b[46]!==z.isDisabled||b[47]!==z.placeholder||b[48]!==z.testid||b[49]!==A?(T=function(a,b){return j.jsx(e,babelHelpers["extends"]({},b,{ariaProps:K,autoFocus:z.autoFocus,description:g,errorMessage:i,id:z.id,inputEndContent:z.inputEndContent,inputExtraProps:z.inputExtraProps,inputStartContent:z.inputStartContent,isDisabled:z.isDisabled,label:m,placeholder:z.placeholder,queryString:A,ref:d("xplatToDOMRef").xplatToInputRef(a),testid:void 0}))},b[36]=e,b[37]=K,b[38]=g,b[39]=i,b[40]=m,b[41]=z.autoFocus,b[42]=z.id,b[43]=z.inputEndContent,b[44]=z.inputExtraProps,b[45]=z.inputStartContent,b[46]=z.isDisabled,b[47]=z.placeholder,b[48]=z.testid,b[49]=A,b[50]=T):T=b[50];var U;b[51]!==l||b[52]!==n||b[53]!==o||b[54]!==p||b[55]!==q||b[56]!==r||b[57]!==s||b[58]!==t||b[59]!==u||b[60]!==v||b[61]!==w||b[62]!==x||b[63]!==y||b[64]!==z.onChange||b[65]!==S||b[66]!==T?(U=j.jsx(c("CometTypeaheadInputStrategyEventListener.react"),{omitEscape:S,onBackspace:n,onBlur:o,onChange:z.onChange,onClick:p,onDownArrow:q,onEnter:r,onEscape:s,onFocus:t,onLeftArrow:u,onRightArrow:v,onShiftTab:w,onTab:x,onUpArrow:y,ref:l,children:T}),b[51]=l,b[52]=n,b[53]=o,b[54]=p,b[55]=q,b[56]=r,b[57]=s,b[58]=t,b[59]=u,b[60]=v,b[61]=w,b[62]=x,b[63]=y,b[64]=z.onChange,b[65]=S,b[66]=T,b[67]=U):U=b[67];b[68]!==U||b[69]!==R?(l=j.jsx("div",babelHelpers["extends"]({},R,{children:U})),b[68]=U,b[69]=R,b[70]=l):l=b[70];b[71]!==l||b[72]!==N?(n=j.jsx("div",babelHelpers["extends"]({},N,{ref:M,children:l})),b[71]=l,b[72]=N,b[73]=n):n=b[73];b[74]!==J||b[75]!==G?(o=G!=null&&j.jsx("div",babelHelpers["extends"]({className:"x1xmf6yo"},J,{children:G})),b[74]=J,b[75]=G,b[76]=o):o=b[76];if(b[77]!==f||b[78]!==O||b[79]!==a||b[80]!==L||b[81]!==B||b[82]!==P||b[83]!==H||b[84]!==I||b[85]!==F||b[86]!==Q||b[87]!==E||b[88]!==z.onAbandonTypeahead_DO_NOT_USE||b[89]!==z.onHighlightEntry||b[90]!==z.onOutsideClick||b[91]!==z.onPressEntry||b[92]!==A||b[93]!==((p=D)==null?void 0:p.viewXStyle_DO_NOT_USE)){q=(F===!0||H===!0)&&j.jsx(c("CometContextualLayer.react"),babelHelpers["extends"]({},B,{align:a,contextRef:M,position:E,ref:C,children:j.jsx(c("CometTypeaheadViewStrategyEventListener.react"),{onOutsideClick:z.onOutsideClick,children:function(a){var b;return j.jsx("div",babelHelpers["extends"]({},(h||(h=c("stylex"))).props((b=D)==null?void 0:b.viewXStyle_DO_NOT_USE),{onMouseLeave:Q,ref:a,children:j.jsx(f,{ariaProps:L,entries:O,highlightedEntry:P,isLoading:I,onAbandonTypeahead_DO_NOT_USE:z.onAbandonTypeahead_DO_NOT_USE,onHighlightEntry:z.onHighlightEntry,onPressEntry:z.onPressEntry,queryString:A})}))}})}));b[77]=f;b[78]=O;b[79]=a;b[80]=L;b[81]=B;b[82]=P;b[83]=H;b[84]=I;b[85]=F;b[86]=Q;b[87]=E;b[88]=z.onAbandonTypeahead_DO_NOT_USE;b[89]=z.onHighlightEntry;b[90]=z.onOutsideClick;b[91]=z.onPressEntry;b[92]=A;b[93]=(r=D)==null?void 0:r.viewXStyle_DO_NOT_USE;b[94]=q}else q=b[94];b[95]!==n||b[96]!==o||b[97]!==q?(s=j.jsxs(j.Fragment,{children:[n,o,q]}),b[95]=n,b[96]=o,b[97]=q,b[98]=s):s=b[98];return s}g["default"]=a}),98);
__d("useCometTypeaheadLayoutStrategyStyles",["react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h;(h||d("react")).useMemo;var i={defaultLayout:{boxSizing:"x9f619",display:"x78zum5",flexDirection:"xdt5ytf",width:"xh8yej3",$$css:!0},stateDisabled:{$$css:!0},stateError:{$$css:!0},stateOpened:{$$css:!0},stateWarning:{$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(13),c=a.isDisabled,e=a.isError,f=a.isOpened,g=a.isWarning;a=a.xstyles;c=c===void 0?!1:c;e=e===void 0?!1:e;f=f===void 0?!1:f;g=g===void 0?!1:g;var h=a.inputXStyle,j=a.layoutOpenedXStyle,k=a.layoutXStyle;a=a.viewXStyle_DO_NOT_USE;j=f&&j;c=c&&i.stateDisabled;f=f&&i.stateOpened;e=e&&i.stateError;g=g&&i.stateWarning;var l;b[0]!==k||b[1]!==e||b[2]!==g||b[3]!==j||b[4]!==c||b[5]!==f?(l=[i.defaultLayout,k,j,c,f,e,g],b[0]=k,b[1]=e,b[2]=g,b[3]=j,b[4]=c,b[5]=f,b[6]=l):l=b[6];b[7]!==a?(k=[a],b[7]=a,b[8]=k):k=b[8];b[9]!==h||b[10]!==l||b[11]!==k?(e={inputXStyle:h,layoutXStyle:l,viewXStyle_DO_NOT_USE:k},b[9]=h,b[10]=l,b[11]=k,b[12]=e):e=b[12];g=e;return g}g["default"]=a}),98);
__d("CometTypeaheadInternalLayoutInlineStrategy.react",["CometTypeaheadInputStrategyEventListener.react","CometTypeaheadViewStrategyEventListener.react","cometHandleHighlightDropOnMouseLeave","react","react-compiler-runtime","react-strict-dom","useCometInternalTypeaheadState","useCometTypeaheadLayoutStrategyStyles"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={helperText:{marginTop:"x1xmf6yo",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(92),e,f,g,h,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E;b[0]!==a?(D=a.extraLayoutProps,g=a.description,h=a.errorMessage,k=a.extraViewProps,m=a.id,e=a.inputStrategyRenderer,n=a.label,o=a.onBackspace,p=a.onBlur,q=a.onChange,r=a.onClick,s=a.onDownArrow,w=a.onLeftArrow,x=a.onRightArrow,t=a.onEnter,u=a.onEscape,v=a.onFocus,y=a.onShiftTab,z=a.onTab,A=a.onUpArrow,C=a.queryString,l=a.inputRef,f=a.viewStrategyRenderer,E=a.xstyles,B=babelHelpers.objectWithoutPropertiesLoose(a,["extraLayoutProps","description","errorMessage","extraViewProps","id","inputStrategyRenderer","label","onBackspace","onBlur","onChange","onClick","onDownArrow","onLeftArrow","onRightArrow","onEnter","onEscape","onFocus","onShiftTab","onTab","onUpArrow","queryString","inputRef","viewStrategyRenderer","xstyles"]),b[0]=a,b[1]=e,b[2]=f,b[3]=g,b[4]=h,b[5]=k,b[6]=l,b[7]=m,b[8]=n,b[9]=o,b[10]=p,b[11]=q,b[12]=r,b[13]=s,b[14]=t,b[15]=u,b[16]=v,b[17]=w,b[18]=x,b[19]=y,b[20]=z,b[21]=A,b[22]=B,b[23]=C,b[24]=D,b[25]=E):(e=b[1],f=b[2],g=b[3],h=b[4],k=b[5],l=b[6],m=b[7],n=b[8],o=b[9],p=b[10],q=b[11],r=b[12],s=b[13],t=b[14],u=b[15],v=b[16],w=b[17],x=b[18],y=b[19],z=b[20],A=b[21],B=b[22],C=b[23],D=b[24],E=b[25]);a=D;D=a.ariaProps;var F=a.helperTextComponent,G=a.isAlwaysOpened,H=a.isLoading;a=a.isOpened;var I=D.ariaDescribedByProps,J=D.ariaInputProps,K=D.ariaViewProps;b[26]!==E?(D=E===void 0?{}:E,b[26]=E,b[27]=D):D=b[27];E=D;D=c("useCometInternalTypeaheadState")();var L=D.activeEntries,M=D.highlightedEntry;b[28]!==a||b[29]!==E?(D={isOpened:a,xstyles:E},b[28]=a,b[29]=E,b[30]=D):D=b[30];E=c("useCometTypeaheadLayoutStrategyStyles")(D);D=E.inputXStyle;var N=E.layoutXStyle,O=E.viewXStyle_DO_NOT_USE;b[31]!==B.onHighlightEntry?(E=c("cometHandleHighlightDropOnMouseLeave")(B.onHighlightEntry),b[31]=B.onHighlightEntry,b[32]=E):E=b[32];var P=E;E=G===!0?C==="":a===!1&&C==="";var Q;b[33]!==e||b[34]!==J||b[35]!==g||b[36]!==h||b[37]!==m||b[38]!==n||b[39]!==B.autoFocus||b[40]!==B.inputEndContent||b[41]!==B.inputExtraProps||b[42]!==B.inputStartContent||b[43]!==B.isDisabled||b[44]!==B.placeholder||b[45]!==B.testid||b[46]!==C?(Q=function(a,b){return i.jsx(e,babelHelpers["extends"]({},b,{ariaProps:J,autoFocus:B.autoFocus,description:g,errorMessage:h,id:m,inputEndContent:B.inputEndContent,inputExtraProps:B.inputExtraProps,inputStartContent:B.inputStartContent,isDisabled:B.isDisabled,label:n,placeholder:B.placeholder,queryString:C,ref:a,testid:void 0}))},b[33]=e,b[34]=J,b[35]=g,b[36]=h,b[37]=m,b[38]=n,b[39]=B.autoFocus,b[40]=B.inputEndContent,b[41]=B.inputExtraProps,b[42]=B.inputStartContent,b[43]=B.isDisabled,b[44]=B.placeholder,b[45]=B.testid,b[46]=C,b[47]=Q):Q=b[47];var R;b[48]!==l||b[49]!==o||b[50]!==p||b[51]!==q||b[52]!==r||b[53]!==s||b[54]!==t||b[55]!==u||b[56]!==v||b[57]!==w||b[58]!==x||b[59]!==y||b[60]!==z||b[61]!==A||b[62]!==E||b[63]!==Q?(R=i.jsx(c("CometTypeaheadInputStrategyEventListener.react"),{omitEscape:E,onBackspace:o,onBlur:p,onChange:q,onClick:r,onDownArrow:s,onEnter:t,onEscape:u,onFocus:v,onLeftArrow:w,onRightArrow:x,onShiftTab:y,onTab:z,onUpArrow:A,ref:l,children:Q}),b[48]=l,b[49]=o,b[50]=p,b[51]=q,b[52]=r,b[53]=s,b[54]=t,b[55]=u,b[56]=v,b[57]=w,b[58]=x,b[59]=y,b[60]=z,b[61]=A,b[62]=E,b[63]=Q,b[64]=R):R=b[64];b[65]!==D||b[66]!==R?(l=i.jsx(d("react-strict-dom").html.div,{style:D,children:R}),b[65]=D,b[66]=R,b[67]=l):l=b[67];b[68]!==I||b[69]!==F?(o=F!=null&&i.jsx(d("react-strict-dom").html.div,babelHelpers["extends"]({style:j.helperText},I,{children:F})),b[68]=I,b[69]=F,b[70]=o):o=b[70];b[71]!==f||b[72]!==L||b[73]!==K||b[74]!==k||b[75]!==M||b[76]!==G||b[77]!==H||b[78]!==a||b[79]!==P||b[80]!==B.onAbandonTypeahead_DO_NOT_USE||b[81]!==B.onHighlightEntry||b[82]!==B.onOutsideClick||b[83]!==B.onPressEntry||b[84]!==C||b[85]!==O?(p=(a===!0||G===!0)&&i.jsx(c("CometTypeaheadViewStrategyEventListener.react"),{onOutsideClick:B.onOutsideClick,children:function(a){return i.jsx(d("react-strict-dom").html.div,{onMouseLeave:P,ref:a,style:O,children:i.jsx(f,{ariaProps:K,entries:L,extraViewProps:k,highlightedEntry:M,isLoading:H,onAbandonTypeahead_DO_NOT_USE:B.onAbandonTypeahead_DO_NOT_USE,onHighlightEntry:B.onHighlightEntry,onPressEntry:B.onPressEntry,queryString:C})})}}),b[71]=f,b[72]=L,b[73]=K,b[74]=k,b[75]=M,b[76]=G,b[77]=H,b[78]=a,b[79]=P,b[80]=B.onAbandonTypeahead_DO_NOT_USE,b[81]=B.onHighlightEntry,b[82]=B.onOutsideClick,b[83]=B.onPressEntry,b[84]=C,b[85]=O,b[86]=p):p=b[86];b[87]!==N||b[88]!==l||b[89]!==o||b[90]!==p?(q=i.jsxs(d("react-strict-dom").html.div,{style:N,children:[l,o,p]}),b[87]=N,b[88]=l,b[89]=o,b[90]=p,b[91]=q):q=b[91];return q}g["default"]=a}),98);
__d("useCometTypeaheadLayoutStrategyOnBlurHandler",["react","react-compiler-runtime","useCometInternalTypeaheadStateDispatcher"],(function(a,b,c,d,e,f,g){"use strict";var h;(h||d("react")).useCallback;function a(a){var b=d("react-compiler-runtime").c(3),e=a.onBlur;a=c("useCometInternalTypeaheadStateDispatcher")();var f=a.dispatchHighlightedEntry;b[0]!==f||b[1]!==e?(a=function(){f({entry:null,secondaryActionHighlighted:!1,source:null}),e&&e()},b[0]=f,b[1]=e,b[2]=a):a=b[2];return a}g["default"]=a}),98);
__d("useCometTypeaheadLayoutStrategyOnChangeHandler",["react","react-compiler-runtime","useCometInternalTypeaheadState"],(function(a,b,c,d,e,f,g){"use strict";var h;(h||d("react")).useCallback;function a(a){var b=d("react-compiler-runtime").c(4),e=a.onChange,f=a.onHighlightEntry;a=c("useCometInternalTypeaheadState")();var g=a.highlightedEntry;b[0]!==g||b[1]!==e||b[2]!==f?(a=function(a,b){g!=null&&f(null,"keyboard",!1),e&&e(a,b)},b[0]=g,b[1]=e,b[2]=f,b[3]=a):a=b[3];return a}g["default"]=a}),98);
__d("useCometInternalTypeaheadKeyboardNavigation",["baseTypeaheadFlattenEntries","cometTypeaheadKeyboardNavigationUtils","react","react-compiler-runtime","useCometInternalTypeaheadState"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");b.useCallback;b.useMemo;function a(){var a=d("react-compiler-runtime").c(26),b=c("useCometInternalTypeaheadState")(),e=b.activeEntries,f=b.highlightedEntry,g=b.secondaryActionHighlighted,h;a[0]!==e?(h=c("baseTypeaheadFlattenEntries")(e),b=h.every(i),a[0]=e,a[1]=h,a[2]=b):(h=a[1],b=a[2]);e=b;var j=f!=null?f.key:null;a[3]!==j||a[4]!==g||a[5]!==h?(b=function(a){return d("cometTypeaheadKeyboardNavigationUtils").moveDown(h,j,function(b,c){a(b,"keyboard",c)},g)},a[3]=j,a[4]=g,a[5]=h,a[6]=b):b=a[6];f=b;a[7]!==j||a[8]!==g||a[9]!==h?(b=function(a){return d("cometTypeaheadKeyboardNavigationUtils").moveUp(h,j,function(b,c){a(b,"keyboard",c)},g)},a[7]=j,a[8]=g,a[9]=h,a[10]=b):b=a[10];b=b;var k;a[11]!==j||a[12]!==g||a[13]!==h||a[14]!==e?(k=e?function(a){return d("cometTypeaheadKeyboardNavigationUtils").moveLeft(h,j,function(b,c){a(b,"keyboard",c)},g)}:void 0,a[11]=j,a[12]=g,a[13]=h,a[14]=e,a[15]=k):k=a[15];k=k;k=k;var l;a[16]!==j||a[17]!==g||a[18]!==h||a[19]!==e?(l=e?function(a){d("cometTypeaheadKeyboardNavigationUtils").moveRight(h,j,function(b,c){a(b,"keyboard",c)},g)}:void 0,a[16]=j,a[17]=g,a[18]=h,a[19]=e,a[20]=l):l=a[20];e=l;l=e;a[21]!==f||a[22]!==k||a[23]!==l||a[24]!==b?(e={onKeyboardDownArrow:f,onKeyboardLeftArrow:k,onKeyboardRightArrow:l,onKeyboardUpArrow:b},a[21]=f,a[22]=k,a[23]=l,a[24]=b,a[25]=e):e=a[25];return e}function i(a){return a.hasSecondaryAction===!0}g["default"]=a}),98);
__d("useCometTypeaheadLayoutStrategyOnDownArrowHandler",["react","react-compiler-runtime","useCometInternalTypeaheadKeyboardNavigation"],(function(a,b,c,d,e,f,g){"use strict";var h;(h||d("react")).useCallback;function a(a){var b=d("react-compiler-runtime").c(4),e=a.onDownArrow,f=a.onHighlightEntry;a=c("useCometInternalTypeaheadKeyboardNavigation")();var g=a.onKeyboardDownArrow;b[0]!==e||b[1]!==f||b[2]!==g?(a=function(){g(f),e&&e()},b[0]=e,b[1]=f,b[2]=g,b[3]=a):a=b[3];return a}g["default"]=a}),98);
__d("useCometTypeaheadLayoutStrategyOnEnterHandler",["react","useCometInternalTypeaheadState"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useCallback;function a(a){var b=a.inputRef,d=a.onEnter;a=c("useCometInternalTypeaheadState")();var e=a.highlightedEntry,f=a.highlightedEntrySource,g=b.current;return i(function(){var a;a=(a=g==null?void 0:g.value)!=null?a:"";var b=e!=null&&f==="keyboard";if(a.trim().length===0&&!b)return;d&&d()},[g,e,f,d])}g["default"]=a}),98);
__d("useCometTypeaheadLayoutStrategyOnHighlightEntryHandler",["react","react-compiler-runtime","useCometInternalTypeaheadStateDispatcher"],(function(a,b,c,d,e,f,g){"use strict";var h;(h||d("react")).useCallback;function a(a){var b=d("react-compiler-runtime").c(3),e=a.onHighlightEntry;a=c("useCometInternalTypeaheadStateDispatcher")();var f=a.dispatchHighlightedEntry;b[0]!==f||b[1]!==e?(a=function(a,b,c){f({entry:a,secondaryActionHighlighted:c,source:b}),e&&e(a,b,c)},b[0]=f,b[1]=e,b[2]=a):a=b[2];return a}g["default"]=a}),98);
__d("useCometTypeaheadLayoutStrategyOnLeftArrowHandler",["react","react-compiler-runtime","useCometInternalTypeaheadKeyboardNavigation"],(function(a,b,c,d,e,f,g){"use strict";var h;(h||d("react")).useMemo;function a(a){var b=d("react-compiler-runtime").c(4),e=a.onHighlightEntry,f=a.onLeftArrow;a=c("useCometInternalTypeaheadKeyboardNavigation")();var g=a.onKeyboardLeftArrow;b[0]!==e||b[1]!==g||b[2]!==f?(a=g!=null||f!=null?function(){g==null?void 0:g(e),f==null?void 0:f()}:void 0,b[0]=e,b[1]=g,b[2]=f,b[3]=a):a=b[3];b=a;return b}g["default"]=a}),98);
__d("useCometTypeaheadLayoutStrategyOnOutsideClickHandler",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useCallback;function a(a){var b=a.inputRef,c=a.onOutsideClick;return i(function(){if(b.current===document.activeElement)return;c&&c()},[b,c])}g["default"]=a}),98);
__d("useCometTypeaheadLayoutStrategyOnPressEntryHandler",["react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h;(h||d("react")).useCallback;function a(a){var b=d("react-compiler-runtime").c(2),c=a.onPressEntry;b[0]!==c?(a=function(a,b){c(a,b)},b[0]=c,b[1]=a):a=b[1];return a}g["default"]=a}),98);
__d("useCometTypeaheadLayoutStrategyOnRightArrowHandler",["react","react-compiler-runtime","useCometInternalTypeaheadKeyboardNavigation"],(function(a,b,c,d,e,f,g){"use strict";var h;(h||d("react")).useMemo;function a(a){var b=d("react-compiler-runtime").c(4),e=a.onHighlightEntry,f=a.onRightArrow;a=c("useCometInternalTypeaheadKeyboardNavigation")();var g=a.onKeyboardRightArrow;b[0]!==e||b[1]!==g||b[2]!==f?(a=g!=null||f!=null?function(){g==null?void 0:g(e),f==null?void 0:f()}:void 0,b[0]=e,b[1]=g,b[2]=f,b[3]=a):a=b[3];b=a;return b}g["default"]=a}),98);
__d("useCometTypeaheadLayoutStrategyOnUpArrowHandler",["react","react-compiler-runtime","useCometInternalTypeaheadKeyboardNavigation"],(function(a,b,c,d,e,f,g){"use strict";var h;(h||d("react")).useCallback;function a(a){var b=d("react-compiler-runtime").c(4),e=a.onHighlightEntry,f=a.onUpArrow;a=c("useCometInternalTypeaheadKeyboardNavigation")();var g=a.onKeyboardUpArrow;b[0]!==e||b[1]!==g||b[2]!==f?(a=function(){g(e),f&&f()},b[0]=e,b[1]=g,b[2]=f,b[3]=a):a=b[3];return a}g["default"]=a}),98);
__d("useCometTypeaheadInternalLayoutInlineStrategyHandlers",["react","react-compiler-runtime","useCometTypeaheadLayoutStrategyOnBlurHandler","useCometTypeaheadLayoutStrategyOnChangeHandler","useCometTypeaheadLayoutStrategyOnDownArrowHandler","useCometTypeaheadLayoutStrategyOnEnterHandler","useCometTypeaheadLayoutStrategyOnHighlightEntryHandler","useCometTypeaheadLayoutStrategyOnLeftArrowHandler","useCometTypeaheadLayoutStrategyOnOutsideClickHandler","useCometTypeaheadLayoutStrategyOnPressEntryHandler","useCometTypeaheadLayoutStrategyOnRightArrowHandler","useCometTypeaheadLayoutStrategyOnUpArrowHandler"],(function(a,b,c,d,e,f,g){"use strict";var h;(h||d("react")).useCallback;function a(a){var b=d("react-compiler-runtime").c(42),e=a.inputRef,f=a.onBlur,g=a.onChange,h=a.onDownArrow,i=a.onEnter,j=a.onEscape,k=a.onHighlightEntry,l=a.onLeftArrow,m=a.onOutsideClick,n=a.onPressEntry,o=a.onRightArrow;a=a.onUpArrow;var p;b[0]!==k?(p={onHighlightEntry:k},b[0]=k,b[1]=p):p=b[1];k=c("useCometTypeaheadLayoutStrategyOnHighlightEntryHandler")(p);b[2]!==f?(p={onBlur:f},b[2]=f,b[3]=p):p=b[3];f=c("useCometTypeaheadLayoutStrategyOnBlurHandler")(p);b[4]!==k||b[5]!==g?(p={onChange:g,onHighlightEntry:k},b[4]=k,b[5]=g,b[6]=p):p=b[6];var q=c("useCometTypeaheadLayoutStrategyOnChangeHandler")(p);b[7]!==e||b[8]!==i?(g={inputRef:e,onEnter:i},b[7]=e,b[8]=i,b[9]=g):g=b[9];p=c("useCometTypeaheadLayoutStrategyOnEnterHandler")(g);b[10]!==q||b[11]!==j?(i=function(){q(""),j&&j()},b[10]=q,b[11]=j,b[12]=i):i=b[12];g=i;b[13]!==k||b[14]!==h?(i={onDownArrow:h,onHighlightEntry:k},b[13]=k,b[14]=h,b[15]=i):i=b[15];h=c("useCometTypeaheadLayoutStrategyOnDownArrowHandler")(i);b[16]!==k||b[17]!==a?(i={onHighlightEntry:k,onUpArrow:a},b[16]=k,b[17]=a,b[18]=i):i=b[18];a=c("useCometTypeaheadLayoutStrategyOnUpArrowHandler")(i);b[19]!==n?(i={onPressEntry:n},b[19]=n,b[20]=i):i=b[20];n=c("useCometTypeaheadLayoutStrategyOnPressEntryHandler")(i);b[21]!==e||b[22]!==m?(i={inputRef:e,onOutsideClick:m},b[21]=e,b[22]=m,b[23]=i):i=b[23];e=c("useCometTypeaheadLayoutStrategyOnOutsideClickHandler")(i);b[24]!==k||b[25]!==l?(m={onHighlightEntry:k,onLeftArrow:l},b[24]=k,b[25]=l,b[26]=m):m=b[26];i=c("useCometTypeaheadLayoutStrategyOnLeftArrowHandler")(m);b[27]!==k||b[28]!==o?(l={onHighlightEntry:k,onRightArrow:o},b[27]=k,b[28]=o,b[29]=l):l=b[29];m=c("useCometTypeaheadLayoutStrategyOnRightArrowHandler")(l);b[30]!==f||b[31]!==q||b[32]!==h||b[33]!==p||b[34]!==g||b[35]!==k||b[36]!==i||b[37]!==e||b[38]!==n||b[39]!==m||b[40]!==a?(o={onBlur:f,onChange:q,onDownArrow:h,onEnter:p,onEscape:g,onHighlightEntry:k,onLeftArrow:i,onOutsideClick:e,onPressEntry:n,onRightArrow:m,onUpArrow:a},b[30]=f,b[31]=q,b[32]=h,b[33]=p,b[34]=g,b[35]=k,b[36]=i,b[37]=e,b[38]=n,b[39]=m,b[40]=a,b[41]=o):o=b[41];return o}g["default"]=a}),98);
__d("useCometTypeaheadInternalLayoutContextualStrategyHandlers",["react","react-compiler-runtime","useBaseTypeaheadLayoutContextualStrategyStateContext","useCometInternalTypeaheadState","useCometTypeaheadInternalLayoutInlineStrategyHandlers"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");b.useCallback;b.useMemo;function a(a){var b=d("react-compiler-runtime").c(76),e=a.handlers,f=a.inputRef,g=a.shouldCloseOnEnter;a=a.shouldHandleCloseAfterHandlePressEntry;var h,i,j,k,l,m;b[0]!==e?(i=e.onAbandonTypeahead_DO_NOT_USE,j=e.onClick,k=e.onOutsideClick,l=e.onShiftTab,m=e.onTab,h=babelHelpers.objectWithoutPropertiesLoose(e,["onAbandonTypeahead_DO_NOT_USE","onClick","onOutsideClick","onShiftTab","onTab"]),b[0]=e,b[1]=h,b[2]=i,b[3]=j,b[4]=k,b[5]=l,b[6]=m):(h=b[1],i=b[2],j=b[3],k=b[4],l=b[5],m=b[6]);var n=g===void 0?!0:g,o=a===void 0?!1:a;e=c("useBaseTypeaheadLayoutContextualStrategyStateContext")();var p=e.dispatchIsOpened,q=e.isOpened;g=c("useCometInternalTypeaheadState")();var r=g.highlightedEntry,s=g.secondaryActionHighlighted;b[7]!==p||b[8]!==k?(a=function(){p(!1),k&&k()},b[7]=p,b[8]=k,b[9]=a):a=b[9];e=a;b[10]!==e||b[11]!==h||b[12]!==f?(g=babelHelpers["extends"]({inputRef:f,onOutsideClick:e},h),b[10]=e,b[11]=h,b[12]=f,b[13]=g):g=b[13];a=c("useCometTypeaheadInternalLayoutInlineStrategyHandlers")(g);e=a.onBlur;var t=a.onChange,u=a.onDownArrow,v=a.onEnter,w=a.onEscape;f=a.onHighlightEntry;var x=a.onLeftArrow;g=a.onOutsideClick;var y=a.onPressEntry,z=a.onRightArrow,A=a.onUpArrow;b[14]!==p||b[15]!==i?(a=function(){p(!1),i&&i()},b[14]=p,b[15]=i,b[16]=a):a=b[16];a=a;var B;b[17]!==p||b[18]!==j?(B=function(){p(!0),j&&j()},b[17]=p,b[18]=j,b[19]=B):B=b[19];B=B;var C;b[20]!==p||b[21]!==t?(C=function(a,b){p(!0),t&&t(a,b)},b[20]=p,b[21]=t,b[22]=C):C=b[22];C=C;var D;b[23]!==p||b[24]!==q||b[25]!==u?(D=function(){q?u&&u():p(!0)},b[23]=p,b[24]=q,b[25]=u,b[26]=D):D=b[26];D=D;var E;b[27]!==p||b[28]!==q||b[29]!==x?(E=x!=null?function(){x!=null&&(q?x():p(!0))}:void 0,b[27]=p,b[28]=q,b[29]=x,b[30]=E):E=b[30];E=E;E=E;var F;b[31]!==p||b[32]!==q||b[33]!==z?(F=z!=null?function(){z!=null&&(q?z():p(!0))}:void 0,b[31]=p,b[32]=q,b[33]=z,b[34]=F):F=b[34];F=F;F=F;var G;b[35]!==p||b[36]!==r||b[37]!==v||b[38]!==s||b[39]!==n?(G=function(){s!==!0&&((n||r!=null&&!n)&&p(!1)),v&&v()},b[35]=p,b[36]=r,b[37]=v,b[38]=s,b[39]=n,b[40]=G):G=b[40];G=G;var H;b[41]!==p||b[42]!==h||b[43]!==q||b[44]!==w?(H=function(){q?(p(!1),h.onEscape&&h.onEscape()):w&&w()},b[41]=p,b[42]=h,b[43]=q,b[44]=w,b[45]=H):H=b[45];H=H;var I;b[46]!==p||b[47]!==y||b[48]!==o?(I=function(a,b){o||p(!1),y&&y(a,b),o&&p(!1)},b[46]=p,b[47]=y,b[48]=o,b[49]=I):I=b[49];I=I;var J;b[50]!==p||b[51]!==l?(J=function(){p(!1),l&&l()},b[50]=p,b[51]=l,b[52]=J):J=b[52];J=J;var K;b[53]!==p||b[54]!==m?(K=function(){p(!1),m&&m()},b[53]=p,b[54]=m,b[55]=K):K=b[55];K=K;var L;b[56]!==p||b[57]!==q||b[58]!==A?(L=function(){!q?p(!0):A&&A()},b[56]=p,b[57]=q,b[58]=A,b[59]=L):L=b[59];L=L;var M;b[60]!==a||b[61]!==C||b[62]!==B||b[63]!==D||b[64]!==G||b[65]!==H||b[66]!==E||b[67]!==I||b[68]!==F||b[69]!==J||b[70]!==K||b[71]!==L||b[72]!==e||b[73]!==f||b[74]!==g?(M={onAbandonTypeahead_DO_NOT_USE:a,onBlur:e,onChange:C,onClick:B,onDownArrow:D,onEnter:G,onEscape:H,onHighlightEntry:f,onLeftArrow:E,onOutsideClick:g,onPressEntry:I,onRightArrow:F,onShiftTab:J,onTab:K,onUpArrow:L},b[60]=a,b[61]=C,b[62]=B,b[63]=D,b[64]=G,b[65]=H,b[66]=E,b[67]=I,b[68]=F,b[69]=J,b[70]=K,b[71]=L,b[72]=e,b[73]=f,b[74]=g,b[75]=M):M=b[75];return M}g["default"]=a}),98);
__d("CometTypeaheadLayoutContextualStrategy.react",["CometTypeaheadHelperText.react","CometTypeaheadInternalLayoutContextualStrategy.react","react","react-compiler-runtime","useBaseTypeaheadLayoutContextualStrategyStateContext","useCometInternalTypeaheadFetch","useCometInternalTypeaheadState","useCometTypeaheadInputRefs","useCometTypeaheadInternalLayoutContextualStrategyHandlers","useCometTypeaheadLayoutContextualStrategyARIAProps","useCometTypeaheadLayoutStrategyStyles"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");({backgroundColor:"var(--card-background)",borderRadius:8,boxShadow:"0 12px 12px var(--shadow-2), inset 0 0 0 1px var(--shadow-inset)",boxSizing:"border-box",display:"flex",flexDirection:"column",flexGrow:1,marginTop:2});var j={adjustedView:{backgroundColor:"x1jx94hy",borderTopStartRadius:"x1lq5wgf",borderTopEndRadius:"xgqcy7u",borderBottomEndRadius:"x30kzoy",borderBottomStartRadius:"x9jhf4c",boxShadow:"xbsqzb3",boxSizing:"x9f619",display:"x78zum5",flexDirection:"xdt5ytf",flexGrow:"x1iyjqo2",marginTop:"xr9ek0c",marginStart:"xxtu6n8",width:"x5ox5g8",$$css:!0},view:{backgroundColor:"x1jx94hy",borderTopStartRadius:"x1lq5wgf",borderTopEndRadius:"xgqcy7u",borderBottomEndRadius:"x30kzoy",borderBottomStartRadius:"x9jhf4c",boxShadow:"xbsqzb3",boxSizing:"x9f619",display:"x78zum5",flexDirection:"xdt5ytf",flexGrow:"x1iyjqo2",marginTop:"xr9ek0c",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(84),e,f,g,h,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C;b[0]!==a?(x=a.extraLayoutProps,f=a.helperText,g=a.label,h=a.onAbandonTypeahead_DO_NOT_USE,k=a.onBlur,l=a.onChange,m=a.onClick,n=a.onDownArrow,o=a.onEnter,p=a.onEscape,q=a.onHighlightEntry,r=a.onOutsideClick,s=a.onPressEntry,t=a.onShiftTab,u=a.onTab,v=a.onUpArrow,C=a.viewRole,e=a.inputRef,y=a.shouldHandleCloseAfterHandlePressEntry,z=a.shouldCloseOnEnter,A=a.useAdjustedView,B=a.xstyles,w=babelHelpers.objectWithoutPropertiesLoose(a,["extraLayoutProps","helperText","label","onAbandonTypeahead_DO_NOT_USE","onBlur","onChange","onClick","onDownArrow","onEnter","onEscape","onHighlightEntry","onOutsideClick","onPressEntry","onShiftTab","onTab","onUpArrow","viewRole","inputRef","shouldHandleCloseAfterHandlePressEntry","shouldCloseOnEnter","useAdjustedView","xstyles"]),b[0]=a,b[1]=e,b[2]=f,b[3]=g,b[4]=h,b[5]=k,b[6]=l,b[7]=m,b[8]=n,b[9]=o,b[10]=p,b[11]=q,b[12]=r,b[13]=s,b[14]=t,b[15]=u,b[16]=v,b[17]=w,b[18]=x,b[19]=y,b[20]=z,b[21]=A,b[22]=B,b[23]=C):(e=b[1],f=b[2],g=b[3],h=b[4],k=b[5],l=b[6],m=b[7],n=b[8],o=b[9],p=b[10],q=b[11],r=b[12],s=b[13],t=b[14],u=b[15],v=b[16],w=b[17],x=b[18],y=b[19],z=b[20],A=b[21],B=b[22],C=b[23]);b[24]!==x?(a=x===void 0?{}:x,b[24]=x,b[25]=a):a=b[25];x=a;a=x.afterViewContent;x=x.beforeViewContent;y=y===void 0?!1:y;z=z===void 0?!0:z;A=A===void 0?!1:A;var D;b[26]!==B?(D=B===void 0?{}:B,b[26]=B,b[27]=D):D=b[27];var E;if(b[28]!==D){B=D;E=B.viewXStyle_DO_NOT_USE;B=babelHelpers.objectWithoutPropertiesLoose(B,["viewXStyle_DO_NOT_USE"]);b[28]=D;b[29]=E;b[30]=B}else E=b[29],B=b[30];D=c("useCometInternalTypeaheadFetch")();D=D.isLoading;var F=c("useBaseTypeaheadLayoutContextualStrategyStateContext")();F=F.isOpened;var G=c("useCometInternalTypeaheadState")(),H=G.activeEntries;G=G.highlightedEntry;e=c("useCometTypeaheadInputRefs")(e);var I=e.composedRef;e=e.inputRef;var J;b[31]!==h||b[32]!==k||b[33]!==l||b[34]!==m||b[35]!==n||b[36]!==o||b[37]!==p||b[38]!==q||b[39]!==r||b[40]!==s||b[41]!==t||b[42]!==u||b[43]!==v?(J={onAbandonTypeahead_DO_NOT_USE:h,onBlur:k,onChange:l,onClick:m,onDownArrow:n,onEnter:o,onEscape:p,onHighlightEntry:q,onOutsideClick:r,onPressEntry:s,onShiftTab:t,onTab:u,onUpArrow:v},b[31]=h,b[32]=k,b[33]=l,b[34]=m,b[35]=n,b[36]=o,b[37]=p,b[38]=q,b[39]=r,b[40]=s,b[41]=t,b[42]=u,b[43]=v,b[44]=J):J=b[44];b[45]!==e||b[46]!==z||b[47]!==y||b[48]!==J?(h={handlers:J,inputRef:e,shouldCloseOnEnter:z,shouldHandleCloseAfterHandlePressEntry:y},b[45]=e,b[46]=z,b[47]=y,b[48]=J,b[49]=h):h=b[49];k=c("useCometTypeaheadInternalLayoutContextualStrategyHandlers")(h);b[50]!==H||b[51]!==f||b[52]!==G||b[53]!==F||b[54]!==g||b[55]!==C?(l={activeEntries:H,helperText:f,highlightedEntry:G,inputLabel:g,isOpened:F,viewRole:C},b[50]=H,b[51]=f,b[52]=G,b[53]=F,b[54]=g,b[55]=C,b[56]=l):l=b[56];m=c("useCometTypeaheadLayoutContextualStrategyARIAProps")(l);n=A?j.adjustedView:j.view;b[57]!==n||b[58]!==E?(o=[n,E],b[57]=n,b[58]=E,b[59]=o):o=b[59];b[60]!==o||b[61]!==B?(p=babelHelpers["extends"]({viewXStyle_DO_NOT_USE:o},B),b[60]=o,b[61]=B,b[62]=p):p=b[62];b[63]!==F||b[64]!==p?(q={isOpened:F,xstyles:p},b[63]=F,b[64]=p,b[65]=q):q=b[65];r=c("useCometTypeaheadLayoutStrategyStyles")(q);b[66]!==f?(s=f!=null?i.jsx(c("CometTypeaheadHelperText.react"),{text:f}):null,b[66]=f,b[67]=s):s=b[67];b[68]!==a||b[69]!==m||b[70]!==x||b[71]!==D||b[72]!==F||b[73]!==s?(t={afterViewContent:a,ariaProps:m,beforeViewContent:x,helperTextComponent:s,isLoading:D,isOpened:F},b[68]=a,b[69]=m,b[70]=x,b[71]=D,b[72]=F,b[73]=s,b[74]=t):t=b[74];b[75]!==I||b[76]!==k||b[77]!==f||b[78]!==g||b[79]!==w||b[80]!==r||b[81]!==t||b[82]!==C?(u=i.jsx(c("CometTypeaheadInternalLayoutContextualStrategy.react"),babelHelpers["extends"]({},w,k,{extraLayoutProps:t,helperText:f,inputRef:I,label:g,viewRole:C,xstyles:r})),b[75]=I,b[76]=k,b[77]=f,b[78]=g,b[79]=w,b[80]=r,b[81]=t,b[82]=C,b[83]=u):u=b[83];return u}g["default"]=a}),98);
__d("useCometTypeaheadEmptyState",["CometInternalTypeaheadEmptyFetchContext","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useContext;function a(){return i(c("CometInternalTypeaheadEmptyFetchContext"))}g["default"]=a}),98);
__d("CometTypeaheadViewEmptyState.react",["FDSText.react","react","react-compiler-runtime","react-strict-dom","useCometTypeaheadEmptyState"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={root:{alignItems:"x6s0dn4",display:"x78zum5",height:"xc9qbxq",justifyContent:"xl56j7k",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(5),e=a.children,f=a.color;a=a.xstyle;f=f===void 0?"tertiary":f;var g=c("useCometTypeaheadEmptyState")(),h;b[0]!==e||b[1]!==f||b[2]!==g||b[3]!==a?(h=g?i.jsx(d("react-strict-dom").html.div,{"aria-live":"polite","aria-selected":!1,"data-testid":void 0,role:"option",style:[j.root,a],children:i.jsx(c("FDSText.react"),{color:f,numberOfLines:1,type:"body3",children:e})}):null,b[0]=e,b[1]=f,b[2]=g,b[3]=a,b[4]=h):h=b[4];return h}g["default"]=a}),98);
__d("findCometScrollableLayoutActiveNode",[],(function(a,b,c,d,e,f){"use strict";function g(a){if(a==null)return null;if(a.tagName==="LI")return a.getAttribute("aria-selected")==="true"?a:null;return a.children==null?null:Array.from(a.children).reduce(function(a,b){return(a=a)!=null?a:g(b)},null)}f["default"]=g}),66);
__d("useCometTypeaheadKeyboardForScrollableArea",["findCometScrollableLayoutActiveNode","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useEffect,j=b.useRef;function a(a){var b=d("react-compiler-runtime").c(3),e=j(null),f;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(f=function(){var a;(a=c("findCometScrollableLayoutActiveNode")((a=e.current)==null?void 0:a.getDOMNode()))==null?void 0:a.scrollIntoView({behavior:"smooth",block:"nearest"})},b[0]=f):f=b[0];var g;b[1]!==a?(g=[a],b[1]=a,b[2]=g):g=b[2];i(f,g);return e}g["default"]=a}),98);
__d("useCometTypeaheadNavigate",["CometProductAttributionContext","goForceFullPageRedirectTo","isCometRouterUrl","react","react-compiler-runtime","useCometRouterDispatcher"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");b.useCallback;var i=b.useContext;function a(a){var b=d("react-compiler-runtime").c(5),e=c("useCometRouterDispatcher")(),f=i(c("CometProductAttributionContext")),g;b[0]!==e||b[1]!==f||b[2]!==(a==null?void 0:a.openNewTabForExternalLink)||b[3]!==(a==null?void 0:a.tapPoint)?(g=function(b,d){if(b==null)return;if(e!=null){var g;g={fromLink:{tap_point:(g=a==null?void 0:a.tapPoint)!=null?g:"tap_scoped_search_bar"},linkContext:f};c("isCometRouterUrl")(b)?e.go(b,{productAttributionUpdateProps:g}):(a==null?void 0:a.openNewTabForExternalLink)===!0?e.go(b,{}):c("goForceFullPageRedirectTo")(b)}else d&&d(b)},b[0]=e,b[1]=f,b[2]=a==null?void 0:a.openNewTabForExternalLink,b[3]=a==null?void 0:a.tapPoint,b[4]=g):g=b[4];a==null?void 0:a.openNewTabForExternalLink;a==null?void 0:a.tapPoint;return g}g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("BaseTypeaheadInMemoryListDataCache",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1=[]}var b=a.prototype;b.clear=function(){this.$1=[]};b.get=function(a){var b=this.$1.find(function(b){return b.key===a});return b?b.value:null};b.has=function(a){return this.$1.some(function(b){return b.key===a})};b.set=function(a,b){var c=this.$1.findIndex(function(b){return b.key===a});if(c===-1){this.$1.push({key:a,value:b});return}this.$1[c]={key:a,value:b}};b.remove=function(a){var b=this.$1.findIndex(function(b){return b.key===a});this.$1.splice(b,1)};b.values=function(){return this.$1.map(function(a){return a.value})};return a}();f["default"]=a}),66);
__d("CometAddTypeaheadRecentSearchMutation_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="9552671701468719"}),null);
__d("CometAddTypeaheadRecentSearchMutation.graphql",["CometAddTypeaheadRecentSearchMutation_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input"}],c=[{alias:null,args:[{kind:"Variable",name:"data",variableName:"input"}],concreteType:"SearchTypeaheadAddRecentSearchResponsePayload",kind:"LinkedField",name:"search_typeahead_add_recent_search",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"client_mutation_id",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"CometAddTypeaheadRecentSearchMutation",selections:c,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"CometAddTypeaheadRecentSearchMutation",selections:c},params:{id:b("CometAddTypeaheadRecentSearchMutation_facebookRelayOperation"),metadata:{},name:"CometAddTypeaheadRecentSearchMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("RelayModernOrCometRelay",["cr:1012418"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:1012418")}),98);
__d("CometAddTypeaheadRecentSearchMutation",["CometAddTypeaheadRecentSearchMutation.graphql","RelayModernOrCometRelay"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h!==void 0?h:h=b("CometAddTypeaheadRecentSearchMutation.graphql");function a(a){var b=a.onBeforeCommitMutation,d=a.onError,e=a.onSuccess,f=a.relayEnvironment,g=a.searchScopeEntityID,h=a.selectedID,j=a.selectedText,k=a.selectedType,l=a.source,m=a.stsDirectNavType,n=a.stsDisambiguationType,o=a.stsHighConfidenceSource,p=a.userID;a=a.userInput;b&&b();c("RelayModernOrCometRelay").commitMutation(f,{mutation:i,onCompleted:function(a,b){b&&b.length?d&&d(new Error("Payload errors while executing `addTypeaheadRecentSearchMutation`.")):e&&e(a)},onError:d,variables:{input:babelHelpers["extends"]({},p!=null?{actor_id:p}:null,{search_scope_entity_id:g,selected_id:h,selected_text:j,selected_type:k,source:l,sts_direct_nav_type_for_graphql:m,sts_disambiguation_type_for_graphql:n,sts_high_confidence_source_for_graphql:o,user_input:a})}})}g.commit=a}),98);
__d("CometDeleteRecentSearchMutation_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="9360833174026215"}),null);
__d("CometDeleteRecentSearchMutation.graphql",["CometDeleteRecentSearchMutation_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input"}],c=[{alias:null,args:[{kind:"Variable",name:"data",variableName:"input"}],concreteType:"SearchTypeaheadDeleteRecentResponsePayload",kind:"LinkedField",name:"search_typeahead_delete_recent",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"client_mutation_id",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"CometDeleteRecentSearchMutation",selections:c,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"CometDeleteRecentSearchMutation",selections:c},params:{id:b("CometDeleteRecentSearchMutation_facebookRelayOperation"),metadata:{},name:"CometDeleteRecentSearchMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("CometDeleteRecentSearchMutation",["CometDeleteRecentSearchMutation.graphql","RelayModernOrCometRelay"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h!==void 0?h:h=b("CometDeleteRecentSearchMutation.graphql");function a(a){var b=a.onBeforeCommitMutation,d=a.onError,e=a.onSuccess,f=a.relayEnvironment,g=a.searchEntityType,h=a.searchText;a=a.userID;b&&b();c("RelayModernOrCometRelay").commitMutation(f,{mutation:i,onCompleted:function(a,b){b&&b.length?d&&d(new Error("Payloads error while executing `deleteSearchMutation`.")):e&&e(a)},onError:d,variables:{input:babelHelpers["extends"]({},a!=null?{actor_id:a}:null,{search_entity_type:g,search_text:h})}})}g.commit=a}),98);
__d("CometSearchBootstrapKeywordsDataSourceQuery.graphql",["relay-runtime"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"first"}],b=[{kind:"Variable",name:"first",variableName:"first"}],c={alias:null,args:null,kind:"ScalarField",name:"keyword_text",storageKey:null},d={alias:null,args:null,kind:"ScalarField",name:"item_logging_id",storageKey:null},e={alias:null,args:null,kind:"ScalarField",name:"item_logging_info",storageKey:null},f={alias:null,args:null,kind:"ScalarField",name:"link_url",storageKey:null},g={alias:null,args:null,kind:"ScalarField",name:"snippet",storageKey:null},h={alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null};g=[{alias:null,args:null,concreteType:"STSDirectNavResult",kind:"LinkedField",name:"direct_nav_result",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"ent_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"img_url",storageKey:null},f,{alias:null,args:null,kind:"ScalarField",name:"entity_type",storageKey:null},g,h,i],storageKey:null},{alias:null,args:null,concreteType:"STSHighConfidenceResult",kind:"LinkedField",name:"high_confidence_result",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"hcm_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"picture_url",storageKey:null},g,{alias:null,args:null,kind:"ScalarField",name:"source_as_enum",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"STSDisambiguationResult",kind:"LinkedField",name:"disambiguation_result",plural:!1,selections:[h,{alias:null,args:null,concreteType:"STSDisambiguationInfo",kind:"LinkedField",name:"disambiguation_info_list",plural:!0,selections:[{alias:"snippet",args:null,kind:"ScalarField",name:"text",storageKey:null},f,i],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"TypeaheadBadgeInfo",kind:"LinkedField",name:"badge_info",plural:!1,selections:[{alias:"badge_text",args:null,kind:"ScalarField",name:"text",storageKey:null}],storageKey:null}];h={alias:null,args:null,concreteType:"SearchTypeaheadSuggestionKeys",kind:"LinkedField",name:"suggestion_keys",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"tier",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"keys",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"default_key",storageKey:null}],storageKey:null};return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"CometSearchBootstrapKeywordsDataSourceQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:b,concreteType:"BootstrapKeywordsConnection",kind:"LinkedField",name:"bootstrap_keywords",plural:!1,selections:[{alias:null,args:null,concreteType:"BootstrapKeywordsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"BootstrapResult",kind:"LinkedField",name:"node",plural:!1,selections:[c,d,e,{alias:null,args:null,concreteType:"StructuredTypeaheadInfo",kind:"LinkedField",name:"sts_info",plural:!1,selections:[{kind:"InlineDataFragmentSpread",name:"getSearchCometKeywordDataSourceStructuredInfoForEntry_structuredTypeaheadInfo",selections:g,args:null,argumentDefinitions:[]}],storageKey:null},h],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"CometSearchBootstrapKeywordsDataSourceQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:b,concreteType:"BootstrapKeywordsConnection",kind:"LinkedField",name:"bootstrap_keywords",plural:!1,selections:[{alias:null,args:null,concreteType:"BootstrapKeywordsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"BootstrapResult",kind:"LinkedField",name:"node",plural:!1,selections:[c,d,e,{alias:null,args:null,concreteType:"StructuredTypeaheadInfo",kind:"LinkedField",name:"sts_info",plural:!1,selections:g,storageKey:null},h],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}]},params:{id:"29156638353980166",metadata:{},name:"CometSearchBootstrapKeywordsDataSourceQuery",operationKind:"query",text:null}}}();b("relay-runtime").PreloadableQueryRegistry.set(a.params.id,a);e.exports=a}),null);
__d("getSearchCometKeywordDataSourceStructuredInfoForEntry_structuredTypeaheadInfo.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"InlineDataFragment",name:"getSearchCometKeywordDataSourceStructuredInfoForEntry_structuredTypeaheadInfo"};e.exports=a}),null);
__d("getSearchCometKeywordDataSourceStructuredSuggestionKey",[],(function(a,b,c,d,e,f){"use strict";function a(a){var b;if(((b=a.direct_nav_result)==null?void 0:b.ent_id)!=null){return"dir_nav_sts:"+((b=a.direct_nav_result)==null?void 0:b.ent_id)}if(((b=a.high_confidence_result)==null?void 0:b.hcm_id)!=null){return"hc_sts:"+((b=a.high_confidence_result)==null?void 0:b.hcm_id)}return((b=a.disambiguation_result)==null?void 0:b.title)!=null&&((b=a.disambiguation_result)==null?void 0:(b=b.disambiguation_info_list[0])==null?void 0:b.type)!=null?a.disambiguation_result.disambiguation_info_list[0].type+":"+a.disambiguation_result.title:null}f["default"]=a}),66);
__d("getSearchCometKeywordDataSourceStructuredInfoForEntry",["CometRelay","getSearchCometKeywordDataSourceStructuredInfoForEntry_structuredTypeaheadInfo.graphql","getSearchCometKeywordDataSourceStructuredSuggestionKey"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){a=a.structuredTypeaheadInfo;if(a==null)return{entryKey:null,extraLoggingInfo:null,label:null,markers:[],structuredInfo:null};a=d("CometRelay").readInlineData(h!==void 0?h:h=b("getSearchCometKeywordDataSourceStructuredInfoForEntry_structuredTypeaheadInfo.graphql"),a);var e=a.badge_info,f=a.direct_nav_result,g=a.disambiguation_result;a=a.high_confidence_result;var i=[],j,k,l;if(f!=null){i=["direct_nav"];var m=f.ent_id,n=f.entity_type,o=f.img_url,p=f.link_url,q=f.snippet,r=f.title;f=f.type;l=r;j={direct_nav_result:{ent_id:m,entity_type:n,img_url:o,link_url:p,snippet:q,title:r,type:f}};k={stsDirectNavEntityID:m,stsDirectNavEntityType:n,stsDirectNavType:f}}if(a!=null){i=["high_confidence"];o=a.hcm_id;p=a.picture_url;q=a.snippet;r=a.source_as_enum;m=a.text;l=m;j={high_confidence_result:{hcm_id:o,picture_url:p,snippet:q,source_as_enum:r,text:m}};k={stsHighConfidenceID:o,stsHighConfidenceSource:r}}if(g!=null){i=["disambiguation"];n=g.disambiguation_info_list;f=g.title;l=f;j={disambiguation_result:{disambiguation_info_list:n,title:f}};k={stsDisambiguationType:n[0].type}}return{badgeSnippet:(a=e==null?void 0:e.badge_text)!=null?a:void 0,entryKey:j!=null?c("getSearchCometKeywordDataSourceStructuredSuggestionKey")(j):null,extraLoggingInfo:k,label:l,markers:i,structuredInfo:j}}g["default"]=a}),98);
__d("CometSearchBootstrapKeywordsDataSource.query",["CometSearchBootstrapKeywordsDataSourceQuery.graphql","filterNulls","getSearchCometKeywordDataSourceStructuredInfoForEntry","recoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h;d=h!==void 0?h:h=b("CometSearchBootstrapKeywordsDataSourceQuery.graphql");function a(a){if(!a)return[];a=a.viewer;a=((a=a==null?void 0:(a=a.bootstrap_keywords)==null?void 0:a.edges)!=null?a:[]).map(function(a){return a.node}).filter(Boolean);return c("filterNulls")(a.map(function(a){var b,d=a.item_logging_id,e=a.item_logging_info,f=a.keyword_text,g=a.sts_info;a=a.suggestion_keys;if(f==null){c("recoverableViolation")("Cannot have TA bootstrap entry without keyword_text","search");return null}g=c("getSearchCometKeywordDataSourceStructuredInfoForEntry")({structuredTypeaheadInfo:g});var h=g.badgeSnippet,i=g.entryKey,j=g.extraLoggingInfo,k=g.label,l=g.markers;g=g.structuredInfo;b=(b=a)!=null?b:{};var m=b.default_key,n=b.keys;b=b.tier;return{key:(i=(i=i)!=null?i:g&&(a==null?void 0:a.default_key))!=null?i:f,label:(a=k)!=null?a:f,metaData:{logging:babelHelpers["extends"]({},j,{loggingID:(i=d)!=null?i:"",loggingInfo:e}),markers:new Set(["bootstrap","keyword"].concat(l))},rawData:{badgeSnippet:h,structuredInfo:g,suggestion_keys:b!=null?{default_key:m,keys:n,tier:b}:null},subtype:"bootstrap",type:"entry"}}))}g.query=d;g.normalize=a}),98);
__d("CometSearchBootstrapKeywordsDataSource",["BaseTypeaheadDataCacheProvider","BaseTypeaheadDataProvider","BaseTypeaheadDataProviderQueryVariablesBuilder","BaseTypeaheadInMemoryMapDataCache","BaseTypeaheadPayloadDecoratorAddLimit","CometSearchBootstrapKeywordsDataSource.query","baseTypeaheadStartsWithMatchBuilder","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){var b=a.limit,e=a.queryVariables;a=a.relayEnvironment;this.$2=new(c("BaseTypeaheadDataCacheProvider"))({cache:new(c("BaseTypeaheadInMemoryMapDataCache"))(),matchBuilder:c("baseTypeaheadStartsWithMatchBuilder")});this.$3=b;b=new(c("BaseTypeaheadDataProviderQueryVariablesBuilder"))(function(){return function(){return e}});this.$1=new(c("BaseTypeaheadDataProvider"))({query:d("CometSearchBootstrapKeywordsDataSource.query").query,queryVariablesBuilder:b,relayEnvironment:a})}var b=a.prototype;b.bootstrap=function(){var a=this;c("promiseDone")(this.$1.fetch({query:""}).then(function(a){a=a.response;return d("CometSearchBootstrapKeywordsDataSource.query").normalize(a)}).then(function(b){a.$2.clear(),a.$2.add(b,null)}))};b.fetchCache=function(a){var b=a.query;b=this.$2.match(b);var d=c("BaseTypeaheadPayloadDecoratorAddLimit")(this.$3);return d({entries:b,params:a})};b.clear=function(){this.$2.clear()};b.removeEntriesByEntID=function(a){var b=this.$2.values();for(b of b){var c;a===((c=b.rawData.structuredInfo)==null?void 0:(c=c.direct_nav_result)==null?void 0:c.ent_id)&&this.$2.remove(b)}};return a}();g["default"]=a}),98);
__d("CometSearchKeywordDataSourceQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="29730949296490326"}),null);
__d("CometSearchKeywordDataSourceQuery.graphql",["CometSearchKeywordDataSourceQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"query"}],c=[{kind:"Variable",name:"query",variableName:"query"}],d={alias:"name",args:null,kind:"ScalarField",name:"text",storageKey:null},e={alias:null,args:null,kind:"ScalarField",name:"logging_id",storageKey:null},f={alias:null,args:null,kind:"ScalarField",name:"logging_info",storageKey:null},g={alias:null,args:null,kind:"ScalarField",name:"link_url",storageKey:null},h={alias:null,args:null,kind:"ScalarField",name:"snippet",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},j={alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null};h=[{alias:null,args:null,concreteType:"STSDirectNavResult",kind:"LinkedField",name:"direct_nav_result",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"ent_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"img_url",storageKey:null},g,{alias:null,args:null,kind:"ScalarField",name:"entity_type",storageKey:null},h,i,j],storageKey:null},{alias:null,args:null,concreteType:"STSHighConfidenceResult",kind:"LinkedField",name:"high_confidence_result",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"hcm_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"picture_url",storageKey:null},h,{alias:null,args:null,kind:"ScalarField",name:"source_as_enum",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"STSDisambiguationResult",kind:"LinkedField",name:"disambiguation_result",plural:!1,selections:[i,{alias:null,args:null,concreteType:"STSDisambiguationInfo",kind:"LinkedField",name:"disambiguation_info_list",plural:!0,selections:[{alias:"snippet",args:null,kind:"ScalarField",name:"text",storageKey:null},g,j],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"TypeaheadBadgeInfo",kind:"LinkedField",name:"badge_info",plural:!1,selections:[{alias:"badge_text",args:null,kind:"ScalarField",name:"text",storageKey:null}],storageKey:null}];i={alias:null,args:null,concreteType:"SearchTypeaheadSuggestionKeys",kind:"LinkedField",name:"suggestion_keys",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"tier",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"keys",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"default_key",storageKey:null}],storageKey:null};return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"CometSearchKeywordDataSourceQuery",selections:[{alias:null,args:c,concreteType:"KeywordsSearchSuggestionSet",kind:"LinkedField",name:"search_keywords_suggestion",plural:!1,selections:[{alias:null,args:null,concreteType:"KeywordsSearchSuggestionsConnection",kind:"LinkedField",name:"suggestions",plural:!1,selections:[{alias:null,args:null,concreteType:"KeywordsSearchSuggestionsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"KeywordSuggestionUnit",kind:"LinkedField",name:"node",plural:!1,selections:[d,e,f,{alias:null,args:null,concreteType:"StructuredTypeaheadInfo",kind:"LinkedField",name:"structured_info",plural:!1,selections:[{kind:"InlineDataFragmentSpread",name:"getSearchCometKeywordDataSourceStructuredInfoForEntry_structuredTypeaheadInfo",selections:h,args:null,argumentDefinitions:[]}],storageKey:null},i],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"CometSearchKeywordDataSourceQuery",selections:[{alias:null,args:c,concreteType:"KeywordsSearchSuggestionSet",kind:"LinkedField",name:"search_keywords_suggestion",plural:!1,selections:[{alias:null,args:null,concreteType:"KeywordsSearchSuggestionsConnection",kind:"LinkedField",name:"suggestions",plural:!1,selections:[{alias:null,args:null,concreteType:"KeywordsSearchSuggestionsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"KeywordSuggestionUnit",kind:"LinkedField",name:"node",plural:!1,selections:[d,e,f,{alias:null,args:null,concreteType:"StructuredTypeaheadInfo",kind:"LinkedField",name:"structured_info",plural:!1,selections:h,storageKey:null},i],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}]},params:{id:b("CometSearchKeywordDataSourceQuery_facebookRelayOperation"),metadata:{},name:"CometSearchKeywordDataSourceQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("CometSearchKeywordDataSource.query",["CometSearchKeywordDataSourceQuery.graphql","cometUniqueID","getSearchCometKeywordDataSourceStructuredInfoForEntry"],(function(a,b,c,d,e,f,g){"use strict";var h;d=h!==void 0?h:h=b("CometSearchKeywordDataSourceQuery.graphql");function a(a,b){if(!a)return[];a=a.search_keywords_suggestion;var d=b.query.request_id;a=((a=a==null?void 0:(a=a.suggestions)==null?void 0:a.edges)!=null?a:[]).map(function(a){return a.node}).filter(Boolean);var e;try{b=JSON.parse(b.query.query_text);e=b!=null?b[0]:null}catch(a){}return a.map(function(a){var b,f=a.logging_id,g=a.logging_info,h=a.name,i=a.structured_info;a=a.suggestion_keys;i=c("getSearchCometKeywordDataSourceStructuredInfoForEntry")({structuredTypeaheadInfo:i});var j=i.badgeSnippet,k=i.entryKey,l=i.extraLoggingInfo,m=i.label,n=i.markers;i=i.structuredInfo;b=(b=a)!=null?b:{};var o=b.default_key,p=b.keys;b=b.tier;return{key:(a=(k=(k=k)!=null?k:i&&(a==null?void 0:a.default_key))!=null?k:h)!=null?a:c("cometUniqueID")(),label:(a=(k=m)!=null?k:h)!=null?a:"",metaData:{logging:babelHelpers["extends"]({},l,{loggingID:f,loggingInfo:g,query:e,sequenceID:d}),markers:new Set(["keyword"].concat(n))},rawData:{badgeSnippet:j,structuredInfo:i,suggestion_keys:b!=null?{default_key:o,keys:p,tier:b}:null},subtype:"keyword",type:"entry"}})}g.query=d;g.normalize=a}),98);
__d("cometSearchKeywordDataSourceQueryVariablesBuilder",[],(function(a,b,c,d,e,f){"use strict";var g=10,h="blended";function a(a){return function(b){var c,d=b.loggingEventTrace;b=b.query;c=(c=a)!=null?c:{};var e=c.fetch_count,f=c.fetch_mode;c=c.group_id;c=JSON.stringify(c!=null?[{text:"",type:"group",uid:c},b]:[b]);return{query:{fetch_count:(b=e)!=null?b:g,fetch_mode:(e=f)!=null?e:h,query_text:c,request_id:d==null?void 0:d.sequenceID,session_id:(b=d==null?void 0:d.sessionID)!=null?b:""}}}}f["default"]=a}),66);
__d("CometSearchKeywordDataSource",["BaseCacheEntryKeyBuilder","BaseTypeaheadDataProvider","BaseTypeaheadDataProviderQueryVariablesBuilder","BaseTypeaheadNetworkCacheDataSource","BaseTypeaheadQueryDataCacheProvider","CometSearchKeywordDataSource.query","baseTypeaheadDedupEntriesBuilder","baseTypeaheadLabelSuffixBuilder","cometSearchKeywordDataSourceQueryVariablesBuilder"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){var b=a.dedupe,e=a.onError,f=a.queryVariables;a=a.relayEnvironment;f=new(c("BaseTypeaheadDataProviderQueryVariablesBuilder"))(c("cometSearchKeywordDataSourceQueryVariablesBuilder")).setDefaultVariables(f);e=new(c("BaseTypeaheadDataProvider"))({onError:e,query:d("CometSearchKeywordDataSource.query").query,queryVariablesBuilder:f,relayEnvironment:a});this.$1=new(c("BaseTypeaheadQueryDataCacheProvider"))({dedupe:(f=b)!=null?f:c("baseTypeaheadDedupEntriesBuilder")(c("BaseCacheEntryKeyBuilder")),suffixBuilder:function(){return c("baseTypeaheadLabelSuffixBuilder").apply(void 0,arguments)}});this.$2=new(c("BaseTypeaheadNetworkCacheDataSource"))(e,this.$1,{normalizeFunc:d("CometSearchKeywordDataSource.query").normalize})}var b=a.prototype;b.fetchCache=function(a){return this.$2.fetchCache(a)};b.fetchNetwork=function(a){return this.$2.fetchNetwork(a)};b.clearQueryCache=function(){this.$1.clear()};return a}();g["default"]=a}),98);
__d("searchCometTypeaheadSubtractSections",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){var c=new Set(a.entries.map(function(a){return a.key}));b.entries=b.entries.filter(function(a){return!c.has(a.key)})}f["default"]=a}),66);
__d("searchCometTypeaheadMergeSections",["searchCometTypeaheadSubtractSections"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){c("searchCometTypeaheadSubtractSections")(a,b),b.entries=a.entries.concat(b.entries)}g["default"]=a}),98);
__d("CometSearchRecentDataCacheProvider",["BaseDataEntryLabelKeyBuilder","searchCometTypeaheadMergeSections","searchCometTypeaheadSubtractSections"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){var b=a.cache,d=a.matchBuilder;a=a.keyBuilder;a=a===void 0?c("BaseDataEntryLabelKeyBuilder"):a;this.$1=b;this.$2=d;this.$3=a}var b=a.prototype;b.add=function(a,b,d){var e=this;if(d==="network"){this.$1.clear();[].concat(a).reverse().forEach(function(a){var b=e.$3(a);e.$1.set(b,a)});return}a.forEach(function(a){var b=e.$3(a),d=e.$1.get(b);if(d)if(d.type==="section"&&a.type==="section"){c("searchCometTypeaheadMergeSections")(a,d);return}else e.$1.remove(b);e.$1.set(b,a)})};b.clear=function(){this.$1.clear()};b.remove=function(a){var b=this.$3(a),d=this.$1.get(b);d&&d.type==="section"&&a.type==="section"&&d.entries.length!==0?c("searchCometTypeaheadSubtractSections")(a,d):this.$1.remove(b)};b.match=function(a){var b=this.$2({query:a});return this.$1.values().map(function(a){return babelHelpers["extends"]({},a)}).reverse().filter(function(a){if(a.type==="section"){a.entries=a.entries.filter(b);return!0}else return b(a)})};b.values=function(){return this.$1.values()};return a}();g["default"]=a}),98);
__d("cometSearchNullStateMatchBuilder",[],(function(a,b,c,d,e,f){"use strict";function a(){return function(a){a=a.metaData.markers;return a.has("recent")||a.has("nullstate_explore")||a.has("keyword")}}f["default"]=a}),66);
__d("CometSearchRecentDataSource",["fbt","BaseDataEntryKeyBuilder","BaseTypeaheadDataProvider","BaseTypeaheadDataProviderQueryVariablesBuilder","BaseTypeaheadInMemoryListDataCache","BaseTypeaheadNetworkDataSource","CometAddTypeaheadRecentSearchMutation","CometDeleteRecentSearchMutation","CometSearchRecentDataCacheProvider","Promise","cometSearchNullStateMatchBuilder","filterNulls","qex"],(function(a,b,c,d,e,f,g,h){"use strict";var i;a=function(){var a=e.prototype;a.$8=function(){var a=c("filterNulls")(this.$2.values().map(function(a){return a.type==="section"&&a.subtype==="recent_searches"?a:null}));return a.length!==0?a[0]:null};function e(a){var b=a.activityLogURL,d=a.gqlQuery,e=a.limit,f=a.normalize,g=a.options,h=a.queryVariablesBuilderFunction;a=a.relayEnvironment;this.$4=a;this.$5=e;this.$6=h({query:""}).filter;this.$7=b;a=function(){return h};e=new(c("BaseTypeaheadDataProviderQueryVariablesBuilder"))(a);b=new(c("BaseTypeaheadDataProvider"))({options:g,query:d,queryVariablesBuilder:e,relayEnvironment:this.$4});this.$2=new(c("CometSearchRecentDataCacheProvider"))({cache:new(c("BaseTypeaheadInMemoryListDataCache"))(),keyBuilder:c("BaseDataEntryKeyBuilder"),matchBuilder:c("cometSearchNullStateMatchBuilder")});this.$1=new(c("BaseTypeaheadNetworkDataSource"))(b,f)}a.add=function(a,b,c){c=c===void 0?{}:c;var e=c.onBeforeCommitMutation,f=c.onError;c=c.onSuccess;var g=a.metaData,h=this.$8();h!=null?this.$2.add([babelHelpers["extends"]({},h,{entries:[a]})],""):this.$2.add([a],"");g=(h=g==null?void 0:g.logging)!=null?h:{};h=g.entityID;var i=g.entityType,j=g.searchScopeEntityID,k=g.stsDirectNavEntityID,l=g.stsDirectNavType,m=g.stsDisambiguationType,n=g.stsHighConfidenceID;g=g.stsHighConfidenceSource;d("CometAddTypeaheadRecentSearchMutation").commit({onBeforeCommitMutation:e,onError:f,onSuccess:c,relayEnvironment:this.$4,searchScopeEntityID:j,selectedID:(f=(e=h)!=null?e:k)!=null?f:n,selectedText:a.label.toLowerCase(),selectedType:(c=i)!=null?c:"keyword",source:b,stsDirectNavType:l,stsDisambiguationType:m,stsHighConfidenceSource:g,userInput:a.label.toLowerCase()})};a.bootstrap=function(){var a;a=(a=c("qex")._("1300"))!=null?a:!1;if(a&&this.$6==="all")return;this.fetchNetwork({query:""})};a.fetchCache=function(a){var b=a.query;b=this.$2.match(b);return{entries:b,params:a}};a.fetchNetwork=function(a){var c=this;return this.$3!=null&&this.$3<this.$5?(i||(i=b("Promise"))).resolve({entries:this.$2.match(a.query),params:a}):this.$1.fetchNetwork(a).then(function(b){var d=b.entries;b=b.params.query;d!=null&&(d.forEach(function(a){var b=c.$7;["all","group_scoped_search"].includes(c.$6)&&b!=null&&a.type==="section"&&a.subtype==="recent_searches"&&(a.action={label:h._(/*BTDS*/"Edit"),type:"link",url:b})}),c.$3=d.length,c.$2.add(d,b,"network"));return{entries:c.$2.match(b),params:a}})};a.remove=function(a,b){b=b===void 0?{}:b;var c=b.onBeforeCommitMutation,e=b.onError;b=b.onSuccess;var f=this.$8();f!=null?this.$2.remove(babelHelpers["extends"]({},f,{entries:[a]})):this.$2.remove(a);d("CometDeleteRecentSearchMutation").commit({onBeforeCommitMutation:c,onError:e,onSuccess:b,relayEnvironment:this.$4,searchText:a.label})};a.clear=function(){this.$3=null;var a=this.$8();if(a==null){this.$2.clear();return}a.entries.length!==0&&this.$2.remove(a)};a.refresh=function(){this.clear(),this.fetchNetwork({query:""})};return e}();g["default"]=a}),226);
__d("CometSearchRecentDataSourceQuery.graphql",["relay-runtime"],(function(a,b,c,d,e,f){"use strict";a=function(){var a={defaultValue:null,kind:"LocalArgument",name:"fetch_nullstate"},b={defaultValue:null,kind:"LocalArgument",name:"fetch_recent_searches"},c={defaultValue:null,kind:"LocalArgument",name:"fetch_search_badge"},d={defaultValue:null,kind:"LocalArgument",name:"filter"},e={defaultValue:null,kind:"LocalArgument",name:"first"},f={defaultValue:null,kind:"LocalArgument",name:"scale"},g={defaultValue:null,kind:"LocalArgument",name:"search_null_state_argument"},h={defaultValue:null,kind:"LocalArgument",name:"search_scope_entity_id"},i=[{kind:"Variable",name:"filter",variableName:"filter"},{kind:"Variable",name:"first",variableName:"first"},{kind:"Variable",name:"search_scope_entity_id",variableName:"search_scope_entity_id"}],j={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},k={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},l={kind:"InlineFragment",selections:[{alias:null,args:[{kind:"Variable",name:"scale",variableName:"scale"},{kind:"Literal",name:"width",value:36}],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],storageKey:null}],type:"Profile",abstractKey:"__isProfile"},m=[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],n={kind:"InlineFragment",selections:m,type:"Application",abstractKey:null},o={kind:"InlineFragment",selections:m,type:"Event",abstractKey:null},p={kind:"InlineFragment",selections:m,type:"Group",abstractKey:null},q={kind:"InlineFragment",selections:m,type:"Page",abstractKey:null};m={kind:"InlineFragment",selections:m,type:"User",abstractKey:null};var r={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"link_url",storageKey:null},t={alias:null,args:null,kind:"ScalarField",name:"snippet",storageKey:null},u={alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},v={alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null};u=[{alias:null,args:null,concreteType:"STSDirectNavResult",kind:"LinkedField",name:"direct_nav_result",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"ent_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"img_url",storageKey:null},s,{alias:null,args:null,kind:"ScalarField",name:"entity_type",storageKey:null},t,u,v],storageKey:null},{alias:null,args:null,concreteType:"STSHighConfidenceResult",kind:"LinkedField",name:"high_confidence_result",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"hcm_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"picture_url",storageKey:null},t,{alias:null,args:null,kind:"ScalarField",name:"source_as_enum",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"STSDisambiguationResult",kind:"LinkedField",name:"disambiguation_result",plural:!1,selections:[u,{alias:null,args:null,concreteType:"STSDisambiguationInfo",kind:"LinkedField",name:"disambiguation_info_list",plural:!0,selections:[{alias:"snippet",args:null,kind:"ScalarField",name:"text",storageKey:null},s,v],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"TypeaheadBadgeInfo",kind:"LinkedField",name:"badge_info",plural:!1,selections:[{alias:"badge_text",args:null,kind:"ScalarField",name:"text",storageKey:null}],storageKey:null}];s={alias:null,args:null,concreteType:"StructuredTypeaheadInfo",kind:"LinkedField",name:"sts_info",plural:!1,selections:[{kind:"InlineDataFragmentSpread",name:"getSearchCometKeywordDataSourceStructuredInfoForEntry_structuredTypeaheadInfo",selections:u,args:null,argumentDefinitions:[]}],storageKey:null};v={alias:null,args:null,kind:"ScalarField",name:"item_logging_info",storageKey:null};t={condition:"fetch_search_badge",kind:"Condition",passingValue:!0,selections:[{alias:null,args:null,concreteType:"XFBSearchEntityBadge",kind:"LinkedField",name:"search_badge",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"enabled",storageKey:null},t],storageKey:null}]};var w=[{kind:"Variable",name:"input",variableName:"search_null_state_argument"}],x={alias:null,args:null,kind:"ScalarField",name:"key",storageKey:null},y=[x,{alias:null,args:null,concreteType:"XFBSearchNullStateSectionResult",kind:"LinkedField",name:"result",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"header_text",storageKey:null}],storageKey:null}],z={kind:"InlineFragment",selections:y,type:"XFBSearchNullStateSearchHistoryHeaderRenderingStrategy",abstractKey:null};y={kind:"InlineFragment",selections:y,type:"XFBSearchNullStateGeneralHeaderRenderingStrategy",abstractKey:null};var A={alias:null,args:null,kind:"ScalarField",name:"display_text",storageKey:null},B={alias:"suggestion_logging_info",args:null,concreteType:"XFBSearchSuggestionLoggingSuggestion",kind:"LinkedField",name:"logging_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"fetch_source",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"logging_info",storageKey:null}],storageKey:null};u={alias:null,args:null,concreteType:"StructuredTypeaheadInfo",kind:"LinkedField",name:"sts_info",plural:!1,selections:u,storageKey:null};return{fragment:{argumentDefinitions:[a,b,c,d,e,f,g,h],kind:"Fragment",metadata:null,name:"CometSearchRecentDataSourceQuery",selections:[{condition:"fetch_recent_searches",kind:"Condition",passingValue:!0,selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:i,concreteType:"RecentSearchConnection",kind:"LinkedField",name:"recent_searches",plural:!1,selections:[{alias:null,args:null,concreteType:"RecentSearchEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{kind:"InlineFragment",selections:[j,k],type:"Node",abstractKey:"__isNode"},l,n,o,p,q,m,r,{kind:"InlineFragment",selections:[s,v],type:"GraphSearchQuery",abstractKey:null}],storageKey:null},t],storageKey:null}],storageKey:null}],storageKey:null}]},{condition:"fetch_nullstate",kind:"Condition",passingValue:!0,selections:[{alias:null,args:w,concreteType:"SearchNullStatePage",kind:"LinkedField",name:"search_null_state",plural:!1,selections:[{alias:null,args:null,concreteType:"SearchNullStatePageResultsConnection",kind:"LinkedField",name:"results",plural:!1,selections:[{alias:null,args:null,concreteType:"SearchNullStatePageResultsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"rendering_strategy",plural:!1,selections:[j,z,y,{kind:"InlineFragment",selections:[x,{alias:null,args:null,concreteType:"XFBSearchNullStateSectionResult",kind:"LinkedField",name:"result",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"suggestions",plural:!0,selections:[j,{kind:"InlineFragment",selections:[x,A,s,B],type:"XFBSearchNullStateQuerySuggestion",abstractKey:null}],storageKey:null}],storageKey:null}],type:"XFBSearchNullStateListRenderingStrategy",abstractKey:null}],storageKey:null}],type:"XFBSearchNullStateRenderingStrategyResult",abstractKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}]}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[d,e,f,h,c,g,a,b],kind:"Operation",name:"CometSearchRecentDataSourceQuery",selections:[{condition:"fetch_recent_searches",kind:"Condition",passingValue:!0,selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:i,concreteType:"RecentSearchConnection",kind:"LinkedField",name:"recent_searches",plural:!1,selections:[{alias:null,args:null,concreteType:"RecentSearchEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[j,r,{kind:"InlineFragment",selections:[k],type:"Node",abstractKey:"__isNode"},l,n,o,p,q,m,{kind:"InlineFragment",selections:[u,v],type:"GraphSearchQuery",abstractKey:null}],storageKey:null},t],storageKey:null}],storageKey:null}],storageKey:null}]},{condition:"fetch_nullstate",kind:"Condition",passingValue:!0,selections:[{alias:null,args:w,concreteType:"SearchNullStatePage",kind:"LinkedField",name:"search_null_state",plural:!1,selections:[{alias:null,args:null,concreteType:"SearchNullStatePageResultsConnection",kind:"LinkedField",name:"results",plural:!1,selections:[{alias:null,args:null,concreteType:"SearchNullStatePageResultsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[j,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"rendering_strategy",plural:!1,selections:[j,z,y,{kind:"InlineFragment",selections:[x,{alias:null,args:null,concreteType:"XFBSearchNullStateSectionResult",kind:"LinkedField",name:"result",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"suggestions",plural:!0,selections:[j,{kind:"InlineFragment",selections:[x,A,u,B],type:"XFBSearchNullStateQuerySuggestion",abstractKey:null}],storageKey:null}],storageKey:null}],type:"XFBSearchNullStateListRenderingStrategy",abstractKey:null}],storageKey:null}],type:"XFBSearchNullStateRenderingStrategyResult",abstractKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}]}]},params:{id:"9481428298650330",metadata:{},name:"CometSearchRecentDataSourceQuery",operationKind:"query",text:null}}}();b("relay-runtime").PreloadableQueryRegistry.set(a.params.id,a);e.exports=a}),null);
__d("searchCometIsValidRecentSearchEntityType",[],(function(a,b,c,d,e,f){"use strict";var g=["app","application","event","group","page","user"];function a(a){return g.includes(a==null?void 0:a.toLowerCase())}f["default"]=a}),66);
__d("CometSearchRecentDataSource.query",["fbt","CometSearchRecentDataSourceQuery.graphql","FBLogger","filterNulls","getSearchCometKeywordDataSourceStructuredInfoForEntry","searchCometIsValidRecentSearchEntityType"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j={__typename:"XFBSearchNullStateSearchHistoryHeaderRenderingStrategy",key:"recent-searches",result:{header_text:String(h._(/*BTDS*/"Recent searches"))}};d=i!==void 0?i:i=b("CometSearchRecentDataSourceQuery.graphql");function a(a){var b;if(!a)return[];b=c("filterNulls")(((b=(b=a.search_null_state)==null?void 0:(b=b.results)==null?void 0:b.edges)!=null?b:[{node:{rendering_strategy:j}}]).map(function(a){return(a=a.node)==null?void 0:a.rendering_strategy}));var d=[],e=null;for(b of b){if(b.__typename==="%other")continue;var f=b.key,g=b.result;if(g==null||f==null)continue;g=g.header_text;if(b.__typename==="XFBSearchNullStateSearchHistoryHeaderRenderingStrategy"&&g!=null){var h;d.push({entries:k((h=(h=a.viewer)==null?void 0:(h=h.recent_searches)==null?void 0:h.edges)!=null?h:[]),key:f,label:g,subtype:"recent_searches",type:"section"})}else if(b.__typename==="XFBSearchNullStateGeneralHeaderRenderingStrategy"&&g!=null)e={header_text:g,key:f};else if(b.__typename==="XFBSearchNullStateListRenderingStrategy"&&e!=null){h=e;g=h.header_text;f=h.key;d.push({entries:l(b),key:f,label:g,subtype:"other",type:"section"});e=null}}return d}function k(a){return c("filterNulls")(a.map(function(a){var b=a.node;a=a.search_badge;if(b==null)return null;var d=b.__typename,e=b.id,f=b.item_logging_info,g=b.name,h=b.profile_picture,i=b.sts_info;b=b.url;var j=c("searchCometIsValidRecentSearchEntityType")(d);i=c("getSearchCometKeywordDataSourceStructuredInfoForEntry")({structuredTypeaheadInfo:i});var k=i.extraLoggingInfo,l=i.label,m=i.markers;i=i.structuredInfo;if(g==null){c("FBLogger")("search").mustfix("Missing name for recent search data with __typename: %s",d);return null}var n=g.toLocaleLowerCase();return{hasSecondaryAction:!0,key:n,label:(n=l)!=null?n:g,metaData:{logging:babelHelpers["extends"]({},k,{entityID:j?e:null,entityType:j&&d!=null?d.toLowerCase():null,loggingInfo:f}),markers:new Set(c("filterNulls")(["recent",j?"entity":null].concat(m)))},rawData:{badgeSnippet:(a==null?void 0:a.enabled)===!0?a.snippet:null,profile:j&&e!=null&&(h==null?void 0:h.uri)!=null&&b!=null?{id:e,profilePictureURL:h.uri,url:b}:void 0,structuredInfo:i},subtype:"recent",type:"entry"}}))}function l(a){if(a.__typename!=="XFBSearchNullStateListRenderingStrategy")return[];a=(a=a.result)!=null?a:{};a=a.suggestions;return c("filterNulls")(((a=a)!=null?a:[]).map(function(a){if(a.__typename!=="XFBSearchNullStateQuerySuggestion")return null;var b=a.display_text,d=a.key,e=a.sts_info,f=a.suggestion_logging_info;if(b==null){c("FBLogger")("search").mustfix("Missing name for nullstate suggestion search data with __typename: %s",a.__typename);return null}if(d==null){c("FBLogger")("search").mustfix("Missing key for nullstate suggestion search data with __typename: %s",a.__typename);return null}a=c("getSearchCometKeywordDataSourceStructuredInfoForEntry")({structuredTypeaheadInfo:e});e=a.extraLoggingInfo;var g=a.markers;a=a.structuredInfo;f=(f=f)!=null?f:{};var h=f.fetch_source;f=f.logging_info;return{key:d,label:b,metaData:{logging:babelHelpers["extends"]({fetchSource:h,loggingInfo:((d=f)!=null?d:[])[0]},e),markers:new Set(new Set(["keyword","nullstate_explore"].concat(g)))},rawData:{structuredInfo:a},subtype:"keyword",type:"entry"}}))}g.query=d;g.normalize=a}),226);
__d("CometSearchRecentDataSourceDispatcherContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b=a.createContext();g["default"]=b}),98);
__d("FBNucleusCrossFilled20Icon.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs("svg",babelHelpers["extends"]({viewBox:"0 0 20 20",width:"1em",height:"1em",fill:"currentColor"},a,{children:[a.title!=null&&i.jsx("title",{children:a.title}),a.children!=null&&i.jsx("defs",{children:a.children}),i.jsx("path",{d:"M15.543 3.043a1 1 0 1 1 1.414 1.414L11.414 10l5.543 5.542a1 1 0 0 1-1.414 1.415L10 11.414l-5.543 5.543a1 1 0 0 1-1.414-1.415L8.586 10 3.043 4.457a1 1 0 1 1 1.414-1.414L10 8.586l5.543-5.543z"})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;b=a;g["default"]=b}),98);
__d("CometSearchTypeaheadBaseSurfaceRecentViewItemRemoveButton.react",["fbt","CometPressable.react","CometSearchRecentDataSourceDispatcherContext","FBNucleusCrossFilled20Icon.react","FDSIcon.react","XPlatReactEnvironment","react","react-compiler-runtime","useCometInternalTypeaheadState"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));b=i;b.useCallback;var k=b.useContext,l=b.useState,m={buttonContainer:{alignItems:"x6s0dn4",borderTopStartRadius:"x14yjl9h",borderTopEndRadius:"xudhj91",borderBottomEndRadius:"x18nykt9",borderBottomStartRadius:"xww2gxu",display:"x78zum5",height:"x1fgtraw",justifyContent:"xl56j7k",width:"xgd8bvy",$$css:!0},buttonContainerActive:{boxShadow:"xpud6h4",outline:"x1a2a7pz xvetz19",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(15),e=a.entry;a=a.testid;var f=k(c("CometSearchRecentDataSourceDispatcherContext")),g=l(!1),i=g[0],n=g[1];g=c("useCometInternalTypeaheadState")();var o=g.highlightedEntry;g=g.secondaryActionHighlighted;var p;b[0]!==e||b[1]!==f?(p=function(a){a&&a.type!=="press"&&a.stopPropagation(),n(!0),f==null?void 0:f.dispatchRemoveRecentEntry(e)},b[0]=e,b[1]=f,b[2]=p):p=b[2];p=p;var q;b[3]!==e.label?(q=h._(/*BTDS*/"{search_term}, Delete",[h._param("search_term",e.label)]),b[3]=e.label,b[4]=q):q=b[4];q=q;o=o===e&&g===!0&&m.buttonContainerActive;b[5]!==o?(g=[m.buttonContainer,o],b[5]=o,b[6]=g):g=b[6];b[7]!==q||b[8]!==i?(o=j.jsx(c("FDSIcon.react"),{"aria-label":q,color:"secondary",disabled:i,focusable:!1,icon:c("FBNucleusCrossFilled20Icon.react"),size:d("XPlatReactEnvironment").isWeb()?12:20}),b[7]=q,b[8]=i,b[9]=o):o=b[9];b[10]!==p||b[11]!==g||b[12]!==o||b[13]!==a?(q=j.jsx(c("CometPressable.react"),{dynamicHoverTiltAngle:15,dynamicHoverTranslationPercent:.15,onPress:p,overlayRadius:999,showDynamicHover:!0,testid:void 0,xstyle:g,children:o}),b[10]=p,b[11]=g,b[12]=o,b[13]=a,b[14]=q):q=b[14];return q}g["default"]=a}),226);
__d("CometSearchTypeaheadBaseSurfaceRecentViewItem.react",["CometSearchTypeaheadBaseSurfaceRecentViewItemRemoveButton.react","CometTypeaheadFocusLockRegion.react","CometTypeaheadRecentViewItem.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(9),e,f;b[0]!==a?(e=a.entry,f=babelHelpers.objectWithoutPropertiesLoose(a,["entry"]),b[0]=a,b[1]=e,b[2]=f):(e=b[1],f=b[2]);b[3]!==e?(a=i.jsx(c("CometTypeaheadFocusLockRegion.react"),{children:i.jsx(c("CometSearchTypeaheadBaseSurfaceRecentViewItemRemoveButton.react"),{entry:e,testid:void 0})}),b[3]=e,b[4]=a):a=b[4];var g;b[5]!==e||b[6]!==f||b[7]!==a?(g=i.jsx(c("CometTypeaheadRecentViewItem.react"),babelHelpers["extends"]({},f,{entry:e,itemEndContent:a,itemEndContentKeyboardFocusable:!0,testid:void 0})),b[5]=e,b[6]=f,b[7]=a,b[8]=g):g=b[8];return g}g["default"]=a}),98);
__d("getCometSearchTypeaheadStructuredInfoKey",["getSearchCometKeywordDataSourceStructuredSuggestionKey"],(function(a,b,c,d,e,f,g){"use strict";function a(a){a=a.rawData.structuredInfo;return a==null?null:c("getSearchCometKeywordDataSourceStructuredSuggestionKey")(a)}g["default"]=a}),98);
__d("CometSearchTypeaheadDefaultEntryComparator",["BaseDataEntryLabelKeyBuilder","getCometSearchTypeaheadStructuredInfoKey","recoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";function h(a,b){var d=c("getCometSearchTypeaheadStructuredInfoKey")(a),e=c("getCometSearchTypeaheadStructuredInfoKey")(b);return d!=null&&e!=null?d===e:c("BaseDataEntryLabelKeyBuilder")(a)===c("BaseDataEntryLabelKeyBuilder")(b)}function a(a,b){if(!h(a,b)){c("recoverableViolation")("The suggestions are not dupes: "+a.key+" compared to "+b.key,"search");return a}var d=c("getCometSearchTypeaheadStructuredInfoKey")(a),e=c("getCometSearchTypeaheadStructuredInfoKey")(b);return d!=null&&e!=null?b:e!=null?b:a}g.areEntriesDupes=h;g.pickEntryToKeep=a}),98);
__d("CometSearchTypeaheadServerDrivenEntryComparator",["FBLogger","getCometSearchTypeaheadStructuredInfoKey"],(function(a,b,c,d,e,f,g){"use strict";function h(a){a=(a=a.rawData)!=null?a:{};a=a.suggestion_keys;if(a==null)throw c("FBLogger")("search").mustfixThrow("Unexpected missing keys");return a}function a(a,b){var d=h(a),e=d.default_key;d=d.keys;var f=h(b),g=f.default_key,i=f.keys;if(d.some(function(a){return i.includes(a)}))return!0;f=c("getCometSearchTypeaheadStructuredInfoKey")(a);var k=c("getCometSearchTypeaheadStructuredInfoKey")(b);f!=null&&f===k&&j("STS dupe: same STS UI key but no keys overlap",a,b);if(d.length>0&&i.length>0)return!1;if(e==null||g==null)return!1;e===g&&a.label.toLowerCase()!==b.label.toLowerCase()&&j("STS dupe: same default key but different label",a,b);return e.toLowerCase()===g.toLowerCase()}function b(a,b){var c=h(a);c=c.tier;var d=h(b);d=d.tier;return c<=d?b:a}function i(a){var b=h(a),c=b.default_key;b=b.keys;return"ui key: "+a.key+", keys: "+(b.join(",")||"empty")+", default key: "+((b=c)!=null?b:"null")+", label: "+a.label}function j(a,b,d){c("FBLogger")("search").warn(a+": ("+i(b)+") vs ("+i(d)+")")}g.areEntriesDupes=a;g.pickEntryToKeep=b}),98);
__d("CometTypeaheadEchoViewItem.react",["CometTypeaheadViewItem.react","CometTypeaheadViewItemIcon.react","FDSText.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(18),e,f,g,h;b[0]!==a?(e=a.entry,f=a.isActive,h=a.queryString,g=babelHelpers.objectWithoutPropertiesLoose(a,["entry","isActive","queryString"]),b[0]=a,b[1]=e,b[2]=f,b[3]=g,b[4]=h):(e=b[1],f=b[2],g=b[3],h=b[4]);b[5]!==e.label||b[6]!==f?(a=i.jsx(d("CometTypeaheadViewItemIcon.react").CometTypeaheadViewTypedIcon,{isActive:f,label:e.label}),b[5]=e.label,b[6]=f,b[7]=a):a=b[7];h=String(h);var j;b[8]!==h?(j=h.toLowerCase(),b[8]=h,b[9]=j):j=b[9];b[10]!==j?(h=i.jsx(c("FDSText.react"),{numberOfLines:1,type:"body3",children:j}),b[10]=j,b[11]=h):h=b[11];b[12]!==e||b[13]!==f||b[14]!==g||b[15]!==a||b[16]!==h?(j=i.jsx(c("CometTypeaheadViewItem.react"),babelHelpers["extends"]({},g,{entry:e,isActive:f,itemStartContent:a,children:h})),b[12]=e,b[13]=f,b[14]=g,b[15]=a,b[16]=h,b[17]=j):j=b[17];return j}g["default"]=a}),98);
__d("CometTypeaheadSeeAllViewItem.react",["fbt","CometTypeaheadViewItem.react","FDSIcon.react","FDSMagnifyingGlassFilled16Icon","FDSText.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));i.useMemo;function a(a){var b=d("react-compiler-runtime").c(15),e,f,g,h;b[0]!==a?(e=a.entry,f=a.extraViewItemProps,h=a.queryString,g=babelHelpers.objectWithoutPropertiesLoose(a,["entry","extraViewItemProps","queryString"]),b[0]=a,b[1]=e,b[2]=f,b[3]=g,b[4]=h):(e=b[1],f=b[2],g=b[3],h=b[4]);(a=f)==null?void 0:a.placeholderBuilder;a=(f=(a=f)==null?void 0:a.placeholderBuilder)!=null?f:k;f=a;b[5]===Symbol["for"]("react.memo_cache_sentinel")?(a=j.jsx("div",babelHelpers["extends"]({className:"x6s0dn4 xwnonoy x1o1ewxj x3x9cwd x1e5q0jg x13rtm0m x78zum5 xc9qbxq xl56j7k x14qfxbe"},{children:j.jsx(c("FDSIcon.react"),{color:"white",icon:c("FDSMagnifyingGlassFilled16Icon"),size:16})})),b[5]=a):a=b[5];var i;b[6]!==f||b[7]!==h?(i=f(h),b[6]=f,b[7]=h,b[8]=i):i=b[8];b[9]!==i?(f=j.jsx(c("FDSText.react"),{color:"blueLink",numberOfLines:1,type:"body3",children:i}),b[9]=i,b[10]=f):f=b[10];b[11]!==e||b[12]!==g||b[13]!==f?(h=j.jsx(c("CometTypeaheadViewItem.react"),babelHelpers["extends"]({},g,{entry:e,itemStartContent:a,children:f})),b[11]=e,b[12]=g,b[13]=f,b[14]=h):h=b[14];return h}function k(a){return h._(/*BTDS*/"Search for {=m1}",[h._implicitParam("=m1",j.jsx("strong",{children:h._(/*BTDS*/"{query}",[h._param("query",a.toLowerCase())])}))])}k.displayName=k.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("cometSearchTypeaheadEchoViewItem.resolver",[],(function(a,b,c,d,e,f){"use strict";function a(a){var b=a.metaData.markers;return b.has("echo")?a:null}f["default"]=a}),66);
__d("cometSearchTypeaheadKeywordViewItem.resolver",[],(function(a,b,c,d,e,f){"use strict";function a(a){var b=a.metaData.markers;return b.has("keyword")?a:null}f["default"]=a}),66);
__d("cometSearchTypeaheadRecentViewItem.resolver",[],(function(a,b,c,d,e,f){"use strict";function a(a){return a.subtype==="recent"?a:null}f["default"]=a}),66);
__d("cometSearchTypeaheadSeeAllViewItem.resolver",[],(function(a,b,c,d,e,f){"use strict";function a(a){var b=a.metaData.markers;return b.has("see_all")?a:null}f["default"]=a}),66);
__d("SearchCometTypeaheadViewItemResolver.react",["CometSearchTypeaheadBaseSurfaceRecentViewItem.react","CometTypeaheadEchoViewItem.react","CometTypeaheadKeywordViewItem.react","CometTypeaheadSeeAllViewItem.react","cometSearchTypeaheadEchoViewItem.resolver","cometSearchTypeaheadKeywordViewItem.resolver","cometSearchTypeaheadRecentViewItem.resolver","cometSearchTypeaheadSeeAllViewItem.resolver","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useMemo;function a(a){var b=a.additionalEntryMappings,d=a.seeAllLabelBuilder,e=a.children,f=a.entry;a=a.fallbackViewItem;a=a===void 0?c("CometTypeaheadKeywordViewItem.react"):a;var g=i(function(){var a;return[].concat((a=b)!=null?a:[],j({seeAllLabelBuilder:d}))},[b,d]);g=g.find(function(a){a=a.resolver;return a(f)});if(g){var h=g.viewItem;g=g.viewItemProps;return e(h,g)}return e(a)}function j(a){a=a.seeAllLabelBuilder;return[{resolver:c("cometSearchTypeaheadEchoViewItem.resolver"),viewItem:c("CometTypeaheadEchoViewItem.react")},{resolver:c("cometSearchTypeaheadSeeAllViewItem.resolver"),viewItem:c("CometTypeaheadSeeAllViewItem.react"),viewItemProps:{placeholderBuilder:a}},{resolver:c("cometSearchTypeaheadRecentViewItem.resolver"),viewItem:c("CometSearchTypeaheadBaseSurfaceRecentViewItem.react")},{resolver:c("cometSearchTypeaheadKeywordViewItem.resolver"),viewItem:c("CometTypeaheadKeywordViewItem.react")}].filter(Boolean)}g["default"]=a}),98);
__d("cometTypeaheadMemoizeEntryKey",["cometUniqueID","memoizeStringOnly"],(function(a,b,c,d,e,f,g){"use strict";var h=c("memoizeStringOnly")(function(a){return c("cometUniqueID")()});function a(a){return h(a)}g["default"]=a}),98);
__d("cometSearchTypeaheadPayloadDecoratorAddEcho",["BaseDataEntryKeyBuilder","cometTypeaheadMemoizeEntryKey"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.keyBuilder,d=b===void 0?c("BaseDataEntryKeyBuilder"):b,e=a.limit;return function(a){var b=a.entries,f=a.params.query;b=(b=b)!=null?b:[];var g=b.find(function(a){return d(a).trim().toLowerCase()===f.trim().toLowerCase()})!=null,h=[];if(!g&&b.length<e){g=c("cometTypeaheadMemoizeEntryKey")(f+"-echo");g={key:g,label:f,metaData:{markers:new Set(["echo"])},rawData:{type:"echo"}};h.push(g)}return babelHelpers["extends"]({},a,{entries:[].concat(b,h)})}}g["default"]=a}),98);
__d("cometSearchTypeaheadPayloadDecoratorAddSeeAll",["cometTypeaheadMemoizeEntryKey"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.position;return function(a){var d=a.entries,e=a.params.query;d=(d=d)!=null?d:[];var f=c("cometTypeaheadMemoizeEntryKey")(e+"-see_all");f={key:f,label:e,metaData:{markers:new Set(["see_all"])},rawData:{type:"see_all"}};e=[];switch(b){case"bottom":e=[].concat(d,[f]);break;case"top":e=[f].concat(d);break}return babelHelpers["extends"]({},a,{entries:e})}}g["default"]=a}),98);
__d("cometSearchTypeaheadDecorateMixedPayload",["BaseTypeaheadPayloadDecoratorAddLimit","baseTypeaheadFetchPayloadDecorate","cometSearchTypeaheadPayloadDecoratorAddEcho","cometSearchTypeaheadPayloadDecoratorAddSeeAll"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){var d=b.excludeSeeAllAndEcho;d=d===void 0?!1:d;var e=b.keyBuilder,f=b.limit;b=b.seeAllPosition;b=b===void 0?"bottom":b;return c("baseTypeaheadFetchPayloadDecorate")(a,[c("BaseTypeaheadPayloadDecoratorAddLimit")(f),d?null:c("cometSearchTypeaheadPayloadDecoratorAddEcho")({keyBuilder:e,limit:f}),d?null:c("cometSearchTypeaheadPayloadDecoratorAddSeeAll")({position:b})].filter(Boolean))}g["default"]=a}),98);
__d("cometSearchTypeaheadPayloadDecoratorApplySectionLimits",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){return function(c){for(var d of c.entries){var e=b(d);e=e!=null?a.get(e):null;e!=null&&d.type==="section"&&(d.entries=d.entries.slice(0,e))}return c}}f["default"]=a}),66);
__d("cometSearchTypeaheadDecorateRecentPayload",["BaseTypeaheadPayloadDecoratorAddLimit","baseTypeaheadFetchPayloadDecorate","cometSearchTypeaheadPayloadDecoratorApplySectionLimits"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){var d=b.getSectionLimitKey,e=b.limit;b=b.sectionLimits;var f=a.entries.every(function(a){return a.type==="section"});return c("baseTypeaheadFetchPayloadDecorate")(a,[f&&b!=null?c("cometSearchTypeaheadPayloadDecoratorApplySectionLimits")(b,d):c("BaseTypeaheadPayloadDecoratorAddLimit")(e)])}g["default"]=a}),98);
__d("cometSearchTypeaheadDedupeAndLog",["FBLogger","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h=c("requireDeferred")("ODS").__setRef("cometSearchTypeaheadDedupeAndLog");function a(a,b,c){var d=new Map(),e=[];for(b of b){var f=d.get(b.key);f!=null?i({caller:c,dupeEntry:b,existingEntry:f,strategy:a}):(d.set(b.key,b),e.push(b))}return e}function i(a){var b=a.caller,d=a.dupeEntry,e=a.existingEntry;a=a.strategy;var f=e.metaData.markers,g=d.metaData.markers;c("FBLogger")("search").warn("STS Dupe encountered: "+e.key+" ("+Array.from(f).join("_")+", label: "+e.label+") compared to "+d.key+"\n    ("+Array.from(g).join("_")+", label: "+d.label+")");var i="comet_ta_sts_dupe_v4."+a,j=["react_key_"+(Array.from(f).join("_")||"plain_keyword"),b,"existing_kind_"+Array.from(f).join("_"),"dupe_kind_"+Array.from(g).join("_")].join(".");h.onReady(function(a){a.bumpEntityKey(354,i,j,1)})}g["default"]=a}),98);
__d("cometSearchTypeaheadSTSDedupeEntries",["CometSearchTypeaheadDefaultEntryComparator","CometSearchTypeaheadServerDrivenEntryComparator","cometSearchTypeaheadDedupeAndLog","filterNulls"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,c){c===void 0&&(c="bootstrap_and_backend_merge");var e=a.concat(b).every(function(a){return a.rawData.suggestion_keys!=null});return h.apply(void 0,[a,b,c].concat(e?[d("CometSearchTypeaheadServerDrivenEntryComparator").areEntriesDupes,d("CometSearchTypeaheadServerDrivenEntryComparator").pickEntryToKeep]:[d("CometSearchTypeaheadDefaultEntryComparator").areEntriesDupes,d("CometSearchTypeaheadDefaultEntryComparator").pickEntryToKeep]))}function h(a,b,e,f,g){var h=d("CometSearchTypeaheadServerDrivenEntryComparator").areEntriesDupes,i=[],j=new Set(b);for(a of a)i.push(a);for(a of b){b=[];for(var k=0;k<i.length;k++){var l=i[k];l!=null&&f(l,a)&&b.push(k)}l=b[0];k=l!=null?i[l]:null;if(k!=null&&!j.has(k)){k=g(k,a);i[l]=k;for(l of b){b=i[l];b!=null&&b!==k&&b!==g(b,a)&&(i[l]=null)}}else i.push(a)}return c("cometSearchTypeaheadDedupeAndLog")(h?"with_keys":"without_keys",c("filterNulls")(i),e)}g["default"]=a}),98);
__d("cometSearchTypeaheadSTSDedupeCachedEntries",["cometSearchTypeaheadSTSDedupeEntries","filterNulls"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){var d=c("cometSearchTypeaheadSTSDedupeEntries")(a.map(function(a){return a.entry}),b.map(function(a){return a.entry}),"query_cache"),e=[].concat(a,b);return c("filterNulls")(d.map(function(a){return e.find(function(b){return b.entry===a})}))}g["default"]=a}),98);
__d("searchCometTypeaheadGetHighConfidenceResult",[],(function(a,b,c,d,e,f){"use strict";function a(a){var b=a.metaData,c=a.rawData;b=b.markers;if((a.subtype==="keyword"||a.subtype==="recent")&&b.has("high_confidence")){c=(b=(a=c.structuredInfo)==null?void 0:a.high_confidence_result)!=null?b:{};a=c.hcm_id;b=c.source_as_enum;if(a!=null&&b!=null)return{id:a,source:b}}}f["default"]=a}),66);
__d("searchCometTypeaheadGetStsDisambiguation",[],(function(a,b,c,d,e,f){"use strict";function a(a){var b=a.metaData,c=a.rawData;b=b.markers;if(a.subtype==="keyword"&&b.has("disambiguation")){a=(c=(a=c.structuredInfo)==null?void 0:(b=a.disambiguation_result)==null?void 0:b.disambiguation_info_list[0])!=null?c:{};b=a.type;if(b!=null)return{primary:{type:b}}}}f["default"]=a}),66);
__d("searchCometTypeaheadPushErrorToast",["fbt","cometPushToast"],(function(a,b,c,d,e,f,g,h){"use strict";function a(){d("cometPushToast").cometPushErrorToast({message:h._(/*BTDS*/"Sorry, something went wrong. Please try again at a later time.")})}g["default"]=a}),226);
__d("searchCometTypeaheadWithRecentDataSourceContext",["CometSearchRecentDataSourceDispatcherContext","SearchCometTypeaheadEventEmitterContext","react","react-compiler-runtime","useCometInternalTypeaheadFetch","useCometInternalTypeaheadStateDispatcher","useSearchCometEventEmitterContext"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;b.useCallback;var j=b.useEffect;b.useMemo;function a(a,b){var e=b.dataSource,f=b.shouldSubscribeToRecentSearches;function g(b){var g=d("react-compiler-runtime").c(28),k,l,m,n,o;g[0]!==b?(k=b.inputRef,l=b.onChange,m=b.onPressEntry,n=b.onSelectFreeformQuery,o=babelHelpers.objectWithoutPropertiesLoose(b,["inputRef","onChange","onPressEntry","onSelectFreeformQuery"]),g[0]=b,g[1]=k,g[2]=l,g[3]=m,g[4]=n,g[5]=o):(k=g[1],l=g[2],m=g[3],n=g[4],o=g[5]);b=c("useCometInternalTypeaheadFetch")();var p=b.refetch;b=c("useCometInternalTypeaheadStateDispatcher")();var q=b.dispatchHighlightedEntry;b=(b=c("useSearchCometEventEmitterContext")(c("SearchCometTypeaheadEventEmitterContext")))!=null?b:{};var r=b.subscribeToRecentSearchEntryAdded,s;g[6]!==r?(b=function(){if(f)return r==null?void 0:r(h)},s=[r],g[6]=r,g[7]=b,g[8]=s):(b=g[7],s=g[8]);j(b,s);g[9]!==n?(b=function(a){var b={hasSecondaryAction:!0,key:a,label:a,metaData:{markers:new Set(["recent"])},rawData:{},subtype:"recent",type:"entry"};e.addRecentEntry(b);n&&n(a)},g[9]=n,g[10]=b):b=g[10];s=b;g[11]!==p?(b=function(a){e.removeRecentEntry(a,{onBeforeCommitMutation:function(){p({source:"cache"})}})},g[11]=p,g[12]=b):b=g[12];var t=b;g[13]!==q||g[14]!==m||g[15]!==t?(b=function(a,b){var c,d=a.label,f=a.metaData;c=(c=f==null?void 0:f.markers)!=null?c:new Set();if(b===!0&&a.subtype==="recent"){t(a);q({entry:null,secondaryActionHighlighted:null,source:null});return}if(c.has("nullstate_explore")){m&&m(a);return}var g=new Set(["recent"]);c.has("entity")&&g.add("entity");c.has("direct_nav")&&g.add("direct_nav");c.has("high_confidence")&&g.add("high_confidence");a.subtype==="recent"||a.subtype==="bootstrap"||a.subtype==="keyword"?c=babelHelpers["extends"]({},a.rawData,{badgeSnippet:null}):c={};f=(f=f==null?void 0:f.logging)!=null?f:{};var h=f.entityID,i=f.entityType,j=f.loggingInfo,k=f.stsDirectNavEntityID,l=f.stsDirectNavType,n=f.stsDisambiguationType,o=f.stsHighConfidenceID;f=f.stsHighConfidenceSource;e.addRecentEntry({hasSecondaryAction:!0,key:d.toLocaleLowerCase(),label:d,metaData:{logging:{entityID:h,entityType:i,loggingInfo:j,stsDirectNavEntityID:k,stsDirectNavType:l,stsDisambiguationType:n,stsHighConfidenceID:o,stsHighConfidenceSource:f},markers:g},rawData:c,subtype:"recent",type:"entry"});m==null?void 0:m(a,b)},g[13]=q,g[14]=m,g[15]=t,g[16]=b):b=g[16];b=b;var u;g[17]!==t?(u={dispatchRemoveRecentEntry:t},g[17]=t,g[18]=u):u=g[18];u=u;u=u;var v;g[19]!==k||g[20]!==s||g[21]!==b||g[22]!==l||g[23]!==o?(v=i.jsx(a,babelHelpers["extends"]({},o,{inputRef:k,onChange:l,onPressEntry:b,onSelectFreeformQuery:s})),g[19]=k,g[20]=s,g[21]=b,g[22]=l,g[23]=o,g[24]=v):v=g[24];g[25]!==u||g[26]!==v?(k=i.jsx(c("CometSearchRecentDataSourceDispatcherContext").Provider,{value:u,children:v}),g[25]=u,g[26]=v,g[27]=k):k=g[27];return k}function h(a){e.addRecentEntry(a)}return g}g["default"]=a}),98);
__d("useCometTypeaheadStateQueryString",["react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useEffect,j=b.useState;function a(a){var b=d("react-compiler-runtime").c(5),c=j(a),e=c[0],f=c[1],g;b[0]!==a?(c=function(){return f(a)},g=[a],b[0]=a,b[1]=c,b[2]=g):(c=b[1],g=b[2]);i(c,g);b[3]!==e?(c=[e,f],b[3]=e,b[4]=c):c=b[4];return c}g["default"]=a}),98);
__d("useHostedRouteEntityKey",["getCometEntityKey","react","react-compiler-runtime","useHostedRoute"],(function(a,b,c,d,e,f,g){"use strict";var h;(h||d("react")).useMemo;function a(){var a=d("react-compiler-runtime").c(2),b=c("useHostedRoute")(),e;a[0]!==b?(e=b?c("getCometEntityKey")(b):null,a[0]=b,a[1]=e):e=a[1];b=e;a=b;return a}g["default"]=a}),98);
__d("useSearchCometRecentSearchDataSource",["Actor","CometRelay","CometSearchRecentDataSource","CometSearchRecentDataSource.query","WebPixelRatio","XCometActivityLogControllerRouteBuilder","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useMemo,j=16;function a(a){var b=a.fetchSearchBadge,e=b===void 0?!1:b,f=a.filter,g=a.nullStateSurface,h=a.searchScopeEntityID,k=d("CometRelay").useRelayEnvironment();b=d("Actor").useActor();a=b[0];var l=c("XCometActivityLogControllerRouteBuilder").buildURL({category_key:"SEARCH",entry_point:"edit_search_history",log_filter:"search",vanity:a});return i(function(){return new(c("CometSearchRecentDataSource"))({activityLogURL:l,gqlQuery:d("CometSearchRecentDataSource.query").query,limit:j,normalize:d("CometSearchRecentDataSource.query").normalize,queryVariablesBuilderFunction:function(){return{fetch_nullstate:g!=null,fetch_recent_searches:f!=null,fetch_search_badge:e,filter:f,first:j,scale:d("WebPixelRatio").get(),search_null_state_argument:g!=null?{surface:{name:g}}:{surface:{name:"GLOBAL"}},search_scope_entity_id:h}},relayEnvironment:k})},[l,e,f,g,k,h])}g["default"]=a}),98);
__d("useSearchCometTypeaheadCompositeDataSource",["BaseDataEntryLabelKeyBuilder","CometRelay","CometSearchBootstrapKeywordsDataSource","CometSearchKeywordDataSource","Promise","cometSearchTypeaheadDecorateMixedPayload","cometSearchTypeaheadDecorateRecentPayload","cometSearchTypeaheadSTSDedupeCachedEntries","cometSearchTypeaheadSTSDedupeEntries","justknobx","react","react-compiler-runtime","searchCometTypeaheadPushErrorToast"],(function(a,b,c,d,e,f,g){"use strict";var h,i;e=i||d("react");e.useCallback;e.useMemo;function a(a){var e=d("react-compiler-runtime").c(51),f=a.config,g=a.recentDataSource,i=a.searchScopeEntityID;a=f.dataSources;var n=f.logging;f=f.view;var o=a.bootstrapKeywordsDataSourceParams;a=a.keywordDataSourceParams;var p=n.sessionContext,q=f.renderLimit,r=f.sectionLimits;n=d("CometRelay").useRelayEnvironment();e[0]!==o||e[1]!==q||e[2]!==n?(f=o!=null?new(c("CometSearchBootstrapKeywordsDataSource"))(babelHelpers["extends"]({},o,{limit:q,relayEnvironment:n})):null,e[0]=o,e[1]=q,e[2]=n,e[3]=f):f=e[3];o=f;var s=o;e[4]!==a||e[5]!==q||e[6]!==n?(f=new(c("CometSearchKeywordDataSource"))(babelHelpers["extends"]({},a,{dedupe:c("cometSearchTypeaheadSTSDedupeCachedEntries"),limit:q,onError:m,relayEnvironment:n})),e[4]=a,e[5]=q,e[6]=n,e[7]=f):f=e[7];o=f;var t=o;e[8]!==q?(a=function(a){var b=a.entries;a=a.params;return c("cometSearchTypeaheadDecorateMixedPayload")({entries:b,params:a},{excludeSeeAllAndEcho:(b=c("justknobx")._("1509"))!=null?b:!1,keyBuilder:c("BaseDataEntryLabelKeyBuilder"),limit:q})},e[8]=q,e[9]=a):a=e[9];var u=a,v=l;e[10]!==s||e[11]!==g?(n=function(){s==null?void 0:s.bootstrap(),g==null?void 0:g.bootstrap()},e[10]=s,e[11]=g,e[12]=n):n=e[12];f=n;e[13]!==p||e[14]!==g||e[15]!==i?(o=function(a,b){if(g==null)return;if(i==null){g.add(a,p,b);return}var c=a.key,d=a.label,e=a.metaData;a=a.rawData;e={logging:{searchScopeEntityID:i},markers:e.markers};c={hasSecondaryAction:!0,key:c,label:d,metaData:e,rawData:a,subtype:"recent",type:"entry"};g.add(c,p,b)},e[13]=p,e[14]=g,e[15]=i,e[16]=o):o=e[16];a=o;e[17]!==s||e[18]!==u||e[19]!==t||e[20]!==q||e[21]!==g||e[22]!==r?(n=function(a){var b=a.query;if(b===""&&g!=null){var d=g.fetchCache(a),e=d.entries;d=d.params;return c("cometSearchTypeaheadDecorateRecentPayload")({entries:e,params:d},{getSectionLimitKey:k,limit:q,sectionLimits:r})}if(b==="")return{entries:[],params:a};if(s==null){e=t.fetchCache(a);return u(babelHelpers["extends"]({},e))}d=s.fetchCache(a);b=d.entries;e=d.params;if(b.length>=q)return u({entries:b,params:e});d=t.fetchCache(a);e=d.entries;a=d.params;d=v(b,e);return u({entries:d,params:a})},e[17]=s,e[18]=u,e[19]=t,e[20]=q,e[21]=g,e[22]=r,e[23]=n):n=e[23];o=n;e[24]!==s||e[25]!==u||e[26]!==t||e[27]!==q||e[28]!==g||e[29]!==r?(n=function(a){var d=a.query;if(d===""&&g!=null)return g.fetchNetwork(a).then(function(a){return c("cometSearchTypeaheadDecorateRecentPayload")({entries:a.entries,params:a.params},{getSectionLimitKey:j,limit:q,sectionLimits:r})});if(d==="")return(h||(h=b("Promise"))).resolve({entries:[],params:a});return s==null?t.fetchNetwork(a).then(function(a){return u(babelHelpers["extends"]({},a))}):t.fetchNetwork(a).then(function(b){var c=s.fetchCache(a);c=c.entries;var d=b.entries;b=b.params;c=v(c,d);return u({entries:c,params:b})})},e[24]=s,e[25]=u,e[26]=t,e[27]=q,e[28]=g,e[29]=r,e[30]=n):n=e[30];n=n;var w;e[31]!==g?(w=function(a,b){g!=null&&g.remove(a,b)},e[31]=g,e[32]=w):w=e[32];w=w;var x;e[33]!==t?(x=function(){return t.clearQueryCache()},e[33]=t,e[34]=x):x=e[34];var y;e[35]!==g?(y=function(){return g==null?void 0:g.clear()},e[35]=g,e[36]=y):y=e[36];var z;e[37]!==s?(z=function(){return s},e[37]=s,e[38]=z):z=e[38];var A;e[39]!==g?(A=function(){return g==null?void 0:g.refresh()},e[39]=g,e[40]=A):A=e[40];var B;e[41]!==a||e[42]!==f||e[43]!==o||e[44]!==n||e[45]!==w||e[46]!==x||e[47]!==y||e[48]!==z||e[49]!==A?(B={addRecentEntry:a,bootstrap:f,clearQueryCache:x,clearRecentSearches:y,fetchCache:o,fetchNetwork:n,getBootstrapKeywordsDataSource:z,refreshRecentSearches:A,removeRecentEntry:w},e[41]=a,e[42]=f,e[43]=o,e[44]=n,e[45]=w,e[46]=x,e[47]=y,e[48]=z,e[49]=A,e[50]=B):B=e[50];a=B;return a}function j(a){return a.type==="section"?a.subtype:null}function k(a){return a.type==="section"?a.subtype:null}function l(a,b){return c("cometSearchTypeaheadSTSDedupeEntries")(a,b,"bootstrap_and_backend_merge")}function m(){return c("searchCometTypeaheadPushErrorToast")()}g["default"]=a}),98);
__d("useSearchCometTypeaheadRecentDataSourceContextDecorator",["react","searchCometTypeaheadWithRecentDataSourceContext"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useMemo;function a(a,b){b===void 0&&(b=!0);return i(function(){return{decorate:function(){return c("searchCometTypeaheadWithRecentDataSourceContext").apply(void 0,arguments)},params:{dataSource:a,shouldSubscribeToRecentSearches:b}}},[a,b])}g["default"]=a}),98);
__d("useSearchCometTypeaheadViewItem",["SearchCometTypeaheadViewItemResolver.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));h.useCallback;function a(a){var b=d("react-compiler-runtime").c(4),e=a.additionalEntryMappings,f=a.getLinkProps,g=a.seeAllLabelBuilder;b[0]!==e||b[1]!==f||b[2]!==g?(a=function(a){var b=a.entry,d=a.queryString,h=babelHelpers.objectWithoutPropertiesLoose(a,["entry","queryString"]);return i.jsx(c("SearchCometTypeaheadViewItemResolver.react"),{additionalEntryMappings:e,entry:b,seeAllLabelBuilder:g,children:function(a,c){return i.jsx(a,babelHelpers["extends"]({},h,{entry:b,extraViewItemProps:c,linkProps:f==null?void 0:f({entry:b,queryString:d}),queryString:d}))}})},b[0]=e,b[1]=f,b[2]=g,b[3]=a):a=b[3];return a}g["default"]=a}),98);
__d("useSearchCometTypeaheadViewListStrategy",["CometScrollableArea.react","FocusInertRegion.react","focusScopeQueries","react","react-compiler-runtime","react-strict-dom","useCometTypeaheadSectionedViewListStrategy","useSearchCometTypeaheadViewItem"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));h.useCallback;function a(a){var b=d("react-compiler-runtime").c(15),e=a.additionalEntryMappings,f=a.afterNullstateContent,g=a.emptyStateContent,h=a.getLinkProps,j=a.isScrollable,k=a.nullstateContent,l=a.onHeaderActionPress,m=a.scrollableXStyle,n=a.seeAllLabelBuilder,o=a.xstyle;b[0]!==e||b[1]!==h||b[2]!==n?(a={additionalEntryMappings:e,getLinkProps:h,seeAllLabelBuilder:n},b[0]=e,b[1]=h,b[2]=n,b[3]=a):a=b[3];e=c("useSearchCometTypeaheadViewItem")(a);b[4]!==g||b[5]!==k||b[6]!==l||b[7]!==e?(h={emptyStateContent:g,nullstateContent:k,onHeaderActionPress:l,viewItemStrategyRenderer:e},b[4]=g,b[5]=k,b[6]=l,b[7]=e,b[8]=h):h=b[8];var p=c("useCometTypeaheadSectionedViewListStrategy")(h);b[9]!==p||b[10]!==f||b[11]!==j||b[12]!==m||b[13]!==o?(n=function(a){var b=a.ariaProps,e=a.entries,g=a.highlightedEntry,h=a.isLoading,k=a.queryString;a=babelHelpers.objectWithoutPropertiesLoose(a,["ariaProps","entries","highlightedEntry","isLoading","queryString"]);b=i.jsxs(i.Fragment,{children:[i.jsx(p,babelHelpers["extends"]({ariaProps:b,entries:e,highlightedEntry:g,isLoading:h,queryString:k},a)),f!=null&&k.length===0&&e.length>0?f:null]});g=k==="";return i.jsx(c("FocusInertRegion.react"),{focusQuery:d("focusScopeQueries").tabbableScopeQuery,children:i.jsx(d("react-strict-dom").html.div,{style:o,"data-testid":void 0,children:j?i.jsx(c("CometScrollableArea.react"),{horizontal:!1,xstyle:m,children:b}):b})})},b[9]=p,b[10]=f,b[11]=j,b[12]=m,b[13]=o,b[14]=n):n=b[14];return n}g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("LSAppendDataTraceAddon",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[],d=[];return b.sequence([function(d){return c[0]=b.i64.of_float(Date.now()),b.db.table(154).add({addonId:void 0,traceId:a[0],timestampMs:c[0],checkPointId:a[1],syncChannel:a[2],errorMessage:a[3],tags:a[4]})},function(a){return b.resolve(d)}])}a.__sproc_name__="LSDataTraceAppendDataTraceAddonStoredProcedure";a.__tables__=["data_trace_addon"];e.exports=a}),null);
__d("LSBase64Encode.nop",["Base64Utils","LSResult","LSSynchronousPromise"],(function(a,b,c,d,e,f,g){"use strict";a=function(a,b,e){return d("LSSynchronousPromise").maybeMakeSynchronousPromise(c("LSResult")(e?d("Base64Utils").fromArrayBuffer(e):void 0))};a.__nop_name__="LSBase64Encode";g["default"]=a}),98);
__d("LSClearMessagePlaceholderRange",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.forEach(b.filter(b.db.table(13).fetch([[[a[0],b.i64.cast([0,0])]]]),function(c){return b.i64.eq(c.threadKey,a[0])&&c.minMessageId===a[1]&&b.i64.eq(b.i64.cast([0,0]),c.minTimestampMs)&&b.i64.eq(a[2],c.maxTimestampMs)}),function(a){return a["delete"]()})},function(a){return b.resolve(c)}])}a.__sproc_name__="LSMailboxClearMessagePlaceholderRangeStoredProcedure";a.__tables__=["messages_ranges_v2__generated"];e.exports=a}),null);
__d("LSGetViewerFBID",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[],d=[];return b.sequence([function(a){return b.sequence([function(a){return b.db.table(4).fetch([[[b.i64.cast([0,1])]]]).next().then(function(a,d){var e=a.done;a=a.value;return e?c[0]=b.i64.cast([-1,4294967295]):(d=a.item,c[0]=d.facebookUserId)})},function(a){return d[0]=c[0]}])},function(a){return b.resolve(d)}])}a.__sproc_name__="LSCoreGetViewerFBIDStoredProcedure";a.__tables__=["_user_info"];e.exports=a}),null);
__d("LSComputeParticipantCapabilities",["LSGetViewerFBID"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(f){return c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[0]=a[0],a})},function(b){return c.filter(c.db.table(14).fetch([[[a[1],d[0]]]]),function(b){return c.i64.eq(b.threadKey,a[1])&&c.i64.eq(c.i64.cast([0,0]),c.i64.cast([0,0]))&&c.i64.eq(b.contactId,d[0])}).next().then(function(a,b){var c=a.done;a=a.value;return c?(c=[!1,!1],d[1]=c[0],d[2]=c[1],c):(b=a.item,c=[b.isAdmin==null?!1:b.isAdmin,b.isModerator],d[1]=c[0],d[2]=c[1],c)})},function(b){return c.filter(c.db.table(14).fetch([[[a[1],a[0]]]]),function(b){return c.i64.eq(b.threadKey,a[1])&&c.i64.eq(c.i64.cast([0,0]),c.i64.cast([0,0]))&&c.i64.eq(b.contactId,a[0])}).next().then(function(a,b){var c=a.done;a=a.value;return c?(c=[!1,!1],d[4]=c[0],d[5]=c[1],c):(b=a.item,c=[b.isAdmin==null?!1:b.isAdmin,b.isModerator],d[4]=c[0],d[5]=c[1],c)})},function(b){return c.filter(c.db.table(7).fetch([[[a[0]]]]),function(b){return c.i64.eq(b.id,a[0])&&c.i64.eq(c.i64.cast([0,1]),c.i64.cast([0,1]))}).next().then(function(a,b){var e=a.done;a=a.value;return e?(e=[c.i64.cast([0,1073741823]),c.i64.cast([0,0]),!1],d[7]=e[0],d[8]=e[1],d[9]=e[2],e):(b=a.item,e=[b.capabilities==null?c.i64.cast([0,1073741823]):b.capabilities,b.contactTypeExact==null?c.i64.cast([0,0]):b.contactTypeExact,b.isManagedByViewer==null?!1:b.isManagedByViewer],d[7]=e[0],d[8]=e[1],d[9]=e[2],e)})},function(a){return d[12]=c.i64.eq(d[8],c.i64.cast([0,4]))?d[9]?c.i64.cast([0,2612119]):c.i64.or_(c.i64.cast([0,2612119]),c.i64.lsl_(c.i64.cast([0,1]),c.i64.to_int32(c.i64.cast([0,3])))):d[7],c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[11]=a[0],a})},function(e){return d[13]=c.i64.lsl_(c.i64.cast([0,1]),c.i64.to_int32(c.i64.cast([0,20]))),d[15]=d[1]&&!d[4]&&c.i64.neq(d[11],a[0])?d[12]:c.i64.eq(c.i64.and_(d[12],d[13]),c.i64.cast([0,0]))?d[12]:c.i64.sub(d[12],d[13]),c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[14]=a[0],a})},function(e){return d[16]=c.i64.lsl_(c.i64.cast([0,1]),c.i64.to_int32(c.i64.cast([0,22]))),d[19]=d[4]&&d[1]&&c.i64.neq(d[14],a[0])?d[15]:c.i64.eq(c.i64.and_(d[15],d[16]),c.i64.cast([0,0]))?d[15]:c.i64.sub(d[15],d[16]),d[2]?d[17]=!(d[4]||d[5]):d[17]=!0,c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[18]=a[0],a})},function(b){return d[20]=c.i64.lsl_(c.i64.cast([0,1]),c.i64.to_int32(c.i64.cast([0,21]))),e[0]=(d[1]||d[2])&&d[17]&&c.i64.neq(a[0],d[18])?d[19]:c.i64.eq(c.i64.and_(d[19],d[20]),c.i64.cast([0,0]))?d[19]:c.i64.sub(d[19],d[20])}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSMailboxComputeParticipantCapabilitiesStoredProcedure";a.__tables__=["participants","contacts"];e.exports=a}),null);
__d("LSVec",[],(function(a,b,c,d,e,f){"use strict";var g={tag:{value:"ls-array"}};function h(a){return Object.defineProperties([].concat(a),g)}function a(a){return h(a)}function b(a){return Array.from(a)}c={from:h,ofArray:a,toArray:b};f["default"]=c}),66);
__d("LSDict",["FBLogger","I64","LSVec"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(a){if(a==null)return void 0;var b=(h||(h=d("I64"))).cast(a);return b!=null?JSON.stringify([(h||(h=d("I64"))).to_string(b)]):JSON.stringify(a)}function j(a){if(a==null)return void 0;a=JSON.parse(a);return Array.isArray(a)?(h||(h=d("I64"))).of_string(a[0]):a}a=function(){function a(a){this.size=0;var b=new Map(Array.from(a||[]).map(function(a){var b=a[0];a=a[1];return b==null?null:[i(b),a]}).filter(Boolean));this.$1=b;Object.defineProperties(this,{size:{get:function(){return b.size}}})}var b=a.prototype;b.get=function(a){return a==null?void 0:this.$1.get(i(a))};b.set=function(a,b){if(a==null)return this;this.$1.set(i(a),b);return this};b["delete"]=function(a){return a==null?!1:this.$1["delete"](i(a))};b.clear=function(){return this.$1.clear()};b.forEach=function(a){var b=this;this.$1.forEach(function(c,d){return a(c,j(d),b)})};b.has=function(a){return a==null?!1:this.$1.has(i(a))};b.entries=function*(){for(var a of this.$1.entries()){var b=a[0],c=a[1];yield [j(b),c]}};b.keys=function(){return c("LSVec").from(Array.from(this.$1.keys()).map(function(a){return j(a)}))};b.values=function(){return this.$1.values()};a.fromObject=function(b){return new a(Object.entries(b))};a.shapeToRecord=function(a){return Array.from(a.entries()).reduce(function(a,b){var d=b[0];b=b[1];if(typeof d!=="string")throw c("FBLogger")("messenger_web").mustfixThrow("Cannot convert dicts with mixed keys to records");return babelHelpers["extends"]({},a,(a={},a[d]=b,a))},{})};return a}();g["default"]=a}),98);
__d("LSJson",["FBLogger","I64","LSDict","LSVec"],(function(a,b,c,d,e,f,g){"use strict";var h,i=512,j={useLSTypes:!1};function a(a,b){b=b===void 0?j:b;var e=b.useLSTypes;function f(a,b){return function(){return function(c){c=a()(c);if(c!=null){var d=c[0];c=c[1];return[b(d),c]}}}}function g(a){return JSON.parse('"'+a+'"')}function i(a){return function(){return function(b){var c=g(a);if(b.startsWith(c))return[c,b.substr(c.length)];else return void 0}}}function k(){for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];return function(){return function(a){var c=[];a=a;for(var d of b){var e=d()(a);if(e==null)return void 0;a=e[1];c.push(e[0])}return[c,a]}}}function l(a){return function(){return function(b){var c=a.exec(b);return c!=null?[c,b.substr(c[0].length)]:void 0}}}function m(){for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];return function(){return function(a){for(var c of b){var d=c()(a);if(d!=null)return d}}}}function n(a){return function(){return function(b){var c=a()(b);return c!=null?c:[void 0,b]}}}function o(a){return function(){return function(b){var c=a()(b),d=[];b=b;while(c!=null)b=c[1],d.push(c[0]),c=a()(b);return[d,b]}}}b=l(/^[\n\r\s]*/);var p=f(l(/^\"((?:[^\"\\]|\\.)*)\"/),function(a){a=a[1];return g(a)}),q=f(l(/^-?\d+(?:(?:\.\d+)?[eE][-\+]?\d+|\.\d+)/),function(a){a=a[0];return Number(a)});l=f(l(/^-?\d+/),function(a){a=a[0];return(h||(h=d("I64"))).of_string(a)});var r=f(i("null"),function(a){return null}),s=f(i("true"),function(a){return!0}),t=f(i("false"),function(a){return!1}),u=f(k(b,p,b,i(":"),function(){return v()}),function(a){var b=a[1];a=a[4];return[b,a]});u=f(k(u,o(k(b,i(","),u))),function(a){var b=a[0];a=a[1];return[b].concat(a.map(function(a){a=a[2];return a}))});u=f(k(i("{"),n(u),b,i("}")),function(a){a=a[1];a=a===void 0?[]:a;return e?new(c("LSDict"))(a):Object.fromEntries(a)});o=f(k(function(){return v()},o(k(b,i(","),function(){return v()}))),function(a){var b=a[0];a=a[1];return[b].concat(a.map(function(a){a=a[2];return a}))});n=f(k(i("["),b,n(o),b,i("]")),function(a){a=a[2];a=a===void 0?[]:a;return e?c("LSVec").ofArray(a):a});var v=f(k(b,m(u,p,q,l,n,r,s,t),b),function(a){a=a[1];return a});o=v()(a);if(o==null)throw c("FBLogger")("messenger_web").mustfixThrow("error parsing string");if(o[1]!=="")throw c("FBLogger")("messenger_web").mustfixThrow("unexpected %s",o[1]);return o[0]}function k(a,b,e){b===void 0&&(b=0);e===void 0&&(e="");if(b>i)throw c("FBLogger")("messenger_web").mustfixThrow("recursion limit exceeded");if(typeof a==="string"||typeof a==="number")return JSON.stringify(a);else if(typeof a==="boolean")return a?"1":"0";else if(a==null)return"null";else if(typeof a==="object")if(Array.isArray(a)){if(a.tag==="ls-array")return"["+a.map(function(a,c){return k(a,b+1,e+"/"+c.toString())}).join(",")+"]";a._tag!=="i64"&&c("FBLogger")("messenger_web").warn("LSJson payload contains untagged i64: %s",e);return(h||(h=d("I64"))).to_string(a)}else if(a instanceof c("LSDict"))return"{"+Array.from(a.entries()).map(function(a){var d=a[0];a=a[1];if(typeof d==="string")return JSON.stringify(d)+":"+k(a,b+1,e+"/"+d);else throw c("FBLogger")("messenger_web").mustfixThrow("key must be a string")}).join(",")+"}";throw c("FBLogger")("messenger_web").mustfixThrow("type not supported: %s, path: %s",a===null?"null":typeof a,e)}g.parse=a;g.stringify=k}),98);
__d("LSDeserializeFromJsonIntoDictionaryV2.nop",["FBLogger","LSDict","LSJson","Promise"],(function(a,b,c,d,e,f,g){"use strict";var h;a=function(a,e,f){a=d("LSJson").parse(f,{useLSTypes:!0});if(a instanceof c("LSDict"))return(h||(h=b("Promise"))).resolve([a]);throw c("FBLogger")("messenger_web").mustfixThrow("unexpected Dictionary type")};a.__nop_name__="LSDeserializeFromJsonIntoDictionary";g["default"]=a}),98);
__d("LSGetCursor",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[],d=[];return b.sequence([function(e){return b.sequence([function(d){return b.db.table(1).fetch([[[a[0]]]]).next().then(function(a,b){var d=a.done;a=a.value;return d?c[0]=void 0:(b=a.item,c[0]=b.currentCursor)})},function(a){return d[0]=c[0]}])},function(a){return b.resolve(d)}])}a.__sproc_name__="LSCoreGetCursorStoredProcedure";a.__tables__=["sync_groups"];e.exports=a}),null);
__d("LSGetFirstAvailableAttachmentCTAID",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[],d=[];return b.sequence([function(a){return b.sequence([function(a){return b.db.table(19).fetchDesc().next().then(function(a,d){var e=a.done;a=a.value;return e?c[0]=b.i64.cast([0,1]):(d=a.item,c[0]=b.i64.add(d.ctaId,b.i64.cast([0,1])))})},function(a){return d[0]=c[0]}])},function(a){return b.resolve(d)}])}a.__sproc_name__="LSMailboxGetFirstAvailableAttachmentCTAIDStoredProcedure";a.__tables__=["attachment_ctas"];e.exports=a}),null);
__d("LSInsertAttachmentItem",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.db.table(18).add({attachmentFbid:a[0],attachmentIndex:a[1],threadKey:a[2],messageId:a[4],defaultActionEnableExtensions:a[31],originalPageSenderId:a[7],titleText:a[8],subtitleText:a[9],bodyText:a[12],playableUrl:a[13],playableUrlFallback:a[14],playableUrlExpirationTimestampMs:a[15],playableUrlMimeType:a[16],dashManifest:a[17],previewUrl:a[18],previewUrlFallback:a[19],previewUrlExpirationTimestampMs:a[20],previewUrlMimeType:a[21],previewWidth:a[22],previewHeight:a[23],imageUrl:a[24],defaultCtaId:a[25],defaultCtaTitle:a[26],defaultCtaType:a[27],defaultButtonType:a[29],defaultActionUrl:a[30],defaultWebviewHeightRatio:a[33],attachmentCta1Id:a[35],cta1Title:a[36],cta1IconType:a[37],cta1Type:a[38],attachmentCta2Id:a[40],cta2Title:a[41],cta2IconType:a[42],cta2Type:a[43],attachmentCta3Id:a[45],cta3Title:a[46],cta3IconType:a[47],cta3Type:a[48],faviconUrl:a[49],faviconUrlFallback:a[50],faviconUrlExpirationTimestampMs:a[51],previewUrlLarge:a[52]})},function(a){return b.resolve(c)}])}a.__sproc_name__="LSMailboxInsertAttachmentItemStoredProcedure";a.__tables__=["attachment_items"];e.exports=a}),null);
__d("LSInsertNewMessageRange",["LSClearMessagePlaceholderRange"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.sequence([function(d){return c.storedProcedure(b("LSClearMessagePlaceholderRange"),a[0],a[9],c.i64.cast([0,0]))},function(b){return c.filter(c.db.table(13).fetch([[[a[0],{lte:a[5]}]]]),function(b){return c.i64.eq(b.threadKey,a[0])&&c.i64.le(b.minTimestampMs,a[5])&&c.i64.ge(b.maxTimestampMs,a[5])}).next().then(function(b,c){var e=b.done;b=b.value;return e?(e=[a[1],a[3],a[7]],d[0]=e[0],d[1]=e[1],d[2]=e[2],e):(c=b.item,e=[c.minTimestampMs,c.minMessageId,c.hasMoreBefore],d[0]=e[0],d[1]=e[1],d[2]=e[2],e)})},function(b){return c.filter(c.db.table(13).fetch([[[a[0],{lte:a[6]}]]]),function(b){return c.i64.eq(b.threadKey,a[0])&&c.i64.le(b.minTimestampMs,a[6])&&c.i64.ge(b.maxTimestampMs,a[6])}).next().then(function(b,c){var e=b.done;b=b.value;return e?(e=[a[2],a[4],a[8]],d[4]=e[0],d[5]=e[1],d[6]=e[2],e):(c=b.item,e=[c.maxTimestampMs,c.maxMessageId,c.hasMoreAfter],d[4]=e[0],d[5]=e[1],d[6]=e[2],e)})},function(b){return c.forEach(c.filter(c.db.table(13).fetch([[[a[0],{lte:a[6]}]]]),function(b){return c.i64.eq(b.threadKey,a[0])&&c.i64.ge(a[6],b.minTimestampMs)&&c.i64.le(a[5],b.maxTimestampMs)}),function(a){return a["delete"]()})},function(b){return c.db.table(13).put({threadKey:a[0],minTimestampMs:d[0],minMessageId:d[1],maxTimestampMs:d[4],maxMessageId:d[5],isLoadingBefore:!1,isLoadingAfter:!1,hasMoreBefore:d[2],hasMoreAfter:d[6]})}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSMailboxInsertNewMessageRangeStoredProcedure";a.__tables__=["messages_ranges_v2__generated"];e.exports=a}),null);
__d("LSIsEncryptionVersionSecure",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[],d=[];return b.i64.eq(a[0],b.i64.cast([0,4]))?c[0]=!1:(b.i64.eq(a[0],b.i64.cast([0,3]))?c[1]=!0:(b.i64.eq(a[0],b.i64.cast([0,2]))?c[2]=!0:(b.i64.eq(a[0],b.i64.cast([0,0]))?c[3]=!0:(b.i64.eq(a[0],b.i64.cast([0,99]))?c[4]=!1:c[4]=!1,c[3]=c[4]),c[2]=c[3]),c[1]=c[2]),c[0]=c[1]),d[0]=c[0],b.resolve(d)}a.__sproc_name__="LSEncryptedBackupsVersioningIsEncryptionVersionSecureStoredProcedure";a.__tables__=[];e.exports=a}),null);
__d("LSIssueMessagesRangeQuery",["LSGetCursor","LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return d[2]=c.i64.eq(a[2],c.i64.cast([-1,4294967295]))?c.i64.cast([0,0]):a[2],c.islc(c.filter(c.db.table(13).fetchDesc([[[a[0]]]]),function(b){return c.i64.eq(b.threadKey,a[0])&&(c.i64.eq(b.minTimestampMs,void 0)||c.i64.le(b.minTimestampMs,a[1]))}),0,c.i64.to_float(c.i64.cast([0,1]))).next().then(function(e,f){var g=e.done;e=e.value;return g?d[0]=!1:(f=e.item,c.sequence([function(e){return d[5]=f.threadKey,d[6]=c.i64.cast([0,0]),d[7]=f.minTimestampMs,d[8]=f.minMessageId,c.i64.eq(d[2],c.i64.cast([0,1]))?d[3]=!f.isLoadingAfter:d[3]=!f.isLoadingBefore,d[3]?c.sequence([function(e){return c.i64.eq(d[2],c.i64.cast([0,1]))?d[9]=f.hasMoreAfter:d[9]=f.hasMoreBefore,d[9]?c.sequence([function(a){return c.i64.eq(d[2],c.i64.cast([0,1]))?c.sequence([function(a){return c.forEach(c.filter(c.db.table(13).fetch([[[d[5],d[7],d[8]]]]),function(a){return c.i64.eq(a.threadKey,d[5])&&c.i64.eq(c.i64.cast([0,0]),d[6])&&c.i64.eq(a.minTimestampMs,d[7])&&a.minMessageId===d[8]}),function(a){var b=a.update;a.item;return b({isLoadingAfter:!0})})},function(a){return a=[f.maxTimestampMs,f.maxMessageId],d[10]=a[0],d[11]=a[1],a}]):c.sequence([function(a){return c.forEach(c.filter(c.db.table(13).fetch([[[d[5],d[7],d[8]]]]),function(a){return c.i64.eq(a.threadKey,d[5])&&c.i64.eq(c.i64.cast([0,0]),d[6])&&c.i64.eq(a.minTimestampMs,d[7])&&a.minMessageId===d[8]}),function(a){var b=a.update;a.item;return b({isLoadingBefore:!0})})},function(a){return a=[d[7],d[8]],d[10]=a[0],d[11]=a[1],a}])},function(b){return c.db.table(9).fetch([[[a[0]]]]).next().then(function(b,e){var a=b.done;b=b.value;return a?d[12]=c.i64.cast([0,1]):(e=b.item,d[19]=e.syncGroup,c.i64.neq(d[19],void 0)?d[18]=d[19]:d[18]=c.i64.cast([0,1]),d[12]=d[18])})},function(a){return c.storedProcedure(b("LSGetCursor"),d[12]).then(function(a){return a=a,d[14]=a[0],a})},function(e){return d[15]=new c.Map(),d[15].set("thread_key",a[0]),d[15].set("direction",d[2]),d[15].set("reference_timestamp_ms",d[10]),d[15].set("reference_message_id",d[11]),d[15].set("sync_group",d[12]),d[15].set("cursor",d[14]),d[16]=d[15].get("thread_key"),d[17]=c.toJSON(d[15]),c.storedProcedure(b("LSIssueNewTask"),"mrq.{}".split("{}").join(c.i64.to_string(d[16])),c.i64.cast([0,228]),d[17],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]))}]):c.resolve()},function(a){return d[4]=!0}]):c.resolve(d[4]=!1)},function(a){return d[0]=d[4]}]))})},function(a){return c.resolve(e)}])}a.__sproc_name__="LSMailboxIssueMessagesRangeQueryStoredProcedure";a.__tables__=["messages_ranges_v2__generated","threads"];e.exports=a}),null);
__d("LSIssueMessagesRangeQueryStoredProcedure",["LSIssueMessagesRangeQuery","LSSynchronousPromise","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSIssueMessagesRangeQuery"),e.threadKey,e.referenceTimestampMs,e.direction);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("LSSyncError",[],(function(a,b,c,d,e,f){"use strict";var g=new Map();function a(a,b){g.set(a,b)}function b(a){return g.get(a)}f.setSyncError=a;f.getLastSyncError=b}),66);
__d("LSLogEventAnnotate.nop",["FBLogger","I64","LSDict","LSSyncError","LSSynchronousPromise","MAWMIC"],(function(a,b,c,d,e,f,g){"use strict";var h;a=function(a,b,e,f,g,i){a=i.has("error_msg");if(a){c("FBLogger")("messenger_web").warn("[LS] LS log event for logCategory %s, logEventId %s, logEventInstanceId %s, annotations %s, is during MIC: %s",(h||(h=d("I64"))).to_string(e),h.to_string(f),h.to_string(g),JSON.stringify(c("LSDict").shapeToRecord(i)),d("MAWMIC").duringMIC());b=i.get("database_id");b!=null&&(h||(h=d("I64"))).isI64(b)&&d("LSSyncError").setSyncError(b,i)}return d("LSSynchronousPromise").maybeMakeSynchronousPromise()};a.__nop_name__="LSLogEventAnnotate";g["default"]=a}),98);
__d("LSIssueNewTaskAndGetTaskID",["LSIssueNewTask","LSLogEventAnnotate.nop"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(f){return c.sequence([function(d){return c.storedProcedure(b("LSIssueNewTask"),a[0],a[1],a[2],a[3],a[4],a[5],a[6],a[7],a[8],a[9],a[10])},function(b){return d[3]=c.i64.to_string(a[1]),c.filter(c.db.table(2).fetchDesc([[[a[0]]],"queueNameTaskId"]),function(b){return b.queueName===a[0]&&b.context===d[3]&&b.taskValue===a[2]}).next().then(function(a,b){var e=a.done;a=a.value;return e?d[0]=c.i64.cast([-1,4294967295]):(b=a.item,d[0]=b.taskId)})},function(e){return d[2]=new c.Map(),d[2].set("task_id",d[0]),d[2].set("task_queue_name",a[0]),d[2].set("task_label",d[3]),c.nativeOperation(b("LSLogEventAnnotate.nop"),c.i64.cast([0,16]),c.i64.cast([0,23]),c.i64.cast([0,0]),d[2])},function(a){return e[0]=d[0]}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSCoreIssueNewTaskAndGetTaskIDStoredProcedure";a.__tables__=["pending_tasks"];e.exports=a}),null);
__d("MebClientLogsFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("3226");b=d("FalcoLoggerInternal").create("meb_client_logs",a);e=b;g["default"]=e}),98);
__d("LSLogMebClientEvent.nop",["I64","LSVec","MebClientLogsFalcoEvent","Promise"],(function(a,b,c,d,e,f,g){"use strict";var h,i;a=function(a,e,f,g,j,k){c("MebClientLogsFalcoEvent").log(function(){return{calling_class:f,device_family_id:void 0,device_registration_id:void 0,log_level:(i||(i=d("I64"))).to_string(k),msg:g,trace_ids:c("LSVec").toArray(j)}});return(h||(h=b("Promise"))).resolve()};a.__nop_name__="LSLogMebClientEvent";g["default"]=a}),98);
__d("LSMailboxMessagesRangeQueryDirection",[],(function(a,b,c,d,e,f){a=Object.freeze({BEFORE_LEGACY:-1,BEFORE:0,AFTER:1});f["default"]=a}),66);
__d("LSSetMessageDisplayedContentTypes",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[],d=[];return b.sequence([function(d){return b.sequence([function(d){return b.db.table(16).fetch([[[a[0],a[1]]]]).next().then(function(a,b){var d=a.done;a=a.value;return d?(d=[void 0,void 0],c[0]=d[0],c[1]=d[1],d):(b=a.item,d=[b.attachmentType,b.xmaLayoutType],c[0]=d[0],c[1]=d[1],d)})},function(d){return b.filter(b.db.table(12).fetch([[[a[0],a[2],a[1]]]]),function(c){return b.i64.eq(c.threadKey,a[0])&&b.i64.eq(b.i64.cast([0,0]),b.i64.cast([0,0]))&&b.i64.eq(c.timestampMs,a[2])&&c.messageId===a[1]}).next().then(function(a,d){var e=a.done;a=a.value;return e?(e=[b.i64.cast([0,0]),void 0,void 0],c[3]=e[0],c[4]=e[1],c[5]=e[2],e):(d=a.item,e=[d.replySourceTypeV2,d.replySourceId,d.text],c[3]=e[0],c[4]=e[1],c[5]=e[2],e)})},function(d){return b.db.table(9).fetch([[[a[0]]]]).next().then(function(a,b){var d=a.done;a=a.value;return d?c[7]=void 0:(b=a.item,c[7]=b.customEmoji)})},function(d){return b.i64.eq(c[0],b.i64.cast([0,6]))?c[9]=b.i64.cast([0,64]):(b.i64.eq(c[0],b.i64.cast([0,5]))?c[16]=b.i64.cast([0,4]):(b.i64.eq(c[0],b.i64.cast([0,3]))?c[17]=b.i64.cast([0,16384]):(b.i64.eq(c[0],b.i64.cast([0,2]))?c[18]=b.i64.cast([0,2]):(b.i64.eq(c[0],b.i64.cast([0,4]))?c[19]=b.i64.cast([0,2]):c[19]=a[5]?b.i64.cast([0,4096]):b.i64.cast([0,0]),c[18]=c[19]),c[17]=c[18]),c[16]=c[17]),c[9]=c[16]),c[10]=c[5]!==void 0&&c[5]!==""&&c[5]!==c[7]?b.i64.or_(c[9],b.i64.cast([0,1])):c[9],c[11]=c[7]!==void 0&&c[7]===c[5]?b.i64.or_(c[10],b.i64.cast([0,128])):c[10],c[12]=b.i64.eq(c[0],b.i64.cast([0,7]))?b.i64.or_(c[11],b.i64.cast([0,8])):c[11],c[13]=b.i64.eq(c[1],b.i64.cast([0,0]))?b.i64.or_(c[12],b.i64.cast([0,1024])):b.i64.eq(c[1],b.i64.cast([0,1]))?b.i64.or_(c[12],b.i64.cast([0,2048])):c[12],c[14]=b.i64.eq(c[3],b.i64.cast([0,2]))&&c[4]!==void 0?b.i64.or_(c[13],b.i64.cast([0,512])):c[13],c[15]=c[5]!==void 0&&c[5]!==""&&c[5]!==c[7]&&b.i64.eq(c[3],b.i64.cast([0,5]))?b.i64.or_(c[14],b.i64.cast([0,512])):c[14],b.forEach(b.filter(b.db.table(12).fetch([[[a[0],a[2],a[1]]]]),function(c){return b.i64.eq(c.threadKey,a[0])&&b.i64.eq(b.i64.cast([0,0]),b.i64.cast([0,0]))&&b.i64.eq(c.timestampMs,a[2])&&c.messageId===a[1]}),function(d){var e=d.update;d.item;return e({displayedContentTypes:a[4]?b.i64.cast([0,32]):b.i64.eq(c[3],b.i64.cast([0,3]))?b.i64.or_(c[15],b.i64.cast([0,8192])):c[15]})})}])},function(a){return b.resolve(d)}])}a.__sproc_name__="LSMailboxSetMessageDisplayedContentTypesStoredProcedure";a.__tables__=["attachments","messages","threads"];e.exports=a}),null);
__d("LSSuspense",["PromiseAnnotate"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){return{current:{error:a,state:"Error"}}}function b(a){return{current:{state:"Done",value:a}}}function c(a){var b={current:{promise:a.then(function(a){b.current={state:"Done",value:a};return a})["catch"](function(a){b.current={error:a,state:"Error"}}),state:"Loading"}};return b}function e(){return new WeakMap()}function i(a){if(a.state==="Loading")throw a.promise;else if(a.state==="Error")throw a.error;else return a.value}function f(a){return i(a.current)}function j(a,b,c){var e=a.get(b);if(e!=null)return i(e);e=c();c={promise:e.then(function(c){a.set(b,{state:"Done",value:c});return c})["catch"](function(c){a.set(b,{error:c,state:"Error"})}),state:"Loading"};var f=c.promise;if(f){void (h||(h=d("PromiseAnnotate"))).setDisplayName(f,(f=(h||(h=d("PromiseAnnotate"))).getDisplayName(e))!=null?f:"LSCollection")}a.set(b,c);return i(c)}j={getFromCollection:j,getOrSuspend:f,makeCollection:e,makeWithError:a,makeWithPromise:c,makeWithValue:b};g["default"]=j}),98);
__d("LSUpsertReaction",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.db.table(8).put({threadKey:a[0],messageId:a[2],actorId:a[3],timestampMs:a[1],reaction:a[4],authorityLevel:a[5],reactionCreationTimestampMs:a[6]})},function(a){return b.resolve(c)}])}a.__sproc_name__="LSMailboxUpsertReactionStoredProcedure";a.__tables__=["reactions"];e.exports=a}),null);
__d("LSVerifyContactRowExists",["LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.filter(c.db.table(7).fetch([[[a[0]]]]),function(b){return c.i64.eq(b.id,a[0])&&c.i64.eq(c.i64.cast([0,1]),c.i64.cast([0,1]))}).next().then(function(e){var f=e.done;e.value;return f?c.sequence([function(b){return d[0]=a[3]==null?"":a[3],c.forEach(c.filter(c.db.table(7).fetch([[[a[0]]]]),function(b){return c.i64.eq(b.id,a[0])&&c.i64.eq(c.i64.cast([0,1]),c.i64.cast([0,1]))&&c.i64.lt(b.authorityLevel,a[14])}),function(a){return a["delete"]()})},function(b){return c.db.table(7).add({id:a[0],profilePictureUrl:a[2]==null?"":a[2],profilePictureFallbackUrl:a[5],name:d[0],secondaryName:a[20],normalizedNameForSearch:d[0],isMemorialized:a[9],blockedByViewerStatus:a[11],canViewerMessage:a[12],profilePictureLargeUrl:"",isMessengerUser:!0,rank:0,contactType:a[4],contactTypeExact:c.i64.cast([0,0]),requiresMultiway:!1,authorityLevel:a[14],workForeignEntityType:c.i64.cast([0,0]),capabilities:a[15],capabilities2:a[16],contactViewerRelationship:a[19],gender:a[18],firstName:a[21]})},function(e){return d[1]=new c.Map(),d[1].set("contact_id",a[0]),d[2]=c.toJSON(d[1]),c.storedProcedure(b("LSIssueNewTask"),"cpq_v2",c.i64.cast([0,207]),d[2],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]))}]):0})},function(a){return c.resolve(e)}])}a.__sproc_name__="LSContactVerifyContactRowExistsStoredProcedure";a.__tables__=["contacts"];e.exports=a}),null);
__d("ReQLSuspenseSupportedContextTracking",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;d=h||c("react");var i=d.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,j;function a(){j=i.H}function b(){var a=i.H;return a!=null&&a===j}g.useReStoreTrackInRender=a;g.isWithinReactRenderingContext=b}),98);
__d("SortedAsyncIterable",["PromiseAnnotate","PromiseOrValue","ReQLGlobalQueryContext","isPromise"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k;function l(a){var b;if((i||(i=d("ReQLGlobalQueryContext"))).globalQueryContext.contents==null){var c=new WeakMap();(i||(i=d("ReQLGlobalQueryContext"))).globalQueryContext.contents=c;return c}c=(i||(i=d("ReQLGlobalQueryContext"))).globalQueryContext.contents;(b=(i||(i=d("ReQLGlobalQueryContext"))).getDependencies(c))==null?void 0:b.push(a);return c}function a(a){var b=[],e=a.iterator(l(a)),f=(k||(k=d("PromiseOrValue"))).loop(function(){return(k||(k=d("PromiseOrValue"))).map(e.next(),function(a){if(a.done)return{action:"break",value:b};b.push(a.value);return{action:"continue",value:void 0}})});return(h||(h=c("isPromise")))(f)?(j||(j=d("PromiseAnnotate"))).setDisplayName(f,"ReQL"+(a.uniqueId!=null?"_"+a.uniqueId:"")):f}g.getOrCreateContext=l;g.toArray=a}),98);
__d("applyChangesToBPlusTree",["I64"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b){var c=!1;for(var e of b){var f=e[0],g=e[1];switch(g.operation){case"delete":a["delete"](f);break;case"put":var i=a.getWithDefault(f,void 0);if(i===g.value)continue;i=(h||(h=d("I64"))).cast(i);if(i!=null){var j=(h||(h=d("I64"))).cast(g.value);if(j!=null&&(h||(h=d("I64"))).equal(i,j))continue}case"add":a.set(f,g.value);break}c=!0}b.length=0;return c}g["default"]=a}),98);
__d("createBPlusTreeFromSorted",["BPlusTree","ReStoreKeyComparer"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b){return c("BPlusTree").fromSorted(a,b==="asc"?(h||(h=d("ReStoreKeyComparer"))).compareKey:(h||(h=d("ReStoreKeyComparer"))).compareKeyDesc,64)}g["default"]=a}),98);
__d("shallowEqualI64",["I64"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(a){return Array.isArray(a)&&a.length===2&&Number.isInteger(a[0])&&Number.isInteger(a[1])}function j(a,b){if(a===b)return!0;return i(a)&&i(b)?(h||(h=d("I64"))).equal(a,b):!1}function a(a,b){return k(a,b,j)}function k(a,b,c){c===void 0&&(c=function(a,b){return a===b});if(c(a,b))return!0;if(typeof a!=="object"||a===null||typeof b!=="object"||b===null)return!1;var d=Object.keys(a),e=Object.keys(b);if(d.length!==e.length)return!1;for(e=0;e<d.length;e++)if(!c(a[d[e]],b[d[e]],d[e]))return!1;return!0}g.shallowEqualI64=a;g.shallowEqual=k}),98);
__d("useReStore",["InteractionTracingMetrics","LSDatabaseSingleton","LSSuspense","PromiseAnnotate","ReQLSuspenseSupportedContextTracking","ReStoreProvider.react","react","react-compiler-runtime","suspendOrThrowIfUsedInSSR"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l,m,n=(m||d("react")).useContext,o=(h||(h=c("LSSuspense"))).makeCollection();function a(){var a=d("react-compiler-runtime").c(1);d("ReQLSuspenseSupportedContextTracking").useReStoreTrackInRender();var b=n((l||(l=d("ReStoreProvider.react"))).context);if(b!=null)return b;(i||(i=c("suspendOrThrowIfUsedInSSR")))("useReStore: LSDB is not available in SSR. Switching to client side render");(j||(j=d("LSDatabaseSingleton"))).LSDatabaseSingleton==null&&c("InteractionTracingMetrics").currentInteractionLogger().forEach(q);(k||(k=d("PromiseAnnotate"))).setDisplayName((j||(j=d("LSDatabaseSingleton"))).LSDatabaseSingleton,"LSDatabaseSingleton");a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b=(h||(h=c("LSSuspense"))).getFromCollection(o,(j||(j=d("LSDatabaseSingleton"))).LSDatabaseSingleton,p),a[0]=b):b=a[0];return b}function p(){return(j||(j=d("LSDatabaseSingleton"))).LSDatabaseSingleton}function q(a){c("InteractionTracingMetrics").addAnnotationBoolean(a.traceId,"is_lsdb_null",!0)}g["default"]=a}),98);
__d("ReQLSuspense",["FBLogger","I64","Promise","PromiseAnnotate","PromiseOrValue","ReQL","ReQLGlobalQueryContext","ReQLSuspenseSupportedContextTracking","SortedAsyncIterable","applyChangesToBPlusTree","createBPlusTreeFromSorted","isPromise","promiseDone","react","shallowEqualI64","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l,m,n,o,p=m||d("react"),q=p.startTransition,r=p.useEffect,s=p.useMemo,t=p.useState;function u(){var a=(o||(o=d("ReQLGlobalQueryContext"))).globalQueryContext.withinSupportedContext===!0;return a?!0:d("ReQLSuspenseSupportedContextTracking").isWithinReactRenderingContext()}function v(a,b,e){e===!0&&!u()&&c("FBLogger")("messenger_web","reqlsuspense_unsupported_use").blameToPreviousFile().mustfix("Detected use of ReQLSuspense method in unsupported context.\ntoArray/first/firstExn can only be used inside the body of a projection function passed to ReQL map operator.\nFor React rendering contexts, please use appropriate hook (useArray/useFirst/useFirstExn) variants instead.");if((i||(i=c("isPromise")))(a))if(b!=null)throw(n||(n=d("PromiseAnnotate"))).setDisplayName(a,b);else throw a;return a}function w(a){var b=[];for(a of a)Array.isArray(a)&&a.length===2&&Number.isInteger(a[0])&&Number.isInteger(a[1])?b.push(a[0],a[1]):b.push(a,void 0);return b}function x(a){var b=arguments[1];return v(d("SortedAsyncIterable").toArray(a),b,!0).map(function(a){a[0];a=a[1];return a})}function y(a){var b=arguments[1];return x(d("ReQL").prototype.take.call(a,1),b)[0]}function z(a){var b=arguments[1],d=y(a,b);if(d==null)throw c("FBLogger")("messenger_web").mustfixThrow("expected result");return d}function a(a,e){var f=arguments[2],g=s(function(){var b=a();b.uniqueId=f;return b},e==null?[a]:w(e)),i=s(function(){return v(d("SortedAsyncIterable").toArray(g)).map(function(a){a[0];a=a[1];return a})},[g]),l=t([i,g]),m=l[0],n=l[1],o=(j||(j=c("useReStore")))();r(function(){var a,e=[],f=g.subscribe(function(a,b){return void e.push([a,b])});function i(){if(e.length&&a!=null){var b=a;c("applyChangesToBPlusTree")(b,e)&&n([Array.from(b.entries(),function(a){return a[1]}),g])}}var j=F(o,i);c("promiseDone")((h||(h=b("Promise"))).resolve((k||(k=d("PromiseOrValue"))).map(d("SortedAsyncIterable").toArray(g),function(b){a=c("createBPlusTreeFromSorted")(b,g.direction);var f=a;c("applyChangesToBPlusTree")(f,e);q(function(){return n(function(a){var b=Array.from(f.entries(),function(a){return a[1]});return d("shallowEqualI64").shallowEqualI64(a[0],b)&&a[1]===g?a:[b,g]})})})));return function(){j(),f()}},[g,o]);return g===m[1]?m[0]:i}function A(a,e){var f=arguments[2],g=s(function(){var b=a().take(1);b.uniqueId=f;return b},e==null?[a]:w(e)),i=s(function(){var a;return(a=v(g.iterator(d("SortedAsyncIterable").getOrCreateContext(g)).next(),f).value)==null?void 0:a[1]},[g,f]),m=t([i,g]),n=m[0],o=m[1],p=(j||(j=c("useReStore")))();r(function(){var a,e=!1,f=g.subscribe(function(b,c){switch(c.operation){case"delete":a=void 0;break;case"put":if(a===c.value)return;b=(l||(l=d("I64"))).cast(a);if(b!=null){var f=(l||(l=d("I64"))).cast(c.value);if(f!=null&&(l||(l=d("I64"))).equal(b,f))return}case"add":a=c.value;break}e=!0}),i=F(p,function(){e&&(e=!1,o([a,g]))});c("promiseDone")((h||(h=b("Promise"))).resolve((k||(k=d("PromiseOrValue"))).map(g.iterator(d("SortedAsyncIterable").getOrCreateContext(g)).next(),function(b){var c;q(function(){return o(function(a){var c;return a[0]===((c=b.value)==null?void 0:c[1])&&a[1]===g?a:[(c=b.value)==null?void 0:c[1],g]})});a=(c=b.value)==null?void 0:c[1]})));return function(){i(),f()}},[g,p]);return g===n[1]?n[0]:i}function e(a,b){var d=arguments[2],e=A(a,b,d);if(e==null)throw c("FBLogger")("messenger_web").mustfixThrow("expected result");return e}function B(a,b,c,e){var f=s(function(){var b=a();b.uniqueId=c;return b},b==null?[a]:w(b));return s(function(){return(o||(o=d("ReQLGlobalQueryContext"))).runFromContextThatHandlesThrownPromise(function(){return e(f)})},[f,e])}function f(a,b){return B(a,b,arguments[2],x)}function C(a,b){return B(a,b,arguments[2],y)}function D(a,b){return B(a,b,arguments[2],z)}var E=new Map();function F(a,b){var c=E.get(a);if(c==null){var d=new Map();c={handlers:d,unsubscribe:a.subscribeToCommit(function(){q(function(){return d.forEach(function(a){return a()})})})};E.set(a,c)}var e={};c.handlers.set(e,b);var f=c;return function(){f.handlers["delete"](e),f.handlers.size===0&&(f.unsubscribe(),E["delete"](a))}}g.toArray=x;g.first=y;g.firstExn=z;g.useArray=a;g.useFirst=A;g.useFirstExn=e;g.useArrayWithoutSubscribing=f;g.useFirstWithoutSubscribing=C;g.useFirstExnWithoutSubscribing=D}),98);
__d("MWEncryptedBackupsSharedState",["ReQL","ReQLSuspense","WebStorage","getMWEncryptedBackupsIsLocalStorageSupported","promiseDone","react","react-compiler-runtime","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;(j||d("react")).useCallback;function k(a){var b=a.db,c=a.stateKey;a=a.stateValue;var d=a===void 0?"true":a;return b.runInTransaction(function(a){return a.experiences_shared_state.upsert([c],{stateKey:c,stateValue:d})},"readwrite","background",void 0,f.id+":37")}function l(a){var b,e=a.db;a=a.stateKey;if(!d("getMWEncryptedBackupsIsLocalStorageSupported").getMWEncryptedBackupsIsLocalStorageSupported())return;b=(b=(h||(h=c("WebStorage"))).getLocalStorageForRead())==null?void 0:b.getItem(a);if(b!=null){var f;(f=(h||(h=c("WebStorage"))).getLocalStorage())==null?void 0:f.removeItem(a);c("promiseDone")(k({db:e,stateKey:a,stateValue:b}))}return b}function a(a){var b=a.db,c=a.sharedStateTable,d=a.stateKey;a=c.filter(function(a){return a.stateKey===d});if(a.length===0){c=l({db:b,stateKey:d});return c!=null}return!0}function b(a){var b=a.db,c=a.sharedStateTable,d=a.stateKey;a=c.filter(function(a){return a.stateKey===d});c=a[0];return(c==null?void 0:c.stateValue)!=null?c.stateValue:l({db:b,stateKey:d})}function e(a){var b=a.db,c=a.sharedStateRow;a=a.stateKey;return c==null?l({db:b,stateKey:a}):c.stateValue}function m(a){var b=a.db,c=a.stateKey;return b.runInTransaction(function(a){return a.experiences_shared_state["delete"](c)},"readwrite","background",void 0,f.id+":131")}function n(a){var b,e=d("react-compiler-runtime").c(6),g=(i||(i=c("useReStore")))();b=(b=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(g.tables.experiences_shared_state).getKeyRange(a)},[g.tables.experiences_shared_state,a],f.id+":142"))==null?void 0:b.stateValue;var h;e[0]!==g||e[1]!==a?(h=function(b){return k({db:g,stateKey:a,stateValue:b})},e[0]=g,e[1]=a,e[2]=h):h=e[2];h=h;var j;e[3]!==h||e[4]!==b?(j=[b,h],e[3]=h,e[4]=b,e[5]=j):j=e[5];return j}function o(a){var b=d("react-compiler-runtime").c(5);a=n(a);var c=a[0],e=a[1];b[0]!==e?(a=function(){e("true")},b[0]=e,b[1]=a):a=b[1];a=a;c=c==="true";var f;b[2]!==a||b[3]!==c?(f=[c,a],b[2]=a,b[3]=c,b[4]=f):f=b[4];return f}g.upsertEBSharedStateEntry=k;g.getEntryPresentInLocalStorage=l;g.getIsEntryPresentInSharedState=a;g.getEntryValueFromSharedState=b;g.getEntryValue=e;g.deleteEntry=m;g.useEBSharedStateEntry=n;g.useEBSharedStateEntryBoolean=o}),98);
__d("MWPreloadableQueries",["I64","ReQL"],(function(a,b,c,d,e,f,g){"use strict";var h;b=function(a,b){return d("ReQL").fromTableAscending(a.tables.thread_nullstate).getKeyRange(b)};c=function(a,b){return d("ReQL").fromTableAscending(a.tables.thread_nullstate_ctas.index("threadKeyCtaId")).getKeyRange(b)};e=function(a,b){return d("ReQL").fromTableAscending(a.tables.cutover_threads).getKeyRange(b)};f=function(a,b){return d("ReQL").fromTableAscending(a.tables.community_folders).getKeyRange(b)};var i=function(a,b){return d("ReQL").fromTableAscending(a.tables.thread_proactive_warning_settings).getKeyRange(b)},j=function(a,b){return d("ReQL").fromTableAscending(a.tables.in_thread_banner).getKeyRange(b)};function a(a,b){return d("ReQL").fromTableAscending(a.tables.media_staging).filter(function(a){return!a.isSent&&(h||(h=d("I64"))).equal(a.threadKey,b)})}g.threadNullStateQuery=b;g.threadNullStateCtaQuery=c;g.getCutoverThreadByThreadKey=e;g.getCommunityFolderQuery=f;g.getProactiveWarningsForThreadQuery=i;g.getThreadBannerQuery=j;g.getMediaStagingQuery=a}),98);
__d("hasDefaultThreadOneToOneCapabilityDeferred",["requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";a=c("requireDeferred")("hasDefaultThreadOneToOneCapability").__setRef("hasDefaultThreadOneToOneCapabilityDeferred");g["default"]=a}),98);
__d("useCometMessengerhasDefaultThreadOneToOneCapability",["FBLogger","hasDefaultThreadOneToOneCapabilityDeferred","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useEffect,j=b.useState;function a(a,b){var e=d("react-compiler-runtime").c(7),f=j(!1),g=f[0],h=f[1];e[0]!==a||e[1]!==b?(f=function(){c("hasDefaultThreadOneToOneCapabilityDeferred").load().then(function(c){b==null?h(!1):c(b,a).then(function(a){h(a)})["catch"](l)})["catch"](k)},e[0]=a,e[1]=b,e[2]=f):f=e[2];var m;e[3]!==a||e[4]!==g||e[5]!==b?(m=[a,g,b],e[3]=a,e[4]=g,e[5]=b,e[6]=m):m=e[6];i(f,m);return g}function k(a){c("FBLogger")("messenger_web").warn("Error loading hasDefaultThreadOneToOneCapability. %s",a)}function l(){}g["default"]=a}),98);
__d("MAWThreadCutover",["I64","LSAuthorityLevel","LSContactBitOffset","LSDatabaseSingleton","LSMessagingThreadTypeUtil","MWEncryptedBackupsLocalStorageEntryEnum","MWEncryptedBackupsSharedState","MWPActor.react","MWPreloadableQueries","ReQL","ReQLSuspense","WAJids","react-compiler-runtime","useCometMessengerhasDefaultThreadOneToOneCapability","useMAWCanThreadBeCutoverOnDemand","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;function a(a,b){var e=(j||(j=c("useReStore")))(),f=t(a);e=c("useCometMessengerhasDefaultThreadOneToOneCapability")(e,a);a=b!=null&&d("LSMessagingThreadTypeUtil").isGroup(b);return a?!0:f||e}async function b(a){return await B(a)!=null}function k(a){var b=d("react-compiler-runtime").c(4),e=(j||(j=c("useReStore")))(),g,h;b[0]!==e||b[1]!==a?(g=function(){return a!=null?d("MWPreloadableQueries").getCutoverThreadByThreadKey(e,a):d("ReQL").empty()},h=[e,a],b[0]=e,b[1]=a,b[2]=g,b[3]=h):(g=b[2],h=b[3]);return d("ReQLSuspense").useFirst(g,h,f.id+":62")!=null}function e(a){var b,e=(j||(j=c("useReStore")))();b=(b=d("ReQLSuspense").useFirst(function(){return a!=null?d("MWPreloadableQueries").getCutoverThreadByThreadKey(e,a):d("ReQL").empty()},[e,a],f.id+":74"))==null?void 0:b.showOpenMessageHistory;return b===!1}function l(a,b){return d("ReQL").fromTableAscending(a.tables.mi_act_mapping_table).getKeyRange(b)}function m(a,b){return d("ReQL").fromTableAscending(a.tables.cutover_threads).filter(function(a){return(h||(h=d("I64"))).equal(a.armadilloThreadId,b)})}function n(a){var b=d("react-compiler-runtime").c(8),e=(j||(j=c("useReStore")))(),g,h;b[0]!==e||b[1]!==a?(g=function(){return a==null?d("ReQL").empty():l(e,a)},h=[e,a],b[0]=e,b[1]=a,b[2]=g,b[3]=h):(g=b[2],h=b[3]);var i=d("ReQLSuspense").useFirst(g,h,f.id+":107");b[4]!==e||b[5]!==i?(g=function(){return i==null?d("ReQL").empty():m(e,i.jid)},h=[e,i],b[4]=e,b[5]=i,b[6]=g,b[7]=h):(g=b[6],h=b[7]);return d("ReQLSuspense").useFirst(g,h,f.id+":115")}function o(a,b){return d("ReQL").fromTableAscending(a.tables.threads).getKeyRange(b.openThreadId)}function p(a){a=q(a);if(a==null||(h||(h=d("I64"))).lt(a.authorityLevel,(h||(h=d("I64"))).of_int32(c("LSAuthorityLevel").SERVER_PARTIAL)))return;return a}function q(a){var b=d("react-compiler-runtime").c(4),e=(j||(j=c("useReStore")))(),g=n(a),h;b[0]!==g||b[1]!==e?(a=function(){return g==null?d("ReQL").empty():o(e,g)},h=[e,g],b[0]=g,b[1]=e,b[2]=a,b[3]=h):(a=b[2],h=b[3]);return d("ReQLSuspense").useFirst(a,h,f.id+":157")}function r(a){var b=d("react-compiler-runtime").c(8),e=(j||(j=c("useReStore")))(),g,h;b[0]!==e||b[1]!==a?(g=function(){return a==null?d("ReQL").empty():l(e,a)},h=[e,a],b[0]=e,b[1]=a,b[2]=g,b[3]=h):(g=b[2],h=b[3]);g=d("ReQLSuspense").useFirst(g,h,f.id+":169");var i=g==null?void 0:g.jid;b[4]!==e.tables.threads||b[5]!==i?(h=function(){return i!=null?d("ReQL").fromTableAscending(e.tables.threads).getKeyRange(i):d("ReQL").empty()},g=[e.tables.threads,i],b[4]=e.tables.threads,b[5]=i,b[6]=h,b[7]=g):(h=b[6],g=b[7]);b=d("ReQLSuspense").useFirst(h,g,f.id+":178");h=c("useMAWCanThreadBeCutoverOnDemand")(i);return h?b:void 0}function s(a){a=n(a);if(a!=null)return a.openThreadId}function t(a){return n(a)!=null}function u(a,b){b=d("WAJids").threadIdForChatJid(b);return d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.tables.cutover_threads).getKeyRange((h||(h=d("I64"))).of_string(b))).then(function(a){return a!=null})}function v(){var a=d("react-compiler-runtime").c(3),b=(j||(j=c("useReStore")))(),e=d("MWPActor.react").useActor();if(a[0]!==e||a[1]!==b.tables.contacts){var g=d("ReQLSuspense").first(d("ReQL").fromTableAscending(b.tables.contacts).getKeyRange(e),f.id+":218");g=g!=null&&((g=d("LSContactBitOffset").has(75,g))!=null?g:!1);a[0]=e;a[1]=b.tables.contacts;a[2]=g}else g=a[2];return g}function w(){var a=d("react-compiler-runtime").c(4),b=(j||(j=c("useReStore")))(),e;a[0]!==b.tables.experiences_shared_state?(e=function(){return d("ReQL").fromTableAscending(b.tables.experiences_shared_state).getKeyRange(c("MWEncryptedBackupsLocalStorageEntryEnum").ENCRYPTED_BACKUPS_RESTORED_SUCCESSFULLY)},a[0]=b.tables.experiences_shared_state,a[1]=e):e=a[1];var g;a[2]!==b?(g=[b],a[2]=b,a[3]=g):g=a[3];a=d("ReQLSuspense").useFirst(e,g,f.id+":233");e=d("MWEncryptedBackupsSharedState").getEntryValue({db:b,sharedStateRow:a,stateKey:c("MWEncryptedBackupsLocalStorageEntryEnum").ENCRYPTED_BACKUPS_RESTORED_SUCCESSFULLY});return e!=null}function x(a){var b=d("react-compiler-runtime").c(7),e=(j||(j=c("useReStore")))(),g;b[0]!==a?(g=a!=null?(h||(h=d("I64"))).of_string(a):void 0,b[0]=a,b[1]=g):g=b[1];var i=g,l=k(i);b[2]!==e||b[3]!==l||b[4]!==i?(a=function(){if(l&&i!=null)return d("ReQL").fromTableAscending(e.tables.mi_act_mapping_table).filter(function(a){return(h||(h=d("I64"))).equal(a.jid,i)}).map(y);else return d("ReQL").empty()},g=[e,i,l],b[2]=e,b[3]=l,b[4]=i,b[5]=a,b[6]=g):(a=b[5],g=b[6]);return d("ReQLSuspense").useFirst(a,g,f.id+":254")}function y(a){return(h||(h=d("I64"))).to_string(a.serverThreadKey)}function z(){return!0}function A(a){var b=d("react-compiler-runtime").c(8),e=(j||(j=c("useReStore")))(),g,h;b[0]!==e||b[1]!==a?(g=function(){if(a!=null)return d("MWPreloadableQueries").getCutoverThreadByThreadKey(e,a);else return d("ReQL").empty()},h=[e,a],b[0]=e,b[1]=a,b[2]=g,b[3]=h):(g=b[2],h=b[3]);g=d("ReQLSuspense").useFirst(g,h,f.id+":281");var i=g==null?void 0:g.armadilloThreadId;b[4]!==e.tables.mi_act_mapping_table||b[5]!==i?(h=function(){if(i!=null)return d("ReQL").fromTableAscending(e.tables.mi_act_mapping_table.index("jid")).getKeyRange(i);else return d("ReQL").empty()},g=[i,e.tables.mi_act_mapping_table],b[4]=e.tables.mi_act_mapping_table,b[5]=i,b[6]=h,b[7]=g):(h=b[6],g=b[7]);b=d("ReQLSuspense").useFirst(h,g,f.id+":292");return b==null?void 0:b.serverThreadKey}async function B(a){var b=await (i||(i=d("LSDatabaseSingleton"))).LSDatabaseSingleton,c=await d("ReQL").firstAsync(d("ReQL").fromTableAscending(b.tables.mi_act_mapping_table).getKeyRange(a));if(c==null)return void 0;a=await d("ReQL").firstAsync(d("ReQL").fromTableAscending(b.tables.cutover_threads).filter(function(a){return(h||(h=d("I64"))).equal(a.armadilloThreadId,c.jid)}));return a}g.useShouldHideE2eeAttribution=a;g.isCutoverThreadKey=b;g.useIsCutoverOpenThread=k;g.useIsDualThreadCutoverOpenThread=e;g.getMiActMappings=l;g.getCutoverThreadsByJid=m;g.useGetCutoverMapping=n;g.getThreadByCutoverThread=o;g.useOpenThreadIfExistsFromCutoverThread=p;g.useCutoverOpenThread=q;g.useODCutoverEligibleOpenOneToOneThread=r;g.useGetCutoverOpenThreadKey=s;g.useIsCutoverSecureThread=t;g.isCutoverSecureThreadFromChatJid=u;g.useIsCurrentUserCutoverUser=v;g.useGetHasUserRestoredBefore=w;g.useGetCutoverSecureThreadKey=x;g.useSupportedCutoverEnvironment=z;g.useCutoverSecureThreadKeyForOpenThreadKey=A;g.getCutoverThreadBySecureThreadKey=B}),98);
__d("useMAWCanThreadBeCutoverOnDemand",["LSContactBitOffset","LSMessagingThreadTypeUtil","MAWThreadCutover","ReQL","ReQLSuspense","react-compiler-runtime","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){var b=d("react-compiler-runtime").c(12),e=(h||(h=c("useReStore")))(),g,i;b[0]!==e||b[1]!==a?(g=function(){return a!=null?d("ReQL").fromTableAscending(e.tables.contacts,d("LSContactBitOffset").contactCapabilityFields).getKeyRange(a):d("ReQL").empty()},i=[e,a],b[0]=e,b[1]=a,b[2]=g,b[3]=i):(g=b[2],i=b[3]);g=d("ReQLSuspense").useFirst(g,i,f.id+":34");b[4]!==g?(i=g!=null&&d("LSContactBitOffset").has(76,g),b[4]=g,b[5]=i):i=b[5];g=i;var j;b[6]!==e||b[7]!==a?(i=function(){return a!=null?d("ReQL").fromTableAscending(e.tables.threads,["threadType"]).getKeyRange(a):d("ReQL").empty()},j=[e,a],b[6]=e,b[7]=a,b[8]=i,b[9]=j):(i=b[8],j=b[9]);i=d("ReQLSuspense").useFirst(i,j,f.id+":53");b[10]!==i?(j=i?d("LSMessagingThreadTypeUtil").isOpenOneToOne(i.threadType):!1,b[10]=i,b[11]=j):j=b[11];i=j;b=((j=(b=d("ReQLSuspense").useFirst(function(){return a!=null?d("ReQL").fromTableAscending(e.tables.messages_ranges_v2__generated,["minMessageId"]).getKeyRange(a):d("ReQL").empty()},[e,a],f.id+":67"))==null?void 0:b.minMessageId)!=null?j:"")==="";j=d("MAWThreadCutover").useIsCutoverOpenThread(a);var k=d("MAWThreadCutover").useIsCutoverSecureThread(a);j=j||k;return g&&i&&!b&&!j}g["default"]=a}),98);
__d("MessengerWebEntryPointsUtil",[],(function(a,b,c,d,e,f){"use strict";function a(a){if(a==="pagesLikeInviteThem")return"pages_like_invite_item";else if(a==="pagesPrivateReply")return"pages_private_reply";else if(a==="inboxActiveContacts"||a==="inboxArchived"||a==="inboxSpam"||a==="inboxFolder"||a==="inboxThreadList"||a==="inboxRecentThreads"||a==="inboxRemainingThreads"||a==="pendingRequests"||a==="inboxRestricted"||a==="archieve"||a==="inboxInThread"||a==="inboxPendingRequests")return"inbox";else if(a==="jobs")return"jobs";else if(a==="storySeenByList"||a==="friendsTab")return"story_seen_by_list";else if(a==="chatParticipants")return"add_participants";else if(a==="compat")return"compat";else if(a==="cookie")return"cookie";else if(a==="pagesAdminInviteItem")return"pages_admin_invite_item";else if(a==="groupWelcomePost")return"group_welcome_post";else if(a==="sidebarContactsList"||a==="sidebarGroupsList")return"sidebar";else if(a==="sidebarCommunityChatsList")return"sidebar_community_chats";else if(a==="jewelNestedFolder"||a==="jewel")return"jewel";else if(a==="shop")return"shop";else if(a==="chatheadsOverflow")return"chat_heads_overflow";else if(a==="feedDynamicHoverCard")return"pages_hovercard";else if(a==="messengerUniversalSearch")return"search_result_page";else if(a==="mentorship")return"mentorship";else if(a==="reactorList")return"reactor_list";else if(a==="feedPoll")return"feed_poll";else if(a==="timeline"||a==="feedOrganicPost")return"timeline";else if(a==="pageResponsivenessCard"||a==="pageAboutCard")return"pages_about";else if(a==="inboxSearch"||a==="sidebarSearch"||a==="search")return"search";else if(a==="storyAggregatedUsers")return"story_aggregated_users";else if(a==="fundraiserMoreMenu")return"fundraiser_support:reactive_more_menu";else if(a==="fundraiserFaq")return"fundraiser_support:reactive_faq";else if(a==="notificationInThreadReply")return"message_received";else if(a==="roomsNullState")return"rooms_null_state";else if(a==="storyViewerSheetRow")return"stories_viewed_by_list";else if(a==="feedOrganicPostNewsfeedPagePostCta")return"pages_cta";else if(a==="chatheadsNewMessage")return"new_msg_button";else if(a==="groupExperts"||a==="groupCommunityFriendsDialog")return"group_experts_discovery_invite";else if(a==="hovercard")return"hovercard";else if(a==="crisisListingAttachment")return"crisis_listing_attachment";else if(a==="mentalHealth")return"mental_health";else if(a==="event")return"events_permalink";else if(a==="jewelSearch")return"jewel_search";else if(a==="pagePopupChat")return"pages_popup_chat";else if(a==="communityHelp")return"community_help";else if(a==="jewelNewMessage")return"jewel_new_message";else if(a==="fundraiser")return"fundraiser";else if(a==="memories")return"memories_home";else if(a==="fundraiserSupportersList")return"fundraiser_supporters_list";else if(a==="groupRemovePost")return"group_remove_post_tombstone";else if(a==="pagesHeader")return"pages_header";else if(a==="groupMembers")return"group_members_tab";else if(a==="chatheads")return"chat_heads";else if(a==="birthday")return"birthdays";else if(a==="localBusinessesNearby")return"local_businesses_nearby";else if(a==="marketplace"||a==="inboxMarketplace")return"marketplace";else if(a==="mutualFriendsDialog")return"mutual_friends_dialog";else if(a==="feedOrganicPostViewAndMessage")return"feed_story_cta";else if(a==="profileServicesMenu")return"profile_services_menu";else if(a==="adsCta")return"reshares_dialog";else if(a==="offer")return"offer";else if(a==="payments")return"p2p_payments";else if(a==="groupQuality")return"group_quality";else if(a==="pagesHomeFriendsDialog")return"pages_home_friends_dialog";else if(a==="communityFriendsDialog")return"pages_community_friends_dialog";else if(a==="groupChats")return"group_chats";else if(a==="groupTab")return"group_tab";else if(a==="gratitude")return"gratitude";else if(a==="inboxTrayActiveNow")return"inbox_tray";else if(a==="noteReplyMsg")return"note_reply_msg";else return"unknown"}function b(a){switch(a){case"groupTab":case"inboxThreadList":case"jewel":return!0;default:return!1}}f.cast=a;f.getEntryPointShouldOverrideThreadSnippetRemoval=b}),66);
__d("MWChatLogOpenChatTab",["MessengerWebEntryPointsUtil","MessengerWebEventsFalcoEvent","ODS"],(function(a,b,c,d,e,f,g){"use strict";var h,i={};function a(a,b,e){a===void 0&&(a=!1);(h||(h=d("ODS"))).bumpEntityKey(3185,"mwchat_tab","open_user");var f=d("MessengerWebEntryPointsUtil").cast(e);i[b]=f;return c("MessengerWebEventsFalcoEvent").log(function(){return{entry_point:f,event_name:"open_chat_tab",is_secured:a,other_user_fbid:a?null:b}})}function b(a,b,e){a===void 0&&(a=!1);(h||(h=d("ODS"))).bumpEntityKey(3185,"mwchat_tab","open_group");var f=d("MessengerWebEntryPointsUtil").cast(e);i[b]=f;return c("MessengerWebEventsFalcoEvent").log(function(){return{entry_point:f,event_name:"open_chat_tab",is_secured:a,thread_fbid:a?null:b}})}function e(a,b,e){a===void 0&&(a=!1);(h||(h=d("ODS"))).bumpEntityKey(3185,"mwchat_tab","open_page");var f=d("MessengerWebEntryPointsUtil").cast(e);i[b]=f;return c("MessengerWebEventsFalcoEvent").log(function(){return{entry_point:f,event_name:"open_chat_tab",is_secured:a,other_user_fbid:a?null:b}})}g.logOpenUserTab=a;g.logOpenGroupTab=b;g.logOpenPageTab=e}),98);
__d("RetUtil",["LSResult"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return c("LSResult")(a)}g.getNullableRetResult=a}),98);/*FB_PKG_DELIM*/
__d("BaseDialogTitle.react",["BaseDialogLabelIDProvider","BasePlaceholderContext","react","react-compiler-runtime","react-strict-dom"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useContext;function a(a){var b=d("react-compiler-runtime").c(4),e=a.asBox;a=a.children;e=e===void 0?!1:e;var f=d("BaseDialogLabelIDProvider").useDialogHeaderID(),g=j(c("BasePlaceholderContext"));g=g===!0?null:f;b[0]!==e||b[1]!==a||b[2]!==g?(f=e?i.jsx(d("react-strict-dom").html.div,{id:g,children:a}):i.jsx(d("react-strict-dom").html.span,{id:g,children:a}),b[0]=e,b[1]=a,b[2]=g,b[3]=f):f=b[3];return f}g["default"]=a}),98);
__d("BaseScrollRegionObserver.react",["intersectionObserverEntryIsIntersecting","react","react-compiler-runtime","stylex","useIntersectionObserver"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react")),k=i.useMemo,l={end:{bottom:"x1ey2m1c",$$css:!0},start:{top:"x13vifvy",$$css:!0},target:{end:"xds687c",start:"x17qophe",left:null,right:null,opacity:"xg01cxk",position:"x10l6tqk",zIndex:"x8knxv4",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(9),c=a.end,e=a.rootRef;a=a.start;var f;b[0]!==e||b[1]!==a?(f=a?j.jsx(m,{callback:a.callback,rootRef:e,xstyle:[l.target,l.start,a.heightXStyle]}):null,b[0]=e,b[1]=a,b[2]=f):f=b[2];a=f;b[3]!==c||b[4]!==e?(f=c?j.jsx(m,{callback:c.callback,rootRef:e,xstyle:[l.target,l.end,c.heightXStyle]}):null,b[3]=c,b[4]=e,b[5]=f):f=b[5];c=f;b[6]!==c||b[7]!==a?(e=j.jsxs(j.Fragment,{children:[a,c]}),b[6]=c,b[7]=a,b[8]=e):e=b[8];return e}function m(a){var b=a.callback,d=a.rootRef;a=a.xstyle;var e=k(function(){return{root:function(){return d==null?void 0:d.current},rootMargin:{bottom:0,left:0,right:0,top:0},threshold:0}},[d]);e=c("useIntersectionObserver")(function(a){a=c("intersectionObserverEntryIsIntersecting")(a);b(a)},e);return j.jsx("div",babelHelpers["extends"]({},(h||(h=c("stylex"))).props(a),{ref:e}))}m.displayName=m.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CDSDialogHeaderFooterContainerContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b=a.createContext({isInner:!1,isSticky:!1,showBackground:!1,xstyle:null});g["default"]=b}),98);
__d("CDSDialogHeaderContainer.react",["CDSDialogHeaderFooterContainerContext","react","react-compiler-runtime","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react")),k=i.useContext,l={background:{backgroundColor:"x1jx94hy",$$css:!0},header:{alignItems:"x6s0dn4",display:"x78zum5",flexShrink:"x2lah0s",end:"xds687c",start:"x17qophe",justifyContent:"x1qughib",minHeight:"x8nclml",position:"x1n2onr6 xv7j57z",top:"x13vifvy",zIndex:"x1vjfegm",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(8),e=a.addOnBottom,f=a.children;a=a.xstyle;var g=k(c("CDSDialogHeaderFooterContainerContext")),i=g.showBackground;g=g.xstyle;var m;b[0]!==g||b[1]!==i||b[2]!==a?(m=(h||(h=c("stylex"))).props(l.header,i===!0&&l.background,g,a),b[0]=g,b[1]=i,b[2]=a,b[3]=m):m=b[3];b[4]!==e||b[5]!==f||b[6]!==m?(g=j.jsxs("div",babelHelpers["extends"]({},m,{children:[f,e]})),b[4]=e,b[5]=f,b[6]=m,b[7]=g):g=b[7];return g}g["default"]=a}),98);
__d("MetaLockup.react",["fbt","react","react-compiler-runtime","stylex","useCurrentDisplayMode"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||(j=d("react")),l=j.useId,m={10:{height:"x170jfvy",width:"x1pju0fl",$$css:!0},12:{height:"x1kpxq89",width:"x1247r65",$$css:!0},16:{height:"xlup9mm",width:"x1dmp6jm",$$css:!0},20:{height:"x1qx5ct2",width:"x1exxlbk",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(17),e=a.fill,f=a.size;a=a.xstyle;var g=l(),h=l(),i=l(),j=l(),m=c("useCurrentDisplayMode")();m=m==="dark";var p=f<=12;e=(e=e)!=null?e:m?"#DEE3E9":null;if(p){b[0]!==h||b[1]!==i||b[2]!==j||b[3]!==m||b[4]!==e||b[5]!==f||b[6]!==a?(p=k.jsx(n,{fill:e,gradientAId:h,gradientBId:i,gradientCId:j,isDarkModeEnabled:m,size:f,xstyle:a}),b[0]=h,b[1]=i,b[2]=j,b[3]=m,b[4]=e,b[5]=f,b[6]=a,b[7]=p):p=b[7];return p}b[8]!==g||b[9]!==h||b[10]!==i||b[11]!==j||b[12]!==m||b[13]!==e||b[14]!==f||b[15]!==a?(p=k.jsx(o,{clipPathId:g,fill:e,gradientAId:h,gradientBId:i,gradientCId:j,isDarkModeEnabled:m,size:f,xstyle:a}),b[8]=g,b[9]=h,b[10]=i,b[11]=j,b[12]=m,b[13]=e,b[14]=f,b[15]=a,b[16]=p):p=b[16];return p}function n(a){var b=d("react-compiler-runtime").c(26),e=a.fill,f=a.gradientAId,g=a.gradientBId,j=a.gradientCId,l=a.isDarkModeEnabled,n=a.size;a=a.xstyle;var o;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(o=h._(/*BTDS*/"Meta logo"),b[0]=o):o=b[0];var p;b[1]!==n||b[2]!==a?(p=(i||(i=c("stylex"))).props([a,m[n]]),b[1]=n,b[2]=a,b[3]=p):p=b[3];b[4]!==e||b[5]!==f||b[6]!==g||b[7]!==j||b[8]!==l?(n=!l&&e==null&&k.jsxs("defs",{children:[k.jsxs("linearGradient",{gradientUnits:"userSpaceOnUse",id:f,x1:"124.38",x2:"160.839",y1:"99",y2:"59.326",children:[k.jsx("stop",{offset:".427",stopColor:"#0278F1"}),k.jsx("stop",{offset:".917",stopColor:"#0180FA"})]}),k.jsxs("linearGradient",{gradientUnits:"userSpaceOnUse",id:g,x1:"42",x2:"-1.666",y1:"4.936",y2:"61.707",children:[k.jsx("stop",{offset:".427",stopColor:"#0165E0"}),k.jsx("stop",{offset:".917",stopColor:"#0180FA"})]}),k.jsxs("linearGradient",{gradientUnits:"userSpaceOnUse",id:j,x1:"27.677",x2:"132.943",y1:"28.71",y2:"71.118",children:[k.jsx("stop",{stopColor:"#0064E0"}),k.jsx("stop",{offset:".656",stopColor:"#0066E2"}),k.jsx("stop",{offset:"1",stopColor:"#0278F1"})]})]}),b[4]=e,b[5]=f,b[6]=g,b[7]=j,b[8]=l,b[9]=n):n=b[9];a=(a=e)!=null?a:"#1C2B33";var q;b[10]!==a?(q=k.jsx("path",{d:"M185.508 3.01h18.704l31.803 57.313L267.818 3.01h18.297v94.175h-15.264v-72.18l-27.88 49.977h-14.319l-27.88-49.978v72.18h-15.264V3.01ZM336.281 98.87c-7.066 0-13.286-1.565-18.638-4.674-5.352-3.12-9.527-7.434-12.528-12.952-2.989-5.517-4.483-11.835-4.483-18.973 0-7.214 1.461-13.608 4.385-19.17 2.923-5.561 6.989-9.908 12.187-13.05 5.198-3.13 11.176-4.707 17.923-4.707 6.715 0 12.484 1.587 17.319 4.74 4.847 3.164 8.572 7.598 11.177 13.291 2.615 5.693 3.923 12.371 3.923 20.046v4.171h-51.793c.945 5.737 3.275 10.258 6.989 13.554 3.715 3.295 8.407 4.937 14.078 4.937 4.549 0 8.461-.667 11.747-2.014 3.286-1.347 6.374-3.383 9.253-6.12l8.099 9.886c-8.055 7.357-17.934 11.036-29.638 11.036Zm11.143-55.867c-3.198-3.252-7.385-4.872-12.56-4.872-5.045 0-9.264 1.653-12.66 4.97-3.407 3.318-5.55 7.784-6.451 13.39h37.133c-.451-5.737-2.275-10.237-5.462-13.488ZM386.513 39.467h-14.044V27.03h14.044V6.447h14.715V27.03h21.341v12.437h-21.341v31.552c0 5.244.901 8.988 2.703 11.233 1.803 2.244 4.88 3.36 9.253 3.36 1.935 0 3.572-.076 4.924-.23a97.992 97.992 0 0 0 4.461-.645v12.316c-1.67.493-3.549.898-5.637 1.205-2.099.317-4.286.47-6.583.47-15.89 0-23.836-8.649-23.836-25.957V39.467ZM500 97.185h-14.44v-9.82c-2.571 3.678-5.835 6.513-9.791 8.506-3.968 1.993-8.462 3-13.506 3-6.209 0-11.715-1.588-16.506-4.752-4.803-3.153-8.572-7.51-11.308-13.039-2.748-5.54-4.121-11.879-4.121-19.006 0-7.17 1.395-13.52 4.187-19.038 2.791-5.518 6.648-9.843 11.571-12.985 4.935-3.13 10.594-4.707 16.99-4.707 4.813 0 9.132.93 12.956 2.791a25.708 25.708 0 0 1 9.528 7.905v-9.01H500v70.155Zm-14.715-45.61c-1.571-3.985-4.066-7.138-7.461-9.448-3.396-2.31-7.33-3.46-11.781-3.46-6.308 0-11.319 2.102-15.055 6.317-3.737 4.215-5.605 9.92-5.605 17.09 0 7.215 1.802 12.94 5.396 17.156 3.604 4.215 8.484 6.317 14.66 6.317 4.538 0 8.593-1.16 12.154-3.492 3.549-2.332 6.121-5.475 7.692-9.427V51.575Z",fill:a}),b[10]=a,b[11]=q):q=b[11];a=(a=e)!=null?a:"#0180FA";var r;b[12]!==a?(r=k.jsx("path",{d:"M107.666 0C95.358 0 86.865 4.504 75.195 19.935 64.14 5.361 55.152 0 42.97 0 18.573 0 0 29.768 0 65.408 0 86.847 12.107 99 28.441 99c15.742 0 25.269-13.2 33.445-27.788l9.663-16.66a643.785 643.785 0 0 1 2.853-4.869 746.668 746.668 0 0 1 3.202 5.416l9.663 16.454C99.672 92.72 108.126 99 122.45 99c16.448 0 27.617-13.723 27.617-33.25 0-37.552-19.168-65.75-42.4-65.75ZM57.774 46.496l-9.8 16.25c-9.595 15.976-13.639 19.526-19.67 19.526-6.373 0-11.376-5.325-11.376-17.547 0-24.51 12.062-47.451 26.042-47.451 7.273 0 12.678 3.61 22.062 17.486a547.48 547.48 0 0 0-7.258 11.736Zm64.308 35.776c-6.648 0-11.034-4.233-20.012-19.39l-9.663-16.386c-2.79-4.737-5.402-9.04-7.88-12.945 9.73-14.24 15.591-17.984 23.002-17.984 14.118 0 26.204 20.96 26.204 49.158 0 11.403-4.729 17.547-11.651 17.547Z",fill:a}),b[12]=a,b[13]=r):r=b[13];b[14]!==e||b[15]!==f||b[16]!==g||b[17]!==j||b[18]!==l?(a=!l&&e==null&&k.jsxs(k.Fragment,{children:[k.jsx("path",{d:"M145.631 36h-16.759c3.045 7.956 4.861 17.797 4.861 28.725 0 11.403-4.729 17.547-11.651 17.547H122v16.726l.449.002c16.448 0 27.617-13.723 27.617-33.25 0-10.85-1.6-20.917-4.435-29.75Z",fill:"url(#"+f+")"}),k.jsx("path",{d:"M42 .016C18.63.776.832 28.908.028 63h16.92C17.483 39.716 28.762 18.315 42 17.31V.017Z",fill:"url(#"+g+")"}),k.jsx("path",{d:"m75.195 19.935.007-.009c2.447 3.223 5.264 7.229 9.33 13.62l-.005.005c2.478 3.906 5.09 8.208 7.88 12.945l9.663 16.386c8.978 15.157 13.364 19.39 20.012 19.39.31 0 .617-.012.918-.037v16.76c-.183.003-.367.005-.551.005-14.323 0-22.777-6.281-35.182-27.447L77.604 55.1l-.625-1.065L77 54c-2.386-4.175-7.606-12.685-11.973-19.232l.005-.008-.62-.91C63.153 31.983 61.985 30.313 61 29l-.066.024c-7.006-9.172-11.818-11.75-17.964-11.75-.324 0-.648.012-.97.037V.016c.322-.01.646-.016.97-.016 12.182 0 21.17 5.36 32.225 19.935Z",fill:"url(#"+j+")"})]}),b[14]=e,b[15]=f,b[16]=g,b[17]=j,b[18]=l,b[19]=a):a=b[19];b[20]!==p||b[21]!==n||b[22]!==q||b[23]!==r||b[24]!==a?(e=k.jsxs("svg",babelHelpers["extends"]({"aria-label":o},p,{role:"img",viewBox:"0 0 500 100",children:[n,q,r,a]})),b[20]=p,b[21]=n,b[22]=q,b[23]=r,b[24]=a,b[25]=e):e=b[25];return e}function o(a){var b=d("react-compiler-runtime").c(30),e=a.clipPathId,f=a.fill,g=a.gradientAId,j=a.gradientBId,l=a.gradientCId,n=a.isDarkModeEnabled,o=a.size;a=a.xstyle;var p;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(p=h._(/*BTDS*/"Meta logo"),b[0]=p):p=b[0];var q;b[1]!==o||b[2]!==a?(q=(i||(i=c("stylex"))).props([a,m[o]]),b[1]=o,b[2]=a,b[3]=q):q=b[3];b[4]!==e||b[5]!==f||b[6]!==g||b[7]!==j||b[8]!==l||b[9]!==n?(o=!n&&f==null&&k.jsxs("defs",{children:[k.jsxs("linearGradient",{gradientUnits:"userSpaceOnUse",id:g,x1:"125",x2:"160.217",y1:"97",y2:"57.435",children:[k.jsx("stop",{offset:".21",stopColor:"#0278F1"}),k.jsx("stop",{offset:".533",stopColor:"#0180FA"})]}),k.jsxs("linearGradient",{gradientUnits:"userSpaceOnUse",id:j,x1:"44",x2:"0",y1:"5",y2:"64",children:[k.jsx("stop",{offset:".427",stopColor:"#0165E0"}),k.jsx("stop",{offset:".917",stopColor:"#0180FA"})]}),k.jsxs("linearGradient",{gradientUnits:"userSpaceOnUse",id:l,x1:"28.5",x2:"135",y1:"29",y2:"72",children:[k.jsx("stop",{stopColor:"#0064E0"}),k.jsx("stop",{offset:".656",stopColor:"#0066E2"}),k.jsx("stop",{offset:"1",stopColor:"#0278F1"})]}),k.jsx("clipPath",{id:e,children:k.jsx("path",{d:"M0 0h496.236v100H0z",fill:"#fff"})})]}),b[4]=e,b[5]=f,b[6]=g,b[7]=j,b[8]=l,b[9]=n,b[10]=o):o=b[10];a="url(#"+e+")";e=(e=f)!=null?e:"#1C2B33";var r;b[11]!==e?(r=k.jsx("path",{d:"M182.141 3.213h18.808l31.98 57.849 31.979-57.849h18.401V98.27h-15.345V25.416l-28.042 50.448h-14.394l-28.042-50.448V98.27h-15.345V3.213ZM332.804 99.967c-7.107 0-13.353-1.573-18.739-4.718-5.387-3.146-9.586-7.504-12.595-13.07-3.011-5.569-4.515-11.95-4.515-19.148 0-7.287 1.47-13.738 4.413-19.35 2.942-5.613 7.027-10.004 12.255-13.173 5.229-3.168 11.238-4.753 18.027-4.753 6.744 0 12.55 1.596 17.416 4.787 4.865 3.191 8.611 7.661 11.237 13.41 2.624 5.749 3.938 12.492 3.938 20.233v4.21h-52.077c.95 5.794 3.292 10.354 7.027 13.68 3.735 3.328 8.453 4.991 14.157 4.991 4.571 0 8.509-.679 11.814-2.037 3.303-1.358 6.404-3.417 9.302-6.178l8.147 9.98c-8.103 7.425-18.038 11.136-29.807 11.136Zm11.204-56.389c-3.215-3.281-7.425-4.923-12.629-4.923-5.07 0-9.314 1.676-12.731 5.025-3.418 3.35-5.58 7.854-6.484 13.512h37.343c-.453-5.794-2.286-10.331-5.499-13.614ZM382.846 40.014h-14.123V27.453h14.123V6.676h14.802v20.777h21.455v12.561h-21.455v31.844c0 5.295.905 9.075 2.716 11.338 1.809 2.264 4.911 3.395 9.302 3.395 1.945 0 3.598-.078 4.956-.237a92.35 92.35 0 0 0 4.481-.646v12.425c-1.675.498-3.564.906-5.669 1.223a44.63 44.63 0 0 1-6.62.475c-15.979 0-23.968-8.735-23.968-26.208V40.014ZM496.236 98.27h-14.53v-9.913c-2.58 3.712-5.862 6.575-9.845 8.588-3.983 2.014-8.51 3.022-13.579 3.022-6.247 0-11.78-1.596-16.601-4.787s-8.612-7.581-11.373-13.172c-2.761-5.59-4.142-11.983-4.142-19.18 0-7.243 1.403-13.648 4.21-19.216 2.806-5.567 6.688-9.935 11.645-13.104 4.956-3.168 10.648-4.753 17.075-4.753 4.844 0 9.189.94 13.037 2.818a25.768 25.768 0 0 1 9.573 7.978v-9.098h14.53V98.27Zm-14.801-46.035c-1.585-4.028-4.085-7.207-7.503-9.54-3.418-2.33-7.367-3.496-11.848-3.496-6.338 0-11.384 2.128-15.141 6.382-3.758 4.255-5.635 10.004-5.635 17.246 0 7.289 1.809 13.06 5.431 17.314 3.621 4.255 8.532 6.382 14.734 6.382 4.571 0 8.645-1.176 12.222-3.53 3.575-2.353 6.155-5.522 7.74-9.506V52.235Z",fill:e}),b[11]=e,b[12]=r):r=b[12];e=(e=f)!=null?e:"#0180FA";var s;b[13]!==e?(s=k.jsx("path",{d:"M108 0C95.66 0 86.015 9.294 77.284 21.1 65.284 5.821 55.25 0 43.24 0 18.76 0 0 31.862 0 65.586 0 86.69 10.21 100 27.31 100c12.308 0 21.16-5.803 36.897-33.31 0 0 6.56-11.584 11.072-19.564 1.582 2.553 3.243 5.3 4.997 8.253l7.38 12.414C102.03 91.848 110.038 100 124.551 100c16.659 0 25.931-13.492 25.931-35.034C150.483 29.656 131.301 0 108 0ZM52.207 59.241c-12.759 20-17.172 24.483-24.276 24.483-7.31 0-11.655-6.418-11.655-17.862 0-24.483 12.207-49.517 26.759-49.517 7.88 0 14.465 4.55 24.552 18.991-9.578 14.691-15.38 23.905-15.38 23.905Zm48.153-2.517-8.823-14.715a301.425 301.425 0 0 0-6.884-10.723c7.952-12.274 14.511-18.39 22.313-18.39 16.206 0 29.172 23.863 29.172 53.173 0 11.172-3.659 17.655-11.241 17.655-7.268 0-10.739-4.8-24.537-27Z",fill:e}),b[13]=e,b[14]=s):s=b[14];b[15]!==f||b[16]!==g||b[17]!==j||b[18]!==l||b[19]!==n?(e=!n&&f==null&&k.jsxs(k.Fragment,{children:[k.jsx("path",{d:"M145.586 35H130.66c3.452 8.746 5.478 19.482 5.478 31.069 0 11.172-3.659 17.655-11.241 17.655-1.407 0-2.672-.18-3.897-.631V99.82c1.143.122 2.324.18 3.552.18 16.659 0 25.931-13.492 25.931-35.034 0-10.737-1.774-20.95-4.897-29.966Z",fill:"url(#"+g+")"}),k.jsx("path",{d:"M43.241 0c.254 0 .507.003.759.008v16.36c-.32-.015-.642-.023-.965-.023-14.183 0-26.139 23.782-26.736 47.655H.014C.59 30.87 19.143 0 43.24 0Z",fill:"url(#"+j+")"}),k.jsx("path",{d:"M43.241 0c11.152 0 20.601 5.02 31.502 17.971 3.065 3.828 6.761 8.805 10.716 14.557l.017.025.025-.003a311.041 311.041 0 0 1 6.036 9.459l8.823 14.715c13.798 22.2 17.269 27 24.537 27H125v16.273c-.149.002-.298.003-.448.003-14.513 0-22.522-8.152-36.897-32.207l-7.38-12.414a596.368 596.368 0 0 0-2.294-3.834L78 51.5c-5.5-9-9-14.5-12-18.5l-.05.038c-9.18-12.63-15.47-16.693-22.916-16.693H43V0L43.241 0Z",fill:"url(#"+l+")"})]}),b[15]=f,b[16]=g,b[17]=j,b[18]=l,b[19]=n,b[20]=e):e=b[20];b[21]!==a||b[22]!==r||b[23]!==s||b[24]!==e?(f=k.jsxs("g",{clipPath:a,children:[r,s,e]}),b[21]=a,b[22]=r,b[23]=s,b[24]=e,b[25]=f):f=b[25];b[26]!==f||b[27]!==q||b[28]!==o?(g=k.jsxs("svg",babelHelpers["extends"]({"aria-label":p},q,{role:"img",viewBox:"0 0 500 100",children:[o,f]})),b[26]=f,b[27]=q,b[28]=o,b[29]=g):g=b[29];return g}g["default"]=a}),226);
__d("MetaLockupPrimary.react",["MetaLockup.react"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=c("MetaLockup.react")}),98);
__d("CDSDialogMetaLockupHeading.react",["MetaLockupPrimary.react","react","react-compiler-runtime","react-strict-dom"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={companyLogo:{alignItems:"x6s0dn4",display:"x78zum5",marginStart:"x16n37ib",marginEnd:"xq8finb",marginLeft:null,marginRight:null,$$css:!0}};function a(){var a=d("react-compiler-runtime").c(1),b;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b=i.jsx(d("react-strict-dom").html.div,{style:j.companyLogo,children:i.jsx(c("MetaLockupPrimary.react"),{size:12})}),a[0]=b):b=a[0];return b}g["default"]=a}),98);
__d("CDSDialogTitle.react",["BaseDialogTitle.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(2);a=a.children;var e;b[0]!==a?(e=i.jsx(c("BaseDialogTitle.react"),{children:a}),b[0]=a,b[1]=e):e=b[1];return e}g["default"]=a}),98);
__d("MetaBrandCaretLeftOutline24.svg.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs("svg",babelHelpers["extends"]({viewBox:"0 0 24 24",fill:"currentColor",width:"1em",height:"1em"},a,{children:[a.title!=null&&i.jsx("title",{children:a.title}),a.children!=null&&i.jsx("defs",{children:a.children}),i.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M16.753 4.341a1 1 0 0 0-1.412-.094l-8 7a1 1 0 0 0 0 1.506l8 7a1 1 0 0 0 1.318-1.506L9.518 12l7.14-6.247a1 1 0 0 0 .094-1.412z"})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;b=a;g["default"]=b}),98);
__d("MetaBrandCaretRightOutline24.svg.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs("svg",babelHelpers["extends"]({viewBox:"0 0 24 24",fill:"currentColor",width:"1em",height:"1em"},a,{children:[a.title!=null&&i.jsx("title",{children:a.title}),a.children!=null&&i.jsx("defs",{children:a.children}),i.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.247 4.341a1 1 0 0 1 1.412-.094l8 7a1 1 0 0 1 0 1.506l-8 7a1 1 0 0 1-1.318-1.506L14.482 12l-7.14-6.247a1 1 0 0 1-.094-1.412z"})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;b=a;g["default"]=b}),98);
__d("CDSDialogHeader.react",["fbt","CDSDialogHeaderContainer.react","CDSDialogMetaLockupHeading.react","CDSDialogTitle.react","CDSIcon.react","CDSIconButton.react","CDSText.react","Locale","MetaBrandCaretLeftOutline24.svg.react","MetaBrandCaretRightOutline24.svg.react","MetaBrandXFilled24.svg.react","emptyFunction","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react"),k=c("Locale").isRTL();function a(a){var b=d("react-compiler-runtime").c(36),e=a.addOnEnd,f=a.backTestID,g=a.closeTestID,i=a.disabled,l=a.onBack,m=a.onClose,n=a.title,o=a.titleHidden,p=a.withBackButton,q=a.withCloseButton;a=a.withCompanyLogo;f=f===void 0?"back-button":f;g=g===void 0?"close-button":g;i=i===void 0?!1:i;l=l===void 0?c("emptyFunction"):l;m=m===void 0?c("emptyFunction"):m;o=o===void 0?!1:o;p=p===void 0?!1:p;q=q===void 0?!0:q;a=a===void 0?!1:a;var r=Boolean(n),s;b[0]!==n?(s=h.isFbtInstance(n)||typeof n==="string",b[0]=n,b[1]=s):s=b[1];s=s;if(b[2]!==n||b[3]!==o||b[4]!==s||b[5]!==r){var t;t=r?j.jsx("div",babelHelpers["extends"]({},{0:{},1:{className:"xzpqnlu x1hyvwdk xjm9jq1 x6ikm8r x10wlt62 x10l6tqk x1i1rx1s"}}[!!o<<0],{children:j.jsx(c("CDSDialogTitle.react"),{children:s?j.jsx(c("CDSText.react"),{isSemanticHeading:!0,textStyle:"headline3",children:(t=n)!=null?t:null}):(t=n)!=null?t:null})})):null;b[2]=n;b[3]=o;b[4]=s;b[5]=r;b[6]=t}else t=b[6];n=t;b[7]===Symbol["for"]("react.memo_cache_sentinel")?(o=j.jsx("div",{className:"x1vqgdyp x100vrsf"}),b[7]=o):o=b[7];s=o;r=q&&!a?s:null;t=e!=null?s:null;o=p||a?s:null;s=a?s:null;var u;b[8]===Symbol["for"]("react.memo_cache_sentinel")?(u={className:"x78zum5 x1i64zmx x1emribx"},b[8]=u):u=b[8];var v;b[9]!==r||b[10]!==f||b[11]!==i||b[12]!==l||b[13]!==p||b[14]!==a?(v=a?j.jsx(c("CDSDialogMetaLockupHeading.react"),{}):p?j.jsx(c("CDSIconButton.react"),{"aria-label":h._(/*BTDS*/"Back"),disabled:i,onPress:l,testid:void 0,children:j.jsx(c("CDSIcon.react"),{color:"primary",icon:k?c("MetaBrandCaretRightOutline24.svg.react"):c("MetaBrandCaretLeftOutline24.svg.react"),size:24})}):r,b[9]=r,b[10]=f,b[11]=i,b[12]=l,b[13]=p,b[14]=a,b[15]=v):v=b[15];b[16]!==t||b[17]!==v?(r=j.jsxs("div",babelHelpers["extends"]({},u,{children:[v,t]})),b[16]=t,b[17]=v,b[18]=r):r=b[18];b[19]===Symbol["for"]("react.memo_cache_sentinel")?(f={className:"x78zum5 x1iyjqo2 xl56j7k"},b[19]=f):f=b[19];b[20]!==n?(l=j.jsx("div",babelHelpers["extends"]({},f,{children:n})),b[20]=n,b[21]=l):l=b[21];b[22]===Symbol["for"]("react.memo_cache_sentinel")?(p={className:"x78zum5 x1i64zmx x1emribx"},b[22]=p):p=b[22];a=e!=null?e:s;b[23]!==o||b[24]!==g||b[25]!==i||b[26]!==m||b[27]!==q?(u=q?j.jsx(c("CDSIconButton.react"),{"aria-label":h._(/*BTDS*/"Close"),disabled:i,onPress:m,testid:void 0,children:j.jsx(c("CDSIcon.react"),{color:"primary",icon:c("MetaBrandXFilled24.svg.react"),size:24})}):o,b[23]=o,b[24]=g,b[25]=i,b[26]=m,b[27]=q,b[28]=u):u=b[28];b[29]!==a||b[30]!==u?(t=j.jsxs("div",babelHelpers["extends"]({},p,{children:[a,u]})),b[29]=a,b[30]=u,b[31]=t):t=b[31];b[32]!==r||b[33]!==l||b[34]!==t?(v=j.jsxs(c("CDSDialogHeaderContainer.react"),{children:[r,l,t]}),b[32]=r,b[33]=l,b[34]=t,b[35]=v):v=b[35];return v}g["default"]=a}),226);
__d("CDSGlimmer.react",["BaseLoadingStateElement.react","react","react-compiler-runtime","useCurrentDisplayMode","useVisibilityObserver"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;b.useCallback;var j=b.useState,k={animationDelay:function(a){return[{animationDelay:a%10*200+"ms"==null?null:"x1js0keu",$$css:!0},{"--animationDelay":function(a){return typeof a==="number"?a+"ms":a!=null?a:void 0}(a%10*200+"ms")}]},circle:{borderTopStartRadius:"x14yjl9h",borderTopEndRadius:"xudhj91",borderBottomEndRadius:"x18nykt9",borderBottomStartRadius:"xww2gxu",$$css:!0},dark:{animationName:"xbql7jm",backgroundColor:"x10l5999",opacity:"xzl3qmq",$$css:!0},darkOnWhiteBackground:{animationName:"x1hx36qn",backgroundColor:"x13a6qad",opacity:"x1bu4zmy",$$css:!0},light:{animationName:"xbql7jm",backgroundColor:"x10l5999",opacity:"xzl3qmq",$$css:!0},lightOnWhiteBackground:{animationName:"x1hx36qn",backgroundColor:"x13a6qad",opacity:"x1bu4zmy",$$css:!0},paused:{animationPlayState:"xorstpt",$$css:!0},root:{animationDirection:"xpz12be",animationDuration:"x1q3qbx4",animationIterationCount:"xa4qsjk",animationTimingFunction:"x3kn0hh",borderTopStartRadius:"x114eguw",borderTopEndRadius:"x138qgi9",borderBottomEndRadius:"xej1ods",borderBottomStartRadius:"xbovv2a",$$css:!0}};function l(a,b){if(a==="dark")return b?k.darkOnWhiteBackground:k.dark;else return b?k.lightOnWhiteBackground:k.light}function a(a){var b=d("react-compiler-runtime").c(17),e=a.index,f=a.onWhiteBackground,g=a.shape;a=a.xstyle;e=e===void 0?0:e;f=f===void 0?!1:f;g=g===void 0?"rectangle":g;var h=c("useCurrentDisplayMode")(),m=j(!0),n=m[0],o=m[1];b[0]===Symbol["for"]("react.memo_cache_sentinel")?(m=function(a){a=a.hiddenReason;a!=="COMPONENT_UNMOUNTED"&&o(!0)},b[0]=m):m=b[0];m=m;var p;b[1]===Symbol["for"]("react.memo_cache_sentinel")?(p=function(){o(!1)},b[1]=p):p=b[1];p=p;b[2]===Symbol["for"]("react.memo_cache_sentinel")?(m={onHidden:m,onVisible:p},b[2]=m):m=b[2];p=c("useVisibilityObserver")(m);b[3]!==h||b[4]!==f?(m=l(h,f),b[3]=h,b[4]=f,b[5]=m):m=b[5];h=m;f=n&&k.paused;m=g==="circle"&&k.circle;b[6]!==e?(n=k.animationDelay(e),b[6]=e,b[7]=n):n=b[7];b[8]!==h||b[9]!==n||b[10]!==f||b[11]!==m||b[12]!==a?(g=[k.root,h,f,m,a,n],b[8]=h,b[9]=n,b[10]=f,b[11]=m,b[12]=a,b[13]=g):g=b[13];b[14]!==p||b[15]!==g?(e=i.jsx(c("BaseLoadingStateElement.react"),{ref:p,xstyle:g}),b[14]=p,b[15]=g,b[16]=e):e=b[16];return e}g["default"]=a}),98);
__d("CDSDialogLoadingStateImpl.react",["CDSGlimmer.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={firstLine:{height:"x170jfvy",marginBottom:"xyorhqc",marginStart:"xmn8rco",marginEnd:"x1h5jrl4",marginLeft:null,marginRight:null,maxWidth:"xq2pcee",$$css:!0},glimmer:{alignSelf:"xqcrz7y",boxSizing:"x9f619",width:"x19sv2k2",$$css:!0},heading:{height:"x1qx5ct2",marginBottom:"xieb3on",marginStart:"xmn8rco",marginEnd:"x1h5jrl4",marginLeft:null,marginRight:null,maxWidth:"xws0hc0",$$css:!0},secondLine:{height:"x170jfvy",marginBottom:"xyorhqc",marginStart:"xmn8rco",marginEnd:"x1h5jrl4",marginLeft:null,marginRight:null,maxWidth:"xg16ivm",$$css:!0}};function a(){var a=d("react-compiler-runtime").c(3),b;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b=i.jsx(c("CDSGlimmer.react"),{xstyle:[j.glimmer,j.heading]}),a[0]=b):b=a[0];var e;a[1]===Symbol["for"]("react.memo_cache_sentinel")?(e=i.jsx(c("CDSGlimmer.react"),{xstyle:[j.glimmer,j.firstLine]}),a[1]=e):e=a[1];a[2]===Symbol["for"]("react.memo_cache_sentinel")?(b=i.jsxs(i.Fragment,{children:[b,e,i.jsx(c("CDSGlimmer.react"),{xstyle:[j.glimmer,j.secondLine]})]}),a[2]=b):b=a[2];return b}g["default"]=a}),98);
__d("CDSMiniToastContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b=a.createContext({activeToasts:{},add:function(){return""},remove:function(){}});g["default"]=b}),98);
__d("CDSMiniToastIDContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b=a.createContext("");g["default"]=b}),98);
__d("CDSMiniToastProvider.react",["BasePortal.react","CDSMiniToastContext","CDSMiniToastIDContext","CometPlaceholder.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;b.useCallback;b.useMemo;var j=b.useRef,k=b.useState;function a(a){var b=d("react-compiler-runtime").c(11);a=a.children;var e=j(1),f;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(f={},b[0]=f):f=b[0];f=k(f);var g=f[0],h=f[1];b[1]===Symbol["for"]("react.memo_cache_sentinel")?(f=function(a){e.current=e.current+1;var b="minitoast-"+e.current;h(function(c){return babelHelpers["extends"]({},c,(c={},c[b]=a,c))});return b},b[1]=f):f=b[1];f=f;var m;b[2]===Symbol["for"]("react.memo_cache_sentinel")?(m=function(a){h(function(b){b=babelHelpers["extends"]({},b);delete b[a];return b})},b[2]=m):m=b[2];m=m;b[3]!==g?(f={activeToasts:g,add:f,remove:m},b[3]=g,b[4]=f):f=b[4];m=f;f=m;b[5]!==g?(m=Object.keys(g).length>0&&i.jsx(c("BasePortal.react"),{hidden:Object.keys(g).length===0,target:document.body,xstyle:l.root,children:Object.keys(g).map(function(a){return i.jsx(c("CometPlaceholder.react"),{fallback:null,children:i.jsx(c("CDSMiniToastIDContext").Provider,{value:a,children:g[a]})},a)})}),b[5]=g,b[6]=m):m=b[6];var n;b[7]!==a||b[8]!==f||b[9]!==m?(n=i.jsxs(c("CDSMiniToastContext").Provider,{value:f,children:[a,m]}),b[7]=a,b[8]=f,b[9]=m,b[10]=n):n=b[10];return n}var l={root:{alignItems:"x6s0dn4",bottom:"x1ey2m1c",display:"x78zum5",flexDirection:"xdt5ytf",end:"xds687c",start:"x17qophe",left:null,right:null,justifyContent:"xl56j7k",pointerEvents:"x47corl",position:"xixxii4",top:"x13vifvy",zIndex:"x1ladpmw",$$css:!0}};g["default"]=a}),98);
__d("useWindowEvent",["react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useEffect;function a(a,b,c){var e=d("react-compiler-runtime").c(5),f=c===void 0?window:c,g;e[0]!==b||e[1]!==a||e[2]!==f?(c=function(){f.addEventListener(a,b);return function(){f.removeEventListener(a,b)}},g=[a,b,f],e[0]=b,e[1]=a,e[2]=f,e[3]=c,e[4]=g):(c=e[3],g=e[4]);i(c,g)}g["default"]=a}),98);
__d("CDSDialogPage.react",["BaseHeadingContextWrapper.react","BaseScrollRegionObserver.react","BaseScrollableArea.react","CDSDialogHeaderFooterContainerContext","CDSMiniToastProvider.react","FocusInertRegion.react","focusScopeQueries","react","react-compiler-runtime","useEventHandler","useMatchViewport","useMergeRefs","useWindowEvent"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useEffect,k=b.useLayoutEffect;b.useMemo;var l=b.useRef,m=b.useState,n={inert:{pointerEvents:"x47corl",userSelect:"x87ps6o",$$css:!0},scrollableArea:{flexGrow:"x1iyjqo2",overscrollBehaviorY:"xy5w88m",$$css:!0},scrollSectionObserver:{height:"x1ycjhwn",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(68),e=a.ref,f=a.children,g=a.footer,h=a.header,o=a.isContentInert,p=a.isFooterSticky,q=a.onScroll,r=a.onScrollBottom;a=a.testid;o=o===void 0?!1:o;var s=c("useMatchViewport")("max","width",679),t=l(null),u,v;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(u=function(){t.current=window.innerHeight},v=[],b[0]=u,b[1]=v):(u=b[0],v=b[1]);k(u,v);b[2]!==r?(u=function(){r&&r()},b[2]=r,b[3]=u):u=b[3];var w=c("useEventHandler")(u);b[4]!==q?(v=function(){q&&q()},b[4]=q,b[5]=v):v=b[5];var x=c("useEventHandler")(v);b[6]!==x||b[7]!==w?(u=function(a){x();t.current!=null&&window.pageYOffset>=((a=(a=document.body)==null?void 0:a.offsetHeight)!=null?a:0)-t.current&&w()},b[6]=x,b[7]=w,b[8]=u):u=b[8];var y=c("useEventHandler")(u);b[9]!==y?(v=function(a){var b;t.current=Math.max((b=t.current)!=null?b:0,window.innerHeight);y(a)},b[9]=y,b[10]=v):v=b[10];u=c("useEventHandler")(v);var z;b[11]!==w?(v=function(){var a;if(window.innerWidth>679)return;t.current!=null&&window.pageYOffset>=((a=(a=document.body)==null?void 0:a.offsetHeight)!=null?a:0)-t.current&&w()},z=[w],b[11]=w,b[12]=v,b[13]=z):(v=b[12],z=b[13]);j(v,z);c("useWindowEvent")("scroll",y);c("useWindowEvent")("resize",u);b[14]!==w?(v=function(){if(window.innerWidth<=679)return;w()},b[14]=w,b[15]=v):v=b[15];z=v;b[16]!==x?(u=function(){if(window.innerWidth<=679)return;x()},b[16]=x,b[17]=u):u=b[17];v=u;u=m(!1);var A=u[0],B=u[1];u=m(!1);var C=u[0],D=u[1];u=l(null);e=c("useMergeRefs")(u,e);var E=l(null),F;b[18]!==A?(F={showBackground:A},b[18]=A,b[19]=F):F=b[19];A=F;F=A;b[20]!==p||b[21]!==C?(A={isInner:!1,isSticky:p,showBackground:C},b[20]=p,b[21]=C,b[22]=A):A=b[22];A=A;A=A;var G;b[23]!==p||b[24]!==C?(G={isInner:!0,isSticky:p,showBackground:C},b[23]=p,b[24]=C,b[25]=G):G=b[25];p=G;C=p;b[26]===Symbol["for"]("react.memo_cache_sentinel")?(G={callback:function(a){B(!a)},heightXStyle:n.scrollSectionObserver},b[26]=G):G=b[26];p=G;b[27]===Symbol["for"]("react.memo_cache_sentinel")?(G={callback:function(a){D(!a)},heightXStyle:n.scrollSectionObserver},b[27]=G):G=b[27];G=G;var H;b[28]===Symbol["for"]("react.memo_cache_sentinel")?(H={className:"x1o1ewxj x3x9cwd x1e5q0jg x13rtm0m x78zum5 xdt5ytf x1iyjqo2 x1yr2tfi xbt77o1 x1jxyteu x1n2onr6 x1ja2u2z"},b[28]=H):H=b[28];var I=s?G:null,J=s?p:null,K;b[29]!==I||b[30]!==J?(K=i.jsx(c("BaseScrollRegionObserver.react"),{end:I,start:J}),b[29]=I,b[30]=J,b[31]=K):K=b[31];b[32]!==h||b[33]!==F?(I=i.jsx(c("CDSDialogHeaderFooterContainerContext").Provider,{value:F,children:h}),b[32]=h,b[33]=F,b[34]=I):I=b[34];J=g!=null;F=h!=null;h=o&&n.inert;var L;b[35]!==h?(L=[n.scrollableArea,h],b[35]=h,b[36]=L):L=b[36];h=s?null:G;G=s?null:p;b[37]!==h||b[38]!==G?(s=i.jsx(c("BaseScrollRegionObserver.react"),{end:h,rootRef:u,start:G}),b[37]=h,b[38]=G,b[39]=s):s=b[39];p=!o;b[40]===Symbol["for"]("react.memo_cache_sentinel")?(u={className:"x78zum5 xdt5ytf x1iyjqo2 xx6bls6 x889kno"},b[40]=u):u=b[40];b[41]!==f?(h=i.jsx("div",babelHelpers["extends"]({},u,{ref:E,children:f})),b[41]=f,b[42]=h):h=b[42];b[43]!==p||b[44]!==h?(G=i.jsx(c("FocusInertRegion.react"),{disabled:p,focusQuery:d("focusScopeQueries").tabbableScopeQuery,children:h}),b[43]=p,b[44]=h,b[45]=G):G=b[45];b[46]!==g||b[47]!==C?(o=i.jsx(c("CDSDialogHeaderFooterContainerContext").Provider,{value:C,children:g}),b[46]=g,b[47]=C,b[48]=o):o=b[48];b[49]!==v||b[50]!==z||b[51]!==J||b[52]!==F||b[53]!==L||b[54]!==s||b[55]!==G||b[56]!==o?(u=i.jsx(c("BaseHeadingContextWrapper.react"),{children:i.jsxs(c("BaseScrollableArea.react"),{contentRef:E,hideScrollbar:!1,horizontal:!1,onScroll:v,onScrollBottom:z,vertical:!0,withBottomShadow:J,withTopShadow:F,xstyle:L,children:[s,G,o]})}),b[49]=v,b[50]=z,b[51]=J,b[52]=F,b[53]=L,b[54]=s,b[55]=G,b[56]=o,b[57]=u):u=b[57];b[58]!==g||b[59]!==A?(f=i.jsx(c("CDSDialogHeaderFooterContainerContext").Provider,{value:A,children:g}),b[58]=g,b[59]=A,b[60]=f):f=b[60];b[61]!==e||b[62]!==K||b[63]!==I||b[64]!==u||b[65]!==f||b[66]!==a?(p=i.jsx(c("CDSMiniToastProvider.react"),{children:i.jsxs("div",babelHelpers["extends"]({},H,{"data-testid":void 0,ref:e,children:[K,I,u,f]}))}),b[61]=e,b[62]=K,b[63]=I,b[64]=u,b[65]=f,b[66]=a,b[67]=p):p=b[67];return p}g["default"]=a}),98);
__d("CDSDialogPageLoadingState.react",["fbt","CDSDialogHeader.react","CDSDialogLoadingStateImpl.react","CDSDialogPage.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(a){var b=d("react-compiler-runtime").c(6);a=a.onClose;var e;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e=h._(/*BTDS*/"Loading..."),b[0]=e):e=b[0];b[1]!==a?(e=j.jsx(c("CDSDialogHeader.react"),{onClose:a,title:e,titleHidden:!0}),b[1]=a,b[2]=e):e=b[2];b[3]===Symbol["for"]("react.memo_cache_sentinel")?(a=j.jsx(c("CDSDialogLoadingStateImpl.react"),{}),b[3]=a):a=b[3];b[4]!==e?(a=j.jsx(c("CDSDialogPage.react"),{footer:null,header:e,children:a}),b[4]=e,b[5]=a):a=b[5];return a}g["default"]=a}),226);
__d("CDSDialogContainer.react",["BaseDialog.react","BaseDialogLabelIDProvider","BaseMultiPageView.react","CDSDialogPageLoadingState.react","CDSThemeConfig","Dsp2Utils","emptyFunction","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));h.useMemo;var j={anchor:{alignItems:"x1qjc9v5",maxHeight:"x1bwycvy",minHeight:"x1jee029",paddingTop:"x1x97wu9",paddingBottom:"xbr3nou",paddingStart:"x1e558r4",paddingEnd:"x150jy0e",paddingLeft:null,paddingRight:null,"@supports (padding: env(safe-area-inset-bottom, 0))_paddingBottom":"xqit15g","@supports (padding: env(safe-area-inset-bottom, 0))_paddingTop":"x1bi8yb4",$$css:!0},anchorBottomSheet:{"@media (max-width: 679px)_paddingBottom":"x1eevrrt","@media (max-width: 679px)_touchAction":"x15ypxgc",$$css:!0},anchorMinHeight:{"@media (max-height: 488px)_minHeight":"x1roekcs","@media (max-height: 488px)_paddingTop":"x10hnfgj","@media (max-height: 488px)_paddingBottom":"x1k7oykt","@media (max-width: 679px)_maxHeight":"x1jxyteu","@media (max-width: 679px)_minHeight":"xwnxf6m",$$css:!0},card:{backgroundColor:"x1jx94hy",borderTopStartRadius:"xrjkcco",borderTopEndRadius:"x58fqnu",borderBottomEndRadius:"x1mh14rs",borderBottomStartRadius:"xfkwgsy",clipPath:"xkahi35",flexGrow:"x1iyjqo2",position:"x1n2onr6","@media (max-width: 679px)_boxShadow":"x1likypf","@media (max-width: 679px)_overflowX":"x1e9k66k","@media (max-width: 679px)_overflowY":"x12l8kdc",$$css:!0},dialog:{alignItems:"x1qjc9v5",borderTopStartRadius:"xrjkcco",borderTopEndRadius:"x58fqnu",borderBottomEndRadius:"x1mh14rs",borderBottomStartRadius:"xfkwgsy",boxShadow:"x104qc98",display:"x78zum5",overflowX:"x1plvlek",overflowY:"xryxfnj",width:"xh8yej3",$$css:!0},dialogBottomSheet:{"@media (max-width: 679px)_borderBottomEndRadius":"x12gvdjo","@media (max-width: 679px)_borderBottomStartRadius":"xi4e5hu",$$css:!0},fitToSize:{minHeight:"xsjhvl8",$$css:!0},root:{"@media (max-width: 679px)_justifyContent":"x3l4zpa",$$css:!0},rootBottomSheet:{"@media (max-width: 679px)_justifyContent":"x9a67hx",$$css:!0},rootMinHeight:{"@media (max-width: 679px)_justifyContent":"xshlqvt",$$css:!0}},k={medium:{maxWidth:"xrgej4m",$$css:!0},small:{maxWidth:"xrlsmeg",$$css:!0}};function a(a){var b,e=d("react-compiler-runtime").c(32),f=a.ref,g=a.anchorXStyle,h=a["aria-label"],l=a.children,m=a.disableClosingWithMask,n=a.enableBottomSheetBehavior,o=a.fitToSize,p=a.mobileFullHeight,q=a.onClose,r=a.size;a=a.testid;m=m===void 0?!1:m;n=n===void 0?!1:n;o=o===void 0?!1:o;p=p===void 0?!0:p;r=r===void 0?"small":r;b=(b=q)!=null?b:c("emptyFunction");var s;e[0]!==b?(s=i.jsx(c("CDSDialogPageLoadingState.react"),{onClose:b}),e[0]=b,e[1]=s):s=e[1];b=s;s=b;b=d("BaseDialogLabelIDProvider").useDialogHeaderID();var t;e[2]!==g?(t=[j.anchor,g],e[2]=g,e[3]=t):t=e[3];g=t;t=o&&j.fitToSize;o=p&&j.anchorMinHeight;var u=n&&j.anchorBottomSheet,v;e[4]!==g||e[5]!==t||e[6]!==o||e[7]!==u?(v=[g,t,o,u],e[4]=g,e[5]=t,e[6]=o,e[7]=u,e[8]=v):v=e[8];g=h==null?b:void 0;o=(t=q)!=null?t:c("emptyFunction");u=!p&&j.rootMinHeight;b=n&&j.rootBottomSheet;e[9]!==u||e[10]!==b?(q=[j.root,u,b],e[9]=u,e[10]=b,e[11]=q):q=e[11];t=k[r];p=n&&j.dialogBottomSheet;e[12]!==t||e[13]!==p?(u=[j.dialog,t,p],e[12]=t,e[13]=p,e[14]=u):u=e[14];b=n&&j.dialogBottomSheet;e[15]!==b?(r=[j.card,b],e[15]=b,e[16]=r):r=e[16];e[17]!==l||e[18]!==s||e[19]!==r?(t=i.jsx(c("BaseMultiPageView.react"),{fallback:s,xstyle:r,children:l}),e[17]=l,e[18]=s,e[19]=r,e[20]=t):t=e[20];e[21]!==h||e[22]!==m||e[23]!==n||e[24]!==v||e[25]!==g||e[26]!==o||e[27]!==q||e[28]!==u||e[29]!==t||e[30]!==a?(p=i.jsx(c("BaseDialog.react"),{anchorXStyle:v,"aria-label":h,"aria-labelledby":g,disableClosingWithMask:m,enableBottomSheetBehavior:n,onClose:o,ref:f,rootXStyle:q,testid:void 0,themeConfig:d("Dsp2Utils").enableDsp2ThemeInXMDSComponents()?void 0:c("CDSThemeConfig"),xstyle:u,children:t}),e[21]=h,e[22]=m,e[23]=n,e[24]=v,e[25]=g,e[26]=o,e[27]=q,e[28]=u,e[29]=t,e[30]=a,e[31]=p):p=e[31];return p}g["default"]=a}),98);
__d("CDSDialog.react",["BaseDialogLabelIDProvider","CDSDialogContainer.react","CDSDialogPage.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(26),e,f,g,h,j,k,l,m,n,o,p;b[0]!==a?(n=a.ref,e=a.anchorXStyle,f=a["aria-label"],g=a.disableClosingWithMask,h=a.enableBottomSheetBehavior,j=a.fitToSize,k=a.mobileFullHeight,l=a.onClose,o=a.size,p=a.testid,m=babelHelpers.objectWithoutPropertiesLoose(a,["ref","anchorXStyle","aria-label","disableClosingWithMask","enableBottomSheetBehavior","fitToSize","mobileFullHeight","onClose","size","testid"]),b[0]=a,b[1]=e,b[2]=f,b[3]=g,b[4]=h,b[5]=j,b[6]=k,b[7]=l,b[8]=m,b[9]=n,b[10]=o,b[11]=p):(e=b[1],f=b[2],g=b[3],h=b[4],j=b[5],k=b[6],l=b[7],m=b[8],n=b[9],o=b[10],p=b[11]);b[12]!==m?(a=i.jsx(c("CDSDialogPage.react"),babelHelpers["extends"]({},m)),b[12]=m,b[13]=a):a=b[13];b[14]!==e||b[15]!==f||b[16]!==g||b[17]!==h||b[18]!==j||b[19]!==k||b[20]!==l||b[21]!==n||b[22]!==o||b[23]!==a||b[24]!==p?(m=i.jsx(d("BaseDialogLabelIDProvider").BaseDialogLabelIDProvider,{children:i.jsx(c("CDSDialogContainer.react"),{anchorXStyle:e,"aria-label":f,disableClosingWithMask:g,enableBottomSheetBehavior:h,fitToSize:j,mobileFullHeight:k,onClose:l,ref:n,size:o,testid:void 0,children:a})}),b[14]=e,b[15]=f,b[16]=g,b[17]=h,b[18]=j,b[19]=k,b[20]=l,b[21]=n,b[22]=o,b[23]=a,b[24]=p,b[25]=m):m=b[25];return m}g["default"]=a}),98);
__d("CDSDialogLoadingState.react",["fbt","CDSDialog.react","CDSDialogHeader.react","CDSDialogLoadingStateImpl.react","emptyFunction","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(a){var b=d("react-compiler-runtime").c(10),e=a.inline,f=a.withCloseButton,g=a.onClose;a=a.size;f=f===void 0?!1:f;g=g===void 0?c("emptyFunction"):g;var i;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(i=h._(/*BTDS*/"Loading..."),b[0]=i):i=b[0];var k;b[1]!==g||b[2]!==f?(k=j.jsx(c("CDSDialogHeader.react"),{onClose:g,withCloseButton:f}),b[1]=g,b[2]=f,b[3]=k):k=b[3];b[4]===Symbol["for"]("react.memo_cache_sentinel")?(f=j.jsx(c("CDSDialogLoadingStateImpl.react"),{}),b[4]=f):f=b[4];b[5]!==e||b[6]!==g||b[7]!==a||b[8]!==k?(i=j.jsx(c("CDSDialog.react"),{"aria-label":i,footer:null,header:k,inline:e,onClose:g,size:a,children:f}),b[5]=e,b[6]=g,b[7]=a,b[8]=k,b[9]=i):i=b[9];return i}g["default"]=a}),226);/*FB_PKG_DELIM*/
__d("CometBlueprintIcons",["ix","TintableIconSource","fbicon","gkx"],(function(a,b,c,d,e,f,g,h){"use strict";var i=c("gkx")("22812");function a(){return i?new(c("TintableIconSource"))("FB",h("386426"),20):d("fbicon")._(h("509922"),18)}function b(){return i?new(c("TintableIconSource"))("FB",h("386436"),20):d("fbicon")._(h("509926"),18)}function e(){return i?new(c("TintableIconSource"))("FB",h("386622"),20):d("fbicon")._(h("508558"),18)}function f(){return i?new(c("TintableIconSource"))("FB",h("387252"),16):d("fbicon")._(h("508557"),16)}function j(){return i?new(c("TintableIconSource"))("FB",h("387254"),16):d("fbicon")._(h("484398"),16)}function k(){return i?new(c("TintableIconSource"))("FB",h("386749"),20):d("fbicon")._(h("484399"),18)}function l(){return i?h("386429"):h("352555")}function m(){return i?h("386439"):h("352559")}function n(){return i?h("386428"):h("347020")}function o(){return i?h("386438"):h("347022")}function p(){return i?h("386427"):h("347019")}function q(){return i?new(c("TintableIconSource"))("FB",h("386749"),20):d("fbicon")._(h("484394"),16)}function r(){return i?new(c("TintableIconSource"))("FB",h("389959"),20):d("fbicon")._(h("487090"),20)}function s(){return i?new(c("TintableIconSource"))("FB",h("389949"),20):d("fbicon")._(h("507176"),20)}function t(){return i?new(c("TintableIconSource"))("FB",h("389935"),20):d("fbicon")._(h("490501"),20)}function u(){return i?new(c("TintableIconSource"))("FB",h("389951"),20):d("fbicon")._(h("487562"),20)}function v(){return i?new(c("TintableIconSource"))("FB",h("389953"),20):d("fbicon")._(h("559830"),20)}function w(){return i?new(c("TintableIconSource"))("FB",h("389933"),20):d("fbicon")._(h("505620"),20)}function x(){return i?new(c("TintableIconSource"))("FB",h("389941"),20):d("fbicon")._(h("514454"),20)}function y(){return i?new(c("TintableIconSource"))("FB",h("389939"),20):d("fbicon")._(h("512647"),20)}function z(){return i?new(c("TintableIconSource"))("FB",h("389945"),20):d("fbicon")._(h("492488"),20)}function A(){return i?new(c("TintableIconSource"))("FB",h("389947"),20):d("fbicon")._(h("492536"),20)}function B(){return i?new(c("TintableIconSource"))("FB",h("389937"),20):d("fbicon")._(h("497241"),20)}function C(){return i?new(c("TintableIconSource"))("FB",h("389943"),20):d("fbicon")._(h("498146"),20)}function D(){return i?new(c("TintableIconSource"))("FB",h("389957"),20):d("fbicon")._(h("481767"),20)}function E(){return i?new(c("TintableIconSource"))("FB",h("389955"),20):d("fbicon")._(h("487626"),20)}function F(){return i?new(c("TintableIconSource"))("FB",h("111418"),20):d("fbicon")._(h("485103"),20)}function G(){return i?new(c("TintableIconSource"))("FB",h("111404"),20):d("fbicon")._(h("14175"),20)}function H(){return i?new(c("TintableIconSource"))("FB",h("111421"),20):d("fbicon")._(h("679141"),20)}function I(){return i?new(c("TintableIconSource"))("FB",h("111412"),20):d("fbicon")._(h("498857"),20)}g.getUFIFilledLikeIcon=a;g.getUFIOutlinedLikeIcon=b;g.getUFIOutlinedCommentIcon=e;g.getCometUFISummaryBarLabelCommentIcon=f;g.getCometUFISummaryBarLabelShareIcon=j;g.getUFIOutlinedShareIcon=k;g.getUFIFilledWhiteLikeIcon=l;g.getUFIOutlinedWhiteLikeIcon=m;g.getUFIFilledLightLikeIcon=n;g.getUFIOutlinedLightLikeIcon=o;g.getUFIFilledHighlightLikeIcon=p;g.getFilledToOutlinedInvertedShareIcon=q;g.getUFIOutlinedPlusCircleIcon=r;g.getUFIOutlinedComposeIcon=s;g.getUFIOutlinedAppPagesIcon=t;g.getUFIOutlinedFriendsIcon=u;g.getUFIOutlinedFundraiserIcon=v;g.getUFIOutlinedMessengerIcon=w;g.getUFIFilledArrowRightIcon=x;g.getUFIFilledArrowLeftIcon=y;g.getUFIFilledChevronLeftIcon=z;g.getUFIFilledChevronRightIcon=A;g.getUFIOutlinedAppWhatsappIcon=B;g.getUFIFilledCheckmarkCircleIcon=C;g.getUFIOutlinedLinkIcon=D;g.getUFIOutlinedInternetIcon=E;g.getUFIOutlinedGroupIcon=F;g.getUFIOutlinedAppBusinessSuiteIcon=G;g.getUFIOutlinedQRCodeIcon=H;g.getUFIOutlinedCodeIcon=I}),98);
__d("CometFeedGating",["gkx"],(function(a,b,c,d,e,f,g){"use strict";function a(){return!0}function b(){return c("gkx")("12000")}function d(){return c("gkx")("14516")}function e(){return c("gkx")("14917")}function f(){return c("gkx")("14443")}function h(){return c("gkx")("13341")}function i(){return c("gkx")("12349")}function j(){return c("gkx")("12183")}function k(){return c("gkx")("14421")}g.shouldEnableFeedUFIUIModernization=a;g.shouldEnableFeedUFIUIEvenVerticalSpacing=b;g.enableFeedVideoAdsClickOptimization=d;g.shouldMakeFeedAdsBodyTextClickable=e;g.shouldAlwaysOpenRadicalUFI=f;g.shouldEnableSMSLBumperSmallPadding=h;g.shouldEnableMultiPhotoPostSmallerInnerMargins=i;g.shouldEnableLinkAttachmentPaddingFix=j;g.shouldEnableUpdatedCommentModerationPadding=k}),98);
__d("CometFeedVisitationContext",["react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));c=h;var j=c.useContext;c.useMemo;var k=i.createContext({feedLastVisitTime:null});function a(a){var b=d("react-compiler-runtime").c(5),c=a.children;a=a.feedLastVisitTime;var e;b[0]!==a?(e={feedLastVisitTime:a},b[0]=a,b[1]=e):e=b[1];a=e;e=a;b[2]!==c||b[3]!==e?(a=i.jsx(k.Provider,{value:e,children:c}),b[2]=c,b[3]=e,b[4]=a):a=b[4];return a}function b(){return j(k)}g.CometFeedVisitationContextProvider=a;g.useCometFeedVisitationContext=b}),98);
__d("CometIdentityBadgeInformationDialogQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="10092778030773716"}),null);
__d("CometIdentityBadgeInformationDialogQuery$Parameters",["CometIdentityBadgeInformationDialogQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("CometIdentityBadgeInformationDialogQuery_facebookRelayOperation"),metadata:{},name:"CometIdentityBadgeInformationDialogQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("CometIdentityBadgeInformationDialog.entrypoint",["CometIdentityBadgeInformationDialogQuery$Parameters","JSResourceForInteraction"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){a=a.videoID;return{queries:{videoQueryRef:{parameters:b("CometIdentityBadgeInformationDialogQuery$Parameters"),variables:{videoID:(a=a)!=null?a:""}}}}},root:c("JSResourceForInteraction")("CometIdentityBadgeInformationDialog.react").__setRef("CometIdentityBadgeInformationDialog.entrypoint")};g["default"]=a}),98);
__d("CometProfileSwitcherDialogEntrypointWrapperQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="9461130610663632"}),null);
__d("CometSetSimplifiedUFICommentCountContextProvider",["react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));c=h;var j=c.useContext;c.useMemo;var k=i.createContext({setSimplifiedUFICommentCount:function(){}});function a(a){var b=d("react-compiler-runtime").c(5),c=a.children;a=a.setSimplifiedUFICommentCount;var e;b[0]!==a?(e={setSimplifiedUFICommentCount:a},b[0]=a,b[1]=e):e=b[1];a=e;e=a;b[2]!==c||b[3]!==e?(a=i.jsx(k.Provider,{value:e,children:c}),b[2]=c,b[3]=e,b[4]=a):a=b[4];return a}function b(){return j(k).setSimplifiedUFICommentCount}g.CometSetSimplifiedUFICommentCountContext=k;g.CometSetSimplifiedUFICommentCountContextProvider=a;g.useCometSetSimplifiedUFICommentCountContext=b}),98);
__d("CometUFIClassicTopReactions_feedback.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};return{argumentDefinitions:[{kind:"RootArgument",name:"useDefaultActor"}],kind:"Fragment",metadata:null,name:"CometUFIClassicTopReactions_feedback",selections:[{alias:null,args:[{kind:"Variable",name:"use_default_actor",variableName:"useDefaultActor"}],concreteType:"FeedbackReactionInfo",kind:"LinkedField",name:"viewer_feedback_reaction_info",plural:!1,selections:[a],storageKey:null},a,{alias:null,args:[{kind:"Literal",name:"orderby",value:["COUNT_DESC","REACTION_TYPE"]}],concreteType:"TopReactionsConnection",kind:"LinkedField",name:"top_reactions",plural:!1,selections:[{alias:null,args:null,concreteType:"TopReactionsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"visible_in_bling_bar",storageKey:null},{alias:null,args:null,concreteType:"FeedbackReactionInfo",kind:"LinkedField",name:"node",plural:!1,selections:[a,{alias:null,args:null,kind:"ScalarField",name:"localized_name",storageKey:null}],storageKey:null},{alias:"i18n_reaction_count",args:null,kind:"ScalarField",name:"reaction_count_reduced",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"reaction_count",storageKey:null}],storageKey:null}],storageKey:'top_reactions(orderby:["COUNT_DESC","REACTION_TYPE"])'}],type:"Feedback",abstractKey:null}}();e.exports=a}),null);
__d("CometUFIReactionsDialogQuery$Parameters",["CometUFIReactionsDialogQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("CometUFIReactionsDialogQuery_facebookRelayOperation"),metadata:{},name:"CometUFIReactionsDialogQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("CometUFIReactionsDialog.entrypoint",["CometUFIReactionsDialogQuery$Parameters","JSResourceForInteraction","WebPixelRatio"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){var c=a.feedbackTargetID;a=a.reactionID;return{queries:{cometUFIReactionsQueryReference:{options:{fetchPolicy:"store-and-network"},parameters:b("CometUFIReactionsDialogQuery$Parameters"),variables:{feedbackTargetID:c,reactionID:a,scale:d("WebPixelRatio").get()}}}}},root:c("JSResourceForInteraction")("CometUFIReactionsDialog.react").__setRef("CometUFIReactionsDialog.entrypoint")};g["default"]=a}),98);
__d("FDSLazyTooltip.react",["BaseTooltip.react","FDSTooltipImpl.react","lazyLoadComponent","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;b.useCallback;b.useMemo;function a(a){var b=d("react-compiler-runtime").c(25),e,f,g,h,j,k,l,m;b[0]!==a?(e=a.children,j=a.delayContentMs,k=a.delayTooltipMs,f=a.forceInlineDisplay,g=a.onVisibilityChange,l=a.tooltipProps,m=a.tooltipResource,h=babelHelpers.objectWithoutPropertiesLoose(a,["children","delayContentMs","delayTooltipMs","forceInlineDisplay","onVisibilityChange","tooltipProps","tooltipResource"]),b[0]=a,b[1]=e,b[2]=f,b[3]=g,b[4]=h,b[5]=j,b[6]=k,b[7]=l,b[8]=m):(e=b[1],f=b[2],g=b[3],h=b[4],j=b[5],k=b[6],l=b[7],m=b[8]);a=j===void 0?0:j;j=k===void 0?300:k;b[9]!==g||b[10]!==m?(k=function(a){a&&m.preload(),g==null?void 0:g(a)},b[9]=g,b[10]=m,b[11]=k):k=b[11];k=k;var n;b[12]!==m?(n=c("lazyLoadComponent")(m),b[12]=m,b[13]=n):n=b[13];n=n;n=n;var o;b[14]!==n||b[15]!==l?(o=i.jsx(n,babelHelpers["extends"]({},l)),b[14]=n,b[15]=l,b[16]=o):o=b[16];b[17]!==e||b[18]!==a||b[19]!==j||b[20]!==f||b[21]!==k||b[22]!==h||b[23]!==o?(n=i.jsx(c("BaseTooltip.react"),babelHelpers["extends"]({delayContentMs:a,delayTooltipMs:j,forceInlineDisplay:f,onVisibilityChange:k,tooltip:o,tooltipImpl:c("FDSTooltipImpl.react")},h,{children:e})),b[17]=e,b[18]=a,b[19]=j,b[20]=f,b[21]=k,b[22]=h,b[23]=o,b[24]=n):n=b[24];return n}g["default"]=a}),98);
__d("CometUFITooltip.react",["CometErrorBoundary.react","FDSLazyTooltip.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;b.useCallback;var j=b.useState;function a(a){var b=d("react-compiler-runtime").c(18),e=a.align,f=a.children,g=a.delayContentMs,h=a.delayTooltipMs,k=a.tooltipContentComponent;a=a.tooltipContentProps;e=e===void 0?"middle":e;g=g===void 0?0:g;h=h===void 0?75:h;var l=j(0),m=l[0],n=l[1];b[0]!==m?(l=function(a){a&&n(m+1)},b[0]=m,b[1]=l):l=b[1];l=l;var o;b[2]!==f?(o=function(){return f},b[2]=f,b[3]=o):o=b[3];var p;b[4]!==m||b[5]!==a?(p=babelHelpers["extends"]({},a,{shownCount:m}),b[4]=m,b[5]=a,b[6]=p):p=b[6];b[7]!==e||b[8]!==f||b[9]!==g||b[10]!==h||b[11]!==l||b[12]!==p||b[13]!==k?(a=i.jsx(c("FDSLazyTooltip.react"),{align:e,delayContentMs:g,delayTooltipMs:h,onVisibilityChange:l,tooltipProps:p,tooltipResource:k,children:f}),b[7]=e,b[8]=f,b[9]=g,b[10]=h,b[11]=l,b[12]=p,b[13]=k,b[14]=a):a=b[14];b[15]!==o||b[16]!==a?(e=i.jsx(c("CometErrorBoundary.react"),{fallback:o,children:a}),b[15]=o,b[16]=a,b[17]=e):e=b[17];return e}g["default"]=a}),98);
__d("CometUFITopReactionsRenderer.react",["fbt","CAAWebClientLoggingEventSource","CometFeedARIAProperties.react","CometLoggedOutCTAStrings","CometPressable.react","CometReactionIcon.react","CometTrackingNodeProvider.react","CometTrackingNodesContext","CometUFIReactionsDialog.entrypoint","CometUFITooltip.react","DateConsts","DynamicUFIReactionTypes","JSResourceForInteraction","emptyFunction","encodeTrackingNode","gkx","qpl","react","react-compiler-runtime","recoverableViolation","stylex","translatedServerString","unrecoverableViolation","useCAALoggedOutDialogWrapper","useCometEntryPointDialog","useCometFeedNoRoutingNavigationEventLogger","useCometInteractionTracing"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||(j=d("react"));b=j;b.useCallback;var l=b.useContext,m=b.useRef,n=c("gkx")("22809"),o=c("JSResourceForInteraction")("CometUFIReactionIconTooltipContent.react").__setRef("CometUFITopReactionsRenderer.react"),p={firstReaction:{zIndex:"xhtitgo",$$css:!0},icon:{verticalAlign:"x16dsc37",$$css:!0},noBorder:{borderTopWidth:"x972fbf",borderEndWidth:"xcfux6l",borderBottomWidth:"x1qhh985",borderStartWidth:"xm0m39n",$$css:!0},reactionContainer:{borderTopColor:"x6zyg47",borderEndColor:"x1xm1mqw",borderBottomColor:"xpn8fn3",borderStartColor:"xtct9fg",borderTopStartRadius:"x13zp6kq",borderTopEndRadius:"x1mcfq15",borderBottomEndRadius:"xrosliz",borderBottomStartRadius:"x1wb7cse",borderTopStyle:"x13fuv20",borderEndStyle:"xu3j5b3",borderBottomStyle:"x1q0q8m5",borderStartStyle:"x26u7qi",borderTopWidth:"xamhcws",borderEndWidth:"xol2nv",borderBottomWidth:"xlxy82",borderStartWidth:"x19p7ews",height:"xmix8c7",marginStart:"x139jcc6",position:"x1n2onr6",width:"x1xp8n7a",$$css:!0},secondReaction:{zIndex:"x1vjfegm",$$css:!0},thirdReaction:{zIndex:"x1ja2u2z",$$css:!0}};function q(a){var b=d("react-compiler-runtime").c(50),e=a.dynamicReactionIcon,f=a.feedbackTargetID,g=a.i18nReactionCount,j=a.localizedName,q=a.noBorder,r=a.reactionCount,s=a.reactionID,t=a.shouldNotOpenTopReactorsDialogOnClick;a=a.xstyle;j=j;if(f==null)throw c("unrecoverableViolation")("CometUFITopReactionsRenderer: Expected feedback.id","ufi2");var u=m(null),v;b[0]!==f||b[1]!==s?(v={feedbackTargetID:f,reactionID:s},b[0]=f,b[1]=s,b[2]=v):v=b[2];v=c("useCometEntryPointDialog")(c("CometUFIReactionsDialog.entrypoint"),v,"button");var w=v[0],x=v[1],y=v[2];v=v[3];var z;b[3]===Symbol["for"]("react.memo_cache_sentinel")?(z={dialogSource:d("CAAWebClientLoggingEventSource").CAAWebClientLoggingDialogSource.UFI,title:c("CometLoggedOutCTAStrings").popupTitle},b[3]=z):z=b[3];z=c("useCAALoggedOutDialogWrapper")(z);var A;b[4]===Symbol["for"]("react.memo_cache_sentinel")?(A=c("qpl")._(30605374,"8121"),b[4]=A):A=b[4];var B=c("useCometInteractionTracing")(A,"fluid","INTERACTION");A=l(c("CometTrackingNodesContext"));var C;b[5]===Symbol["for"]("react.memo_cache_sentinel")?(C=c("encodeTrackingNode")(137),b[5]=C):C=b[5];b[6]!==A?(C=[C].concat(A),b[6]=A,b[7]=C):C=b[7];A=C;var D=c("useCometFeedNoRoutingNavigationEventLogger")(A);b[8]!==D||b[9]!==s||b[10]!==w||b[11]!==B?(C=function(){B(function(){w({reactionID:s})}),c("gkx")("2103")&&D(Date.now()/d("DateConsts").MS_PER_SEC,null,"permalink_reactors_list")},b[8]=D,b[9]=s,b[10]=w,b[11]=B,b[12]=C):C=b[12];A=C;C=n?z:A;b[13]!==x||b[14]!==y||b[15]!==v||b[16]!==t?(z=n||t?[void 0,void 0,void 0]:[x,y,v],b[13]=x,b[14]=y,b[15]=v,b[16]=t,b[17]=z):z=b[17];A=z;x=A[0];y=A[1];v=A[2];var E;if(s!=null&&c("DynamicUFIReactionTypes").reactions[s]){b[18]!==s?(z=k.jsx(c("CometReactionIcon.react"),{reactionID:s,role:"presentation",size:18,xstyle:p.icon}),b[18]=s,b[19]=z):z=b[19];E=z}else e!=null&&(E=e);if(b[20]!==g||b[21]!==j||b[22]!==r){z=h._(/*BTDS*/"_j{\"*\":\"{i18nReactionName}: {number} people\",\"_1\":\"{i18nReactionName}: 1 person\"}",[h._plural((A=r)!=null?A:0,"number",g),h._param("i18nReactionName",j)]);b[20]=g;b[21]=j;b[22]=r;b[23]=z}else z=b[23];e=t?c("emptyFunction"):C;b[24]!==E||b[25]!==x||b[26]!==y||b[27]!==v||b[28]!==z||b[29]!==e?(A=k.jsx(c("CometTrackingNodeProvider.react"),{trackingNode:137,children:k.jsx(c("CometPressable.react"),{label:z,onHoverIn:x,onHoverOut:y,onPress:e,onPressIn:v,overlayDisabled:!0,ref:u,children:E})}),b[24]=E,b[25]=x,b[26]=y,b[27]=v,b[28]=z,b[29]=e,b[30]=A):A=b[30];g=A;b[31]!==q||b[32]!==a?(r=(i||(i=c("stylex"))).props(p.reactionContainer,q===!0&&p.noBorder,a),b[31]=q,b[32]=a,b[33]=r):r=b[33];b[34]===Symbol["for"]("react.memo_cache_sentinel")?(t={className:"x12myldv x1udsgas xrc8dwe xxxhv2y x1rg5ohu xmix8c7 x1xp8n7a"},b[34]=t):t=b[34];b[35]!==j?(C=j!=null?c("translatedServerString")(j):void 0,b[35]=j,b[36]=C):C=b[36];b[37]!==f||b[38]!==s?(u={feedbackTargetID:f,reactionID:s},b[37]=f,b[38]=s,b[39]=u):u=b[39];b[40]!==s||b[41]!==C||b[42]!==u?(x={headline:C,queryVariables:u,reactionID:s},b[40]=s,b[41]=C,b[42]=u,b[43]=x):x=b[43];b[44]!==g||b[45]!==x?(y=k.jsx("span",babelHelpers["extends"]({},t,{children:k.jsx(c("CometUFITooltip.react"),{tooltipContentComponent:o,tooltipContentProps:x,children:g})})),b[44]=g,b[45]=x,b[46]=y):y=b[46];b[47]!==r||b[48]!==y?(v=k.jsx("span",babelHelpers["extends"]({},r,{children:y})),b[47]=r,b[48]=y,b[49]=v):v=b[49];return v}function a(a){var b=d("react-compiler-runtime").c(16),e=a.feedbackID,f=a.noBorder,g=a.shouldNotOpenTopReactorsDialogOnClick;a=a.topReactions;var i=g===void 0?!1:g;g=l(c("CometFeedARIAProperties.react"));if(a.length===0)return null;var j,m;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(j=h._(/*BTDS*/"See who reacted to this"),m={className:"x1ja2u2z"},b[0]=j,b[1]=m):(j=b[0],m=b[1]);var n=g.reactionTargetProps,o;b[2]===Symbol["for"]("react.memo_cache_sentinel")?(o="x6s0dn4 x78zum5 x1e558r4",b[2]=o):o=b[2];var r=g.reactionTargetRef;if(b[3]!==e||b[4]!==f||b[5]!==i||b[6]!==a){var s;b[8]!==e||b[9]!==f||b[10]!==i?(s=function(a,b){if(a==null)return null;var d=a.node;if(d==null)return null;var g=d.dynamicReactionIcon,h=d.id;d=d.localizedName;var j;bb15:switch(b){case 0:j=p.firstReaction;break bb15;case 1:j=p.secondReaction;break bb15;case 2:j=p.thirdReaction;break bb15;default:c("recoverableViolation")("There seem to be more than three reactions in this top reactions pile. You need to update this z-index code now.","ufi2")}return k.jsx(q,{dynamicReactionIcon:g,feedbackTargetID:e,i18nReactionCount:a.i18nReactionCount,localizedName:d,noBorder:f,reactionCount:a==null?void 0:a.reactionCount,reactionID:h,shouldNotOpenTopReactorsDialogOnClick:i,xstyle:j},h)},b[8]=e,b[9]=f,b[10]=i,b[11]=s):s=b[11];s=a.map(s);b[3]=e;b[4]=f;b[5]=i;b[6]=a;b[7]=s}else s=b[7];b[12]!==g.reactionTargetProps||b[13]!==g.reactionTargetRef||b[14]!==s?(a=k.jsx("span",babelHelpers["extends"]({"aria-label":j},m,{role:"toolbar",children:k.jsx("span",babelHelpers["extends"]({},n,{className:o,ref:r,children:s}))})),b[12]=g.reactionTargetProps,b[13]=g.reactionTargetRef,b[14]=s,b[15]=a):a=b[15];return a}g["default"]=a}),226);
__d("isNotOutlierReactionComet_feedback.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[{kind:"RootArgument",name:"useDefaultActor"}],kind:"Fragment",metadata:{mask:!1},name:"isNotOutlierReactionComet_feedback",selections:[{alias:null,args:[{kind:"Variable",name:"use_default_actor",variableName:"useDefaultActor"}],concreteType:"FeedbackReactionInfo",kind:"LinkedField",name:"viewer_feedback_reaction_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],type:"Feedback",abstractKey:null};e.exports=a}),null);
__d("isNotOutlierReactionComet_topReactionsEdge.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:{mask:!1},name:"isNotOutlierReactionComet_topReactionsEdge",selections:[{alias:null,args:null,kind:"ScalarField",name:"visible_in_bling_bar",storageKey:null},{alias:null,args:null,concreteType:"FeedbackReactionInfo",kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],type:"TopReactionsEdge",abstractKey:null};e.exports=a}),null);
__d("isNotOutlierReactionComet",["isNotOutlierReactionComet_feedback.graphql","isNotOutlierReactionComet_topReactionsEdge.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i;h!==void 0?h:h=b("isNotOutlierReactionComet_feedback.graphql");i!==void 0?i:i=b("isNotOutlierReactionComet_topReactionsEdge.graphql");function a(a){return function(b){var c;c=((c=a.viewer_feedback_reaction_info)==null?void 0:c.id)===((c=b.node)==null?void 0:c.id);return c||b.visible_in_bling_bar!==!1}}g["default"]=a}),98);
__d("CometUFIClassicTopReactions.react",["CometRelay","CometUFIClassicTopReactions_feedback.graphql","CometUFITopReactionsRenderer.react","isNotOutlierReactionComet","react","react-compiler-runtime","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react");function a(a){var e=d("react-compiler-runtime").c(10),f=a.noBorder,g=a.shouldNotOpenTopReactorsDialogOnClick;a=babelHelpers.objectWithoutPropertiesLoose(a,["noBorder","shouldNotOpenTopReactorsDialogOnClick"]);g=g===void 0?!1:g;a=d("CometRelay").useFragment(h!==void 0?h:h=b("CometUFIClassicTopReactions_feedback.graphql"),a.feedback$key);var i=a==null?void 0:a.id;if(i==null)throw c("unrecoverableViolation")("CometUFITopReactions: Expected feedback.id","ufi2");var n=a.top_reactions;n=n==null?void 0:n.edges;if(!n)throw c("unrecoverableViolation")("CometUFITopReactions: Expected top reactions","ufi2");if(n.length===0)return null;var o;e[0]!==a||e[1]!==n?(o=n.filter(m).filter(c("isNotOutlierReactionComet")(a)).filter(l).slice(0,3),e[0]=a,e[1]=n,e[2]=o):o=e[2];a=o;e[3]!==a?(n=a.map(k),e[3]=a,e[4]=n):n=e[4];e[5]!==i||e[6]!==f||e[7]!==g||e[8]!==n?(o=j.jsx(c("CometUFITopReactionsRenderer.react"),{feedbackID:i,noBorder:f,shouldNotOpenTopReactorsDialogOnClick:g,topReactions:n}),e[5]=i,e[6]=f,e[7]=g,e[8]=n,e[9]=o):o=e[9];return o}function k(a){var b=a.node;if(b==null)return null;var d=b.id;b=b.localized_name;if(d==null)throw c("unrecoverableViolation")("CometUFITopReactions: Expected reaction_id on reaction","ufi2");return{i18nReactionCount:a==null?void 0:a.i18n_reaction_count,node:{id:d,localizedName:b},reactionCount:a==null?void 0:a.reaction_count}}function l(a,b,c){return c.findIndex(function(b){return((b=b.node)==null?void 0:b.id)===((b=a.node)==null?void 0:b.id)})===b}function m(a){return((a=a.node)==null?void 0:a.id)!=null}g["default"]=a}),98);
__d("isValidUniqueID",[],(function(a,b,c,d,e,f){function a(a){return a!==null&&a!==void 0&&a!==""&&(typeof a==="string"||typeof a==="number")}f["default"]=a}),66);
__d("SearchableEntry",["FbtResultBase","cr:556","isValidUniqueID"],(function(a,b,c,d,e,f,g){function h(a){if(a==null||a==="")return"";else if(typeof a==="string")return a;else if(a instanceof c("FbtResultBase"))return a.toString();else if(typeof a==="object"){a=b("cr:556").replaceJSONWrapper(a);if(b("cr:556").isHTML(a)){a=a.getRootNode();return a.textContent||a.innerText||""}else return""}else return""}a=function(){function a(a){this.valueOf=this.getUniqueID;c("isValidUniqueID")(a.uniqueID)||(a.uniqueID="null");this.$8=a.uniqueID+"";a.title instanceof c("FbtResultBase")&&(a.title=a.title.toString());a.title!=null&&typeof a.title==="string"||(a.title="null");this.$6=a.title;this.$3=a.order||0;this.$5=h(a.subtitle);this.$2=a.keywordString||"";this.$4=a.photo||"";this.$9=a.uri||"";this.$7=h(a.type);var b=a.auxiliaryData==null?{}:a.auxiliaryData;this.$1=b;this.$10=a.dataType||""}var b=a.prototype;b.getUniqueID=function(){return this.$8};b.getOrder=function(){return this.$3};b.getTitle=function(){return this.$6};b.getSubtitle=function(){return this.$5};b.getKeywordString=function(){return this.$2};b.getPhoto=function(){return this.$4};b.getURI=function(){return this.$9};b.getType=function(){return this.$7};b.getAuxiliaryData=function(){return this.$1};b.getDataType=function(){return this.$10};b.toPlainObject=function(){return{auxiliaryData:this.$1,keywordString:this.$2,order:this.$3,photo:this.$4,subtitle:this.$5,title:this.$6,type:this.$7,uniqueID:this.$8,uri:this.$9,dataType:this.$10}};return a}();g["default"]=a}),98);
__d("CometUFICommentComposerUtils",["SearchableEntry","scrollIntoView"],(function(a,b,c,d,e,f,g){"use strict";function h(a){return new(c("SearchableEntry"))({auxiliaryData:{authorativePerson:void 0,connectedPage:void 0,disableAutosuggest:void 0,indexRank:void 0,renderType:a.authorIsWeakReference?"non_member":"member",verified:void 0,workForeignEntity:void 0,workUser:void 0},title:a.authorName,type:a.authorType,uniqueID:a.authorId,uri:a.authorUrl})}function a(a){var b=a.composerRef;a.entrypoint;var c=a.replyConfig;a=a.viewerActorID;if(b==null)return;c.authorData!=null&&c.authorData.authorId!==a&&b.execCommand({__type:"PrefillMention",mentionableEntity:h(c.authorData)});b.execCommand({__type:"SetReplyClicked"});b.execCommand({__type:"SetReplyAssociation",commentAssociatedWithReply:{commentComposerPlaceholderText:c.commentComposerPlaceholderText,id:c.commentId}});(a=c.composerCommands)==null?void 0:a.forEach(function(a){return b.execCommand(a)});b.focus()}function b(a,b){b=a.getElementToScrollTo();b!=null&&c("scrollIntoView")(b,{behavior:"smooth",force:!0,verticalAlign:"center"});a.focus()}function d(a){return"CometUFIDepth"+a+"CommentList_feedback_replies_connection"}g.getMentionableEntityFromAuthorData=h;g.setComposerFocus=a;g.focusAndScrollToComposer=b;g.repliesConnectionKey=d}),98);
__d("CometUFICommentsCount_feedback.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometUFICommentsCount_feedback",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:[{kind:"Literal",name:"scenario",value:"WWW_FEED_TOTAL_COUNT_SCENARIO_V1"}],concreteType:"XFBCommentRenderingInstance",kind:"LinkedField",name:"comment_rendering_instance",plural:!1,selections:[{alias:null,args:null,concreteType:"XFBCommentRenderingInstanceCommentsConnection",kind:"LinkedField",name:"comments",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"total_count",storageKey:null}],storageKey:null}],storageKey:'comment_rendering_instance(scenario:"WWW_FEED_TOTAL_COUNT_SCENARIO_V1")'}],type:"Feedback",abstractKey:null};e.exports=a}),null);
__d("CometUFISummaryContext.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b=a.createContext({showCollapsedLabelsAlways:!1,width:void 0});g["default"]=b}),98);
__d("CometUFISummaryBarLabel.react",["ix","CometBlueprintIcons","CometRow.react","CometRowItem.react","CometUFISummaryContext.react","FDSIcon.react","FDSText.react","fbicon","intlSummarizeNumber","react","react-compiler-runtime","react-strict-dom"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react")),k=i.useContext,l={link:{textDecorationLine:"xkrqix3 x1sur9pj",$$css:!0}},m=500;function n(a){switch(a){case"comment":return d("CometBlueprintIcons").getCometUFISummaryBarLabelCommentIcon();case"share":return d("CometBlueprintIcons").getCometUFISummaryBarLabelShareIcon();case"eye":return d("fbicon")._(h("491230"),16);case"ballot-box":return d("fbicon")._(h("1478524"),16);case"play":return d("fbicon")._(h("484865"),16)}}function a(a){var b=d("react-compiler-runtime").c(20),e=a.color,f=a.count,g=a.icon,h=a.isLink,i=a.label,o=a.reducedCount;a=a.textType;e=e===void 0?"secondary":e;a=a===void 0?"body3":a;var p=k(c("CometUFISummaryContext.react")),q=p.showCollapsedLabelsAlways;p=p.width;p=p!=null&&p<m||q===!0;if(p){b[0]!==g?(q=n(g),b[0]=g,b[1]=q):q=b[1];p=q;if(o==null&&f==null||p==null)return null;if(b[2]!==f||b[3]!==o){q=(g=o)!=null?g:c("intlSummarizeNumber")(f);b[2]=f;b[3]=o;b[4]=q}else q=b[4];g=q;b[5]!==e||b[6]!==g||b[7]!==h||b[8]!==a?(f=j.jsx(c("CometRowItem.react"),{children:h===!0?j.jsx(c("FDSText.react"),{color:e,type:a,children:j.jsx(d("react-strict-dom").html.span,{style:[l.link],children:g})}):j.jsx(c("FDSText.react"),{color:e,type:a,children:g})}),b[5]=e,b[6]=g,b[7]=h,b[8]=a,b[9]=f):f=b[9];b[10]!==p?(o=j.jsx(c("CometRowItem.react"),{children:j.jsx(c("FDSIcon.react"),{color:"secondary",icon:p})}),b[10]=p,b[11]=o):o=b[11];b[12]!==f||b[13]!==o?(q=j.jsxs(c("CometRow.react"),{paddingHorizontal:0,paddingVertical:0,spacingHorizontal:4,verticalAlign:"center",children:[f,o]}),b[12]=f,b[13]=o,b[14]=q):q=b[14];return q}b[15]!==e||b[16]!==h||b[17]!==i||b[18]!==a?(g=h===!0?j.jsx(c("FDSText.react"),{color:e,type:a,children:j.jsx(d("react-strict-dom").html.span,{style:[l.link],children:i})}):j.jsx(c("FDSText.react"),{color:e,type:a,children:i}),b[15]=e,b[16]=h,b[17]=i,b[18]=a,b[19]=g):g=b[19];return g}g["default"]=a}),98);
__d("CometUFICommentsCount.react",["fbt","CometFeedARIAProperties.react","CometPressable.react","CometRelay","CometSetSimplifiedUFICommentCountContextProvider","CometUFICommentsCount_feedback.graphql","CometUFISummaryBarLabel.react","CometUFITooltip.react","JSResourceForInteraction","intlSummarizeNumber","react","react-compiler-runtime","unrecoverableViolation","useRadicalUFIClickInteractionLogging"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||(j=d("react"));e=j;var l=e.useContext,m=e.useEffect,n=c("JSResourceForInteraction")("CometUFICommentsCountTooltipContent.react").__setRef("CometUFICommentsCount.react"),o={link:{appearance:"xjyslct",backgroundColor:"xjbqb8w",borderTopStyle:"x13fuv20",borderEndStyle:"xu3j5b3",borderBottomStyle:"x1q0q8m5",borderStartStyle:"x26u7qi",borderTopWidth:"x972fbf",borderEndWidth:"xcfux6l",borderBottomWidth:"x1qhh985",borderStartWidth:"xm0m39n",boxSizing:"x9f619",color:"x1heor9g",marginTop:"xdj266r",marginEnd:"x11i5rnm",marginBottom:"xat24cr",marginStart:"x1mh8g0r",paddingTop:"xexx8yu",paddingEnd:"x4uap5",paddingBottom:"x18d9i69",paddingStart:"xkhd6sd",position:"x1n2onr6",textAlign:"x16tdsg8",zIndex:"x1ja2u2z",$$css:!0}};function a(a){var e=d("react-compiler-runtime").c(28),f=a.feedback,g=a.onClick,j=a.onHoverIn,p=a.onHoverOut,q=a.onPressIn;a=a.textType;a=a===void 0?"body3":a;var r;e[0]===Symbol["for"]("react.memo_cache_sentinel")?(r={clickInteractionSource:"comment_count"},e[0]=r):r=e[0];g=c("useRadicalUFIClickInteractionLogging")(g,r);r=d("CometRelay").useFragment(i!==void 0?i:i=b("CometUFICommentsCount_feedback.graphql"),f);f=r.comment_rendering_instance;r=r.id;var s=l(c("CometFeedARIAProperties.react")),t=f==null?void 0:(f=f.comments)==null?void 0:f.total_count,u=d("CometSetSimplifiedUFICommentCountContextProvider").useCometSetSimplifiedUFICommentCountContext(),v;e[1]!==t||e[2]!==u?(f=function(){u(t)},v=[t,u],e[1]=t,e[2]=u,e[3]=f,e[4]=v):(f=e[3],v=e[4]);m(f,v);if(t==null)throw c("unrecoverableViolation")("CometUFICommentsCount: Expected a comments count","ufi2");else if(t===0)return null;if(r==null)throw c("unrecoverableViolation")("CometUFICommentsCount: Expected feedback target to have an id","ufi2");e[5]!==t?(f=c("intlSummarizeNumber")(t),e[5]=t,e[6]=f):f=e[6];v=f;e[7]!==t||e[8]!==v?(f=h._(/*BTDS*/"_j{\"*\":\"{number} comments\",\"_1\":\"1 comment\"}",[h._plural(t,"number",v)]),e[7]=t,e[8]=v,e[9]=f):f=e[9];f=f;var w;e[10]!==t||e[11]!==f||e[12]!==v||e[13]!==a?(w=k.jsx(c("CometUFISummaryBarLabel.react"),{count:t,icon:"comment",isLink:!0,label:f,reducedCount:v,textType:a}),e[10]=t,e[11]=f,e[12]=v,e[13]=a,e[14]=w):w=e[14];e[15]!==s.commentCountTargetProps||e[16]!==s.commentCountTargetRef||e[17]!==g||e[18]!==j||e[19]!==p||e[20]!==q||e[21]!==w?(f=k.jsx(c("CometPressable.react"),babelHelpers["extends"]({},s.commentCountTargetProps,{onHoverIn:j,onHoverOut:p,onPress:g,onPressIn:q,overlayDisabled:!0,ref:s.commentCountTargetRef,testid:void 0,xstyle:o.link,children:w})),e[15]=s.commentCountTargetProps,e[16]=s.commentCountTargetRef,e[17]=g,e[18]=j,e[19]=p,e[20]=q,e[21]=w,e[22]=f):f=e[22];v=f;e[23]!==r?(a={queryVariables:{feedbackTargetID:r}},e[23]=r,e[24]=a):a=e[24];e[25]!==v||e[26]!==a?(s=k.jsx(c("CometUFITooltip.react"),{tooltipContentComponent:n,tooltipContentProps:a,children:v}),e[25]=v,e[26]=a,e[27]=s):s=e[27];return s}g["default"]=a}),226);
__d("CometUFICommentsPagerBase.react",["BaseFocusRing.react","CometPressable.react","CometTrackingNodeProvider.react","FDSIcon.react","FDSProgressRingIndeterminate.react","FDSText.react","XPlatReactFocusRegion.react","focusScopeQueries","react","react-compiler-runtime","react-strict-dom","useRadicalUFIClickInteractionLogging"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useEffect,k=b.useState,l={fresh:{backgroundColor:"xwnonoy",bottom:"x1ey2m1c",start:"x17qophe",left:null,right:null,opacity:"xg01cxk",position:"x10l6tqk",top:"x13vifvy",transitionDuration:"x1k90msu",transitionProperty:"x19991ni",transitionTimingFunction:"xz4gly6",width:"xfo62xy",$$css:!0},freshDepth0:{start:"x1p629oc",left:null,right:null,$$css:!0},freshDepth1:{start:"xh0n66s",left:null,right:null,$$css:!0},freshDepth2:{start:"x1skdhkn",left:null,right:null,$$css:!0},freshVisible:{opacity:"x1hc1fzr",$$css:!0},icon:{display:"x78zum5",filter:"xsv2lzm",marginEnd:"x1w0mnb",marginStart:"x16n37ib",$$css:!0},item:{display:"x78zum5",marginEnd:"x1w0mnb",minWidth:"xeuugli",$$css:!0},pagerBasePressable:{alignItems:"x6s0dn4",color:"xi81zsa",flexDirection:"x1q0g3np",flexGrow:"x1iyjqo2",flexShrink:"xs83m0k",paddingEnd:"xsyo7zv",$$css:!0},pagerWhileLoading:{cursor:"xky4qsq",$$css:!0},replyPagerWithoutIcon:{marginStart:"x1mnrxsn",$$css:!0},root:{display:"x78zum5",flexGrow:"x1iyjqo2",minHeight:"x21xpn4",position:"x1n2onr6",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(18),e=a.children,f=a.depth,g=a.feedLocation,h=a.freshIndicatorVisible,m=a.icon,n=a.isFreshIndicatorAlignedAtStart,o=a.isLoading,p=a.onHoverIn,q=a.onHoverOut;a=a.onPress;var r=n===void 0?!0:n;b[0]!==g?(n={clickInteractionSource:"pager",feedLocation:g},b[0]=g,b[1]=n):n=b[1];var s=c("useRadicalUFIClickInteractionLogging")(a,n);g=k(!1);var t=g[0],u=g[1];b[2]!==o||b[3]!==t?(a=function(){o===!1&&t===!0&&u(!1)},n=[o,t],b[2]=o,b[3]=t,b[4]=a,b[5]=n):(a=b[4],n=b[5]);j(a,n);b[6]===Symbol["for"]("react.memo_cache_sentinel")?(g=i.jsx(d("react-strict-dom").html.div,{style:l.item,children:i.jsx(c("FDSProgressRingIndeterminate.react"),{color:"disabled_DEPRECATED",size:16})}),b[6]=g):g=b[6];var v=g;b[7]!==e||b[8]!==f||b[9]!==h||b[10]!==m||b[11]!==r||b[12]!==o||b[13]!==p||b[14]!==q||b[15]!==s||b[16]!==t?(a=i.jsx(c("CometTrackingNodeProvider.react"),{trackingNode:24,children:i.jsx(c("BaseFocusRing.react"),{children:function(a){return i.jsxs(d("react-strict-dom").html.div,{style:l.root,children:[i.jsx(d("react-strict-dom").html.div,{style:[l.fresh,f===0&&l.freshDepth0,f===1&&r&&l.freshDepth1,f===2&&r&&l.freshDepth2,h&&l.freshVisible]}),i.jsxs(c("CometPressable.react"),{disabled:o,onHoverIn:p,onHoverOut:q,onPress:function(a){s(a),u(!0)},overlayDisabled:!0,testid:void 0,xstyle:[a,l.pagerBasePressable,o&&l.pagerWhileLoading,f>0&&l.replyPagerWithoutIcon],children:[m!=null?i.jsx(d("react-strict-dom").html.span,{style:l.icon,children:i.jsx(c("FDSIcon.react"),{color:"secondary",icon:m,size:16})},"icon"):null,i.jsx(d("react-strict-dom").html.span,{style:l.item,children:i.jsx(c("FDSText.react"),{color:"secondary",type:"bodyLink3",children:e})},"text"),o&&(t?i.jsx(c("XPlatReactFocusRegion.react"),{autoFocusQuery:d("focusScopeQueries").headerAndSpinnerFocusScopeQuery,children:v}):v)]})]})}})}),b[7]=e,b[8]=f,b[9]=h,b[10]=m,b[11]=r,b[12]=o,b[13]=p,b[14]=q,b[15]=s,b[16]=t,b[17]=a):a=b[17];return a}g["default"]=a}),98);
__d("CometUFIComposerDecoratorContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b=a.createContext({depth:0,isLast:!0,threaded:!1});g["default"]=b}),98);
__d("CometUFIComposerThreadingContainer.react",["CometPlaceholder.react","CometUFIComposerDecoratorContext","cr:2857","deferredLoadComponent","react","react-compiler-runtime","react-strict-dom","requireDeferredForDisplay"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useContext,k=c("deferredLoadComponent")(c("requireDeferredForDisplay")("CometUFIThreadedComponentDecorator.react").__setRef("CometUFIComposerThreadingContainer.react"));function a(a){var e=d("react-compiler-runtime").c(7),f=a.children;a=a.type;var g=j(c("CometUFIComposerDecoratorContext")),h=g.depth,l=g.isLast,m=g.isParentLast;g=g.threaded;var n;e[0]!==f||e[1]!==h||e[2]!==l||e[3]!==m||e[4]!==g||e[5]!==a?(n=g?i.jsx(d("react-strict-dom").html.div,{role:"table",children:i.jsx(c("CometPlaceholder.react"),{fallback:f,children:i.jsx(k,{applyComposerContainerStyle:!0,depth:h,hasChildren:!1,isLast:l,isParentLast:m,type:a,children:b("cr:2857")==null?f:i.jsx(b("cr:2857"),{focusRingPosition:a==="composer"?"default":"inset",children:f})})})}):i.jsx(i.Fragment,{children:f}),e[0]=f,e[1]=h,e[2]=l,e[3]=m,e[4]=g,e[5]=a,e[6]=n):n=e[6];return n}g["default"]=a}),98);
__d("CometUFIConversationGuideContainerQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="24015100244764928"}),null);
__d("CometUFIProfileLink.react",["ActorHovercard.react","CometLink.react","CometPressable.react","FDSText.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(15),e,f,g,h;if(b[0]!==a){var j=a["aria-hidden"],k=a.children,l=a.href,m=a.kind,n=a.shouldProfileLinkBeUnclickable,o=a.uid;f=j;h=m;j=o;m=n===void 0?!1:n;e="";l!=null?e=l:e="/"+j;if(typeof k==="string"){b[7]===Symbol["for"]("react.memo_cache_sentinel")?(o={className:"xi81zsa x3nfvp2 xzueoph xr9ek0c"},b[7]=o):o=b[7];g=i.jsx("span",babelHelpers["extends"]({},o,{children:i.jsx(c("FDSText.react"),{type:"bodyLink4",children:k})}))}else g=k;b[0]=a;b[1]=e;b[2]=f;b[3]=g;b[4]=h;b[5]=m;b[6]=j}else e=b[1],f=b[2],g=b[3],h=b[4],m=b[5],j=b[6];b[8]!==e||b[9]!==f||b[10]!==g||b[11]!==h||b[12]!==m||b[13]!==j?(n=m?i.jsx(c("CometLink.react"),{"aria-hidden":f,disabled:!0,children:g}):i.jsx(c("ActorHovercard.react"),{actorID:j,"aria-hidden":f===!0?!0:void 0,display:"inline",children:function(a){switch(h){case"link":return i.jsx(c("CometLink.react"),{"aria-hidden":f,href:e,ref:a,children:g});case"profilePhoto":return i.jsx(c("CometPressable.react"),{"aria-hidden":f,linkProps:{url:e},overlayRadius:"50%",ref:a,children:g});default:return h}}}),b[8]=e,b[9]=f,b[10]=g,b[11]=h,b[12]=m,b[13]=j,b[14]=n):n=b[14];return n}g["default"]=a}),98);
__d("CometUFIShareActionLinkLabel",["fbt"],(function(a,b,c,d,e,f,g,h){"use strict";a=h._(/*BTDS*/"Send this to friends or post it on your profile.");b=a;g["default"]=b}),226);
__d("CometUFIThreadedComponentDecorator.react",["XPlatReactEnvironment","react","react-compiler-runtime","react-strict-dom"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={childLineReply:{height:"xvo3xdp",start:"x1qa3wdc",left:null,right:null,top:"x9ri80z",$$css:!0},childLineReplyNative:{boxSizing:"x9f619",height:"x5yr21d",start:"x1qa3wdc",left:null,right:null,paddingBottom:"x1t1ogtf",position:"x10l6tqk",top:"x9ri80z",width:"xfo62xy",$$css:!0},childLineTopLevel:{height:"xv6pb6r",start:"x8zc4e7",left:null,right:null,top:"xg4rxxw",$$css:!0},childLineTopLevelNative:{boxSizing:"x9f619",height:"x5yr21d",start:"x8zc4e7",left:null,right:null,paddingBottom:"x2p4029",position:"x10l6tqk",top:"xg4rxxw",width:"xfo62xy",$$css:!0},composerRoot:{marginTop:"x9otpla",marginBottom:"x1wsgfga",marginStart:"xp7jhwk",$$css:!0},curvedLine:{borderBottomStyle:"x1q0q8m5",borderBottomWidth:"xlxy82",borderTopColor:"xfo3rzh",borderEndColor:"x1y2jgio",borderBottomColor:"x7pr0uv",borderStartColor:"x1i4r4d4",borderBottomStartRadius:"xgk8upj",borderStartStyle:"x26u7qi",borderStartWidth:"x19p7ews",position:"x10l6tqk",$$css:!0},curvedLineDepth1:{start:"x8zc4e7",left:null,right:null,width:"xvy4d1p",$$css:!0},curvedLineDepth2:{start:"x1qa3wdc",left:null,right:null,width:"x17z2i9w",$$css:!0},curvedLineForComment:{height:"x1ta3ar0",$$css:!0},curvedLineForCommentDepth1:{height:"x1qx5ct2",$$css:!0},curvedLineForPager:{height:"xlxyqfn",$$css:!0},parentLineDepth0:{height:"x5yr21d",start:"x8zc4e7",left:null,right:null,$$css:!0},parentLineDepth1:{height:"x5yr21d",start:"x1qa3wdc",left:null,right:null,$$css:!0},root:{position:"x1n2onr6",$$css:!0},rootDepth1:{paddingStart:"xr9oo41",$$css:!0},rootDepth2:{paddingStart:"xssbmfy",$$css:!0},rootHiddenPlaceholder:{textAlign:"x2b8uid",$$css:!0},rootLabel:{overflowX:"x1plvlek",overflowY:"xryxfnj",$$css:!0},straightLine:{backgroundColor:"x1hmwia7",position:"x10l6tqk",width:"xfo62xy",$$css:!0},straightLineNative:{backgroundColor:"x1hmwia7",height:"x5yr21d",width:"xfo62xy",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(28),c=a.applyComposerContainerStyle,e=a.children,f=a.depth,g=a.hasChildren,h=a.isLast,k=a.isParentLast;a=a.type;c=c===void 0?!1:c;var l=f===1&&j.rootDepth1,m=f===2&&j.rootDepth2,n=a==="hidden-placeholder"&&j.rootHiddenPlaceholder,o=a==="label"&&j.rootLabel;c=c&&j.composerRoot;var p;b[0]!==l||b[1]!==m||b[2]!==n||b[3]!==o||b[4]!==c?(p=[j.root,l,m,n,o,c],b[0]=l,b[1]=m,b[2]=n,b[3]=o,b[4]=c,b[5]=p):p=b[5];b[6]!==f||b[7]!==a?(l=f>0&&a!=="label"&&a!=="hidden-placeholder"&&a!=="composer-addon"&&i.jsx(d("react-strict-dom").html.div,{style:[j.curvedLine,f===1&&j.curvedLineDepth1,f===2&&j.curvedLineDepth2,(a==="comment"||a==="composer")&&j.curvedLineForComment,(a==="comment"||a==="composer")&&f===1&&j.curvedLineForCommentDepth1,a==="pager"&&j.curvedLineForPager]}),b[6]=f,b[7]=a,b[8]=l):l=b[8];b[9]!==f||b[10]!==h||b[11]!==k||b[12]!==a?(m=(f===1&&(h===!1||a==="composer-addon")||f===2&&k===!1)&&i.jsx(d("react-strict-dom").html.div,{style:[j.straightLine,j.parentLineDepth0]}),b[9]=f,b[10]=h,b[11]=k,b[12]=a,b[13]=m):m=b[13];b[14]!==f||b[15]!==h||b[16]!==a?(n=f===2&&(h===!1||a==="composer-addon")&&i.jsx(d("react-strict-dom").html.div,{style:[j.straightLine,j.parentLineDepth1]}),b[14]=f,b[15]=h,b[16]=a,b[17]=n):n=b[17];b[18]!==f||b[19]!==g?(o=g===!0&&i.jsx(d("react-strict-dom").html.div,{style:d("XPlatReactEnvironment").isWeb()?[f>0&&j.childLineReply,f===0&&j.childLineTopLevel,j.straightLine]:[f>0&&j.childLineReplyNative,f===0&&j.childLineTopLevelNative],children:d("XPlatReactEnvironment").isWeb()?null:i.jsx(d("react-strict-dom").html.div,{style:j.straightLineNative})}),b[18]=f,b[19]=g,b[20]=o):o=b[20];b[21]!==e||b[22]!==n||b[23]!==o||b[24]!==p||b[25]!==l||b[26]!==m?(c=i.jsxs(d("react-strict-dom").html.div,{style:p,children:[l,m,n,o,e]}),b[21]=e,b[22]=n,b[23]=o,b[24]=p,b[25]=l,b[26]=m,b[27]=c):c=b[27];return c}g["default"]=a}),98);
__d("LiveProducerCommentsRenderingContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b=a.createContext({condensedCommentsSettingsID:null,hideCommentActions:!1,hideGrayBubbles:!1,hideLinkPreviews:!1,hideProfilePicture:!1,isCondensedView:!1,isPassingCondensedCommentsGK:!1,shrinkStickers:!1});g["default"]=b}),98);
__d("NumberFormat",["NumberFormatConfig","intlNumUtils"],(function(a,b,c,d,e,f,g){"use strict";var h=/(\d{3})(?=\d)/g;function i(a){return(""+a).split("").reverse().join("")}function a(a,b){if(Math.abs(a).toString().length<c("NumberFormatConfig").minDigitsForThousandsSeparator)return a.toString();a=i(""+a);return i(a.replace(h,"$1"+b))}function b(a){return d("intlNumUtils").formatNumberWithThousandDelimiters(a)}g.formatIntegerWithDelimiter=a;g.formatInteger=b}),98);
__d("ProfileSwitcherAnalyticsEventFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("2304");b=d("FalcoLoggerInternal").create("profile_switcher_analytics_event",a);e=b;g["default"]=e}),98);
__d("ReshareWarningCometDialogQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="8168931096565037"}),null);
__d("ReshareWarningCometDialogQuery$Parameters",["ReshareWarningCometDialogQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("ReshareWarningCometDialogQuery_facebookRelayOperation"),metadata:{},name:"ReshareWarningCometDialogQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("ReshareWarningCometDialog.entrypoint",["JSResourceForInteraction","ReshareWarningCometDialogQuery$Parameters","WebPixelRatio"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){a=a.feedbackID;return{queries:{queryReference:{parameters:b("ReshareWarningCometDialogQuery$Parameters"),variables:{feedbackID:a,scale:d("WebPixelRatio").get()}}}}},root:c("JSResourceForInteraction")("ReshareWarningCometDialog.react").__setRef("ReshareWarningCometDialog.entrypoint")};g["default"]=a}),98);
__d("propsWithoutKey",[],(function(a,b,c,d,e,f){"use strict";function a(a){if(Object.prototype.hasOwnProperty.call(a,"key")){a.key;var b=babelHelpers.objectWithoutPropertiesLoose(a,["key"]);return b}return a}f["default"]=a}),66);
__d("useGroupsCometAnonymousPostLogger",["react","react-compiler-runtime","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h;(h||d("react")).useCallback;var i=c("requireDeferred")("GroupAnonymousPostUserEventsFalcoEvent").__setRef("useGroupsCometAnonymousPostLogger");function a(a){var b=d("react-compiler-runtime").c(5),c=a.entryPoint,e=a.eventSource,f=a.groupID,g=a.sessionID;b[0]!==c||b[1]!==e||b[2]!==f||b[3]!==g?(a=function(a,b){b=b===void 0?{}:b;var d=b.extraMetadata;b=b.groupID;var h={entry_point:c,event:a,event_source:e,extra_metadata:d,group_id:(a=b)!=null?a:f,session_id:g};i.onReady(function(a){a.log(function(){return h})})},b[0]=c,b[1]=e,b[2]=f,b[3]=g,b[4]=a):a=b[4];return a}g["default"]=a}),98);
__d("useNonResponsiveShouldDisplayPostActionNarrowView.react",[],(function(a,b,c,d,e,f){"use strict";function a(){return!1}f["default"]=a}),66);/*FB_PKG_DELIM*/
__d("LSAddParticipantIdToGroupThread",["LSComputeParticipantCapabilities"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.sequence([function(e){return c.storedProcedure(b("LSComputeParticipantCapabilities"),a[1],a[0]).then(function(a){return a=a,d[0]=a[0],a})},function(b){return c.filter(c.db.table(14).fetch([[[a[0],a[1]]]]),function(b){return c.i64.eq(b.threadKey,a[0])&&c.i64.eq(c.i64.cast([0,0]),c.i64.cast([0,0]))&&c.i64.eq(b.contactId,a[1])&&c.i64.gt(b.authorityLevel,a[9])}).next().then(function(b){var e=b.done;b.value;return e?c.db.table(14).put({threadKey:a[0],contactId:a[1],readWatermarkTimestampMs:a[2],readActionTimestampMs:a[3],deliveredWatermarkTimestampMs:a[4],nickname:a[5],normalizedSearchTerms:a[10],isAdmin:a[6],isSuperAdmin:a[13],subscribeSource:a[7],authorityLevel:a[9],participantCapabilities:d[0],groupParticipantJoinState:a[11],isModerator:a[12],threadRoles:a[14]}):0})}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSMailboxAddParticipantIdToGroupThreadStoredProcedure";a.__tables__=["participants"];e.exports=a}),null);
__d("LSClearPinnedMessages",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.forEach(b.db.table(205).fetch([[[a[0]]]]),function(a){return a["delete"]()})},function(a){return b.resolve(c)}])}a.__sproc_name__="LSMailboxClearPinnedMessagesStoredProcedure";a.__tables__=["msg_pinned_messages_v2"];e.exports=a}),null);
__d("LSDeleteAllCommunityChannelCategories",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(a){return b.sequence([function(a){return b.forEach(b.db.table(182).fetch(),function(a){return a["delete"]()})},function(a){return b.forEach(b.db.table(9).fetch([[[b.i64.cast([0,20])]],"threadTypeLastActivityTimestampMs"]),function(a){return a["delete"]()})}])},function(a){return b.resolve(c)}])}a.__sproc_name__="LSMailboxDeleteAllCommunityChannelCategoriesStoredProcedure";a.__tables__=["cm_category_list","threads"];e.exports=a}),null);
__d("LSDeleteAllCommunityFolders",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(a){return b.sequence([function(a){return b.forEach(b.db.table(162).fetch(),function(a){return a["delete"]()})},function(a){return b.forEach(b.db.table(9).fetch([[[b.i64.cast([0,17])]],"threadTypeLastActivityTimestampMs"]),function(a){return a["delete"]()})}])},function(a){return b.resolve(c)}])}a.__sproc_name__="LSMailboxDeleteAllCommunityFoldersStoredProcedure";a.__tables__=["community_folders","threads"];e.exports=a}),null);
__d("LSDeleteBanner",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.forEach(b.filter(b.db.table(118).fetch([[[a[1],a[0]]]]),function(c){return b.i64.eq(c.threadKey,a[1])&&b.i64.eq(b.i64.cast([0,0]),b.i64.cast([0,0]))&&b.i64.eq(c.bannerId,a[0])}),function(a){return a["delete"]()})},function(a){return b.resolve(c)}])}a.__sproc_name__="LSInThreadBannerDeleteBannerStoredProcedure";a.__tables__=["in_thread_banner"];e.exports=a}),null);
__d("LSDeleteExistingMessageRanges",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.forEach(b.db.table(13).fetch([[[a[0]]]]),function(a){return a["delete"]()})},function(a){return b.resolve(c)}])}a.__sproc_name__="LSMailboxDeleteExistingMessageRangesStoredProcedure";a.__tables__=["messages_ranges_v2__generated"];e.exports=a}),null);
__d("LSDeleteThenInsertCmCommunityList",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.db.table(166).put({communityId:a[0]})},function(a){return b.resolve(c)}])}a.__sproc_name__="LSOmnistoreSettingsDeleteThenInsertCmCommunityListStoredProcedure";a.__tables__=["cm_community_list"];e.exports=a}),null);
__d("LSDeleteThenInsertCommunityFolder",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.filter(b.db.table(162).fetch([[[a[0]]]]),function(c){return b.i64.eq(c.folderId,a[0])&&b.i64.gt(b.i64.cast([0,80]),a[54])}).next().then(function(c){var d=c.done;c.value;return d?b.db.table(162).put({folderId:a[0],fbGroupId:a[1],name:a[2],memberCount:a[4],description:a[3],pictureUrl:a[5],pictureUrlFallback:a[6],pictureUrlExpirationTimestampMs:a[7],joiningChannelTaskId:a[8],afterJoiningOpenChannelId:a[10],capabilities:a[11],capabilities2:a[12],capabilities3:a[13],notificationSetting:a[14],notificationMutedUntil:a[15],sendsBlockedUntil:a[17],isHidden:a[18],hasSeenDisablingAlert:a[19],inviteLink:a[21],communityType:a[22],directInviteLink:a[23],enableState:a[24],takedownState:a[25],fbGroupType:a[28],threadCount:a[29],disableTimestamp:a[32],readTimestampMs:a[33],inviteStatus:a[37],blockedFromCommunityMemberCount:a[40],categoryCount:a[41],snippetText:a[42],coverPicUrl:a[43],coverPicUrlFallback:a[44],coverPicUrlExpirationTimestampMs:a[45],invitedThreadId:a[47],fbGroupUserParticipationApprovalStatus:a[48],ccAdminAssistRegistrationStatus:a[49],pauseStatus:a[50],isMember:a[51],latestThreadId:a[52],latestThreadActivityTimestampMs:a[53]}):0})},function(a){return b.resolve(c)}])}a.__sproc_name__="LSMailboxDeleteThenInsertCommunityFolderStoredProcedure";a.__tables__=["community_folders"];e.exports=a}),null);
__d("LSSetThreadImageURL",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.forEach(b.db.table(9).fetch([[[a[0]]]]),function(b){var c=b.update;b.item;return c({threadPictureUrl:a[1]===""?void 0:a[1],threadPictureUrlFallback:a[2],threadPictureUrlExpirationTimestampMs:a[3],isCustomThreadPicture:a[4],shouldRoundThreadPicture:a[5]})})},function(a){return b.resolve(c)}])}a.__sproc_name__="LSMailboxSetThreadImageURLStoredProcedure";a.__tables__=["threads"];e.exports=a}),null);
__d("LSWriteMinosPublicKey.nop",["gkx","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h=c("requireDeferred")("EBWriteMinosMailboxKeysToCache").__setRef("LSWriteMinosPublicKey.nop");a=async function(a,b,d,e,f,g,i,j,k,l,m,n){return!c("gkx")("14827")?Promise.resolve():h.load().then(function(a){return a.writeMinosMailboxKeysToCache(d,e,f,g,i,j,k,l,m,n)})};a.__nop_name__="LSWriteMinosPublicKey";g.default=a}),98);
__d("LSDeleteThenInsertContact",["LSBase64Decode.nop","LSMinosVerifySingleEpoch.nop","LSSetThreadImageURL","LSWriteMinosPublicKey.nop","gkx"],(function(a,b,c,d,e,f,g){function a(){var a=arguments,d=a[a.length-1],e=[],f=[];return d.sequence([function(f){return d.sequence([function(c){return a[50]!==void 0?d.sequence([function(c){return d.nativeOperation(b("LSBase64Decode.nop"),a[50]).then(function(a){return a=a,e[17]=a[0],a})},function(a){return e[0]=e[17]}]):d.resolve(e[0]=void 0)},function(c){return a[52]!==void 0?d.sequence([function(c){return d.nativeOperation(b("LSBase64Decode.nop"),a[52]).then(function(a){return a=a,e[17]=a[0],a})},function(a){return e[1]=e[17]}]):d.resolve(e[1]=void 0)},function(c){return a[53]!==void 0?d.sequence([function(c){return d.nativeOperation(b("LSBase64Decode.nop"),a[53]).then(function(a){return a=a,e[17]=a[0],a})},function(a){return e[2]=e[17]}]):d.resolve(e[2]=void 0)},function(c){return a[55]!==void 0?d.sequence([function(c){return d.nativeOperation(b("LSBase64Decode.nop"),a[55]).then(function(a){return a=a,e[17]=a[0],a})},function(a){return e[3]=e[17]}]):d.resolve(e[3]=void 0)},function(c){return a[56]!==void 0?d.sequence([function(c){return d.nativeOperation(b("LSBase64Decode.nop"),a[56]).then(function(a){return a=a,e[17]=a[0],a})},function(a){return e[4]=e[17]}]):d.resolve(e[4]=void 0)},function(c){return a[57]!==void 0?d.sequence([function(c){return d.nativeOperation(b("LSBase64Decode.nop"),a[57]).then(function(a){return a=a,e[17]=a[0],a})},function(a){return e[5]=e[17]}]):d.resolve(e[5]=void 0)},function(c){return a[58]!==void 0?d.sequence([function(c){return d.nativeOperation(b("LSBase64Decode.nop"),a[58]).then(function(a){return a=a,e[17]=a[0],a})},function(a){return e[6]=e[17]}]):d.resolve(e[6]=void 0)},function(f){return e[7]=d.i64.random(),c("gkx")("14857")||!1?d.sequence([function(c){return d.blobs.eq(e[2],void 0)&&d.blobs.eq(e[1],void 0)&&d.i64.eq(a[51],void 0)&&d.i64.eq(a[54],void 0)&&d.blobs.eq(e[3],void 0)&&d.blobs.eq(e[4],void 0)&&d.blobs.eq(e[5],void 0)&&d.blobs.eq(e[0],void 0)?d.resolve((c=[e[0],e[2],e[1],a[51],a[54],e[3],e[4],e[5],e[6]],e[17]=c[0],e[18]=c[1],e[19]=c[2],e[20]=c[3],e[21]=c[4],e[22]=c[5],e[23]=c[6],e[24]=c[7],e[25]=c[8],c)):d.sequence([function(c){return d.blobs.neq(e[2],void 0)?d.sequence([function(c){return d.blobs.neq(e[4],void 0)?d.sequence([function(c){return d.blobs.neq(e[3],void 0)?d.sequence([function(c){return d.blobs.neq(e[0],void 0)?d.sequence([function(c){return d.blobs.neq(e[5],void 0)?d.sequence([function(c){return d.nativeOperation(b("LSMinosVerifySingleEpoch.nop"),e[2],a[0],e[3],e[0],e[4],e[6],e[5]).then(function(a){return a=a,e[40]=a[0],a})},function(a){return e[40]?0:0,e[39]=e[40]}]):d.resolve(e[39]=!0)},function(a){return e[38]=e[39]}]):d.resolve(e[38]=!0)},function(a){return e[37]=e[38]}]):d.resolve(e[37]=!0)},function(a){return e[36]=e[37]}]):d.resolve(e[36]=!0)},function(a){return e[26]=e[36]}]):d.resolve(e[26]=!0)},function(b){return e[26]?(b=[e[0],e[2],e[1],a[51],a[54],e[3],e[4],e[5],e[6]],e[27]=b[0],e[28]=b[1],e[29]=b[2],e[30]=b[3],e[31]=b[4],e[32]=b[5],e[33]=b[6],e[34]=b[7],e[35]=b[8],b):(b=[void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0],e[27]=b[0],e[28]=b[1],e[29]=b[2],e[30]=b[3],e[31]=b[4],e[32]=b[5],e[33]=b[6],e[34]=b[7],e[35]=b[8],b),b=[e[27],e[28],e[29],e[30],e[31],e[32],e[33],e[34],e[35]],e[17]=b[0],e[18]=b[1],e[19]=b[2],e[20]=b[3],e[21]=b[4],e[22]=b[5],e[23]=b[6],e[24]=b[7],e[25]=b[8],b}])},function(a){return a=[e[17],e[18],e[19],e[20],e[21],e[22],e[23],e[24],e[25]],e[8]=a[0],e[9]=a[1],e[10]=a[2],e[11]=a[3],e[12]=a[4],e[13]=a[5],e[14]=a[6],e[15]=a[7],e[16]=a[8],a}]):d.resolve((f=[void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0],e[8]=f[0],e[9]=f[1],e[10]=f[2],e[11]=f[3],e[12]=f[4],e[13]=f[5],e[14]=f[6],e[15]=f[7],e[16]=f[8],f))},function(c){return d.nativeOperation(b("LSWriteMinosPublicKey.nop"),a[0],e[9],e[11],e[8],e[10],e[12],e[15],e[14],e[13],e[16])},function(b){return d.i64.eq(a[23],d.i64.cast([0,39423]))?e[17]=d.i64.cast([0,1]):(d.i64.eq(a[23],d.i64.cast([0,14342874]))?e[18]=d.i64.cast([0,2]):e[18]=void 0,e[17]=e[18]),d.filter(d.db.table(7).fetch([[[a[0]]]]),function(b){return d.i64.eq(b.id,a[0])&&d.i64.eq(d.i64.cast([0,1]),d.i64.cast([0,1]))&&d.i64.gt(b.authorityLevel,a[21])}).next().then(function(b){var c=b.done;b.value;return c?d.db.table(7).put({id:a[0],profilePictureUrl:a[2],profilePictureFallbackUrl:a[3],profilePictureUrlExpirationTimestampMs:a[4],profilePictureLargeUrl:a[5],profilePictureLargeFallbackUrl:a[6],profilePictureLargeUrlExpirationTimestampMs:a[7],name:a[9],secondaryName:a[41],normalizedNameForSearch:a[10],normalizedSearchTerms:a[33],isMessengerUser:a[11],isMemorialized:a[12],isManagedByViewer:a[35],blockedByViewerStatus:a[14],rank:a[17],firstName:a[18],contactType:a[19],contactTypeExact:a[20],authorityLevel:a[21],messengerCallLogThirdPartyId:a[22],profileRingColor:a[23],requiresMultiway:a[24],blockedSinceTimestampMs:a[25],fbUnblockedSinceTimestampMs:a[48],canViewerMessage:a[26],profileRingColorExpirationTimestampMs:a[27],phoneNumber:a[28],emailAddress:a[29],workCompanyId:a[30],workCompanyName:a[31],workJobTitle:a[32],deviceContactId:a[34],workForeignEntityType:a[36],capabilities:a[37],capabilities2:a[38],profileRingState:e[17],contactViewerRelationship:a[39],gender:a[40],username:a[43],contactReachabilityStatusType:a[44],friendshipStatus:a[45],restrictionType:a[46],waConnectStatus:a[47],isEmployee:!1,pageType:a[49]}):0})},function(c){return d.storedProcedure(b("LSSetThreadImageURL"),a[0],a[2],a[3],a[4],!1,!0)}])},function(a){return d.resolve(f)}])}a.__sproc_name__="LSContactDeleteThenInsertContactStoredProcedure";a.__tables__=["contacts"];d=a;g["default"]=d}),98);
__d("LSDeleteThenInsertMessageRequest",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.db.table(34).put({threadKey:a[0],messageRequestStatus:a[2]})},function(a){return b.resolve(c)}])}a.__sproc_name__="LSMailboxDeleteThenInsertMessageRequestStoredProcedure";a.__tables__=["message_requests"];e.exports=a}),null);
__d("LSDeleteThenInsertNotificationsSettingsGraphQLSnapshot",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.db.table(175).put({id:a[0],globalMuteUntil:a[1],showMessagePreview:a[4],isSoundOn:a[7],groupNotificationSetting:a[8],oneToOneNotificationSetting:a[9],replyReminderSetting:a[10],messageReminderDisabled:a[12],messageSound:a[13],ringtoneSound:a[14],newFriendBumpDisabledSetting:a[15],globalMuteMessageUntil:a[2],globalMuteCallUntil:a[3],includeInSwitchAccountBadges:a[11],dismissNfbThreadsCount:a[16],mutePageAccountMessageReminder:a[17]})},function(a){return b.resolve(c)}])}a.__sproc_name__="LSOmnistoreSettingsDeleteThenInsertNotificationsSettingsGraphQLSnapshotStoredProcedure";a.__tables__=["notification_settings"];e.exports=a}),null);
__d("LSDeleteThenInsertThread",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[],d=[];return b.sequence([function(d){return b.db.table(9).fetch([[[a[7]]]]).next().then(function(d,e){var f=d.done;d=d.value;return f?b.db.table(9).put({threadKey:a[7],lastReadWatermarkTimestampMs:a[1],authorityLevel:a[6],mailboxType:a[8],threadType:a[9],folderName:a[10],ongoingCallState:a[29],parentThreadKey:a[35],lastActivityTimestampMs:a[0],snippet:a[2],threadName:a[3],threadPictureUrl:a[4],needsAdminApprovalForNewParticipant:a[5],threadPictureUrlFallback:a[11],threadPictureUrlExpirationTimestampMs:a[12],removeWatermarkTimestampMs:a[13],muteExpireTimeMs:a[14],muteCallsExpireTimeMs:a[15],groupNotificationSettings:a[16],isAdminSnippet:a[17],snippetSenderContactId:a[18],snippetText:a[20],snippetStringHash:a[21],snippetStringArgument1:a[22],snippetAttribution:a[23],snippetAttributionStringHash:a[24],disappearingSettingTtl:a[25],disappearingSettingUpdatedTs:a[26],disappearingSettingUpdatedBy:a[27],cannotReplyReason:a[30],customEmoji:a[31],customEmojiImageUrl:a[32],outgoingBubbleColor:a[33],themeFbid:a[34],nullstateDescriptionText1:a[36],nullstateDescriptionType1:a[37],nullstateDescriptionText2:a[38],nullstateDescriptionType2:a[39],nullstateDescriptionText3:a[40],nullstateDescriptionType3:a[41],snippetHasEmoji:a[42],hasPersistentMenu:a[43],disableComposerInput:a[44],cannotUnsendReason:a[45],viewedPluginKey:a[46],viewedPluginContext:a[47],clientThreadKey:a[48],capabilities:a[49],shouldRoundThreadPicture:a[50],proactiveWarningDismissTime:a[51],isCustomThreadPicture:a[52],otidOfFirstMessage:a[53],normalizedSearchTerms:a[54],additionalThreadContext:a[55],disappearingThreadKey:a[56],isDisappearingMode:a[57],disappearingModeInitiator:a[58],unreadDisappearingMessageCount:a[59],lastMessageCtaId:a[61],lastMessageCtaType:a[62],consistentThreadFbid:a[63],threadDescription:a[64],unsendLimitMs:a[65],syncGroup:a[66],threadInvitesEnabled:a[67],threadInviteLink:a[68],numUnreadSubthreads:a[69],subthreadCount:a[70],threadInvitesEnabledV2:a[71],joinRequestApprovalSetting:a[72],pendingJoinRequestsCount:a[73],eventStartTimestampMs:a[74],eventEndTimestampMs:a[75],takedownState:a[76],memberCount:a[77],admodCount:a[78],secondaryParentThreadKey:a[79],igFolder:a[80],inviterId:a[81],threadTags:a[82],readReceiptsDisabledV2:a[83],threadStatus:a[84],threadSubtype:a[85],pauseThreadTimestamp:a[86],metadata:a[87],syncSource:a[88]}):(e=d.item,c[1]=e.lastActivityTimestampMs,c[3]=e.parentThreadKey,c[2]=e.disappearingThreadKey,c[4]=e.isDisappearingMode,b.i64.le(e.authorityLevel,a[6])?b.i64.gt(c[1],a[0])&&b.i64.neq(c[2],void 0)?(b.i64.eq(a[35],b.i64.cast([-1,4294967286]))&&b.i64.eq(c[3],b.i64.cast([0,0]))?(f=[c[3],e.folderName],c[5]=f[0],c[6]=f[1],f):(d=[a[35],a[10]],c[5]=d[0],c[6]=d[1],d),b.db.table(9).put({threadKey:a[7],lastReadWatermarkTimestampMs:e.lastReadWatermarkTimestampMs,authorityLevel:a[6],mailboxType:a[8],threadType:a[9],folderName:c[6],ongoingCallState:a[29],parentThreadKey:c[5],lastActivityTimestampMs:c[1],snippet:a[2],threadName:a[3],threadPictureUrl:a[4],needsAdminApprovalForNewParticipant:a[5],threadPictureUrlFallback:a[11],threadPictureUrlExpirationTimestampMs:a[12],removeWatermarkTimestampMs:a[13],muteExpireTimeMs:a[14],muteCallsExpireTimeMs:a[15],groupNotificationSettings:a[16],isAdminSnippet:a[17],snippetSenderContactId:a[18],snippetText:a[20],snippetStringHash:a[21],snippetStringArgument1:a[22],snippetAttribution:a[23],snippetAttributionStringHash:a[24],disappearingSettingTtl:a[25],disappearingSettingUpdatedTs:a[26],disappearingSettingUpdatedBy:a[27],cannotReplyReason:a[30],customEmoji:a[31],customEmojiImageUrl:a[32],outgoingBubbleColor:a[33],themeFbid:a[34],nullstateDescriptionText1:a[36],nullstateDescriptionType1:a[37],nullstateDescriptionText2:a[38],nullstateDescriptionType2:a[39],nullstateDescriptionText3:a[40],nullstateDescriptionType3:a[41],snippetHasEmoji:a[42],hasPersistentMenu:a[43],disableComposerInput:a[44],cannotUnsendReason:a[45],viewedPluginKey:a[46],viewedPluginContext:a[47],clientThreadKey:a[48],capabilities:a[49],shouldRoundThreadPicture:a[50],proactiveWarningDismissTime:a[51],isCustomThreadPicture:a[52],otidOfFirstMessage:a[53],normalizedSearchTerms:a[54],additionalThreadContext:a[55],disappearingThreadKey:c[2],isDisappearingMode:c[4],disappearingModeInitiator:a[58],unreadDisappearingMessageCount:a[59],lastMessageCtaId:a[61],lastMessageCtaType:a[62],consistentThreadFbid:a[63],threadDescription:a[64],unsendLimitMs:a[65],syncGroup:a[66],threadInvitesEnabled:a[67],threadInviteLink:a[68],numUnreadSubthreads:a[69],subthreadCount:a[70],threadInvitesEnabledV2:a[71],joinRequestApprovalSetting:a[72],pendingJoinRequestsCount:a[73],eventStartTimestampMs:a[74],eventEndTimestampMs:a[75],takedownState:a[76],memberCount:a[77],admodCount:a[78],secondaryParentThreadKey:a[79],igFolder:a[80],inviterId:a[81],threadTags:a[82],readReceiptsDisabledV2:a[83],threadStatus:a[84],threadSubtype:a[85],pauseThreadTimestamp:a[86],metadata:a[87],syncSource:a[88]})):b.db.table(9).put({threadKey:a[7],lastReadWatermarkTimestampMs:a[1],authorityLevel:a[6],mailboxType:a[8],threadType:a[9],folderName:a[10],ongoingCallState:a[29],parentThreadKey:a[35],lastActivityTimestampMs:a[0],snippet:a[2],threadName:a[3],threadPictureUrl:a[4],needsAdminApprovalForNewParticipant:a[5],threadPictureUrlFallback:a[11],threadPictureUrlExpirationTimestampMs:a[12],removeWatermarkTimestampMs:a[13],muteExpireTimeMs:a[14],muteCallsExpireTimeMs:a[15],groupNotificationSettings:a[16],isAdminSnippet:a[17],snippetSenderContactId:a[18],snippetText:a[20],snippetStringHash:a[21],snippetStringArgument1:a[22],snippetAttribution:a[23],snippetAttributionStringHash:a[24],disappearingSettingTtl:a[25],disappearingSettingUpdatedTs:a[26],disappearingSettingUpdatedBy:a[27],cannotReplyReason:a[30],customEmoji:a[31],customEmojiImageUrl:a[32],outgoingBubbleColor:a[33],themeFbid:a[34],nullstateDescriptionText1:a[36],nullstateDescriptionType1:a[37],nullstateDescriptionText2:a[38],nullstateDescriptionType2:a[39],nullstateDescriptionText3:a[40],nullstateDescriptionType3:a[41],snippetHasEmoji:a[42],hasPersistentMenu:a[43],disableComposerInput:a[44],cannotUnsendReason:a[45],viewedPluginKey:a[46],viewedPluginContext:a[47],clientThreadKey:a[48],capabilities:a[49],shouldRoundThreadPicture:a[50],proactiveWarningDismissTime:a[51],isCustomThreadPicture:a[52],otidOfFirstMessage:a[53],normalizedSearchTerms:a[54],additionalThreadContext:a[55],disappearingThreadKey:c[2],isDisappearingMode:c[4],disappearingModeInitiator:a[58],unreadDisappearingMessageCount:a[59],lastMessageCtaId:a[61],lastMessageCtaType:a[62],consistentThreadFbid:a[63],threadDescription:a[64],unsendLimitMs:a[65],syncGroup:a[66],threadInvitesEnabled:a[67],threadInviteLink:a[68],numUnreadSubthreads:a[69],subthreadCount:a[70],threadInvitesEnabledV2:a[71],joinRequestApprovalSetting:a[72],pendingJoinRequestsCount:a[73],eventStartTimestampMs:a[74],eventEndTimestampMs:a[75],takedownState:a[76],memberCount:a[77],admodCount:a[78],secondaryParentThreadKey:a[79],igFolder:a[80],inviterId:a[81],threadTags:a[82],readReceiptsDisabledV2:a[83],threadStatus:a[84],threadSubtype:a[85],pauseThreadTimestamp:a[86],metadata:a[87],syncSource:a[88]}):b.resolve())})},function(a){return b.resolve(d)}])}a.__sproc_name__="LSMailboxDeleteThenInsertThreadStoredProcedure";a.__tables__=["threads"];e.exports=a}),null);
__d("LSFlushSyncTrace",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.forEach(b.filter(b.db.table(153).fetch(),function(c){return b.i64.eq(c.traceType,b.i64.cast([0,2]))&&c.contextOne===a[1]&&c.contextThree===a[0]}),function(a){var b=a.update;a.item;return b({shouldFlush:!0})})},function(a){return b.resolve(c)}])}a.__sproc_name__="LSDataTraceFlushSyncTraceStoredProcedure";a.__tables__=["data_trace_meta"];e.exports=a}),null);
__d("LSExecuteFinallyBlockForSyncTransaction",["LSFlushSyncTrace"],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.sequence([function(c){return b.forEach(b.filter(b.db.table(3).fetch([[["",a[1]]]]),function(c){return c.taskQueueName===""&&b.i64.eq(c.syncDatabaseId,a[1])&&b.i64.eq(c.epochId,a[2])}),function(c){var d=c.update;c=c.item;return d({epochId:!a[0]&&b.i64.eq(c.failureCount,b.i64.cast([-1,4294967295]))?c.epochId:void 0,failureCount:b.i64.eq(c.failureCount,b.i64.cast([-1,4294967295]))?b.i64.cast([0,0]):b.i64.add(c.failureCount,b.i64.cast([0,1]))})})},function(a){return b.resolve()}])},function(a){return b.resolve(c)}])}a.__sproc_name__="LSCoreExecuteFinallyBlockForSyncTransactionStoredProcedure";a.__tables__=["network_requests"];e.exports=a}),null);
__d("LSExecuteFirstBlockForSyncTransaction",["LSAppendDataTraceAddon","LSArrayGetObjectAt","LSLogEventAnnotate.nop"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(f){return c.sequence([function(a){return c.resolve()},function(e){return c.filter(c.db.table(3).fetch([[["",a[0]]]]),function(b){return b.taskQueueName===""&&c.i64.eq(b.syncDatabaseId,a[0])&&c.i64.eq(b.epochId,a[1])}).next().then(function(e,f){f=e.done;e=e.value;return f?c.sequence([function(e){return d[2]=",",function(a){c.logger(a).mustfix(a)}(["epoch mismatch",d[2]," db_type=",d[2],c.i64.to_string(a[0]),d[2]," previous_cursor=",d[2],a[2]==null?"null":a[2],d[2]," next_cursor=",d[2],a[3]].join("")),d[3]=new c.Map(),d[3].set("database_id",a[0]),d[3].set("epoch_id",a[1]),d[3].set("sync_status",a[4]),d[3].set("next_cursor",a[3]),d[3].set("error_msg","epoch mismatch"),a[9]?d[4]=!1:d[4]=!0,d[4]?c.resolve():(d[6]=a[9].keys(),d[7]=c.i64.of_int32(d[6].length),c.i64.gt(d[7],c.i64.cast([0,0]))?c.loopAsync(d[7],function(e){return d[8]=e,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[6],d[8]).then(function(a){return a=a,d[9]=a[0],d[10]=a[1],a})},function(b){return d[11]=a[9].get(d[9]),d[3].set(d[9],d[11])}])}):c.resolve())},function(a){return c.nativeOperation(b("LSLogEventAnnotate.nop"),c.i64.cast([0,16]),c.i64.cast([0,35]),c.i64.cast([0,0]),d[3])},function(a){return d[5]=!1,d[0]=d[5]}]):(e.item,c.sequence([function(e){return c.filter(c.db.table(1).fetch([[[a[0]]]]),function(b){return c.i64.eq(b.groupId,a[0])&&b.currentCursor===a[2]}).next().then(function(e,f){f=e.done;e=e.value;return f?c.sequence([function(e){return d[4]=",",function(a){c.logger(a).mustfix(a)}(["cursor mismatch",d[4]," db_type=",d[4],c.i64.to_string(a[0]),d[4]," previous_cursor=",d[4],a[2]==null?"null":a[2],d[4]," next_cursor=",d[4],a[3]].join("")),d[5]=new c.Map(),d[5].set("database_id",a[0]),d[5].set("epoch_id",a[1]),d[5].set("sync_status",a[4]),d[5].set("next_cursor",a[3]),d[5].set("error_msg","cursor mismatch"),a[9]?d[6]=!1:d[6]=!0,d[6]?c.resolve():(d[8]=a[9].keys(),d[9]=c.i64.of_int32(d[8].length),c.i64.gt(d[9],c.i64.cast([0,0]))?c.loopAsync(d[9],function(e){return d[10]=e,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[8],d[10]).then(function(a){return a=a,d[11]=a[0],d[12]=a[1],a})},function(b){return d[13]=a[9].get(d[11]),d[5].set(d[11],d[13])}])}):c.resolve())},function(a){return c.nativeOperation(b("LSLogEventAnnotate.nop"),c.i64.cast([0,16]),c.i64.cast([0,35]),c.i64.cast([0,0]),d[5])},function(a){return d[7]=!1,d[2]=d[7]}]):(e.item,c.sequence([function(b){return d[4]=c.i64.of_float(Date.now()),d[5]=c.i64.of_float(Date.now()),c.forEach(c.db.table(1).fetch([[[a[0]]]]),function(b){var e=b.update;b.item;return e({currentCursor:a[3],syncStatus:a[4],sendSyncParams:a[5],minTimeToSyncTimestampMs:c.i64.eq(a[6],c.i64.cast([0,0]))?c.i64.cast([0,0]):c.i64.add(d[4],a[6]),canIgnoreTimestamp:a[7],syncChannel:a[8],lastSyncCompletedTimestampMs:d[5]})})},function(b){return c.forEach(c.db.table(3).fetch([[["",a[0]]]]),function(a){var b=a.update;a.item;return b({failureCount:c.i64.cast([-1,4294967295])})})},function(e){return d[6]=new c.Map(),d[6].set("database_id",a[0]),d[6].set("epoch_id",a[1]),d[6].set("sync_status",a[4]),d[6].set("next_cursor",a[3]),a[9]?d[7]=!1:d[7]=!0,d[7]?c.resolve():(d[9]=a[9].keys(),d[10]=c.i64.of_int32(d[9].length),c.i64.gt(d[10],c.i64.cast([0,0]))?c.loopAsync(d[10],function(e){return d[11]=e,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[9],d[11]).then(function(a){return a=a,d[12]=a[0],d[13]=a[1],a})},function(b){return d[14]=a[9].get(d[12]),d[6].set(d[12],d[14])}])}):c.resolve())},function(a){return c.nativeOperation(b("LSLogEventAnnotate.nop"),c.i64.cast([0,16]),c.i64.cast([0,35]),c.i64.cast([0,0]),d[6])},function(a){return d[8]=!0,d[2]=d[8]}]))})},function(a){return d[0]=d[2]}]))})},function(a){return e[0]=d[0]}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSCoreExecuteFirstBlockForSyncTransactionStoredProcedure";a.__tables__=["data_trace_meta","network_requests","sync_groups"];e.exports=a}),null);
__d("LSShimHybridThreadDeleteByThreadKey.nop",[],(function(a,b,c,d,e,f){"use strict";a=async function(a,b,c){};a.__nop_name__="LSShimHybridThreadDeleteByThreadKey";f.default=a}),66);
__d("LSHybridThreadDelete",["LSShimHybridThreadDeleteByThreadKey.nop"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[];return c.sequence([function(d){return c.nativeOperation(b("LSShimHybridThreadDeleteByThreadKey.nop"),a[0])},function(a){return c.resolve(d)}])}a.__sproc_name__="LSE2EEMessagingMetadataMailboxHybridThreadDeleteStoredProcedure";a.__tables__=[];e.exports=a}),null);
__d("LSInsertAttachmentCta",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.db.table(19).add({ctaId:a[0],attachmentFbid:a[1],attachmentIndex:a[2],threadKey:a[3],messageId:a[5],title:a[6],type_:a[7],platformToken:a[8],actionUrl:a[9],nativeUrl:a[10],urlWebviewType:a[11],actionContentBlob:a[12],enableExtensions:a[13],extensionHeightType:a[14],targetId:a[15]})},function(a){return b.resolve(c)}])}a.__sproc_name__="LSMailboxInsertAttachmentCtaStoredProcedure";a.__tables__=["attachment_ctas"];e.exports=a}),null);
__d("LSInsertBlobAttachment",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.sequence([function(c){return b.forEach(b.filter(b.db.table(16).fetch([[[a[27],a[32],a[34]]]]),function(c){return b.i64.eq(c.threadKey,a[27])&&b.i64.eq(b.i64.cast([0,0]),a[28])&&c.messageId===a[32]&&c.attachmentFbid===a[34]&&b.i64.lt(c.authorityLevel,a[48])&&(b.i64.eq(c.attachmentType,b.i64.cast([0,2]))||b.i64.eq(c.attachmentType,b.i64.cast([0,3]))||b.i64.eq(c.attachmentType,b.i64.cast([0,4]))||b.i64.eq(c.attachmentType,b.i64.cast([0,5]))||b.i64.eq(c.attachmentType,b.i64.cast([0,6]))||b.i64.eq(c.attachmentType,b.i64.cast([0,10]))||b.i64.eq(c.attachmentType,b.i64.cast([0,14]))||b.i64.eq(c.attachmentType,b.i64.cast([0,15])))&&b.i64.eq(c.ephemeralMediaState,void 0)&&c.isSharable===!1}),function(a){return a["delete"]()})},function(c){return b.db.table(16).add({threadKey:a[27],messageId:a[32],attachmentFbid:a[34],filename:a[0],filesize:a[1],hasMedia:a[2],isSharable:!1,playableUrl:a[3],playableUrlFallback:a[4],playableUrlExpirationTimestampMs:a[5],playableUrlMimeType:a[6],dashManifest:a[7],previewUrl:a[8],previewUrlFallback:a[9],previewUrlExpirationTimestampMs:a[10],previewUrlMimeType:a[11],miniPreview:a[13],previewWidth:a[14],previewHeight:a[15],attributionAppId:a[16],attributionAppName:a[17],attributionAppIcon:a[18],attributionAppIconFallback:a[19],attributionAppIconUrlExpirationTimestampMs:a[20],localPlayableUrl:a[21],playableDurationMs:a[22],attachmentIndex:a[23],accessibilitySummaryText:a[24],isPreviewImage:a[25],originalFileHash:a[26],attachmentType:a[29],timestampMs:a[31],offlineAttachmentId:a[33],hasXma:a[35],xmaLayoutType:a[36],xmasTemplateType:a[37],titleText:a[38],subtitleText:a[39],descriptionText:a[40],sourceText:a[41],faviconUrlExpirationTimestampMs:a[42],isBorderless:a[44],previewUrlLarge:a[45],samplingFrequencyHz:a[46],waveformData:a[47],authorityLevel:a[48]})}])},function(a){return b.resolve(c)}])}a.__sproc_name__="LSMailboxInsertBlobAttachmentStoredProcedure";a.__tables__=["attachments"];e.exports=a}),null);
__d("LSIssueInsertPersistentMenuItemsForThreadTask",["LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return d[0]=new c.Map(),d[0].set("thread_key",a[0]),d[1]=c.toJSON(d[0]),c.storedProcedure(b("LSIssueNewTask"),"insert_persistent_menu_items",c.i64.cast([0,117]),d[1],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]))},function(a){return c.resolve(e)}])}a.__sproc_name__="LSOmnistoreSettingsIssueInsertPersistentMenuItemsForThreadTaskStoredProcedure";a.__tables__=[];e.exports=a}),null);
__d("LSSetForwardScore",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.forEach(b.filter(b.db.table(12).fetch([[[a[0],a[2],a[1]]]]),function(c){return b.i64.eq(c.threadKey,a[0])&&b.i64.eq(b.i64.cast([0,0]),b.i64.cast([0,0]))&&b.i64.eq(c.timestampMs,a[2])&&c.messageId===a[1]}),function(b){var c=b.update;b.item;return c({forwardScore:a[3]})})},function(a){return b.resolve(c)}])}a.__sproc_name__="LSMailboxSetForwardScoreStoredProcedure";a.__tables__=["messages"];e.exports=a}),null);
__d("LSGroupRoomTruncate",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(a){return b.forEach(b.filter(b.db.table(63).fetch(),function(a){return b.i64.neq(a.groupRoomType,void 0)&&b.i64.neq(a.groupRoomType,b.i64.cast([0,5]))}),function(a){return a["delete"]()})},function(a){return b.resolve(c)}])}a.__sproc_name__="LSStoriesGroupRoomTruncateStoredProcedure";a.__tables__=["rooms"];e.exports=a}),null);
__d("LSUpdateOrInsertThread",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[],d=[];return b.sequence([function(d){return b.db.table(9).fetch([[[a[7]]]]).next().then(function(d,e){var f=d.done;d=d.value;return f?b.db.table(9).add({threadKey:a[7],lastReadWatermarkTimestampMs:a[1],authorityLevel:a[6],mailboxType:a[8],threadType:a[9],folderName:a[10],ongoingCallState:a[32],parentThreadKey:a[38],lastActivityTimestampMs:a[0],snippet:a[2],threadName:a[3],threadPictureUrl:a[4],needsAdminApprovalForNewParticipant:a[5],threadPictureUrlFallback:a[11],threadPictureUrlExpirationTimestampMs:a[12],removeWatermarkTimestampMs:a[13],muteExpireTimeMs:a[14],muteMentionExpireTimeMs:a[15],muteCallsExpireTimeMs:a[16],groupNotificationSettings:a[19],isAdminSnippet:a[20],snippetSenderContactId:a[21],snippetText:a[23],snippetStringHash:a[24],snippetStringArgument1:a[25],snippetAttribution:a[26],snippetAttributionStringHash:a[27],disappearingSettingTtl:a[28],disappearingSettingUpdatedTs:a[29],disappearingSettingUpdatedBy:a[30],cannotReplyReason:a[33],customEmoji:a[34],customEmojiImageUrl:a[35],outgoingBubbleColor:a[36],themeFbid:a[37],nullstateDescriptionText1:a[39],nullstateDescriptionType1:a[40],nullstateDescriptionText2:a[41],nullstateDescriptionType2:a[42],nullstateDescriptionText3:a[43],nullstateDescriptionType3:a[44],snippetHasEmoji:a[45],hasPersistentMenu:a[46],disableComposerInput:a[47],cannotUnsendReason:a[48],viewedPluginKey:a[49],viewedPluginContext:a[50],clientThreadKey:a[51],capabilities:a[52],shouldRoundThreadPicture:a[53],proactiveWarningDismissTime:a[54],isCustomThreadPicture:a[55],otidOfFirstMessage:a[56],normalizedSearchTerms:a[57],additionalThreadContext:a[58],disappearingThreadKey:a[59],isDisappearingMode:a[60],disappearingModeInitiator:a[61],unreadDisappearingMessageCount:a[62],lastMessageCtaId:a[64],lastMessageCtaType:a[65],lastMessageCtaTimestampMs:a[66],consistentThreadFbid:a[67],threadDescription:a[69],unsendLimitMs:a[70],capabilities2:a[78],capabilities3:a[79],syncGroup:a[82],threadInvitesEnabled:a[83],threadInviteLink:a[84],isAllUnreadMessageMissedCallXma:a[85],numUnreadSubthreads:a[86],subthreadCount:a[87],lastNonMissedCallXmaMessageTimestampMs:a[88],isHidden:a[89],threadInvitesEnabledV2:a[90],joinRequestApprovalSetting:a[93],hasPendingInvitation:a[94],eventStartTimestampMs:a[95],eventEndTimestampMs:a[96],takedownState:a[97],secondaryParentThreadKey:a[98],igFolder:a[99],inviterId:a[100],threadTags:a[101],isReadReceiptsDisabled:a[102],readReceiptsDisabledV2:a[103],threadStatus:a[104],threadSubtype:a[105],pauseThreadTimestamp:a[106],metadata:a[107],capabilities4:a[108],syncSource:a[109],capabilities5:a[110],ongoingCallTimestampMs:a[111]}):(e=d.item,c[1]=e.lastActivityTimestampMs,c[3]=e.parentThreadKey,c[2]=e.disappearingThreadKey,c[4]=e.isDisappearingMode,b.i64.le(e.authorityLevel,a[6])?b.i64.gt(c[1],a[0])&&b.i64.neq(c[2],void 0)?(b.i64.eq(a[38],b.i64.cast([-1,4294967286]))&&b.i64.eq(c[3],b.i64.cast([0,0]))?(f=[c[3],e.folderName],c[5]=f[0],c[6]=f[1],f):(d=[a[38],a[10]],c[5]=d[0],c[6]=d[1],d),b.forEach(b.db.table(9).fetch([[[a[7]]]]),function(b){var d=b.update;b.item;return d({lastReadWatermarkTimestampMs:e.lastReadWatermarkTimestampMs,authorityLevel:a[6],mailboxType:a[8],threadType:a[9],folderName:c[6],ongoingCallState:a[32],parentThreadKey:c[5],lastActivityTimestampMs:c[1],snippet:a[2],threadName:a[3],threadPictureUrl:a[4],needsAdminApprovalForNewParticipant:a[5],threadPictureUrlFallback:a[11],threadPictureUrlExpirationTimestampMs:a[12],removeWatermarkTimestampMs:a[13],muteExpireTimeMs:a[14],muteMentionExpireTimeMs:a[15],muteCallsExpireTimeMs:a[16],groupNotificationSettings:a[19],isAdminSnippet:a[20],snippetSenderContactId:a[21],snippetText:a[23],snippetStringHash:a[24],snippetStringArgument1:a[25],snippetAttribution:a[26],snippetAttributionStringHash:a[27],disappearingSettingTtl:a[28],disappearingSettingUpdatedTs:a[29],disappearingSettingUpdatedBy:a[30],cannotReplyReason:a[33],customEmoji:a[34],customEmojiImageUrl:a[35],outgoingBubbleColor:a[36],themeFbid:a[37],nullstateDescriptionText1:a[39],nullstateDescriptionType1:a[40],nullstateDescriptionText2:a[41],nullstateDescriptionType2:a[42],nullstateDescriptionText3:a[43],nullstateDescriptionType3:a[44],snippetHasEmoji:a[45],hasPersistentMenu:a[46],disableComposerInput:a[47],cannotUnsendReason:a[48],viewedPluginKey:a[49],viewedPluginContext:a[50],clientThreadKey:a[51],capabilities:a[52],shouldRoundThreadPicture:a[53],proactiveWarningDismissTime:a[54],isCustomThreadPicture:a[55],otidOfFirstMessage:a[56],normalizedSearchTerms:a[57],additionalThreadContext:a[58],disappearingThreadKey:c[2],isDisappearingMode:c[4],disappearingModeInitiator:a[61],unreadDisappearingMessageCount:a[62],lastMessageCtaId:a[64],lastMessageCtaType:a[65],lastMessageCtaTimestampMs:a[66],consistentThreadFbid:a[67],threadDescription:a[69],unsendLimitMs:a[70],capabilities2:a[78],capabilities3:a[79],syncGroup:a[82],threadInvitesEnabled:a[83],threadInviteLink:a[84],isAllUnreadMessageMissedCallXma:a[85],numUnreadSubthreads:a[86],subthreadCount:a[87],lastNonMissedCallXmaMessageTimestampMs:a[88],isHidden:a[89],threadInvitesEnabledV2:a[90],joinRequestApprovalSetting:a[93],hasPendingInvitation:a[94],eventStartTimestampMs:a[95],eventEndTimestampMs:a[96],takedownState:a[97],secondaryParentThreadKey:a[98],igFolder:a[99],inviterId:a[100],threadTags:a[101],isReadReceiptsDisabled:a[102],readReceiptsDisabledV2:a[103],threadStatus:a[104],threadSubtype:a[105],pauseThreadTimestamp:a[106],metadata:a[107],capabilities4:a[108],syncSource:a[109],capabilities5:a[110],ongoingCallTimestampMs:a[111],avatarStickerInstructionKeyId:void 0,avatarStickerId:void 0,avatarStickerThumbnailImageUrl:void 0,avatarStickerThumbnailImageMimeType:void 0,avatarStickerOriginalImageUrl:void 0,avatarStickerOriginalImageMimeType:void 0,hasPendingJoinRequest:void 0,pendingJoinRequestsCount:void 0,memberCount:void 0,admodCount:void 0,ctmAdId:void 0,ctmAdgroupId:void 0,ctmAdCampaignId:void 0,ctmAdCampaignGroupId:void 0,ctmAdAccountId:void 0,typingIndicatorDisabled:void 0})})):b.forEach(b.db.table(9).fetch([[[a[7]]]]),function(b){var d=b.update;b.item;return d({lastReadWatermarkTimestampMs:a[1],authorityLevel:a[6],mailboxType:a[8],threadType:a[9],folderName:a[10],ongoingCallState:a[32],parentThreadKey:a[38],lastActivityTimestampMs:a[0],snippet:a[2],threadName:a[3],threadPictureUrl:a[4],needsAdminApprovalForNewParticipant:a[5],threadPictureUrlFallback:a[11],threadPictureUrlExpirationTimestampMs:a[12],removeWatermarkTimestampMs:a[13],muteExpireTimeMs:a[14],muteMentionExpireTimeMs:a[15],muteCallsExpireTimeMs:a[16],groupNotificationSettings:a[19],isAdminSnippet:a[20],snippetSenderContactId:a[21],snippetText:a[23],snippetStringHash:a[24],snippetStringArgument1:a[25],snippetAttribution:a[26],snippetAttributionStringHash:a[27],disappearingSettingTtl:a[28],disappearingSettingUpdatedTs:a[29],disappearingSettingUpdatedBy:a[30],cannotReplyReason:a[33],customEmoji:a[34],customEmojiImageUrl:a[35],outgoingBubbleColor:a[36],themeFbid:a[37],nullstateDescriptionText1:a[39],nullstateDescriptionType1:a[40],nullstateDescriptionText2:a[41],nullstateDescriptionType2:a[42],nullstateDescriptionText3:a[43],nullstateDescriptionType3:a[44],snippetHasEmoji:a[45],hasPersistentMenu:a[46],disableComposerInput:a[47],cannotUnsendReason:a[48],viewedPluginKey:a[49],viewedPluginContext:a[50],clientThreadKey:a[51],capabilities:a[52],shouldRoundThreadPicture:a[53],proactiveWarningDismissTime:a[54],isCustomThreadPicture:a[55],otidOfFirstMessage:a[56],normalizedSearchTerms:a[57],additionalThreadContext:a[58],disappearingThreadKey:c[2],isDisappearingMode:c[4],disappearingModeInitiator:a[61],unreadDisappearingMessageCount:a[62],lastMessageCtaId:a[64],lastMessageCtaType:a[65],lastMessageCtaTimestampMs:a[66],consistentThreadFbid:a[67],threadDescription:a[69],unsendLimitMs:a[70],capabilities2:a[78],capabilities3:a[79],syncGroup:a[82],threadInvitesEnabled:a[83],threadInviteLink:a[84],isAllUnreadMessageMissedCallXma:a[85],numUnreadSubthreads:a[86],subthreadCount:a[87],lastNonMissedCallXmaMessageTimestampMs:a[88],isHidden:a[89],threadInvitesEnabledV2:a[90],joinRequestApprovalSetting:a[93],hasPendingInvitation:a[94],eventStartTimestampMs:a[95],eventEndTimestampMs:a[96],takedownState:a[97],secondaryParentThreadKey:a[98],igFolder:a[99],inviterId:a[100],threadTags:a[101],isReadReceiptsDisabled:a[102],readReceiptsDisabledV2:a[103],threadStatus:a[104],threadSubtype:a[105],pauseThreadTimestamp:a[106],metadata:a[107],capabilities4:a[108],syncSource:a[109],capabilities5:a[110],ongoingCallTimestampMs:a[111],avatarStickerInstructionKeyId:void 0,avatarStickerId:void 0,avatarStickerThumbnailImageUrl:void 0,avatarStickerThumbnailImageMimeType:void 0,avatarStickerOriginalImageUrl:void 0,avatarStickerOriginalImageMimeType:void 0,hasPendingJoinRequest:void 0,pendingJoinRequestsCount:void 0,memberCount:void 0,admodCount:void 0,ctmAdId:void 0,ctmAdgroupId:void 0,ctmAdCampaignId:void 0,ctmAdCampaignGroupId:void 0,ctmAdAccountId:void 0,typingIndicatorDisabled:void 0})}):b.resolve())})},function(a){return b.resolve(d)}])}a.__sproc_name__="LSMailboxUpdateOrInsertThreadStoredProcedure";a.__tables__=["threads"];e.exports=a}),null);
__d("LSPopulateCommunityFolderData",["LSDeleteThenInsertCommunityFolder","LSUpdateOrInsertThread"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[];return c.sequence([function(d){return c.sequence([function(d){return c.storedProcedure(b("LSDeleteThenInsertCommunityFolder"),a[0],a[1],a[2],a[3],a[4],a[5],a[6],a[7],void 0,void 0,void 0,a[11],a[12],a[13],a[14],a[15],void 0,a[16],a[17],a[18],void 0,a[19],a[20],a[21],a[22],a[23],void 0,void 0,a[24],a[26],void 0,void 0,a[25],a[37],void 0,void 0,c.i64.cast([0,0]),a[29],void 0,c.i64.cast([0,1]),a[28],a[27],a[30],a[31],a[32],a[33],void 0,a[34],a[35],a[36],a[38],a[39],void 0,void 0,c.i64.cast([0,80]))},function(d){return c.storedProcedure(b("LSUpdateOrInsertThread"),a[8],a[9],a[10],a[2],a[5],void 0,c.i64.cast([0,80]),a[0],c.i64.cast([0,0]),c.i64.cast([0,17]),"community",a[6],a[7],c.i64.cast([0,0]),c.i64.cast([0,0]),c.i64.cast([0,0]),c.i64.cast([0,0]),c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,!1,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,void 0,void 0,void 0,c.i64.cast([-1,4294967282]),void 0,void 0,void 0,void 0,void 0,void 0,!1,!1,!1,void 0,void 0,void 0,void 0,c.i64.cast([0,0]),void 0,void 0,!1,void 0,void 0,void 0,void 0,!1,void 0,c.i64.cast([0,0]),void 0,c.i64.cast([0,0]),void 0,void 0,void 0,void 0,void 0,c.i64.cast([0,0]),void 0,void 0,void 0,void 0,void 0,void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,void 0,c.i64.cast([0,0]),void 0,!1,void 0,void 0,void 0,!1,c.i64.cast([0,0]),void 0,void 0,void 0,void 0,void 0,void 0,void 0,a[40],void 0,void 0,void 0,!1,c.i64.cast([0,0]),void 0,void 0,void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),c.i64.cast([0,0]),void 0)}])},function(a){return c.resolve(d)}])}a.__sproc_name__="LSMailboxPopulateCommunityFolderDataStoredProcedure";a.__tables__=[];e.exports=a}),null);
__d("LSRemoveTask",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[],d=[];return b.sequence([function(d){return b.db.table(2).fetch([[[a[0]]]]).next().then(function(d,e){var f=d.done;d=d.value;return f?0:(e=d.item,b.forEach(b.db.table(2).fetch([[[e.queueName,{lte:a[0]}]],"queueNameTaskId"]),function(a){var d=a.item;return b.sequence([function(a){return c[0]=d.taskDispatchPriority,b.forEach(b.filter(b.db.table(2).fetch([[[d.taskId]]]),function(a){return b.i64.eq(a.taskId,d.taskId)&&a.queueName===d.queueName}),function(a){return a["delete"]()})},function(a){return b.i64.eq(c[0],b.i64.cast([0,1e3]))||b.i64.eq(c[0],b.i64.cast([0,2e3]))?c[1]=b.i64.cast([0,734739218]):c[1]=b.i64.cast([0,734737036])}])}))})},function(a){return b.resolve(d)}])}a.__sproc_name__="LSCoreRemoveTaskStoredProcedure";a.__tables__=["pending_tasks"];e.exports=a}),null);
__d("LSRoomTruncate",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(a){return b.forEach(b.filter(b.db.table(63).fetch(),function(a){return b.i64.eq(a.groupRoomType,void 0)||b.i64.eq(a.groupRoomType,b.i64.cast([0,5]))}),function(a){return a["delete"]()})},function(a){return b.resolve(c)}])}a.__sproc_name__="LSStoriesRoomTruncateStoredProcedure";a.__tables__=["rooms"];e.exports=a}),null);
__d("LSSetRegionHint",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.forEach(b.db.table(1).fetch([[[a[0]]]]),function(b){var c=b.update;b.item;return c({regionHint:a[1]})})},function(a){return b.resolve(c)}])}a.__sproc_name__="LSCoreSetRegionHintStoredProcedure";a.__tables__=["sync_groups"];e.exports=a}),null);
__d("LSTaskExists",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[],d=[];return b.sequence([function(e){return b.sequence([function(d){return b.db.table(2).fetch([[[a[0]]]]).next().then(function(a,b){b=a.done;a=a.value;return b?c[0]=!1:(a.item,c[0]=!0)})},function(a){return d[0]=c[0]}])},function(a){return b.resolve(d)}])}a.__sproc_name__="LSCoreTaskExistsStoredProcedure";a.__tables__=["pending_tasks"];e.exports=a}),null);
__d("LSTruncateCommunityListTable",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(a){return b.forEach(b.db.table(166).fetch(),function(a){return a["delete"]()})},function(a){return b.resolve(c)}])}a.__sproc_name__="LSOmnistoreSettingsTruncateCommunityListTableStoredProcedure";a.__tables__=["cm_community_list"];e.exports=a}),null);
__d("LSTruncateNotificationSettings",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(a){return b.forEach(b.db.table(175).fetch(),function(a){return a["delete"]()})},function(a){return b.resolve(c)}])}a.__sproc_name__="LSOmnistoreSettingsTruncateNotificationSettingsStoredProcedure";a.__tables__=["notification_settings"];e.exports=a}),null);
__d("LSUpdateLastSyncCompletedTimestampMsToNow",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[],d=[];return b.sequence([function(d){return c[0]=b.i64.of_float(Date.now()),b.forEach(b.db.table(1).fetch([[[a[0]]]]),function(a){var b=a.update;a.item;return b({lastSyncCompletedTimestampMs:c[0]})})},function(a){return b.resolve(d)}])}a.__sproc_name__="LSCoreUpdateLastSyncCompletedTimestampMsToNowStoredProcedure";a.__tables__=["sync_groups"];e.exports=a}),null);
__d("LSUpsertGradientColor",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.db.table(117).put({themeFbid:a[0],gradientIndex:a[1],color:a[2],type_:a[3]})},function(a){return b.resolve(c)}])}a.__sproc_name__="LSThreadThemeUpsertGradientColorStoredProcedure";a.__tables__=["gradient_colors"];e.exports=a}),null);
__d("LSUpsertSequenceId",["LSGetViewerFBID"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[0]=a[0],a})},function(b){return c.db.table(25).put({id:d[0],lastAppliedMailboxSequenceId:a[0]})}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSMailboxUpsertSequenceIdStoredProcedure";a.__tables__=["mailbox_metadata"];e.exports=a}),null);
__d("LSUpsertTheme",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[],d=[];return b.sequence([function(d){return b.i64.neq(a[12],void 0)?c[0]=a[12]:c[0]=a[0],b.db.table(116).put({fbid:a[0],themeIdx:a[1],fallbackColor:a[2],reverseGradiantsForRadial:a[3],accessibilityLabel:a[4],iconUrl:a[5],iconUrlFallback:a[6],backgroundUrl:a[8],description:a[9],isDeprecated:a[11],normalThemeId:c[0],appColorMode:a[13],titlebarBackgroundColor:a[14],titlebarButtonTintColor:a[15],titlebarTextColor:a[16],titlebarAttributionTextColor:a[17],composerTintColor:a[18],composerUnselectedTintColor:a[19],composerInputTextPlaceholderColor:a[20],composerInputBackgroundColor:a[21],composerInputBorderColor:a[22],composerInputBorderWidth:a[23],composerBackgroundColor:a[24],messageTextColor:a[25],messageBorderColor:a[26],messageBorderWidth:a[27],incomingMessageTextColor:a[28],incomingMessageBorderColor:a[29],incomingMessageBorderWidth:a[30],deliveryReceiptColor:a[31],tertiaryTextColor:a[32],primaryButtonBackgroundColor:a[33],hotLikeColor:a[34],reactionPillBackgroundColor:a[35],secondaryTextColor:a[36],quotedIncomingMessageBubbleColor:a[37],cornerRadius:a[38],blurredComposerBackgroundColor:a[39],composerSecondaryButtonColor:a[40],composerPlaceholderTextColor:a[41]})},function(a){return b.resolve(d)}])}a.__sproc_name__="LSThreadThemeUpsertThemeStoredProcedure";a.__tables__=["thread_themes"];e.exports=a}),null);
__d("LSStaticDependencies",["LSDeleteAllCommunityChannelCategories","LSDeleteAllCommunityFolders","LSDeleteThenInsertCmCommunityList","LSDeleteThenInsertContact","LSDeleteThenInsertMessageRequest","LSDeleteThenInsertNotificationsSettingsGraphQLSnapshot","LSDeleteThenInsertThread","LSExecuteFinallyBlockForSyncTransaction","LSExecuteFirstBlockForSyncTransaction","LSGroupRoomTruncate","LSPopulateCommunityFolderData","LSRemoveTask","LSRoomTruncate","LSSetRegionHint","LSTaskExists","LSTruncateCommunityListTable","LSTruncateNotificationSettings","LSUpdateLastSyncCompletedTimestampMsToNow","LSUpsertGradientColor","LSUpsertSequenceId","LSUpsertTheme","LSVerifyContactRowExists"],(function(a,b,c,d,e,f,g){"use strict";a={deleteAllCommunityChannelCategories:c("LSDeleteAllCommunityChannelCategories"),deleteAllCommunityFolders:c("LSDeleteAllCommunityFolders"),deleteThenInsertCmCommunityList:c("LSDeleteThenInsertCmCommunityList"),deleteThenInsertContact:c("LSDeleteThenInsertContact"),deleteThenInsertMessageRequest:c("LSDeleteThenInsertMessageRequest"),deleteThenInsertNotificationsSettingsGraphQLSnapshot:c("LSDeleteThenInsertNotificationsSettingsGraphQLSnapshot"),deleteThenInsertThread:c("LSDeleteThenInsertThread"),executeFinallyBlockForSyncTransaction:c("LSExecuteFinallyBlockForSyncTransaction"),executeFirstBlockForSyncTransaction:c("LSExecuteFirstBlockForSyncTransaction"),groupRoomTruncate:c("LSGroupRoomTruncate"),populateCommunityFolderData:c("LSPopulateCommunityFolderData"),removeTask:c("LSRemoveTask"),roomTruncate:c("LSRoomTruncate"),setRegionHint:c("LSSetRegionHint"),taskExists:c("LSTaskExists"),truncateCommunityListTable:c("LSTruncateCommunityListTable"),truncateNotificationSettings:c("LSTruncateNotificationSettings"),updateLastSyncCompletedTimestampMsToNow:c("LSUpdateLastSyncCompletedTimestampMsToNow"),upsertGradientColor:c("LSUpsertGradientColor"),upsertSequenceId:c("LSUpsertSequenceId"),upsertTheme:c("LSUpsertTheme"),verifyContactRowExists:c("LSVerifyContactRowExists")};b=a;g["default"]=b}),98);
__d("LSTransportHybridParticipantUpdateReceipts",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.resolve(c)}a.__sproc_name__="LSE2EEMessagingMetadataMailboxTransportHybridParticipantUpdateReceiptsStoredProcedure";a.__tables__=[];e.exports=a}),null);
__d("LSTruncateMetadataThreads.nop",["I64","LSIntEnum","ReQL","gkx"],(function(a,b,c,d,e,f,g){"use strict";var h,i;a=async function(a,b){if(c("gkx")("9855")){b=a.mi_act_mapping_table.keys(new WeakMap());while(!0){var e,f=await b.next();if(f.done)break;await (e=a.mi_act_mapping_table).delete.apply(e,f.value)}e=d("ReQL").fromTableAscending(a.threads).filter(function(a){return a.syncGroup!=null&&(h||(h=d("I64"))).equal(a.syncGroup,(i||(i=d("LSIntEnum"))).ofNumber(95))}).iterator(new WeakMap());while(!0){f=await e.next();if(f.done)break;await (b=a.threads).delete.apply(b,f.value[0])}}return Promise.resolve()};a.__nop_name__="LSTruncateMetadataThreads";g.default=a}),98);
__d("LSTruncateMetadataThreads",["LSTruncateMetadataThreads.nop"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[];return c.sequence([function(a){return c.nativeOperation(b("LSTruncateMetadataThreads.nop"))},function(a){return c.resolve(d)}])}a.__sproc_name__="LSE2EEMessagingMetadataMailboxTruncateMetadataThreadsStoredProcedure";a.__tables__=[];e.exports=a}),null);
__d("LSTruncateThreadRangeTablesForSyncGroup",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.sequence([function(c){return b.i64.eq(a[0],b.i64.cast([0,1]))?b.forEach(b.filter(b.db.table(10).fetch(),function(a){return b.i64.eq(b.i64.cast([0,1])==null?b.i64.cast([0,1]):b.i64.cast([0,1]),b.i64.cast([0,1]))}),function(a){return a["delete"]()}):b.i64.eq(a[0],b.i64.cast([0,95]))?b.forEach(b.filter(b.db.table(10).fetch([[[b.i64.cast([0,0])],[b.i64.cast([-1,4294967295])]]]),function(a){return b.i64.eq(b.i64.cast([0,1])==null?b.i64.cast([0,1]):b.i64.cast([0,1]),b.i64.cast([0,1]))&&(b.i64.eq(a.parentThreadKey,b.i64.cast([0,0]))||b.i64.eq(a.parentThreadKey,b.i64.cast([-1,4294967295])))}),function(a){return a["delete"]()}):b.resolve(0)},function(c){return b.i64.eq(a[0],b.i64.cast([0,1]))?b.forEach(b.filter(b.db.table(247).fetch(),function(a){return b.i64.eq(a.syncGroup==null?b.i64.cast([0,1]):a.syncGroup,b.i64.cast([0,1]))}),function(a){return a["delete"]()}):b.resolve()},function(c){return b.forEach(b.db.table(198).fetch([[[a[0]]]]),function(a){return a["delete"]()})},function(c){return b.forEach(b.db.table(220).fetch([[[a[0]]]]),function(a){return a["delete"]()})}])},function(a){return b.resolve(c)}])}a.__sproc_name__="LSMailboxTruncateThreadRangeTablesForSyncGroupStoredProcedure";a.__tables__=["threads_ranges_v2__generated","filtered_threads_ranges_v3__generated","inbox_threads_ranges","sync_group_threads_ranges"];e.exports=a}),null);
__d("LSTruncateTablesForSyncGroup",["LSTruncateThreadRangeTablesForSyncGroup"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[];return c.sequence([function(d){return c.sequence([function(b){return c.forEach(c.filter(c.db.table(9).fetch(),function(b){return(c.i64.eq(b.syncGroup,a[0])||c.i64.eq(b.syncGroup,void 0)&&c.i64.eq(c.i64.cast([0,1]),a[0]))&&![c.i64.cast([0,17]),c.i64.cast([0,18]),c.i64.cast([0,19]),c.i64.cast([0,20]),c.i64.cast([0,21]),c.i64.cast([0,22]),c.i64.cast([0,23]),c.i64.cast([0,24]),c.i64.cast([0,25]),c.i64.cast([0,26]),c.i64.cast([0,27]),c.i64.cast([0,28])].some(function(a){return c.i64.eq(b.threadType,a)})}),function(a){return a["delete"]()})},function(d){return c.storedProcedure(b("LSTruncateThreadRangeTablesForSyncGroup"),a[0])}])},function(a){return c.resolve(d)}])}a.__sproc_name__="LSMailboxTruncateTablesForSyncGroupStoredProcedure";a.__tables__=["threads"];e.exports=a}),null);
__d("LSUpdateAttachmentItemCtaAtIndex",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.i64.eq(a[5],b.i64.cast([0,0]))?b.forEach(b.db.table(18).fetch([[[a[0],a[1]]]]),function(b){var c=b.update;b.item;return c({defaultCtaId:a[2],defaultCtaTitle:a[3],defaultCtaType:a[4]})}):b.i64.eq(a[5],b.i64.cast([0,1]))?b.forEach(b.db.table(18).fetch([[[a[0],a[1]]]]),function(b){var c=b.update;b.item;return c({attachmentCta1Id:a[2],cta1Title:a[3],cta1Type:a[4],cta1IconType:void 0})}):b.i64.eq(a[5],b.i64.cast([0,2]))?b.forEach(b.db.table(18).fetch([[[a[0],a[1]]]]),function(b){var c=b.update;b.item;return c({attachmentCta2Id:a[2],cta2Title:a[3],cta2Type:a[4],cta2IconType:void 0})}):b.i64.eq(a[5],b.i64.cast([0,3]))?b.forEach(b.db.table(18).fetch([[[a[0],a[1]]]]),function(b){var c=b.update;b.item;return c({attachmentCta3Id:a[2],cta3Title:a[3],cta3Type:a[4],cta3IconType:void 0})}):b.resolve(function(a){b.logger(a).warn(a)}("Unexpected CTA index"))},function(a){return b.resolve(c)}])}a.__sproc_name__="LSMailboxUpdateAttachmentItemCtaAtIndexStoredProcedure";a.__tables__=["attachment_items"];e.exports=a}),null);
__d("LSUpdateOrInsertCommunitySurfaceRange",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.db.table(253).put({surfaceType:a[0],communityKey:a[1],isLoadingAfter:!1,hasMoreAfter:a[2],nextPageCursor:a[4]})},function(a){return b.resolve(c)}])}a.__sproc_name__="LSMailboxUpdateOrInsertCommunitySurfaceRangeStoredProcedure";a.__tables__=["community_surface_ranges"];e.exports=a}),null);
__d("LSUpdateReadReceipt",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.forEach(b.filter(b.db.table(14).fetch([[[a[1],a[2]]]]),function(c){return b.i64.eq(c.threadKey,a[1])&&b.i64.eq(b.i64.cast([0,0]),b.i64.cast([0,0]))&&b.i64.eq(c.contactId,a[2])&&b.i64.lt(c.readWatermarkTimestampMs,a[0])}),function(c){var d=c.update;c=c.item;return d({readWatermarkTimestampMs:a[0],readActionTimestampMs:b.i64.gt(a[3],b.i64.cast([0,0]))?a[3]:c.readActionTimestampMs})})},function(a){return b.resolve(c)}])}a.__sproc_name__="LSMailboxUpdateReadReceiptStoredProcedure";a.__tables__=["participants"];e.exports=a}),null);
__d("LSShimGetServerThreadKeyFromJIDV2.nop",["ReQL","RetUtil"],(function(a,b,c,d,e,f,g){"use strict";a=async function(a,b,c){b=await d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.mi_act_mapping_table.index("jid")).getKeyRange(c));return d("RetUtil").getNullableRetResult(b==null?void 0:b.serverThreadKey)};a.__nop_name__="LSShimGetServerThreadKeyFromJIDV2";g.default=a}),98);
__d("LSReplaceOptimisticThread",["gkx"],(function(a,b,c,d,e,f,g){function a(){var a=arguments,b=a[a.length-1],d=[],e=[];return b.sequence([function(e){return b.db.table(9).fetch([[[a[1]]]]).next().then(function(e,f){var g=e.done;e=e.value;return g?b.forEach(b.filter(b.db.table(9).fetch([[[a[0]]]]),function(c){return b.i64.eq(c.threadKey,a[0])&&b.i64.le(c.authorityLevel,b.i64.cast([0,20]))}),function(c){var d=c.update;c.item;return d({threadKey:a[1],authorityLevel:b.i64.cast([0,40])})}):(f=e.item,b.i64.le(f.authorityLevel,b.i64.cast([0,40]))?(c("gkx")("14697")?d[2]=!1:d[2]=!0,d[1]=d[2]):d[1]=!0,d[1]?b.forEach(b.db.table(9).fetch([[[a[0]]]]),function(a){return a["delete"]()}):b.resolve())})},function(a){return b.resolve(e)}])}a.__sproc_name__="LSMailboxReplaceOptimisticThreadStoredProcedure";a.__tables__=["threads"];b=a;g["default"]=b}),98);
__d("LSUpdateOptimisticContextThreadKeys",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.sequence([function(c){return b.forEach(b.filter(b.db.table(32).fetch(),function(c){return b.i64.eq(c.threadKey,a[0])}),function(b){var c=b.update;b.item;return c({threadKey:a[1]})})},function(c){return b.forEach(b.filter(b.db.table(31).fetch(),function(c){return b.i64.eq(c.threadKey,a[0])}),function(b){var c=b.update;b.item;return c({threadKey:a[1]})})}])},function(a){return b.resolve(c)}])}a.__sproc_name__="LSCoreUpdateOptimisticContextThreadKeysStoredProcedure";a.__tables__=["threads_optimistic_context","messages_optimistic_context"];e.exports=a}),null);
__d("LSUpdateTaskQueueName",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.forEach(b.db.table(2).fetch([[[a[0]]],"queueNameTaskId"]),function(b){var c=b.update;b.item;return c({queueName:a[1]})})},function(a){return b.resolve(c)}])}a.__sproc_name__="LSCoreUpdateTaskQueueNameStoredProcedure";a.__tables__=["pending_tasks"];e.exports=a}),null);
__d("LSUpdateTaskValue",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.forEach(b.db.table(2).fetch([[[a[0]]],"queueNameTaskId"]),function(b){var c=b.update;b=b.item;return c({taskValue:b.taskValue.split(a[1]).join(a[2])})})},function(a){return b.resolve(c)}])}a.__sproc_name__="LSCoreUpdateTaskValueStoredProcedure";a.__tables__=["pending_tasks"];e.exports=a}),null);
__d("LSUpdateThreadAuthorityAndMapping",["LSHybridThreadDelete","LSIssueNewTask","LSReplaceOptimisticThread","LSShimGetServerThreadKeyFromJIDV2.nop","LSUpdateOptimisticContextThreadKeys","LSUpdateTaskQueueName","LSUpdateTaskValue"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.sequence([function(e){return c.nativeOperation(b("LSShimGetServerThreadKeyFromJIDV2.nop"),a[0]).then(function(a){return a=a,d[0]=a[0],a})},function(b){return c.db.table(9).fetch([[[a[1]]]]).next().then(function(a,b){b=a.done;a=a.value;return b?d[1]=!1:(a.item,d[1]=!0)})},function(b){return c.filter(c.db.table(9).fetch(),function(b){return c.i64.eq(b.threadKey,a[2])}).next().then(function(a,b){b=a.done;a=a.value;return b?d[3]=!1:(a.item,d[3]=!0)})},function(e){return d[5]=c.i64.neq(d[0],void 0),d[7]=c.i64.eq(d[0],a[2])&&d[5],!d[7]&&!(c.i64.eq(d[0],a[1])&&d[5])&&d[5]?function(a){c.logger(a).mustfix(a)}("The mi_act_mapping row did not correspond to either the authoritative or optimistic thread key."):0,c.i64.neq(a[2],void 0)?d[6]=a[2]:d[6]=c.i64.cast([0,0]),d[5]?d[7]?c.sequence([function(e){return d[1]?c.sequence([function(b){return c.db.table(173).fetch([[[a[1]]]]).next().then(function(a,b){var c=a.done;a=a.value;return c?d[8]=void 0:(b=a.item,d[8]=b.jid)})},function(e){return d[10]=new c.Map(),d[10].set("authoritative_thread_key",a[1]),d[10].set("jid_authoritative_mapped",d[8]),d[10].set("jid_optimistic_mapped",a[0]),d[10].set("optimistic_thread_key",a[2]),d[11]=c.toJSON(d[10]),c.storedProcedure(b("LSIssueNewTask"),"e2ee_log_incorrect_occam_mapping",c.i64.cast([0,160033]),d[11],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]))},function(d){return c.storedProcedure(b("LSHybridThreadDelete"),a[1])}]):c.resolve()},function(a){return c.i64.neq(d[6],void 0)?c.forEach(c.db.table(9).fetch([[[d[6]]]]),function(a){var b=a.update;a.item;return b({clientThreadKey:d[6]})}):c.resolve()},function(e){return c.storedProcedure(b("LSReplaceOptimisticThread"),d[6],a[1])},function(e){return c.storedProcedure(b("LSUpdateOptimisticContextThreadKeys"),d[6],a[1])}]):d[3]?c.storedProcedure(b("LSHybridThreadDelete"),d[6]):c.resolve():d[3]?d[1]?c.storedProcedure(b("LSHybridThreadDelete"),d[6]):c.sequence([function(a){return c.i64.neq(d[6],void 0)?c.forEach(c.db.table(9).fetch([[[d[6]]]]),function(a){var b=a.update;a.item;return b({clientThreadKey:d[6]})}):c.resolve()},function(e){return c.storedProcedure(b("LSReplaceOptimisticThread"),d[6],a[1])},function(e){return c.storedProcedure(b("LSUpdateOptimisticContextThreadKeys"),d[6],a[1])}]):c.resolve()},function(e){return d[3]?c.sequence([function(e){return d[9]=c.i64.to_string(d[6]),d[8]=c.i64.to_string(a[1]),c.storedProcedure(b("LSUpdateTaskQueueName"),d[9],d[8])},function(a){return c.storedProcedure(b("LSUpdateTaskValue"),d[8],d[9],d[8])}]):c.resolve()}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSE2EEMessagingMetadataMailboxUpdateThreadAuthorityAndMappingStoredProcedure";a.__tables__=["threads","mi_act_mapping_table"];e.exports=a}),null);
__d("LSUpdateThreadAuthorityAndMappingWithOTIDFromJID",["LSShimGetServerThreadKeyFromJIDV2.nop","LSUpdateThreadAuthorityAndMapping"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.sequence([function(e){return c.nativeOperation(b("LSShimGetServerThreadKeyFromJIDV2.nop"),a[0]).then(function(a){return a=a,d[0]=a[0],a})},function(e){return c.i64.neq(d[0],a[1])?d[1]=d[0]:d[1]=void 0,c.storedProcedure(b("LSUpdateThreadAuthorityAndMapping"),a[0],a[1],d[1])}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSE2EEMessagingMetadataMailboxUpdateThreadAuthorityAndMappingWithOTIDFromJIDStoredProcedure";a.__tables__=[];e.exports=a}),null);
__d("LSUpdateThreadsRangesV2",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[],d=[];return b.sequence([function(d){return b.sequence([function(c){return b.forEach(b.db.table(10).fetch([[[a[1]]]]),function(a){return a["delete"]()})},function(d){return c[8]=b.i64.gt(a[2],b.i64.cast([0,1]))&&b.i64.gt(a[3],b.i64.cast([-2147483648,0])),a[0]==="inbox"&&b.i64.eq(a[1],b.i64.cast([0,0]))&&b.i64.eq(a[4],b.i64.cast([0,1]))?b.sequence([function(d){return c[9]=a[2],c[10]=a[3],c[11]=!1,c[12]=c[8],b.forEach(b.db.table(198).fetch(),function(a){a=a.item;return c[13]=a.minLastActivityTimestampMs,c[15]=a.minThreadKey,c[14]=b.i64.lt(c[9]==null?c[13]:c[9],c[13]),c[9]=c[14]?c[13]:c[9],c[10]=c[14]?c[15]:c[10],c[11]=c[11]||a.isLoadingBefore,c[12]=c[12]||b.i64.gt(c[13],b.i64.cast([0,1]))&&b.i64.gt(c[15],b.i64.cast([-2147483648,0]))})},function(a){return a=[c[9],c[10],c[11],c[12]],c[0]=a[0],c[1]=a[1],c[2]=a[2],c[3]=a[3],a}]):b.resolve((d=[a[2],a[3],!1,c[8]],c[0]=d[0],c[1]=d[1],c[2]=d[2],c[3]=d[3],d))},function(d){return b.i64.eq(a[4],b.i64.cast([0,1]))?b.sequence([function(d){return c[9]=c[0],c[10]=c[1],c[11]=c[2],c[12]=c[3],b.forEach(b.filter(b.db.table(220).fetch(),function(c){return b.i64.eq(c.parentThreadKey,a[1])}),function(a){a=a.item;return c[13]=a.minLastActivityTimestampMs,c[15]=a.minThreadKey,c[14]=b.i64.lt(c[9]==null?c[13]:c[9],c[13]),c[9]=c[14]?c[13]:c[9],c[10]=c[14]?c[15]:c[10],c[11]=c[11]||a.isLoadingBefore,c[12]=c[12]||b.i64.gt(c[13],b.i64.cast([0,1]))&&b.i64.gt(c[15],b.i64.cast([-2147483648,0]))})},function(a){return a=[c[9],c[10],c[11],c[12]],c[4]=a[0],c[5]=a[1],c[6]=a[2],c[7]=a[3],a}]):b.resolve((d=[c[0],c[1],c[2],c[3]],c[4]=d[0],c[5]=d[1],c[6]=d[2],c[7]=d[3],d))},function(d){return b.db.table(10).add({parentThreadKey:a[1],minThreadKey:c[5]==null?b.i64.cast([-2147483648,0]):c[5],minLastActivityTimestampMs:c[4]==null?b.i64.cast([0,1]):c[4],maxLastActivityTimestampMs:b.i64.cast([0,1]),maxThreadKey:b.i64.cast([-2147483648,0]),isLoadingBefore:c[6],isLoadingAfter:!1,hasMoreBefore:c[7],hasMoreAfter:!1})}])},function(a){return b.resolve(d)}])}a.__sproc_name__="LSMailboxUpdateThreadsRangesV2StoredProcedure";a.__tables__=["threads_ranges_v2__generated","inbox_threads_ranges","sync_group_threads_ranges"];e.exports=a}),null);
__d("LSUpsertFolderSeenTimestamp",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.i64.gt(a[1],b.i64.cast([0,0]))?b.db.table(35).fetch([[[a[0]]]]).next().then(function(c,d){var e=c.done;c=c.value;return e?b.db.table(35).add({parentThreadKey:a[0],lastSeenRequestTimestampMs:a[1]}):(d=c.item,b.i64.lt(d.lastSeenRequestTimestampMs,a[1])?b.forEach(b.db.table(35).fetch([[[a[0]]]]),function(b){var c=b.update;b.item;return c({lastSeenRequestTimestampMs:a[1]})}):b.resolve())}):b.resolve()},function(a){return b.resolve(c)}])}a.__sproc_name__="LSMailboxUpsertFolderSeenTimestampStoredProcedure";a.__tables__=["folder_metadata"];e.exports=a}),null);
__d("LSUpsertInboxThreadsRange",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.db.table(198).put({syncGroup:a[0],minLastActivityTimestampMs:a[1],hasMoreBefore:a[2],isLoadingBefore:a[3],minThreadKey:a[4]})},function(a){return b.resolve(c)}])}a.__sproc_name__="LSMailboxUpsertInboxThreadsRangeStoredProcedure";a.__tables__=["inbox_threads_ranges"];e.exports=a}),null);
__d("LSUpsertMessage",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.db.table(12).fetch([[[a[9]]],"optimistic"]).next().then(function(c,d){var e=c.done;c=c.value;return e?b.db.table(12).add({threadKey:a[3],timestampMs:a[5],messageId:a[8],offlineThreadingId:a[9],authorityLevel:a[2],primarySortKey:a[6],senderId:a[10],isAdminMessage:a[12],sendStatus:a[15],sendStatusV2:a[16],text:a[0],subscriptErrorMessage:a[1],secondarySortKey:a[7],stickerId:a[11],messageRenderingType:a[13],isUnsent:a[17],unsentTimestampMs:a[18],mentionOffsets:a[19],mentionLengths:a[20],mentionIds:a[21],mentionTypes:a[22],replySourceId:a[23],replySourceType:a[24],replySourceTypeV2:a[25],replyStatus:a[26],replySnippet:a[27],replyMessageText:a[28],replyToUserId:a[29],replyMediaExpirationTimestampMs:a[30],replyMediaUrl:a[31],replyMediaPreviewWidth:a[33],replyMediaPreviewHeight:a[34],replyMediaUrlMimeType:a[35],replyMediaUrlFallback:a[36],replyCtaId:a[37],replyCtaTitle:a[38],replyAttachmentType:a[39],replyAttachmentId:a[40],replyAttachmentExtra:a[41],replyType:a[42],isForwarded:a[43],forwardScore:a[44],hasQuickReplies:a[45],adminMsgCtaId:a[46],adminMsgCtaTitle:a[47],adminMsgCtaType:a[48],cannotUnsendReason:a[49],textHasLinks:a[50],viewFlags:a[51],displayedContentTypes:a[52],viewedPluginKey:a[53],viewedPluginContext:a[54],quickReplyType:a[55],hotEmojiSize:a[56],platformXmdEncoded:a[57],replySourceTimestampMs:a[58],ephemeralDurationInSec:a[59],msUntilExpirationTs:a[60],ephemeralExpirationTs:a[61],takedownState:a[62],isCollapsed:a[63],subthreadKey:a[64],botResponseId:a[65],metadataDataclass:a[66],editCount:a[67],isPaidPartnership:a[68],adminSignatureName:a[69],adminSignatureProfileUrl:a[70],adminSignatureCreatorType:a[71],translatedText:a[72],textDialect:a[73],translatedTextDialect:a[74],scheduledTimestamp:a[75],isVideoQuickSend:a[76]}):(d=c.item,b.i64.le(d.authorityLevel,a[2])?b.db.table(12).put({threadKey:a[3],timestampMs:a[5],messageId:a[8],offlineThreadingId:a[9],authorityLevel:a[2],primarySortKey:d.primarySortKey,senderId:a[10],isAdminMessage:a[12],sendStatus:a[15],sendStatusV2:a[16],text:a[0],subscriptErrorMessage:a[1],secondarySortKey:d.secondarySortKey,stickerId:a[11],messageRenderingType:a[13],isUnsent:a[17],unsentTimestampMs:a[18],mentionOffsets:a[19],mentionLengths:a[20],mentionIds:a[21],mentionTypes:a[22],replySourceId:a[23],replySourceType:a[24],replySourceTypeV2:a[25],replyStatus:a[26],replySnippet:a[27],replyMessageText:a[28],replyToUserId:a[29],replyMediaExpirationTimestampMs:a[30],replyMediaUrl:a[31],replyMediaPreviewWidth:a[33],replyMediaPreviewHeight:a[34],replyMediaUrlMimeType:a[35],replyMediaUrlFallback:a[36],replyCtaId:a[37],replyCtaTitle:a[38],replyAttachmentType:a[39],replyAttachmentId:a[40],replyAttachmentExtra:a[41],replyType:a[42],isForwarded:a[43],forwardScore:a[44],hasQuickReplies:a[45],adminMsgCtaId:a[46],adminMsgCtaTitle:a[47],adminMsgCtaType:a[48],cannotUnsendReason:a[49],textHasLinks:a[50],viewFlags:a[51],displayedContentTypes:a[52],viewedPluginKey:a[53],viewedPluginContext:a[54],quickReplyType:a[55],hotEmojiSize:a[56],platformXmdEncoded:a[57],replySourceTimestampMs:a[58],ephemeralDurationInSec:a[59],msUntilExpirationTs:a[60],ephemeralExpirationTs:a[61],takedownState:a[62],isCollapsed:a[63],subthreadKey:a[64],botResponseId:a[65],metadataDataclass:a[66],editCount:a[67],isPaidPartnership:a[68],adminSignatureName:a[69],adminSignatureProfileUrl:a[70],adminSignatureCreatorType:a[71],translatedText:a[72],textDialect:a[73],translatedTextDialect:a[74],scheduledTimestamp:a[75],isVideoQuickSend:a[76]}):b.resolve())})},function(a){return b.resolve(c)}])}a.__sproc_name__="LSMailboxUpsertMessageStoredProcedure";a.__tables__=["messages"];e.exports=a}),null);
__d("LSUpsertSyncGroupThreadsRange",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.db.table(220).put({syncGroup:a[0],parentThreadKey:a[1],minLastActivityTimestampMs:a[2],hasMoreBefore:a[3],isLoadingBefore:a[4],minThreadKey:a[5]})},function(a){return b.resolve(c)}])}a.__sproc_name__="LSMailboxUpsertSyncGroupThreadsRangeStoredProcedure";a.__tables__=["sync_group_threads_ranges"];e.exports=a}),null);
__d("LSWriteThreadCapabilities",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[],d=[];return b.sequence([function(d){return b.db.table(9).fetch([[[a[0]]]]).next().then(function(d,e){e=d.done;d=d.value;return e?0:(d.item,c[0]=b.i64.of_float(Date.now()),b.forEach(b.db.table(9).fetch([[[a[0]]]]),function(b){var c=b.update;b.item;return c({capabilities:a[1],capabilities2:a[2],capabilities3:a[3],capabilities4:a[4],capabilities5:a[5]})}))})},function(a){return b.resolve(d)}])}a.__sproc_name__="LSMailboxWriteThreadCapabilitiesStoredProcedure";a.__tables__=["threads"];e.exports=a}),null);
__d("LSExpandedStaticDependencies",["LSAddParticipantIdToGroupThread","LSClearPinnedMessages","LSDeleteBanner","LSDeleteExistingMessageRanges","LSGetFirstAvailableAttachmentCTAID","LSHybridThreadDelete","LSInsertAttachmentCta","LSInsertAttachmentItem","LSInsertBlobAttachment","LSInsertNewMessageRange","LSIssueInsertPersistentMenuItemsForThreadTask","LSSetForwardScore","LSSetMessageDisplayedContentTypes","LSStaticDependencies","LSTransportHybridParticipantUpdateReceipts","LSTruncateMetadataThreads","LSTruncateTablesForSyncGroup","LSUpdateAttachmentItemCtaAtIndex","LSUpdateOrInsertCommunitySurfaceRange","LSUpdateOrInsertThread","LSUpdateReadReceipt","LSUpdateThreadAuthorityAndMappingWithOTIDFromJID","LSUpdateThreadsRangesV2","LSUpsertFolderSeenTimestamp","LSUpsertInboxThreadsRange","LSUpsertMessage","LSUpsertReaction","LSUpsertSyncGroupThreadsRange","LSWriteThreadCapabilities"],(function(a,b,c,d,e,f,g){"use strict";a=babelHelpers["extends"]({},c("LSStaticDependencies"),{addParticipantIdToGroupThread:c("LSAddParticipantIdToGroupThread"),clearPinnedMessages:c("LSClearPinnedMessages"),deleteBanner:c("LSDeleteBanner"),deleteExistingMessageRanges:c("LSDeleteExistingMessageRanges"),getFirstAvailableAttachmentCTAID:c("LSGetFirstAvailableAttachmentCTAID"),hybridThreadDelete:c("LSHybridThreadDelete"),insertAttachmentCta:c("LSInsertAttachmentCta"),insertAttachmentItem:c("LSInsertAttachmentItem"),insertBlobAttachment:c("LSInsertBlobAttachment"),insertNewMessageRange:c("LSInsertNewMessageRange"),issueInsertPersistentMenuItemsForThreadTask:c("LSIssueInsertPersistentMenuItemsForThreadTask"),setForwardScore:c("LSSetForwardScore"),setMessageDisplayedContentTypes:c("LSSetMessageDisplayedContentTypes"),transportHybridParticipantUpdateReceipts:c("LSTransportHybridParticipantUpdateReceipts"),truncateMetadataThreads:c("LSTruncateMetadataThreads"),truncateTablesForSyncGroup:c("LSTruncateTablesForSyncGroup"),updateAttachmentItemCtaAtIndex:c("LSUpdateAttachmentItemCtaAtIndex"),updateOrInsertCommunitySurfaceRange:c("LSUpdateOrInsertCommunitySurfaceRange"),updateOrInsertThread:c("LSUpdateOrInsertThread"),updateReadReceipt:c("LSUpdateReadReceipt"),updateThreadAuthorityAndMappingWithOTIDFromJID:c("LSUpdateThreadAuthorityAndMappingWithOTIDFromJID"),updateThreadsRangesV2:c("LSUpdateThreadsRangesV2"),upsertFolderSeenTimestamp:c("LSUpsertFolderSeenTimestamp"),upsertInboxThreadsRange:c("LSUpsertInboxThreadsRange"),upsertMessage:c("LSUpsertMessage"),upsertReaction:c("LSUpsertReaction"),upsertSyncGroupThreadsRange:c("LSUpsertSyncGroupThreadsRange"),writeThreadCapabilities:c("LSWriteThreadCapabilities")});b=a;g["default"]=b}),98);/*FB_PKG_DELIM*/
__d("CometAdsRenderingValidationReducer",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){return{logs:[].concat(a.logs,[b.log])}}f.reducer=a}),66);
__d("CometAdsRenderingValidationContextProvider",["CometAdsRenderingValidationContext","CometAdsRenderingValidationReducer","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;b.useMemo;var j=b.useReducer,k={logs:[]};function a(a){var b=d("react-compiler-runtime").c(10),e=a.adClientToken,f=a.adId,g=a.children;a=a.postRenderingLoggers;var h=j(d("CometAdsRenderingValidationReducer").reducer,k),l=h[0];h=h[1];var m;b[0]!==e||b[1]!==f||b[2]!==a?(m={adClientToken:e,adId:f,postRenderingLoggers:a},b[0]=e,b[1]=f,b[2]=a,b[3]=m):m=b[3];b[4]!==l||b[5]!==m?(e={dispatcher:h,sponsoredData:m,state:l},b[4]=l,b[5]=m,b[6]=e):e=b[6];f=e;a=f;b[7]!==g||b[8]!==a?(h=i.jsx(c("CometAdsRenderingValidationContext").Provider,{value:a,children:g}),b[7]=g,b[8]=a,b[9]=h):h=b[9];return h}g["default"]=a}),98);
__d("CometFeedAutoFocusedStoryContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b=a.createContext(null);g["default"]=b}),98);
__d("CometFeedSection.react",["FDSUnitHeader.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(10),e=a.meta,f=a.sectionContents,g=a.title;a=a.widthStyle;a=a===void 0?"none":a;var h;b[0]!==a?(h={0:{},1:{className:"xh8yej3"}}[!!(a==="full")<<0],b[0]=a,b[1]=h):h=b[1];b[2]===Symbol["for"]("react.memo_cache_sentinel")?(a={className:"x19f6ikt x169t7cy xsag5q8"},b[2]=a):a=b[2];b[3]!==e||b[4]!==g?(a=i.jsx("div",babelHelpers["extends"]({},a,{children:i.jsx(c("FDSUnitHeader.react"),{headline:g,headlineColor:"secondary",level:4,meta:e})})),b[3]=e,b[4]=g,b[5]=a):a=b[5];b[6]!==f||b[7]!==h||b[8]!==a?(e=i.jsxs("div",babelHelpers["extends"]({},h,{"data-testid":void 0,role:"feed",children:[a,f]})),b[6]=f,b[7]=h,b[8]=a,b[9]=e):e=b[9];return e}g["default"]=a}),98);
__d("CometFeedUnitBorderContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b=a.createContext(void 0);g["default"]=b}),98);
__d("CometFeedUnitCard_feedUnit.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometFeedUnitCard_feedUnit",selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],type:"Story",abstractKey:null}],type:"FeedUnit",abstractKey:"__isFeedUnit"};e.exports=a}),null);
__d("CometFeedUnitDropShadowContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b=a.createContext(1);g["default"]=b}),98);
__d("useAdsRenderingValidationDataLogger",["CometAdsRenderingValidationContext","FBLogger","gkx","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");b.useCallback;var i=b.useContext,j=b.useRef,k="[data-ad-rendering-role]";function a(){var a=d("react-compiler-runtime").c(6),b=j(null),e=i(c("CometAdsRenderingValidationContext")),f=e.dispatcher;e=e.sponsoredData;if(a[0]!==(e==null?void 0:e.adClientToken)||a[1]!==(e==null?void 0:e.postRenderingLoggers)){var g;g=c("gkx")("5837")&&(e==null?void 0:e.adClientToken)!==null&&(e==null?void 0:(g=e.postRenderingLoggers)==null?void 0:g.includes("post_rendering_logger"))===!0;a[0]=e==null?void 0:e.adClientToken;a[1]=e==null?void 0:e.postRenderingLoggers;a[2]=g}else g=a[2];var h=g;a[3]!==f||a[4]!==h?(e=function(a){if(!h||a===null||b.current===a)return;c("FBLogger")("comet_ads","useAdsRenderingValidationDataLogger").debug("Comet component %s added to DOM",JSON.stringify(a==null?void 0:a.tagName));b.current=a;a=a==null?void 0:a.querySelectorAll(k);a==null?void 0:a.forEach(function(a){f({log:{componentName:a.getAttribute("data-testid"),debug:JSON.stringify({boundingRect:a.getBoundingClientRect(),tag:a.tagName}),htmlElement:a,role:(a=a.getAttribute("data-ad-rendering-role"))!=null?a:"unknown"}})})},a[3]=f,a[4]=h,a[5]=e):e=a[5];g=e;return h?g:null}g["default"]=a}),98);
__d("RenderingValidationDataFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("314");b=d("FalcoLoggerInternal").create("rendering_validation_data",a);e=b;g["default"]=e}),98);
__d("useAdsRenderingValidationImpressionLogger",["CometAdsRenderingValidationContext","FBLogger","RenderingValidationDataFalcoEvent","gkx","react","react-compiler-runtime","useSinglePartialViewImpression"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");b.useCallback;var i=b.useContext,j="unknown";function k(a,b,c){var d=c.htmlElement.getBoundingClientRect();if(a==="image"){var e=c.htmlElement.querySelector("img");if(e!==null){e={content_rendered_size:{height:e.naturalHeight,width:e.naturalWidth},content_type:"image",content_url:e.src,is_visible:e.complete&&e.naturalHeight>0&&e.naturalWidth>0,role:"media",size:{height:d.height,width:d.width}};return isNaN(parseInt(b,10))?e:babelHelpers["extends"]({},e,{index:b})}}else if(a==="video"){return{content_id:c.videoId,content_original_size:{height:(b=(e=c.mediaSize)==null?void 0:e.height)!=null?b:0,width:(b=(e=c.mediaSize)==null?void 0:e.width)!=null?b:0},content_rendered_size:{height:(c=d.height)!=null?c:0,width:(e=d.width)!=null?e:0},content_type:"video",is_visible:!0,role:"media"}}return{is_visible:!0,role:a,size:{height:(b=d==null?void 0:d.height)!=null?b:0,width:(c=d==null?void 0:d.width)!=null?c:0}}}function a(a){var b=d("react-compiler-runtime").c(18),e=i(c("CometAdsRenderingValidationContext")),f=e.sponsoredData,g=e.state,h=f==null?void 0:f.adClientToken,k=f==null?void 0:f.adId;if(b[0]!==h||b[1]!==(f==null?void 0:f.postRenderingLoggers)){e=c("gkx")("5837")&&h!==null&&(f==null?void 0:(e=f.postRenderingLoggers)==null?void 0:e.includes("post_rendering_logger"))===!0;b[0]=h;b[1]=f==null?void 0:f.postRenderingLoggers;b[2]=e}else e=b[2];var n=e;b[3]!==h||b[4]!==k||b[5]!==a||b[6]!==n||b[7]!==(g==null?void 0:g.logs)?(f=function(b){if(!n)return;var d=(b=g==null?void 0:g.logs)!=null?b:[];c("FBLogger")("comet_ads","useAdsRenderingValidationImpressionLogger").debug("onImpressionStart for %s: %s",(b=k)!=null?b:"");if(d.length===0)return;c("RenderingValidationDataFalcoEvent").log(function(){var b;return{event_sub_type:"feed_unit_inital_impression",log_source:(b=a)!=null?b:j,log_source_type:"comet",sponsored_data:{ad_client_token:h,ad_id:k},view_data:d.map(m)}})},b[3]=h,b[4]=k,b[5]=a,b[6]=n,b[7]=g==null?void 0:g.logs,b[8]=f):f=b[8];g==null?void 0:g.logs;e=f;b[9]!==h||b[10]!==k||b[11]!==a||b[12]!==n||b[13]!==(g==null?void 0:g.logs)?(f=function(b){var d;if(!n)return;b=(b=g==null?void 0:g.logs)!=null?b:[];if(b.length===0)return;c("FBLogger")("comet_ads","useAdsRenderingValidationImpressionLogger").debug("onImpressionEnd for %s: %s",(d=k)!=null?d:"");var e=b.map(l);c("RenderingValidationDataFalcoEvent").log(function(){var b;return{event_sub_type:"feed_unit_full_impression",log_source:(b=a)!=null?b:j,log_source_type:"comet",sponsored_data:{ad_client_token:h,ad_id:k},view_data:e}})},b[9]=h,b[10]=k,b[11]=a,b[12]=n,b[13]=g==null?void 0:g.logs,b[14]=f):f=b[14];g==null?void 0:g.logs;f=f;var o;b[15]!==f||b[16]!==e?(o={onImpressionEnd:f,onImpressionStart:e},b[15]=f,b[16]=e,b[17]=o):o=b[17];return c("useSinglePartialViewImpression")(o)}function l(a){var b=a.htmlElement,c=a.role.split("-"),d=c[0];c=c[1];var e={debug:a.debug,is_visible:!0,log_source:a.componentName,log_source_type:"comet",role:d};if(d==="media_container"||d==="image"||d==="video"){d=k(d,c,a);if(d!==null)return babelHelpers["extends"]({},e,d)}return!isNaN(parseInt(c,10))?babelHelpers["extends"]({},e,{index:c,text:b==null?void 0:b.innerText}):babelHelpers["extends"]({},e,{text:b==null?void 0:b.innerText})}function m(a){return{is_visible:null,log_source:a.componentName,log_source_type:"comet",role:a.role}}g["default"]=a}),98);
__d("useMergeCometAriaProps",["react-compiler-runtime","useSetAttributeRef"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=d("react-compiler-runtime").c(11);for(var e=arguments.length,f=new Array(e>1?e-1:0),g=1;g<e;g++)f[g-1]=arguments[g];var h=f,i;if(b[0]!==h||b[1]!==a){var j;b[3]!==a?(j=function(b,c){Object.prototype.hasOwnProperty.call(c,a)&&typeof c[a]==="string"&&b.push(c[a]);return b},b[3]=a,b[4]=j):j=b[4];i=h.reduce(j,[]).join(" ");b[0]=h;b[1]=a;b[2]=i}else i=b[2];var k=i,l=c("useSetAttributeRef")(a,k),m;if(b[5]!==a||b[6]!==k){var n;m=(n={},n[a]=k,n.suppressHydrationWarning=!0,n);b[5]=a;b[6]=k;b[7]=m}else m=b[7];var o;b[8]!==l||b[9]!==m?(o=[m,l],b[8]=l,b[9]=m,b[10]=o):o=b[10];return o}g["default"]=a}),98);
__d("CometFeedUnitCard.react",["CometFeedARIAProperties.react","CometFeedAutoFocusedStoryContext","CometFeedHighlightedStoriesContext","CometFeedStoryAttachmentCommandWidget","CometFeedUnitBorderContext","CometFeedUnitCard_feedUnit.graphql","CometFeedUnitDropShadowContext","CometGHLScrambledLabelScreenReaderContext","CometHideableComponentExperiment.react","CometKeyCommandWrapper.react","CometRelay","FDSCard.react","FocusWithinHandler.react","GHLMitigationsGating","UserAgent","cr:430","gkx","react","react-compiler-runtime","useAdsRenderingValidationDataLogger","useAdsRenderingValidationImpressionLogger","useCometScrollAnchor","useEmptyFunction","useMergeCometAriaProps","useMergeRefs"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react"));e=i;var k=e.useContext,l=e.useId;e.useMemo;var m=e.useRef,n=e.useState;e=(f=b("cr:430"))!=null?f:{useCometFocusHighlightedContent:c("useEmptyFunction")};var o=e.useCometFocusHighlightedContent,p=c("gkx")("22786");function a(a){var e=d("react-compiler-runtime").c(51),f=a.children,g=a.position,i=d("CometRelay").useFragment(h!==void 0?h:h=b("CometFeedUnitCard_feedUnit.graphql"),a.feedUnit);i=i.id;var q=l(),r;e[0]!==q?(r={"aria-labelledby":q,suppressHydrationWarning:!0},e[0]=q,e[1]=r):r=e[1];var s=r;r=l();var t;e[2]!==r?(t={"aria-describedby":r,suppressHydrationWarning:!0},e[2]=r,e[3]=t):t=e[3];t=t;var u=l(),v;e[4]!==u?(v={"aria-describedby":u,suppressHydrationWarning:!0},e[4]=u,e[5]=v):v=e[5];v=v;var w=l(),x;e[6]!==w?(x={"aria-describedby":w,suppressHydrationWarning:!0},e[6]=w,e[7]=x):x=e[7];x=x;var y=l(),z;e[8]!==y?(z={"aria-describedby":y,suppressHydrationWarning:!0},e[8]=y,e[9]=z):z=e[9];z=z;var A=l(),B;e[10]!==A?(B={"aria-describedby":A,suppressHydrationWarning:!0},e[10]=A,e[11]=B):B=e[11];B=B;t=c("useMergeCometAriaProps")("aria-describedby",t,v,x,B,z);var C=t[0];v=t[1];e[12]!==q?(x={id:q,suppressHydrationWarning:!0},e[12]=q,e[13]=x):x=e[13];B=x;e[14]!==r?(z={id:r,suppressHydrationWarning:!0},e[14]=r,e[15]=z):z=e[15];t=z;e[16]!==u?(q={id:u,suppressHydrationWarning:!0},e[16]=u,e[17]=q):q=e[17];x=q;e[18]!==w?(r={id:w,suppressHydrationWarning:!0},e[18]=w,e[19]=r):r=e[19];z=r;e[20]!==y?(u={id:y,suppressHydrationWarning:!0},e[20]=y,e[21]=u):u=e[21];q=u;e[22]!==A?(w={id:A,suppressHydrationWarning:!0},e[22]=A,e[23]=w):w=e[23];r=w;e[24]!==z||e[25]!==q||e[26]!==x||e[27]!==t||e[28]!==r||e[29]!==B?(y={attachmentTargetProps:z,commentCountTargetProps:q,contentTargetProps:x,metaTargetProps:t,reactionTargetProps:r,titleTargetProps:B},e[24]=z,e[25]=q,e[26]=x,e[27]=t,e[28]=r,e[29]=B,e[30]=y):y=e[30];u=y;var D=u;A=k(c("CometFeedHighlightedStoriesContext"));e[31]!==A||e[32]!==i?(w=i!=null&&A!=null&&A.has(i),e[31]=A,e[32]=i,e[33]=w):w=e[33];z=w;q=n(z);var E=q[0],F=q[1];e[34]===Symbol["for"]("react.memo_cache_sentinel")?(x={onScrollComplete:function(){return F(!0)}},e[34]=x):x=e[34];t=d("useCometScrollAnchor").useCometScrollAnchor("feed-story",i,x);r=m(null);var G=c("useMergeRefs")(r,t,v,a.loggingRef);B=k(c("CometFeedAutoFocusedStoryContext"));o(B===i?r:null);y=n(!1);var H=y[0],I=y[1],J=k(c("CometFeedUnitBorderContext")),K=k(c("CometFeedUnitDropShadowContext"));e[35]===Symbol["for"]("react.memo_cache_sentinel")?(u=c("UserAgent").isBrowser("Chrome")&&c("UserAgent").isPlatform("Mac OS X"),e[35]=u):u=e[35];var L=u;A=c("useAdsRenderingValidationImpressionLogger")("CometFeedUnitCard");w=c("useAdsRenderingValidationDataLogger")();z=c("useMergeRefs")(A,w);e[36]===Symbol["for"]("react.memo_cache_sentinel")?(q={className:"x1n2onr6 x1ja2u2z"},e[36]=q):q=e[36];e[37]!==J||e[38]!==f||e[39]!==G||e[40]!==K||e[41]!==D||e[42]!==E||e[43]!==H||e[44]!==g||e[45]!==C||e[46]!==s?(x=j.jsx(c("FocusWithinHandler.react"),{children:function(a,b){var e;if(p){var h=b&&a&&!H;h?e="static":E&&(e="animated")}else(E||b)&&(e="animated");h=c("gkx")("23000")?null:{role:"article"};b=a&&d("GHLMitigationsGating").getIsGHLOverrideDelayLabelPlacementEnabled();return j.jsx(c("CometKeyCommandWrapper.react"),{debugName:"feed_story",children:j.jsx(c("CometFeedStoryAttachmentCommandWidget").Wrapper,{children:j.jsx(c("CometGHLScrambledLabelScreenReaderContext").Provider,{value:b,children:j.jsx("div",babelHelpers["extends"]({"aria-posinset":L?void 0:g+1},C,s,{className:"x1a2a7pz","data-testid":void 0,ref:G},h,{children:j.jsx(c("FocusWithinHandler.react"),{onFocusChange:I,children:j.jsx(c("CometHideableComponentExperiment.react"),{callingSurface:"comet_feed_unit_card",children:j.jsx(c("FDSCard.react"),{background:"white",border:J,borderHighlight:e,dropShadow:K,children:j.jsx(c("CometFeedARIAProperties.react").Provider,{value:D,children:f})})})})}))})})})}}),e[37]=J,e[38]=f,e[39]=G,e[40]=K,e[41]=D,e[42]=E,e[43]=H,e[44]=g,e[45]=C,e[46]=s,e[47]=x):x=e[47];e[48]!==z||e[49]!==x?(t=j.jsx("div",babelHelpers["extends"]({},q,{ref:z,children:x})),e[48]=z,e[49]=x,e[50]=t):t=e[50];return t}g["default"]=a}),98);
__d("CometFeedUnitContainerSection_feedUnit.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometFeedUnitContainerSection_feedUnit",selections:[{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedUnitContainerSection_feedUnit",fragmentName:"CometFeedUnitStoryStrategy_feedUnit",fragmentPropName:"feedUnit",kind:"ModuleImport"}],type:"Story",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedUnitContainerSection_feedUnit",fragmentName:"CometFeedUnitGoodwillMemoryStrategy_feedUnit",fragmentPropName:"feedUnit",kind:"ModuleImport"}],type:"GoodwillCometStory",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedUnitContainerSection_feedUnit",fragmentName:"CometPYMKQPFeedUnitStrategy_feedUnit",fragmentPropName:"feedUnit",kind:"ModuleImport"}],type:"PaginatedPeopleYouMayKnowFeedUnit",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedUnitContainerSection_feedUnit",fragmentName:"CometReelsFeedUnitStrategy_feedUnit",fragmentPropName:"feedUnit",kind:"ModuleImport"}],type:"ShowcaseFeedUnit",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedUnitContainerSection_feedUnit",fragmentName:"CometFriendRequestsFeedUnitStrategy_feedUnit",fragmentPropName:"feedUnit",kind:"ModuleImport"}],type:"FriendRequestsFeedUnit",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedUnitContainerSection_feedUnit",fragmentName:"CometFeedUnitQuickPromotionStrategy_feedUnit",fragmentPropName:"feedUnit",kind:"ModuleImport"}],type:"QuickPromotionNativeTemplateFeedUnit",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedUnitContainerSection_feedUnit",fragmentName:"GroupsCometGYSJFeedUnitStrategy_feedUnit",fragmentPropName:"feedUnit",kind:"ModuleImport"}],type:"GroupsYouShouldJoinFeedUnit",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedUnitContainerSection_feedUnit",fragmentName:"CometGroupsSuggestionFeedUnitStrategy_unit",fragmentPropName:"unit",kind:"ModuleImport"}],type:"GroupsSuggestionUnit",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedUnitContainerSection_feedUnit",fragmentName:"CometPYMIQPFeedUnitStrategy_feedUnit",fragmentPropName:"feedUnit",kind:"ModuleImport"}],type:"PaginatedGroupsPeopleYouMayInviteFeedUnit",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedUnitContainerSection_feedUnit",fragmentName:"GeminiPYSFQPFeedUnitStrategy_feedUnit",fragmentPropName:"feedUnit",kind:"ModuleImport"}],type:"PeopleYouShouldFollowAtWorkFeedUnit",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedUnitContainerSection_feedUnit",fragmentName:"CometSPFFeedUnitStrategy_feedUnit",fragmentPropName:"feedUnit",kind:"ModuleImport"}],type:"SuggestedPublicEntitiesToFollowFeedUnit",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedUnitContainerSection_feedUnit",fragmentName:"CometEndOfFeedUpsellStrategy_feedUnit",fragmentPropName:"feedUnit",kind:"ModuleImport"}],type:"EndOfFeedUpsellFeedUnit",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedUnitContainerSection_feedUnit",fragmentName:"CometGroupRelatedGroupsFeedUnitStrategy_feedUnit",fragmentPropName:"feedUnit",kind:"ModuleImport"}],type:"GroupRelatedGroupsFeedUnit",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedUnitContainerSection_feedUnit",fragmentName:"CometGroupRelatedKeywordsFeedUnitStrategy_feedUnit",fragmentPropName:"feedUnit",kind:"ModuleImport"}],type:"GroupRelatedKeywordsFeedUnit",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedUnitContainerSection_feedUnit",fragmentName:"CometStoriesSingleBucketFeedUnitStrategy_feedUnit",fragmentPropName:"feedUnit",kind:"ModuleImport"}],type:"StoriesSingleBucketInlineViewerFeedUnit",abstractKey:null},{args:null,kind:"FragmentSpread",name:"CometFeedUnitUnknownFeedUnitStrategy_feedUnit"}],type:"FeedUnit",abstractKey:"__isFeedUnit"};e.exports=a}),null);
__d("CometFeedUnitContainerSection.react",["CometFeedMatchRenderer.react","CometFeedUnitContainerSection_feedUnit.graphql","RelayHooks","cr:1448849","react","react-compiler-runtime","usePageletMatchMetadata"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react"));e=i;e.useCallback;var k=e.useState,l=h!==void 0?h:h=b("CometFeedUnitContainerSection_feedUnit.graphql");function a(a){var e=d("react-compiler-runtime").c(12),f=a.onUnsupported,g=a.position,h=a.variables;a=babelHelpers.objectWithoutPropertiesLoose(a,["onUnsupported","position","variables"]);a=d("RelayHooks").useFragment(l,a.feedUnit);var i=k(!1),m=i[0],n=i[1];e[0]!==f?(i=function(){n(!0),f()},e[0]=f,e[1]=i):i=e[1];i=i;c("usePageletMatchMetadata")("feed_unit",a);if(!m){e[2]!==g||e[3]!==h?(m={position:g,variables:h},e[2]=g,e[3]=h,e[4]=m):m=e[4];e[5]!==a||e[6]!==i||e[7]!==m?(h=j.jsx(c("CometFeedMatchRenderer.react"),{match:a,matchRequired:!0,onUnsupported:i,props:m,section:"feed_unit",trackingData:null}),e[5]=a,e[6]=i,e[7]=m,e[8]=h):h=e[8];return h}if(b("cr:1448849")!=null){e[9]!==a||e[10]!==g?(i=j.jsx(b("cr:1448849"),{feedUnit:a,position:g}),e[9]=a,e[10]=g,e[11]=i):i=e[11];return i}return null}f=j.memo(a);g["default"]=f}),98);
__d("CometFeedUnitErrorBoundary_feedUnit.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometFeedUnitErrorBoundary_feedUnit",selections:[{args:null,kind:"FragmentSpread",name:"useCometFeedUnitEventLogger_feedUnit"},{args:null,kind:"FragmentSpread",name:"useShouldPreventFeedSectionErrorsFromKillingFeedUnit_story"}],type:"FeedUnit",abstractKey:"__isFeedUnit"};e.exports=a}),null);
__d("CometFeedUnitErrorMessageOrNull",["cr:1448848"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:1448848")}),98);
__d("CometFeedUnitSetStatusContext",["react","react-compiler-runtime","recoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));h.useCallback;var j=i.createContext(function(){return void 0});function a(a){var b=d("react-compiler-runtime").c(10),e=a.brsContentLabel,f=a.brsFilterSetting,g=a.category,h=a.children,k=a.deduplicationKey,l=a.minGapType,m=a.setFeedUnitRecord;b[0]!==e||b[1]!==f||b[2]!==g||b[3]!==k||b[4]!==l||b[5]!==m?(a=function(a){if(k!=null&&l!=null){var b;m(k,{category:(b=g)!=null?b:"UNKNOWN",edgeData:{brsContentLabel:e,brsFilterSetting:f},minGapType:l,status:a})}else c("recoverableViolation")("Category or deduplication_key cannot be null in CometFeedUnitSetStatusContextProvider; Feed unit status not set.","CometFeedUnitStatusTracking")},b[0]=e,b[1]=f,b[2]=g,b[3]=k,b[4]=l,b[5]=m,b[6]=a):a=b[6];a=a;var n;b[7]!==h||b[8]!==a?(n=i.jsx(j.Provider,{value:a,children:h}),b[7]=h,b[8]=a,b[9]=n):n=b[9];return n}g.CometFeedUnitSetStatusContext=j;g.CometFeedUnitSetStatusContextProvider=a}),98);
__d("CometFeedUnitsTypedLoggerLite",["generateLiteTypedLogger"],(function(a,b,c,d,e,f){"use strict";e.exports=b("generateLiteTypedLogger")("logger:CometFeedUnitsLoggerConfig")}),null);
__d("useCometFeedUnitEventLogger_feedUnit.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{alias:null,args:null,concreteType:"QuickPromotionFeedUnitItem",kind:"LinkedField",name:"quick_promotion_items",plural:!0,selections:[{alias:null,args:null,concreteType:"QuickPromotion",kind:"LinkedField",name:"quick_promotion",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],storageKey:null}];return{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useCometFeedUnitEventLogger_feedUnit",selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:a,type:"QuickPromotionFeedUnit",abstractKey:null},{kind:"InlineFragment",selections:a,type:"QuickPromotionNativeTemplateFeedUnit",abstractKey:null}],type:"FeedUnit",abstractKey:"__isFeedUnit"}}();e.exports=a}),null);
__d("useCometFeedUnitEventLogger",["CometFeedUnitsTypedLoggerLite","CometRelay","react","react-compiler-runtime","useCometFeedUnitEventLogger_feedUnit.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i;(i||d("react")).useCallback;function a(a){var e=d("react-compiler-runtime").c(3),f=d("CometRelay").useFragment(h!==void 0?h:h=b("useCometFeedUnitEventLogger_feedUnit.graphql"),a);e[0]!==f.__typename||e[1]!==f.quick_promotion_items?(a=function(a){var b=a.category,d=a.errorName,e=a.event,g=a.minGapType,h=a.numCommitsBeforeError,i=a.position;a=a.renderLocation;var k=[];f.quick_promotion_items!=null&&(k=f.quick_promotion_items.map(j).filter(Boolean));c("CometFeedUnitsTypedLoggerLite").log({category:b,error_name:d,event:e,min_gap_type:g,num_commits_before_error:h,position:i,related_ids:k,render_location:a,unit_name:f.__typename})},e[0]=f.__typename,e[1]=f.quick_promotion_items,e[2]=a):a=e[2];return a}function j(a){return(a=a.quick_promotion)==null?void 0:a.id}g["default"]=a}),98);
__d("useShouldPreventFeedSectionErrorsFromKillingFeedUnit_story.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}];return{argumentDefinitions:[{kind:"RootArgument",name:"__relay_internal__pv__GHLShouldChangeSponsoredDataFieldNamerelayprovider"}],kind:"Fragment",metadata:null,name:"useShouldPreventFeedSectionErrorsFromKillingFeedUnit_story",selections:[{condition:"__relay_internal__pv__GHLShouldChangeSponsoredDataFieldNamerelayprovider",kind:"Condition",passingValue:!1,selections:[{alias:null,args:null,concreteType:"SponsoredData",kind:"LinkedField",name:"sponsored_data",plural:!1,selections:a,storageKey:null}]},{condition:"__relay_internal__pv__GHLShouldChangeSponsoredDataFieldNamerelayprovider",kind:"Condition",passingValue:!0,selections:[{alias:"daspo_sto",args:null,concreteType:"SponsoredData",kind:"LinkedField",name:"sponsored_data",plural:!1,selections:a,storageKey:null}]}],type:"Story",abstractKey:null}}();e.exports=a}),null);
__d("useShouldPreventFeedSectionErrorsFromKillingFeedUnit",["CometRelay","gkx","useShouldPreventFeedSectionErrorsFromKillingFeedUnit_story.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){a=d("CometRelay").useFragment(h!==void 0?h:h=b("useShouldPreventFeedSectionErrorsFromKillingFeedUnit_story.graphql"),a);a=a.sponsored_data;a=a!=null;a=a?c("gkx")("23001"):c("gkx")("23002");return a}g["default"]=a}),98);
__d("CometFeedUnitErrorBoundary.react",["CometErrorBoundary.react","CometFeedUnitErrorBoundary_feedUnit.graphql","CometFeedUnitErrorMessageOrNull","CometFeedUnitOnFeedUnitErrorContext","CometFeedUnitSetStatusContext","CometFeedUnitShouldPropagateErrorContext","CometRelay","InteractionTracing.xplat","emptyFunction","react","useCometFeedUnitEventLogger","useCommitCountRef","useShouldPreventFeedSectionErrorsFromKillingFeedUnit"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react"));e=i;var k=e.useCallback,l=e.useContext,m=e.useState;function a(a){var e=a.category,f=a.children,g=a.feedUnit,i=a.minGapType,n=a.onError,o=a.position,p=a.renderLocation;a.unitTypename;a=m(null);var q=a[0],r=a[1],s=c("useCommitCountRef")();a=d("CometRelay").useFragment(h!==void 0?h:h=b("CometFeedUnitErrorBoundary_feedUnit.graphql"),g);var t=l(d("CometFeedUnitSetStatusContext").CometFeedUnitSetStatusContext),u=c("useCometFeedUnitEventLogger")(a);g=k(function(a){r(a),t("error"),u({category:e,errorName:a.message,event:"js_error",minGapType:i,numCommitsBeforeError:s.current,position:o,renderLocation:p!=="%future added value"?p:void 0}),c("InteractionTracing.xplat").getPendingInteractions().forEach(function(a){a.addAnnotationInt("feedUnitError",1)}),n!=null&&n(a)},[t,u,e,i,s,o,p,n]);a=c("useShouldPreventFeedSectionErrorsFromKillingFeedUnit")(a);return q!=null?c("CometFeedUnitErrorMessageOrNull")!=null?j.jsx(c("CometFeedUnitErrorMessageOrNull"),{error:q}):null:j.jsx(c("CometErrorBoundary.react"),{context:{project:"CometFeedUnitErrorBoundary"},onError:g,children:j.jsx(c("CometFeedUnitShouldPropagateErrorContext").Provider,{value:!0,children:j.jsx(c("CometFeedUnitOnFeedUnitErrorContext").Provider,{value:a?c("emptyFunction"):g,children:f})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometFeedUnitLoadingContext",["emptyFunction","react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b=a.createContext({onFinishLoading:c("emptyFunction"),onStartLoading:c("emptyFunction")});g["default"]=b}),98);
__d("CometFeedUnitOnUnsupportedLoggerContext",["CometFeedUnitsTypedLoggerLite","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;b.useCallback;var j=b.useRef,k=i.createContext(function(){return void 0});function a(a){var b=d("react-compiler-runtime").c(9),e=a.children,f=a.minGapType,g=a.position,h=a.postID,l=a.renderLocation,m=a.unitName,n=j(!1);b[0]!==f||b[1]!==g||b[2]!==h||b[3]!==l||b[4]!==m?(a=function(a){if(!n.current){n.current=!0;c("CometFeedUnitsTypedLoggerLite").log({event:"unsupported",min_gap_type:f,position:g,post_id:h,related_ids:(a=a)!=null?a:null,render_location:l,unit_name:m})}},b[0]=f,b[1]=g,b[2]=h,b[3]=l,b[4]=m,b[5]=a):a=b[5];a=a;var o;b[6]!==e||b[7]!==a?(o=i.jsx(k.Provider,{value:a,children:e}),b[6]=e,b[7]=a,b[8]=o):o=b[8];return o}g.CometFeedUnitOnUnsupportedLoggerContext=k;g.CometFeedUnitOnUnsupportedLoggerContextProvider=a}),98);
__d("CometFeedUnitSetDebugInfoContext",["emptyFunction","react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b=a.createContext(c("emptyFunction"));g["default"]=b}),98);
__d("CometFeedUnit_feedUnit.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},b=[{condition:"__relay_internal__pv__GHLShouldChangeAdIdFieldNamerelayprovider",kind:"Condition",passingValue:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"ad_id",storageKey:null}]},{condition:"__relay_internal__pv__GHLShouldChangeAdIdFieldNamerelayprovider",kind:"Condition",passingValue:!0,selections:[{alias:"lbl_adv_iden",args:null,kind:"ScalarField",name:"ad_id",storageKey:null}]},{alias:null,args:null,kind:"ScalarField",name:"brs_filter_setting",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"client_token",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"post_rendering_loggers",storageKey:null}];return{argumentDefinitions:[{kind:"RootArgument",name:"__relay_internal__pv__GHLShouldChangeAdIdFieldNamerelayprovider"},{kind:"RootArgument",name:"__relay_internal__pv__GHLShouldChangeSponsoredDataFieldNamerelayprovider"}],kind:"Fragment",metadata:null,name:"CometFeedUnit_feedUnit",selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"debug_info",storageKey:null},a,{condition:"__relay_internal__pv__GHLShouldChangeSponsoredDataFieldNamerelayprovider",kind:"Condition",passingValue:!1,selections:[{alias:null,args:null,concreteType:"SponsoredData",kind:"LinkedField",name:"sponsored_data",plural:!1,selections:b,storageKey:null}]},{condition:"__relay_internal__pv__GHLShouldChangeSponsoredDataFieldNamerelayprovider",kind:"Condition",passingValue:!0,selections:[{alias:"daspo_sto",args:null,concreteType:"SponsoredData",kind:"LinkedField",name:"sponsored_data",plural:!1,selections:b,storageKey:null}]},{alias:null,args:null,concreteType:"Feedback",kind:"LinkedField",name:"feedback",plural:!1,selections:[{alias:null,args:null,concreteType:"Group",kind:"LinkedField",name:"associated_group",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"context_actor_hovercard",storageKey:null},a],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_story_civic",storageKey:null}],type:"Story",abstractKey:null},{args:null,kind:"FragmentSpread",name:"CometFeedUnitCard_feedUnit"},{args:null,kind:"FragmentSpread",name:"CometFeedUnitContainerSection_feedUnit"},{args:null,kind:"FragmentSpread",name:"CometFeedUnitErrorBoundary_feedUnit"},{args:null,kind:"FragmentSpread",name:"CometFeedUnit_trackableFeedUnit"}],type:"FeedUnit",abstractKey:"__isFeedUnit"}}();e.exports=a}),null);
__d("CometFeedUnit_newsFeedEdge.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometFeedUnit_newsFeedEdge",selections:[{alias:null,args:null,kind:"ScalarField",name:"brs_content_label",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"deduplication_key",storageKey:null}],type:"NewsFeedEdge",abstractKey:null};e.exports=a}),null);
__d("CometFeedUnit_trackableFeedUnit.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometFeedUnit_trackableFeedUnit",selections:[{alias:null,args:null,concreteType:"TrackingData",kind:"LinkedField",name:"trackingdata",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"viewability_config",storageKey:null},{alias:null,args:null,concreteType:"CometClientViewConfig",kind:"LinkedField",name:"client_view_config",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"can_delay_log_impression",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"use_banzai_signal_imp",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"use_banzai_vital_imp",storageKey:null}],storageKey:null}],type:"Story",abstractKey:null}],type:"TrackableFeedUnit",abstractKey:"__isTrackableFeedUnit"};e.exports=a}),null);
__d("CometOffscreenScrollCompensator.react",["cr:10000","react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");e=(c=b("cr:10000"))!=null?c:a.Fragment;g["default"]=e}),98);
__d("memory.react",["cr:1227"],(function(a,b,c,d,e,f,g){"use strict";g.useEffect=(a=b("cr:1227")).useEffect;g.useState=a.useState;g.useCallback=a.useCallback;g.useMemo=a.useMemo;g.useLayoutEffect=a.useLayoutEffect}),98);
__d("CometFeedUnit.react",["ActorHovercardContext","CometAdsRenderingValidationContextProvider","CometErrorProjectContext","CometFeedBrandSafetyContext","CometFeedUnitCard.react","CometFeedUnitContainerSection.react","CometFeedUnitErrorBoundary.react","CometFeedUnitLoadingContext","CometFeedUnitLoggingContext","CometFeedUnitOnUnsupportedLoggerContext","CometFeedUnitPostRenderingLoggersContext","CometFeedUnitQueryVariablesContext","CometFeedUnitSetDebugInfoContext","CometFeedUnitSetStatusContext","CometFeedUnit_feedUnit.graphql","CometFeedUnit_newsFeedEdge.graphql","CometFeedUnit_trackableFeedUnit.graphql","CometGHLScrambledLabelMitigationLoggerContext","CometOffscreenScrollCompensator.react","CometProfiler.react","CometRelay","FBLogger","FDSHovercardGroupContext","FocusRegion.react","HiddenSubtreePassiveContext","InteractionTracing","RecoverableViolationWithComponentStack.react","cr:12345","cr:1326","cr:1720","cr:1829844","deferredLoadComponent","focusScopeQueries","gkx","joinClasses","memory.react","react","react-compiler-runtime","requireDeferred","stylex","unrecoverableViolation","useActorHovercardContext","useEmptyFunction","useMergeRefs","usePostRenderingLogger","useStoryViewabilityLogger","useVisibilityObserver"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l,m=l||(l=d("react"));e=l;var n=e.useContext,o=e.useRef,p=(f=b("cr:1720"))!=null?f:c("useEmptyFunction"),aa=c("deferredLoadComponent")(c("requireDeferred")("CometFeedUnitLoadingIndicatorMask.react").__setRef("CometFeedUnit.react")),q={reducedSpacing:{marginBottom:"xod5an3",$$css:!0},wrapper:{marginBottom:"x1yztbdb",position:"x1n2onr6",width:"xh8yej3",zIndex:"x1ja2u2z",$$css:!0}},ba=window.atob&&window.atob("c3BvbnNvcmVkX2Fk"),ca=h!==void 0?h:h=b("CometFeedUnit_feedUnit.graphql"),da=i!==void 0?i:i=b("CometFeedUnit_trackableFeedUnit.graphql"),ea=j!==void 0?j:j=b("CometFeedUnit_newsFeedEdge.graphql"),r={event_name:"ad_validate_image",event_sub_type:"feed_unit_full_impression",is_cta_shown:null},fa=[5,8],ga=c("gkx")("22998")?[d("focusScopeQueries").focusableScopeQuery,d("focusScopeQueries").headerAndSpinnerFocusScopeQuery]:null;function ha(a){var b=d("react-compiler-runtime").c(11),e,f,g,h,i;b[0]!==a?(e=a.children,f=a.debuggingInfoLoggers,g=a.loggingRef,i=a.visibilityObserverRef,h=babelHelpers.objectWithoutPropertiesLoose(a,["children","debuggingInfoLoggers","loggingRef","visibilityObserverRef"]),b[0]=a,b[1]=e,b[2]=f,b[3]=g,b[4]=h,b[5]=i):(e=b[1],f=b[2],g=b[3],h=b[4],i=b[5]);a=c("useMergeRefs")(i,g);b[6]!==e||b[7]!==f||b[8]!==h||b[9]!==a?(i=m.jsxs("div",babelHelpers["extends"]({},h,{ref:a,children:[f,e]})),b[6]=e,b[7]=f,b[8]=h,b[9]=a,b[10]=i):i=b[10];return i}function a(a){var e=d("react-compiler-runtime").c(157),f,g,h,i,j,l;e[0]!==a?(f=a.category,g=a.minGapType,h=a.onError,i=a.position,l=a.variables,j=babelHelpers.objectWithoutPropertiesLoose(a,["category","minGapType","onError","position","variables"]),e[0]=a,e[1]=f,e[2]=g,e[3]=h,e[4]=i,e[5]=j,e[6]=l):(f=e[1],g=e[2],h=e[3],i=e[4],j=e[5],l=e[6]);var s=d("CometRelay").useFragment(ca,j.feedUnit);if(s==null)throw c("unrecoverableViolation")("Relay fragment feedUnit cannot be null/undefined in CometFeedUnit","comet_feed");a=d("CometRelay").useFragment(da,s);var t=a.client_view_config,u=a.trackingdata;a=a.viewability_config;var v=d("CometRelay").useFragment(ea,j.newsFeedEdge);if(e[7]!==u){var w;w=(w=u)!=null?w:{};e[7]=u;e[8]=w}else w=e[8];u=w;var x=u.id,y=l.renderLocation;w=d("memory.react").useState(!1);u=w[0];var z=w[1];e[9]!==z?(w=function(){return{onFinishLoading:function(){return z(!1)},onStartLoading:function(){return z(!0)}}},e[9]=z,e[10]=w):w=e[10];var A;e[11]===Symbol["for"]("react.memo_cache_sentinel")?(A=[],e[11]=A):A=e[11];w=d("memory.react").useMemo(w,A);var B=(A=s.feedback)==null?void 0:A.associated_group;A=B==null?void 0:B.context_actor_hovercard;var C=c("useActorHovercardContext")();A=(s==null?void 0:s.is_story_civic)===!0?"CIVIC_POST":(A=A)!=null?A:C;e[12]!==(B==null?void 0:B.id)?(C=function(){var a;return{groupID:(a=B==null?void 0:B.id)!=null?a:void 0}},e[12]=B==null?void 0:B.id,e[13]=C):C=e[13];var D=B==null?void 0:B.id,E;e[14]!==D?(E=[D],e[14]=D,e[15]=E):E=e[15];D=d("memory.react").useMemo(C,E);var F=n(d("CometFeedUnitSetStatusContext").CometFeedUnitSetStatusContext);E=(C=s==null?void 0:s.sponsored_data)!=null?C:s==null?void 0:s.daspo_sto;C=n(c("CometFeedBrandSafetyContext"));if(C){C=C();C=C.feedUnitRegistry;var G=v==null?void 0:v.deduplication_key;G!=null?C[G]={brsContentLabel:v==null?void 0:v.brs_content_label,brsFilterSetting:E==null?void 0:E.brs_filter_setting,tracking:x,unitType:s.__typename}:j.newsFeedEdge!=null&&c("FBLogger")("comet_feed_unit").mustfix("NewsFeedEdge deduplicationKey %s is nullish, even though newsFeedEdge prop was provided. FeedUnit id: %s",G,s.id)}var H=o(!1),I=n(d("CometFeedUnitOnUnsupportedLoggerContext").CometFeedUnitOnUnsupportedLoggerContext);e[16]!==i?(C=function(){i===0&&H.current===!1&&c("InteractionTracing").getPendingInteractions().forEach(ja),H.current=!0},v=[i],e[16]=i,e[17]=C,e[18]=v):(C=e[17],v=e[18]);d("memory.react").useLayoutEffect(C,v);e[19]!==F?(G=function(){return F("rendered")},C=[F],e[19]=F,e[20]=C,e[21]=G):(C=e[20],G=e[21]);d("memory.react").useEffect(G,C);e[22]!==I||e[23]!==F?(v=function(){c("InteractionTracing").getPendingInteractions().forEach(ia),I(),F("error")},G=[I,F],e[22]=I,e[23]=F,e[24]=v,e[25]=G):(v=e[24],G=e[25]);C=d("memory.react").useCallback(v,G);var J=n(c("CometFeedUnitSetDebugInfoContext")),K=s.debug_info,L=s.id,M=o(!1),N=n(c("HiddenSubtreePassiveContext"));e[26]!==K||e[27]!==N||e[28]!==L||e[29]!==i||e[30]!==J?(v=function(){if(!N.getCurrentState().hiddenOrBackgrounded_FIXME){var a;J(i,{debugInfo:(a=K)!=null?a:null,storyId:(a=L)!=null?a:null,visible:M.current})}},G=[K,N,L,i,J],e[26]=K,e[27]=N,e[28]=L,e[29]=i,e[30]=J,e[31]=v,e[32]=G):(v=e[31],G=e[32]);var O=d("memory.react").useCallback(v,G);e[33]!==O?(v=function(){M.current=!1,O()},G=[O],e[33]=O,e[34]=v,e[35]=G):(v=e[34],G=e[35]);v=d("memory.react").useCallback(v,G);var P;e[36]!==O?(G=function(){M.current=!0,O()},P=[O],e[36]=O,e[37]=G,e[38]=P):(G=e[37],P=e[38]);G=d("memory.react").useCallback(G,P);e[39]!==v||e[40]!==G?(P={onHidden:v,onVisible:G},e[39]=v,e[40]=G,e[41]=P):P=e[41];v=c("useVisibilityObserver")(P);G=t==null?void 0:t.can_delay_log_impression;P=t==null?void 0:t.use_banzai_signal_imp;t=t==null?void 0:t.use_banzai_vital_imp;var Q;e[42]!==G||e[43]!==P||e[44]!==t?(Q={can_delay_log_impression:G,use_banzai_signal_imp:P,use_banzai_vital_imp:t},e[42]=G,e[43]=P,e[44]=t,e[45]=Q):Q=e[45];G=Q;P=E==null?void 0:E.client_token;e[46]!==G||e[47]!==x||e[48]!==i?(t={clientViewConfig:G,encryptedToken:x,position:i},e[46]=G,e[47]=x,e[48]=i,e[49]=t):t=e[49];Q=p(t);t=Q!==null;a=(a=a)!=null?a:fa;var R;e[50]!==P||e[51]!==G||e[52]!==x||e[53]!==i||e[54]!==t||e[55]!==a?(R={clientToken:P,clientViewConfig:G,encryptedTracking:x,position:i,shouldDisableGHLSurvey:t,viewabilityConfig:a},e[50]=P,e[51]=G,e[52]=x,e[53]=i,e[54]=t,e[55]=a,e[56]=R):R=e[56];G=c("useStoryViewabilityLogger")(R);t=G.debuggingInfoLoggers;a=G.ref;e[57]!==O?(R=function(){return O()},G=[O],e[57]=O,e[58]=R,e[59]=G):(R=e[58],G=e[59]);d("memory.react").useEffect(R,G);R=j["data-testid"];G=c("gkx")("20998")&&((E==null?void 0:E.ad_id)!=null||(E==null?void 0:E.lbl_adv_iden)!=null);var S;e[60]!==i||e[61]!==y?(j=function(){var a;return{position:i,renderLocation:(a=y)!=null?a:null}},S=[i,y],e[60]=i,e[61]=y,e[62]=j,e[63]=S):(j=e[62],S=e[63]);j=d("memory.react").useMemo(j,S);var T=E==null?void 0:E.post_rendering_loggers;S=(S=E==null?void 0:E.ad_id)!=null?S:E==null?void 0:E.lbl_adv_iden;var U,V;e[64]!==s.daspo_sto||e[65]!==s.sponsored_data||e[66]!==T?(U=function(){var a;return{ad_id:(a=(a=(a=s.sponsored_data)!=null?a:s.daspo_sto)==null?void 0:a.ad_id)!=null?a:(a=(a=s.sponsored_data)!=null?a:s.daspo_sto)==null?void 0:a.lbl_adv_iden,client_token:(a=(a=s.sponsored_data)!=null?a:s.daspo_sto)==null?void 0:a.client_token,post_rendering_logger_from_context:T}},V=[s.sponsored_data,s.daspo_sto,T],e[64]=s.daspo_sto,e[65]=s.sponsored_data,e[66]=T,e[67]=U,e[68]=V):(U=e[67],V=e[68]);U=d("memory.react").useMemo(U,V);var W;e[69]!==s.daspo_sto||e[70]!==s.sponsored_data?(V=function(){var a;return{ad_client_token:(a=(a=s.sponsored_data)!=null?a:s.daspo_sto)==null?void 0:a.client_token,ad_id:(a=(a=(a=s.sponsored_data)!=null?a:s.daspo_sto)==null?void 0:a.ad_id)!=null?a:(a=(a=s.sponsored_data)!=null?a:s.daspo_sto)==null?void 0:a.lbl_adv_iden,event_name:r.event_name,event_sub_type:r.event_sub_type}},W=[s.sponsored_data,s.daspo_sto],e[69]=s.daspo_sto,e[70]=s.sponsored_data,e[71]=V,e[72]=W):(V=e[71],W=e[72]);V=d("memory.react").useCallback(V,W);c("usePostRenderingLogger")(V,T);if(e[73]!==g||e[74]!==i){V=i==null?m.jsx(c("RecoverableViolationWithComponentStack.react"),{errorMessage:"position is null or undefined for min gap type = "+((W=g)!=null?W:"UNKNOWN"),projectName:"comet_feed"}):null;e[73]=g;e[74]=i;e[75]=V}else V=e[75];W=V;V=E?"comet-feed-sponsored-story":null;e[76]!==s||e[77]!==C||e[78]!==i||e[79]!==l?(E=b("cr:1326")?m.jsx(b("cr:1326"),{children:m.jsx(c("CometFeedUnitContainerSection.react"),{feedUnit:s,onUnsupported:C,position:i,variables:l})}):m.jsx(c("CometFeedUnitContainerSection.react"),{feedUnit:s,onUnsupported:C,position:i,variables:l}),e[76]=s,e[77]=C,e[78]=i,e[79]=l,e[80]=E):E=e[80];C=E;var X;e[81]!==x?(E=function(){return{trackingData:x}},X=[x],e[81]=x,e[82]=E,e[83]=X):(E=e[82],X=e[83]);E=d("memory.react").useMemo(E,X);X="CometFeedUnit_"+i;var Y="CometFeedUnit_"+i,Z=y==="homepage_stream"&&c("gkx")("22999")&&q.reducedSpacing,$;e[84]!==G||e[85]!==Z?($=c("joinClasses")((k||(k=c("stylex")))(q.wrapper,Z),G?ba:""),e[84]=G,e[85]=Z,e[86]=$):$=e[86];e[87]!==G||e[88]!==C?(Z=G?m.jsx("article",{"data-ft":'{"ei":"sponsored_ad"',children:C}):C,e[87]=G,e[88]=C,e[89]=Z):Z=e[89];e[90]!==u?(G=u?m.jsx(aa,{}):null,e[90]=u,e[91]=G):G=e[91];e[92]!==R||e[93]!==t||e[94]!==a||e[95]!==Z||e[96]!==G||e[97]!==v?(C=m.jsxs(ha,{"data-testid":void 0,debuggingInfoLoggers:t,loggingRef:a,visibilityObserverRef:v,children:[Z,G]}),e[92]=R,e[93]=t,e[94]=a,e[95]=Z,e[96]=G,e[97]=v,e[98]=C):C=e[98];e[99]!==s||e[100]!==Q||e[101]!==i||e[102]!==C?(u=m.jsx(c("CometFeedUnitCard.react"),{feedUnit:s,loggingRef:Q,position:i,children:C}),e[99]=s,e[100]=Q,e[101]=i,e[102]=C,e[103]=u):u=e[103];e[104]!==V||e[105]!==$||e[106]!==u?(R=m.jsx("div",{className:$,"data-testid":void 0,children:u}),e[104]=V,e[105]=$,e[106]=u,e[107]=R):R=e[107];e[108]!==Y||e[109]!==R?(t=m.jsx(d("FocusRegion.react").FocusRegion,{id:Y,recoverFocusQuery:ga,children:R}),e[108]=Y,e[109]=R,e[110]=t):t=e[110];e[111]!==X||e[112]!==t?(a=m.jsx(c("CometOffscreenScrollCompensator.react"),{children:m.jsx(c("CometProfiler.react"),{id:X,children:t})}),e[111]=X,e[112]=t,e[113]=a):a=e[113];e[114]!==S||e[115]!==P||e[116]!==T||e[117]!==a?(Z=m.jsx(c("CometAdsRenderingValidationContextProvider"),{adClientToken:P,adId:S,postRenderingLoggers:T,children:a}),e[114]=S,e[115]=P,e[116]=T,e[117]=a,e[118]=Z):Z=e[118];e[119]!==U||e[120]!==Z?(G=m.jsx(c("CometFeedUnitPostRenderingLoggersContext").Provider,{value:U,children:Z}),e[119]=U,e[120]=Z,e[121]=G):G=e[121];e[122]!==E||e[123]!==G?(v=m.jsx(c("CometGHLScrambledLabelMitigationLoggerContext").Provider,{value:E,children:G}),e[122]=E,e[123]=G,e[124]=v):v=e[124];e[125]!==w||e[126]!==v?(Q=m.jsx(c("CometFeedUnitLoadingContext").Provider,{value:w,children:v}),e[125]=w,e[126]=v,e[127]=Q):Q=e[127];e[128]!==Q||e[129]!==l?(C=m.jsx(c("CometFeedUnitQueryVariablesContext").Provider,{value:l,children:Q}),e[128]=Q,e[129]=l,e[130]=C):C=e[130];e[131]!==j||e[132]!==C?(V=m.jsx(c("CometErrorProjectContext").Provider,{value:"comet_feed",children:m.jsx(c("CometFeedUnitLoggingContext").Provider,{value:j,children:C})}),e[131]=j,e[132]=C,e[133]=V):V=e[133];e[134]!==W||e[135]!==V?($=m.jsxs(m.Fragment,{children:[W,V]}),e[134]=W,e[135]=V,e[136]=$):$=e[136];u=$;if(b("cr:1829844")!=null&&b("cr:12345")!=null){R=(Y=L)!=null?Y:"";e[137]!==R?(X={type:b("cr:12345").FEED_OBJECT_ID,value:R},e[137]=R,e[138]=X):X=e[138];e[139]!==u||e[140]!==X?(t=m.jsx(b("cr:1829844"),{metadata:X,name:"feed_unit",children:u}),e[139]=u,e[140]=X,e[141]=t):t=e[141];u=t}e[142]!==B||e[143]!==D||e[144]!==u?(S=B!=null?m.jsx(c("FDSHovercardGroupContext").Provider,{value:D,children:u}):u,e[142]=B,e[143]=D,e[144]=u,e[145]=S):S=e[145];e[146]!==A||e[147]!==S?(P=m.jsx(c("ActorHovercardContext").Provider,{value:A,children:S}),e[146]=A,e[147]=S,e[148]=P):P=e[148];e[149]!==f||e[150]!==s||e[151]!==g||e[152]!==h||e[153]!==i||e[154]!==y||e[155]!==P?(a=m.jsx(c("CometFeedUnitErrorBoundary.react"),{category:f,feedUnit:s,minGapType:g,onError:h,position:i,renderLocation:y,unitTypename:s.__typename,children:P}),e[149]=f,e[150]=s,e[151]=g,e[152]=h,e[153]=i,e[154]=y,e[155]=P,e[156]=a):a=e[156];return a}function ia(a){a.addAnnotationInt("unsupportedFeedUnit",1)}function ja(a){a.addMarkerPoint("FirstFeedUnitMount","AppTiming")}e=m.memo(a);g["default"]=e}),98);
__d("CometUFICommentScrollOptionsContextProvider.react",["CometUFICommentScrollOptionsContext","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useContext;b.useMemo;function a(a){var b=d("react-compiler-runtime").c(13),e=a.children,f=a.delay,g=a.scrollAnchorOptions;a=a.scrollIntoViewOptions;var h=j(c("CometUFICommentScrollOptionsContext")),k=h.delay,l=h.scrollAnchorOptions;h=h.scrollIntoViewOptions;f=(f=f)!=null?f:k;b[0]!==g||b[1]!==l?(k=babelHelpers["extends"]({},l,g),b[0]=g,b[1]=l,b[2]=k):k=b[2];b[3]!==a||b[4]!==h?(g=babelHelpers["extends"]({},h,a),b[3]=a,b[4]=h,b[5]=g):g=b[5];b[6]!==f||b[7]!==k||b[8]!==g?(l={delay:f,scrollAnchorOptions:k,scrollIntoViewOptions:g},b[6]=f,b[7]=k,b[8]=g,b[9]=l):l=b[9];a=l;h=a;b[10]!==e||b[11]!==h?(f=i.jsx(c("CometUFICommentScrollOptionsContext").Provider,{value:h,children:e}),b[10]=e,b[11]=h,b[12]=f):f=b[12];return f}g["default"]=a}),98);
__d("FDSDialogUFIFooter.react",["CometColumnItem.react","CometUFICommentRowGlimmer.react","CometUFIDetachableComposerContext","CometVisualCompletionAttributes","FDSDialogFooterContainer.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useContext,k=b.useEffect,l={scrollAreaInner:{paddingTop:"xyqdw3p",paddingBottom:"xg8j3zb",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(9),e=a.shouldFocusComposer;a=j(c("CometUFIDetachableComposerContext"));var f=a.composerElement,g=a.focusComposer,h;b[0]!==g||b[1]!==e?(a=function(){e&&g!=null&&g()},h=[g,e],b[0]=g,b[1]=e,b[2]=a,b[3]=h):(a=b[2],h=b[3]);k(a,h);b[4]===Symbol["for"]("react.memo_cache_sentinel")?(a={className:"x2lah0s x96k8nx xdvlbce xkhd6sd x4uap5"},b[4]=a):a=b[4];b[5]!==f?(h=f!=null?f:i.jsx(c("CometUFICommentRowGlimmer.react"),{xstyle:l.scrollAreaInner}),b[5]=f,b[6]=h):h=b[6];b[7]!==h?(f=i.jsx(c("FDSDialogFooterContainer.react"),{children:i.jsx(c("CometColumnItem.react"),{children:i.jsx("div",babelHelpers["extends"]({},a,c("CometVisualCompletionAttributes").IGNORE_LATE_MUTATION,{children:h}))})}),b[7]=h,b[8]=f):f=b[8];return f}g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("Box.react",["react","react-compiler-runtime","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k={box:{alignItems:"x1qjc9v5",boxSizing:"x9f619",display:"x78zum5",flexBasis:"xdl72j9",flexDirection:"xdt5ytf",flexShrink:"x2lah0s",minHeight:"x2lwn1j",minWidth:"xeuugli",position:"x1n2onr6",zIndex:"x1ja2u2z",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(14),e,f;b[0]!==a?(f=a.ref,e=babelHelpers.objectWithoutPropertiesLoose(a,["ref"]),b[0]=a,b[1]=e,b[2]=f):(e=b[1],f=b[2]);var g,i;if(b[3]!==e){a=e;g=a.as;i=a.xstyle;a=babelHelpers.objectWithoutPropertiesLoose(a,["as","xstyle"]);b[3]=e;b[4]=a;b[5]=g;b[6]=i}else a=b[4],g=b[5],i=b[6];e=g===void 0?"div":g;b[7]!==i?(g=(h||(h=c("stylex")))(k.box,i),b[7]=i,b[8]=g):g=b[8];b[9]!==e||b[10]!==a||b[11]!==f||b[12]!==g?(i=j.jsx(e,babelHelpers["extends"]({},a,{className:g,ref:f})),b[9]=e,b[10]=a,b[11]=f,b[12]=g,b[13]=i):i=b[13];return i}g["default"]=a}),98);
__d("FBIconCautionTriangleFilled12.svg.react",["XPlatReactSVG","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs(d("XPlatReactSVG").Svg,babelHelpers["extends"]({viewBox:"0 0 12 13",width:"1em",height:"1em",fill:"currentColor",title:a.title},a,{children:[a.children!=null&&i.jsx(d("XPlatReactSVG").Defs,{children:a.children}),i.jsx(d("XPlatReactSVG").G,{stroke:"none",strokeWidth:1,fillRule:"evenodd",children:i.jsx(d("XPlatReactSVG").Path,{d:"m104.999 920.516-.25 2.833c-.033.368-.358.65-.748.65s-.715-.282-.748-.65l-.25-2.833a.969.969 0 0 1 .998-1.016.969.969 0 0 1 .998 1.016zM104 926.5a1.001 1.001 0 0 1 0-2c.551 0 1 .449 1 1 0 .551-.449 1-1 1zm1.114-8.877a1.26 1.26 0 0 0-1.094-.623h-.002a1.26 1.26 0 0 0-1.096.62l-4.746 7.996c-.23.388-.235.853-.012 1.245.228.4.641.639 1.106.639h9.46c.464 0 .877-.238 1.105-.637.223-.39.22-.856-.009-1.244l-4.712-7.996z",transform:"translate(-450 -1073) translate(352 157)"})})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;b=a;g["default"]=b}),98);
__d("FBIconGroupFilled12.svg.react",["XPlatReactSVG","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs(d("XPlatReactSVG").Svg,babelHelpers["extends"]({viewBox:"0 0 12 13",width:"1em",height:"1em",fill:"currentColor",title:a.title},a,{children:[a.children!=null&&i.jsx(d("XPlatReactSVG").Defs,{children:a.children}),i.jsx(d("XPlatReactSVG").G,{fillRule:"evenodd",transform:"translate(-450 -1073)",children:i.jsx(d("XPlatReactSVG").Path,{d:"M452.25 1079c-.69 0-1.25-.673-1.25-1.5 0-.911.49-1.5 1.25-1.5s1.25.589 1.25 1.5c0 .827-.56 1.5-1.25 1.5m6.25-1.5c0-.911.49-1.5 1.25-1.5s1.25.589 1.25 1.5c0 .827-.56 1.5-1.25 1.5s-1.25-.673-1.25-1.5m-2.5 1c-.827 0-1.5-.785-1.5-1.75 0-1.079.575-1.75 1.5-1.75s1.5.671 1.5 1.75c0 .965-.673 1.75-1.5 1.75m-4 3.478c0-.814.281-1.562.75-2.154a.2.2 0 0 0-.156-.324h-.64a1.957 1.957 0 0 0-1.953 1.9c-.016.603.474 1.1 1.076 1.1h.723a.2.2 0 0 0 .2-.2v-.322zm8 0c0-.814-.281-1.562-.75-2.154a.2.2 0 0 1 .156-.324h.64c1.059 0 1.925.848 1.954 1.9.015.603-.475 1.1-1.077 1.1h-.723a.2.2 0 0 1-.2-.2v-.322zm-1 .416c0 .61-.496 1.106-1.106 1.106h-3.788c-.61 0-1.106-.496-1.106-1.106v-.416a2.48 2.48 0 0 1 2.478-2.478h1.044a2.48 2.48 0 0 1 2.478 2.478v.416z"})})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;b=a;g["default"]=b}),98);
__d("LSForceImmediateSync",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[],d=[];return b.sequence([function(d){return c[0]=b.i64.of_float(Date.now()),b.forEach(b.db.table(1).fetch([[[a[0]]]]),function(a){var b=a.update;a.item;return b({minTimeToSyncTimestampMs:c[0]})})},function(a){return b.resolve(d)}])}a.__sproc_name__="LSCoreForceImmediateSyncStoredProcedure";a.__tables__=["sync_groups"];e.exports=a}),null);
__d("LSForceImmediateSyncStoredProcedure",["LSForceImmediateSync","LSSynchronousPromise","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSForceImmediateSync"),e.dbType);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("LSRemoveError",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.forEach(b.db.table(6).fetch([[[a[0]]]]),function(a){return a["delete"]()})},function(a){return b.resolve(c)}])}a.__sproc_name__="LSCoreRemoveErrorStoredProcedure";a.__tables__=["user_visible_errors"];e.exports=a}),null);
__d("LSRemoveErrorStoredProcedure",["LSRemoveError","LSSynchronousPromise","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSRemoveError"),e.errorId);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("MAWAbPropsClient",["WAAbPropsToUI"],(function(a,b,c,d,e,f,g){"use strict";var h={contents:d("WAAbPropsToUI").prepareAbPropsForUI()};function a(a){h.contents=a}function b(){return h.contents}g.rewrite=a;g.getAbProps=b}),98);
__d("MAWIsIDBOperational",["FBLogger","WebAsyncStorage","promiseDone","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useEffect,j=b.useState;async function k(a){a===void 0&&(a=!1);if(a&&!c("WebAsyncStorage").isOpenPromiseSettled())return!1;a=await c("WebAsyncStorage").isOperational();if(!a.success){c("FBLogger")("messenger_web").catching(a.error).warn("Marking MAW IDB as unavailable: %s",a.error.message);return!1}return!0}var l=!1;function a(){var a=d("react-compiler-runtime").c(2),b=j(l),e=b[0],f=b[1],g;a[0]===Symbol.for("react.memo_cache_sentinel")?(b=function(){c("promiseDone")(k().then(function(a){f(a),l=a}))},g=[f],a[0]=b,a[1]=g):(b=a[0],g=a[1]);i(b,g);return e}g.isIDBOperational=k;g.useIsIDBOperational=a}),98);
__d("MAWIssueNewUserVisibleErrors",["fbt","$InternalEnum","LSDatabaseSingleton","LSFactory","LSIssueNewErrorStoredProcedure","LSRemoveErrorStoredProcedure","ReQL","gkx","promiseDone"],(function(a,b,c,d,e,f,g,h){"use strict";var i;function a(a,b,e,g){c("promiseDone")((i||(i=d("LSDatabaseSingleton"))).LSDatabaseSingleton.then(function(d){return d.runInTransaction(function(d){return c("LSIssueNewErrorStoredProcedure")(c("LSFactory")(d),{errorBodyText:a!=null?a.toString():void 0,errorExtraData:g,errorTitleText:b.toString(),presentationStyle:String(e)})},"readwrite",void 0,void 0,f.id+":37")}))}function j(a,b){return a.runInTransaction(function(a){return c("LSRemoveErrorStoredProcedure")(c("LSFactory")(a),{errorId:b})},"readwrite",void 0,void 0,f.id+":56")}function e(){c("promiseDone")(async function(){var a=await (i||(i=d("LSDatabaseSingleton"))).LSDatabaseSingleton,b=await d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(a.tables.user_visible_errors));await Promise.all(b.map(async function(b){await j(a,b.errorId)}))}())}function k(a){c("promiseDone")(async function(){var b=await (i||(i=d("LSDatabaseSingleton"))).LSDatabaseSingleton,c=await d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(b.tables.user_visible_errors));await Promise.all(c.map(async function(c){c.errorExtraData===a&&await j(b,c.errorId)}))}())}b=b("$InternalEnum")({TOAST:"toast",BANNER:"banner"});var l=h._(/*BTDS*/"Couldn't load all end-to-end encrypted chats"),m=h._(/*BTDS*/"Try refreshing the page to see them."),n=h._(/*BTDS*/"You may need to refresh this page"),o=h._(/*BTDS*/"There may be issues sending or receiving messages on this page. Refresh it to reload your chats."),p=c("gkx")("4424")?h._(/*BTDS*/"This browser is not supported"):h._(/*BTDS*/"You may need to update your browser");h=c("gkx")("4424")?h._(/*BTDS*/"Some messages are missing and certain messaging features are not available. Try using another browser or mobile device."):h._(/*BTDS*/"End-to-end encrypted chats won't appear in this browser. Try updating your browser or use another one.");var q=new Map([[l.toString(),l],[n.toString(),n]]),r=new Map([[m.toString(),m],[o.toString(),o]]);g.issueError=a;g.deleteUserVisibleError=j;g.deleteAllErrors=e;g.deleteUserVisibleErrorByJSErrorMessage=k;g.MAWUserVisibleErrorPresentationType=b;g.MAWGeneralErrorMsgTitle=l;g.MAWGeneralErrorMsgBody=m;g.MAWLegacyUserErrorMsgTitle=n;g.MAWLegacyUserErrorMsgBody=o;g.MAWUnsupportedIndexedDBErrorMsgTitle=p;g.MAWUnsupportedIndexedDBErrorMsg=h;g.errorMsgTitleToFbtMap=q;g.errorMsgBodyToFbtMap=r}),226);
__d("useMAWUnrecoverableDbError",["MAWUnrecoverableDbErrors","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useEffect,j=b.useState;function a(){var a=d("react-compiler-runtime").c(3),b;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b=d("MAWUnrecoverableDbErrors").getError(),a[0]=b):b=a[0];b=j(b);var c=b[0],e=b[1],f;a[1]===Symbol["for"]("react.memo_cache_sentinel")?(b=function(){var a=function(a){e(a)},b=d("MAWUnrecoverableDbErrors").subscribe(a);return function(){b()}},f=[],a[1]=b,a[2]=f):(b=a[1],f=a[2]);i(b,f);return c}g["default"]=a}),98);
__d("useWAExceededStorageQuota",["MAWUnrecoverableDbErrors","WAExceededStorageQuota","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useEffect;b.useMemo;var j=b.useState;function a(){var a=d("react-compiler-runtime").c(5),b;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b=d("WAExceededStorageQuota").getExceededStorageQuota(),a[0]=b):b=a[0];b=j(b);var c=b[0],e=b[1],f;a[1]===Symbol["for"]("react.memo_cache_sentinel")?(b=function(){var a=function(a){e(a)},b=d("WAExceededStorageQuota").subscribe(a);return function(){b()}},f=[],a[1]=b,a[2]=f):(b=a[1],f=a[2]);i(b,f);a[3]!==c?(b=c?new(d("MAWUnrecoverableDbErrors").WAExceededStorageQuotaError)():null,a[3]=c,a[4]=b):b=a[4];f=b;return f}g["default"]=a}),98);
__d("MAWUnrecoverableErrorBoundary.react",["react","react-compiler-runtime","useMAWUnrecoverableDbError","useWAExceededStorageQuota"],(function(a,b,c,d,e,f,g){"use strict";var h;h||d("react");function a(a){var b=d("react-compiler-runtime").c(3),e=a.children;a=a.fallback;var f=c("useMAWUnrecoverableDbError")(),g=c("useWAExceededStorageQuota")();f=(f=f)!=null?f:g;if(f!=null&&a!=null){b[0]!==f||b[1]!==a?(g=a(f),b[0]=f,b[1]=a,b[2]=g):g=b[2];return g}else return e}g["default"]=a}),98);
__d("MAWWasmFeatureSupport",["Promise","react","react-compiler-runtime","wasm-feature-detect"],(function(a,b,c,d,e,f,g){"use strict";var h,i;c=i||d("react");var j=c.useEffect,k=c.useState,l=null;function a(){var a=d("react-compiler-runtime").c(2),c=k(l),e=c[0],f=c[1],g;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(c=function(){(h||(h=b("Promise"))).all([d("wasm-feature-detect").bulkMemory(),d("wasm-feature-detect").bigInt(),d("wasm-feature-detect").referenceTypes()]).then(function(a){var b=a[0],c=a[1];a=a[2];f({bigInt:c,bulkMemory:b,referenceTypes:a});l={bigInt:c,bulkMemory:b,referenceTypes:a}})},g=[f],a[0]=c,a[1]=g):(c=a[0],g=a[1]);j(c,g);return e}g.useWasmFeatureSupport=a}),98);
__d("MWPIsUserContact",["I64","LSContactViewerRelationship","LSIntEnum"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a){return a==null?!1:(h||(h=d("I64"))).equal(a.contactViewerRelationship,(i||(i=d("LSIntEnum"))).ofNumber(c("LSContactViewerRelationship").CONTACT_OF_VIEWER))||(h||(h=d("I64"))).equal(a.contactViewerRelationship,(i||(i=d("LSIntEnum"))).ofNumber(c("LSContactViewerRelationship").FACEBOOK_FRIEND))||(h||(h=d("I64"))).equal(a.contactViewerRelationship,(i||(i=d("LSIntEnum"))).ofNumber(c("LSContactViewerRelationship").SOFT_CONTACT))}g.isUserContact=a}),98);
__d("MWChatSearchTypeaheadDataEntry",["I64","LSContactBitOffset","LSContactTypeExact","LSIntEnum","LSRestrictionType","MWChatSearchResultType","MWPIsUserContact","MWSearchStandardResultTypeMappings"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a){var b;return{key:(h||(h=d("I64"))).to_string(a.id),label:a.name,rawData:{displayName:a.name,id:h.to_string(a.id),imageUrl:a.profilePictureUrl,isAiBot:h.equal(a.contactTypeExact,(i||(i=d("LSIntEnum"))).ofNumber(c("LSContactTypeExact").GENERATIVE_AI_BOT)),isContact:d("MWPIsUserContact").isUserContact(a),isDisappearingModeSettingOn:!1,isE2EE:!0,isEPD:h.equal(a.restrictionType,i.ofNumber(c("LSRestrictionType").DATA_PRIVACY)),isInstamadilloCutover:d("LSContactBitOffset").has(95,a),isRestrictedByViewer:d("LSContactBitOffset").has(66,a),isTTLCClipEnabled:d("LSContactBitOffset").has(96,a),isTTLCGenericXMAShareEnabled:d("LSContactBitOffset").has(97,a),isTTLCMediaShareEnabled:d("LSContactBitOffset").has(98,a),isTTLCStoryShareEnabled:d("LSContactBitOffset").has(99,a),isViewerUnconnected:d("LSContactBitOffset").hasWithDefault(64,a,!0),reachabilityStatus:a.contactReachabilityStatusType,resultType:c("MWChatSearchResultType").USER,searchResultType:d("MWSearchStandardResultTypeMappings").mapContactToSearchStandardResultType(a),secondaryImageUrl:(b=a.profilePictureFallbackUrl)!=null?b:a.profilePictureUrl,subtext:"",subtextAdditional:"",threadType:i.ofNumber(1)},type:"entry"}}g.convertContactToSearchTypeaheadDataEntry=a}),98);
__d("MWCreatorMessagingUtils",["I64","LSIntEnum","LSThreadBitOffset","MWLSThread","MessagingFolderTag","MessagingThreadSubtype"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function j(a){if(a.metadata==null||a.threadSubtype==null)return!1;var b=JSON.parse(a.metadata);b=b.thread_initiator_id;return b!=null&&a.threadSubtype!=null&&(h||(h=d("I64"))).equal(a.threadSubtype,(i||(i=d("LSIntEnum"))).ofNumber(c("MessagingThreadSubtype").PAGE_TO_USER))&&(h||(h=d("I64"))).equal((h||(h=d("I64"))).of_string(b),a.threadKey)}function k(a){var b=d("LSThreadBitOffset").has(21,a);return b&&j(a)}function a(a){if(a.folderName===c("MessagingFolderTag").INBOX)return"inbox";else if(a.folderName===c("MessagingFolderTag").PENDING)return"message_requests_ymk";else if(a.folderName===c("MessagingFolderTag").SPAM)return"message_requests_spam";else return"unknown"}function b(a){a=d("MWLSThread").useThread(a,l);return(a=a)!=null?a:!1}function l(a){return k(a)}g.isAPPlusInitiatedThread=j;g.isAPPlusMessageRequest=k;g.fetchQPLEntrypoint=a;g.useIsAPPlusMessageRequestFromThreadKey=b}),98);
__d("MWEncryptedBackupsDetermineInitialEBState",["gkx"],(function(a,b,c,d,e,f,g){"use strict";var h=c("gkx")("23914");function a(a){var b=a.clientStateData,c=a.hasArmadilloError;a=a.xfb_backup;if(!h||c)return 0;if(a==null)return 2;return b.length>0?3:4}g.determineInitialEBState=a}),98);
__d("XCometArchivedThreadsControllerRouteBuilder",["jsExtraRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsExtraRouteBuilder")("/messages/archived/t/{thread_key}/",Object.freeze({}),["/messages/archived/"],void 0);b=a;g["default"]=b}),98);
__d("XMessengerDotComCometArchivedThreadsControllerRouteBuilder",["jsExtraRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsExtraRouteBuilder")("/archived/t/{thread_key}/",Object.freeze({}),["/archived/"],void 0);b=a;g["default"]=b}),98);
__d("MWInboxArchivedThreadsRouteBuilder",["CurrentEnvironment","XCometArchivedThreadsControllerRouteBuilder","XMessengerDotComCometArchivedThreadsControllerRouteBuilder"],(function(a,b,c,d,e,f,g){"use strict";a=c("CurrentEnvironment").facebookdotcom?{buildURL:function(a){var b=a.focus_target;a=a.thread_key;return c("XCometArchivedThreadsControllerRouteBuilder").buildURL({focus_target:b,thread_key:a})},buildURLWithoutThread:function(){return c("XCometArchivedThreadsControllerRouteBuilder").buildExtraURL("/messages/archived/",{})}}:{buildURL:function(a){var b=a.focus_target;a=a.thread_key;return c("XMessengerDotComCometArchivedThreadsControllerRouteBuilder").buildURL({focus_target:b,thread_key:a})},buildURLWithoutThread:function(){return c("XMessengerDotComCometArchivedThreadsControllerRouteBuilder").buildExtraURL("/archived/",{})}};b=a.buildURL;d=a.buildURLWithoutThread;g.buildURL=b;g.buildURLWithoutThread=d}),98);
__d("XMessengerDotComCometBusinessSupportThreadsControllerRouteBuilder",["jsExtraRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsExtraRouteBuilder")("/support/t/{thread_key}/",Object.freeze({}),["/support/","/business_support/","/business_support/t/{thread_key}/"],void 0);b=a;g["default"]=b}),98);
__d("MWInboxBusinessSupportThreadsRouteBuilder",["XMessengerDotComCometBusinessSupportThreadsControllerRouteBuilder"],(function(a,b,c,d,e,f,g){"use strict";a={buildURL:function(a){return c("XMessengerDotComCometBusinessSupportThreadsControllerRouteBuilder").buildURL(a)},buildURLWithoutThread:function(a){return c("XMessengerDotComCometBusinessSupportThreadsControllerRouteBuilder").buildExtraURL("/support/",a)}};b=a.buildURL;d=a.buildURLWithoutThread;g.buildURL=b;g.buildURLWithoutThread=d}),98);
__d("XCometMarketplaceThreadsControllerRouteBuilder",["jsExtraRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsExtraRouteBuilder")("/messages/marketplace/t/{thread_key}/",Object.freeze({}),["/messages/marketplace/"],void 0);b=a;g["default"]=b}),98);
__d("XMessengerDotComCometMarketplaceThreadsControllerRouteBuilder",["jsExtraRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsExtraRouteBuilder")("/marketplace/t/{thread_key}/",Object.freeze({}),["/marketplace/"],void 0);b=a;g["default"]=b}),98);
__d("MWInboxMarketplaceThreadsRouteBuilder",["CurrentEnvironment","XCometMarketplaceThreadsControllerRouteBuilder","XMessengerDotComCometMarketplaceThreadsControllerRouteBuilder"],(function(a,b,c,d,e,f,g){"use strict";a=c("CurrentEnvironment").facebookdotcom?{buildURL:function(a){var b=a.focus_target;a=a.thread_key;return c("XCometMarketplaceThreadsControllerRouteBuilder").buildURL({focus_target:b,thread_key:a})},buildURLWithoutThread:function(){return c("XCometMarketplaceThreadsControllerRouteBuilder").buildExtraURL("/messages/marketplace/",{})}}:{buildURL:function(a){var b=a.focus_target;a=a.thread_key;return c("XMessengerDotComCometMarketplaceThreadsControllerRouteBuilder").buildURL({focus_target:b,thread_key:a})},buildURLWithoutThread:function(){return c("XMessengerDotComCometMarketplaceThreadsControllerRouteBuilder").buildExtraURL("/marketplace/",{})}};b=a.buildURL;d=a.buildURLWithoutThread;g.buildURL=b;g.buildURLWithoutThread=d}),98);
__d("XCometMessageRequestsControllerRouteBuilder",["jsExtraRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsExtraRouteBuilder")("/messages/requests/t/{thread_key}/",Object.freeze({}),["/messages/requests/","/messages/e2ee/requests/t/{thread_key}/"],void 0);b=a;g["default"]=b}),98);
__d("XMessengerDotComCometMessageRequestsControllerRouteBuilder",["jsExtraRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsExtraRouteBuilder")("/requests/t/{thread_key}/",Object.freeze({}),["/requests/","/e2ee/requests/t/{thread_key}/"],void 0);b=a;g["default"]=b}),98);
__d("MWInboxMessageRequestsRouteBuilder",["CurrentEnvironment","XCometMessageRequestsControllerRouteBuilder","XMessengerDotComCometMessageRequestsControllerRouteBuilder"],(function(a,b,c,d,e,f,g){"use strict";a=c("CurrentEnvironment").facebookdotcom?{buildE2EEThreadURL:function(a){var b=a.focus_target;a=a.thread_key;return c("XCometMessageRequestsControllerRouteBuilder").buildExtraURL("/messages/e2ee/requests/t/{thread_key}/",{focus_target:b,thread_key:a})},buildURL:function(a){var b=a.focus_target;a=a.thread_key;return c("XCometMessageRequestsControllerRouteBuilder").buildURL({focus_target:b,thread_key:a})},buildURLWithoutThread:function(a){return c("XCometMessageRequestsControllerRouteBuilder").buildExtraURL("/messages/requests/",a)}}:{buildE2EEThreadURL:function(a){var b=a.focus_target;a=a.thread_key;return c("XMessengerDotComCometMessageRequestsControllerRouteBuilder").buildExtraURL("/e2ee/requests/t/{thread_key}/",{focus_target:b,thread_key:a})},buildURL:function(a){var b=a.focus_target;a=a.thread_key;return c("XMessengerDotComCometMessageRequestsControllerRouteBuilder").buildURL({focus_target:b,thread_key:a})},buildURLWithoutThread:function(a){return c("XMessengerDotComCometMessageRequestsControllerRouteBuilder").buildExtraURL("/requests/",a)}};b=a.buildE2EEThreadURL;d=a.buildURL;e=a.buildURLWithoutThread;g.buildE2EEThreadURL=b;g.buildURL=d;g.buildURLWithoutThread=e}),98);
__d("XCometRestrictedAccountsControllerRouteBuilder",["jsExtraRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsExtraRouteBuilder")("/messages/restricted/t/{thread_key}/",Object.freeze({}),["/messages/restricted/","/messages/e2ee/restricted/t/{thread_key}/"],void 0);b=a;g["default"]=b}),98);
__d("XMessengerDotComCometRestrictedAccountsControllerRouteBuilder",["jsExtraRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsExtraRouteBuilder")("/restricted/t/{thread_key}/",Object.freeze({}),["/restricted/","/e2ee/restricted/t/{thread_key}/"],void 0);b=a;g["default"]=b}),98);
__d("MWInboxRestrictedAccountsRouteBuilder",["CurrentEnvironment","XCometRestrictedAccountsControllerRouteBuilder","XMessengerDotComCometRestrictedAccountsControllerRouteBuilder"],(function(a,b,c,d,e,f,g){"use strict";a=c("CurrentEnvironment").facebookdotcom?{buildE2EEThreadURL:function(a){var b=a.focus_target;a=a.thread_key;return c("XCometRestrictedAccountsControllerRouteBuilder").buildExtraURL("/messages/e2ee/restricted/t/{thread_key}/",{focus_target:b,thread_key:a})},buildURL:function(a){var b=a.focus_target;a=a.thread_key;return c("XCometRestrictedAccountsControllerRouteBuilder").buildURL({focus_target:b,thread_key:a})},buildURLWithoutThread:function(){return c("XCometRestrictedAccountsControllerRouteBuilder").buildExtraURL("/messages/restricted/",{})}}:{buildE2EEThreadURL:function(a){var b=a.focus_target;a=a.thread_key;return c("XMessengerDotComCometRestrictedAccountsControllerRouteBuilder").buildExtraURL("/e2ee/restricted/t/{thread_key}/",{focus_target:b,thread_key:a})},buildURL:function(a){var b=a.focus_target;a=a.thread_key;return c("XMessengerDotComCometRestrictedAccountsControllerRouteBuilder").buildURL({focus_target:b,thread_key:a})},buildURLWithoutThread:function(){return c("XMessengerDotComCometRestrictedAccountsControllerRouteBuilder").buildExtraURL("/restricted/",{})}};b=a.buildE2EEThreadURL;d=a.buildURL;e=a.buildURLWithoutThread;g.buildE2EEThreadURL=b;g.buildURL=d;g.buildURLWithoutThread=e}),98);
__d("MWLSDatabaseLazySync",["I64","Int64Hooks","LSFactory","LSForceImmediateSyncStoredProcedure","LSSyncGroupsUtils","Promise","ReQL","react-compiler-runtime","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;function k(a,e){return a.runInTransaction(function(a){return d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.sync_groups).getKeyRange(e)).then(function(f){if(f!=null)if((j||(j=d("I64"))).equal(f.minTimeToSyncTimestampMs,d("LSSyncGroupsUtils").neverSyncTimestamp))return c("LSForceImmediateSyncStoredProcedure")(c("LSFactory")(a),{dbType:e});else return(i||(i=b("Promise"))).resolve();else return(i||(i=b("Promise"))).resolve()})},"readwrite",void 0,void 0,f.id+":28")}function a(a){var b=d("react-compiler-runtime").c(4),e=(h||(h=c("useReStore")))(),f,g;b[0]!==e||b[1]!==a?(f=function(){return k(e,a)},g=[a,e],b[0]=e,b[1]=a,b[2]=f,b[3]=g):(f=b[2],g=b[3]);return d("Int64Hooks").useCallbackInt64(f,g)}g.sync=k;g.useSync=a}),98);
__d("MWNavigationContext",["react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h.createContext;var j=b();function a(a){var b=d("react-compiler-runtime").c(3),c=a.children;a=a.value;var e=j.Provider;b[0]!==c||b[1]!==a?(e=i.jsx(e,{value:a,children:c}),b[0]=c,b[1]=a,b[2]=e):e=b[2];return e}c=a;g.context=j;g.Provider=c}),98);
__d("MWXButtonGroup.react",["cr:20121","cr:227","cr:5028","cr:6106","cr:8931","gkx","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var e=d("react-compiler-runtime").c(41),f=a.align,g=a.direction,h=a.expanding,j=a.paddingHorizontal,k=a.primary,l=a.secondary;g=g===void 0?"backward":g;h=h===void 0?!1:h;j=j===void 0?0:j;a=b("cr:20121")("primary",a.primary.disabled);if(b("cr:6106")!=null&&b("cr:8931")!=null){var m,n,o,p,q;e[0]!==k?(p=k.icon,n=k.loading,q=k.type,o=babelHelpers.objectWithoutPropertiesLoose(k,["icon","loading","type"]),e[0]=k,e[1]=n,e[2]=o,e[3]=p,e[4]=q):(n=e[1],o=e[2],p=e[3],q=e[4]);q=q==="destructive"?"fdsOverride_negative":q;var r=j===10?8:j;m=(m=f)!=null?m:"end";if(e[5]!==n||e[6]!==a){var s;s=n===!0?(s=a)!=null?s:i.jsx(b("cr:8931"),{color:c("gkx")("13045")?"dark":"disabled_DEPRECATED",size:16}):void 0;e[5]=n;e[6]=a;e[7]=s}else s=e[7];p=(n=p)==null?void 0:n.component;e[8]!==o||e[9]!==s||e[10]!==p||e[11]!==q?(n=babelHelpers["extends"]({},o,{addOnPrimary:s,icon:p,type:q}),e[8]=o,e[9]=s,e[10]=p,e[11]=q,e[12]=n):n=e[12];if(e[13]!==l){s=l!=null?babelHelpers["extends"]({},l,{icon:(o=l.icon)==null?void 0:o.component,reduceEmphasis:!0,type:"secondary"}):null;e[13]=l;e[14]=s}else s=e[14];e[15]!==g||e[16]!==h||e[17]!==r||e[18]!==m||e[19]!==n||e[20]!==s?(p=i.jsx(b("cr:6106"),{align:m,direction:g,expanding:h,paddingHorizontal:r,primary:n,secondary:s}),e[15]=g,e[16]=h,e[17]=r,e[18]=m,e[19]=n,e[20]=s,e[21]=p):p=e[21];return p}if(b("cr:227")!=null&&b("cr:5028")!=null){e[22]!==k?(q=k.icon,o=k.loading,h=babelHelpers.objectWithoutPropertiesLoose(k,["icon","loading"]),e[22]=k,e[23]=o,e[24]=h,e[25]=q):(o=e[23],h=e[24],q=e[25]);if(e[26]!==o||e[27]!==a){m=o===!0?(r=a)!=null?r:i.jsx(b("cr:5028"),{color:"grey",size:24}):void 0;e[26]=o;e[27]=a;e[28]=m}else m=e[28];s=(n=q)==null?void 0:n.originalComponent;e[29]!==h||e[30]!==m||e[31]!==s?(p=babelHelpers["extends"]({},h,{addOnStart:m,icon:s}),e[29]=h,e[30]=m,e[31]=s,e[32]=p):p=e[32];if(e[33]!==l){r=l!=null?babelHelpers["extends"]({},l,{icon:(k=l.icon)==null?void 0:k.originalComponent}):null;e[33]=l;e[34]=r}else r=e[34];e[35]!==f||e[36]!==g||e[37]!==j||e[38]!==p||e[39]!==r?(o=i.jsx(b("cr:227"),{align:f,direction:g,paddingHorizontal:j,primary:p,secondary:r}),e[35]=f,e[36]=g,e[37]=j,e[38]=p,e[39]=r,e[40]=o):o=e[40];return o}return null}g["default"]=a}),98);
__d("MWXListCellPressable.react",["MessengerWebUXLogger","cr:321","cr:8697","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));h.useCallback;function a(a){var e=d("react-compiler-runtime").c(33),f,g;e[0]!==a?(g=a.ref,f=babelHelpers.objectWithoutPropertiesLoose(a,["ref"]),e[0]=a,e[1]=f,e[2]=g):(f=e[1],g=e[2]);var h,j,k,l,m,n,o;if(e[3]!==f){a=f;h=a.addOnBottom;j=a.addOnEnd;k=a.addOnStart;l=a.content;m=a.loggingEvent;n=a.onPress;o=a.size;a=babelHelpers.objectWithoutPropertiesLoose(a,["addOnBottom","addOnEnd","addOnStart","content","loggingEvent","onPress","size"]);e[3]=f;e[4]=h;e[5]=j;e[6]=k;e[7]=l;e[8]=m;e[9]=n;e[10]=a;e[11]=o}else h=e[4],j=e[5],k=e[6],l=e[7],m=e[8],n=e[9],a=e[10],o=e[11];var p=c("MessengerWebUXLogger").useInteractionLogger();e[12]!==p||e[13]!==m||e[14]!==n?(f=function(a){n==null?void 0:n(a),m&&(p==null?void 0:p(m))},e[12]=p,e[13]=m,e[14]=n,e[15]=f):f=e[15];f=f;if(b("cr:8697")!=null){var q;e[16]!==h||e[17]!==j||e[18]!==k||e[19]!==l||e[20]!==f||e[21]!==g||e[22]!==a?(q=i.jsx(b("cr:8697"),babelHelpers["extends"]({addOnBottom:h,addOnEnd:j,addOnStart:k,addOnStartMarginTop:0,content:l,onPress:f,overlayRadius:8,paddingVertical:8,verticalAlign:"center"},a,{ref:g})),e[16]=h,e[17]=j,e[18]=k,e[19]=l,e[20]=f,e[21]=g,e[22]=a,e[23]=q):q=e[23];return q}if(b("cr:321")!=null){o=(q=o)!=null?q:"medium";e[24]!==h||e[25]!==j||e[26]!==k||e[27]!==l||e[28]!==f||e[29]!==g||e[30]!==a||e[31]!==o?(q=i.jsx(b("cr:321"),babelHelpers["extends"]({addOnBottom:h,addOnEnd:j,addOnStart:k,content:l,onPress:f,size:o},a,{ref:g})),e[24]=h,e[25]=j,e[26]=k,e[27]=l,e[28]=f,e[29]=g,e[30]=a,e[31]=o,e[32]=q):q=e[32];return q}return null}e=a;g["default"]=e}),98);
__d("MWXTextPairing.react",["FDSTextWebUtils","cr:4853","cr:6725","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function j(a){return function(b){a!=null&&(typeof a==="function"?a(b):a.current=b)}}function a(a){var c=d("react-compiler-runtime").c(31);if(b("cr:6725")!=null){var e,f,g,h,k,l,m;c[0]!==a?(f=a.bodyColor,g=a.bodyRef,h=a.headlineColor,k=a.headlineRef,l=a.metaColor,m=a.metaRef,e=babelHelpers.objectWithoutPropertiesLoose(a,["bodyColor","bodyRef","headlineColor","headlineRef","metaColor","metaRef"]),c[0]=a,c[1]=e,c[2]=f,c[3]=g,c[4]=h,c[5]=k,c[6]=l,c[7]=m):(e=c[1],f=c[2],g=c[3],h=c[4],k=c[5],l=c[6],m=c[7]);var n;c[8]===Symbol["for"]("react.memo_cache_sentinel")?(n={className:"x9f619 x2lwn1j xeuugli x1n2onr6 x1ja2u2z"},c[8]=n):n=c[8];var o;c[9]!==f?(o=d("FDSTextWebUtils").getFDSBodyColor(f),c[9]=f,c[10]=o):o=c[10];c[11]!==g?(f=j(g),c[11]=g,c[12]=f):f=c[12];c[13]!==h?(g=d("FDSTextWebUtils").getFDSHeadlineColor(h),c[13]=h,c[14]=g):g=c[14];c[15]!==k?(h=j(k),c[15]=k,c[16]=h):h=c[16];c[17]!==l?(k=d("FDSTextWebUtils").getFDSMetaColor(l),c[17]=l,c[18]=k):k=c[18];c[19]!==m?(l=j(m),c[19]=m,c[20]=l):l=c[20];c[21]!==e||c[22]!==o||c[23]!==f||c[24]!==g||c[25]!==h||c[26]!==k||c[27]!==l?(m=i.jsx("div",babelHelpers["extends"]({},n,{children:i.jsx(b("cr:6725"),babelHelpers["extends"]({bodyColor:o,bodyRef:f,headlineColor:g,headlineRef:h,metaColor:k,metaRef:l},e))})),c[21]=e,c[22]=o,c[23]=f,c[24]=g,c[25]=h,c[26]=k,c[27]=l,c[28]=m):m=c[28];return m}if(b("cr:4853")!=null){c[29]!==a?(n=i.jsx(b("cr:4853"),babelHelpers["extends"]({},a)),c[29]=a,c[30]=n):n=c[30];return n}return null}g["default"]=a}),98);
__d("WAChatState",[],(function(a,b,c,d,e,f){"use strict";a="typing";b="recording_audio";c="idle";d={TYPING:a,RECORDING_AUDIO:b};e={IDLE:c};f.TYPING=a;f.RECORDING_AUDIO=b;f.IDLE=c;f.ACTIVE_CHAT_STATE_TYPE=d;f.IDLE_CHAT_STATE_TYPE=e}),66);
__d("isFacebookMessengerInboxURI",["isFacebookURI"],(function(a,b,c,d,e,f,g){function a(a){return c("isFacebookURI")(a)&&a.getPath().startsWith("/messages")}g["default"]=a}),98);
__d("useBroadcastChannelImpressionLogger",["MWLogBroadcastChannelFalcoEvent","react","react-compiler-runtime","useSinglePartialViewImpression"],(function(a,b,c,d,e,f,g){"use strict";var h;(h||d("react")).useCallback;function a(a){var b=d("react-compiler-runtime").c(10),e=a.action,f=a.clientExtras,g=a.event,h=a.parentSurface,i=a.source,j=a.surface,k=a.threadFbid;b[0]!==e||b[1]!==f||b[2]!==g||b[3]!==h||b[4]!==i||b[5]!==j||b[6]!==k?(a=function(){var a;d("MWLogBroadcastChannelFalcoEvent").logBroadcastChannelFalcoEvent({action:(a=e)!=null?a:2,clientExtras:f,event:g,parentSurface:h,source:i,surface:j,threadFbid:k})},b[0]=e,b[1]=f,b[2]=g,b[3]=h,b[4]=i,b[5]=j,b[6]=k,b[7]=a):a=b[7];a=a;var l;b[8]!==a?(l={onImpressionStart:a},b[8]=a,b[9]=l):l=b[9];return c("useSinglePartialViewImpression")(l)}g["default"]=a}),98);
__d("useEncryptedBackupsProcessStatePreLoaded_query.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useEncryptedBackupsProcessStatePreLoaded_query",selections:[{alias:null,args:null,concreteType:"XFBEncryptedBackup",kind:"LinkedField",name:"xfb_backup",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{kind:"RequiredField",field:{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"backup_state",storageKey:null}]}],storageKey:null},action:"THROW",path:"viewer"}],type:"Query",abstractKey:null};e.exports=a}),null);
__d("useMAWHasUserVisibleErrors",["ReQL","ReQLSuspense","react-compiler-runtime","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(){var a=d("react-compiler-runtime").c(4),b=(h||(h=c("useReStore")))(),e;a[0]!==b.tables.user_visible_errors?(e=function(){return d("ReQL").fromTableDescending(b.tables.user_visible_errors).filter(i)},a[0]=b.tables.user_visible_errors,a[1]=e):e=a[1];var g;a[2]!==b?(g=[b],a[2]=b,a[3]=g):g=a[3];a=d("ReQLSuspense").useFirst(e,g,f.id+":24");return a!=null}function i(a){a=a.presentationStyle;return a==="banner"}g["default"]=a}),98);
__d("useMAWUnsupportedBrowserNUX",["MAWIsIDBOperational","MAWWasmFeatureSupport","WebStorage","gkx","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(){var a=d("react-compiler-runtime").c(3),b=d("MAWIsIDBOperational").useIsIDBOperational(),e=d("MAWWasmFeatureSupport").useWasmFeatureSupport();e=e==null||e.bigInt&&e.bulkMemory&&e.referenceTypes;b=!b||!e||(h||(h=c("WebStorage"))).getLocalStorage()==null;e=c("gkx")("1778")||b;var f;a[0]!==b||a[1]!==e?(f={shouldHideEBFlow:b,shouldShowQP:e},a[0]=b,a[1]=e,a[2]=f):f=a[2];return f}g.useMAWUnsupportedBrowserNUX=a}),98);
__d("useEncryptedBackupsProcessStatePreLoaded",["CometRelay","I64","LSAuthorityLevel","LSIntEnum","MWEncryptedBackupsDetermineInitialEBState","ReQL","ReQLSuspense","isMWEBEntrypointEnabled","react-compiler-runtime","useEncryptedBackupsProcessStatePreLoaded_query.graphql","useMAWHasUserVisibleErrors","useMAWUnsupportedBrowserNUX","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k;function a(a){var e=d("react-compiler-runtime").c(10),g=a.entrypoint;a=a.query;var i=d("CometRelay").useFragment(h!==void 0?h:h=b("useEncryptedBackupsProcessStatePreLoaded_query.graphql"),a),j=(k||(k=c("useReStore")))();e[0]!==j||e[1]!==(i==null?void 0:i.viewer.backup_state)?(a=function(){return(i==null?void 0:i.viewer.backup_state)==null?d("ReQL").fromTableAscending(j.tables.secure_encrypted_backups_client_state).filter(l):d("ReQL").empty()},e[0]=j,e[1]=i==null?void 0:i.viewer.backup_state,e[2]=a):a=e[2];var m=i==null?void 0:i.viewer.backup_state,n;e[3]!==j||e[4]!==m?(n=[j,m],e[3]=j,e[4]=m,e[5]=n):n=e[5];m=d("ReQLSuspense").useArray(a,n,f.id+":57");a=d("useMAWUnsupportedBrowserNUX").useMAWUnsupportedBrowserNUX();n=a.shouldHideEBFlow;a=c("useMAWHasUserVisibleErrors")();n=n||a;if(!c("isMWEBEntrypointEnabled")(g))return 0;e[6]!==m||e[7]!==n||e[8]!==i?(a=(i==null?void 0:i.viewer.backup_state)!=null?i.viewer.backup_state:d("MWEncryptedBackupsDetermineInitialEBState").determineInitialEBState({clientStateData:m,hasArmadilloError:n,xfb_backup:i==null?void 0:i.xfb_backup}),e[6]=m,e[7]=n,e[8]=i,e[9]=a):a=e[9];return a}function l(a){a=a.authorityLevel;return(i||(i=d("I64"))).equal(a,(j||(j=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").AUTHORITATIVE))}g["default"]=a}),98);
__d("useLazyShouldShowMessagingEntrypointInCometRoot",["CometPassiveGetRouterStateContext","ShouldShowMessagingEntrypoint","react","react-compiler-runtime","useShouldRenderFullTopNav"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");b.useCallback;var i=b.useContext;function a(a){var b=d("react-compiler-runtime").c(4),e=c("useShouldRenderFullTopNav")(),f=i(c("CometPassiveGetRouterStateContext")),g;b[0]!==a||b[1]!==f||b[2]!==e?(g=function(){var b=f==null?void 0:f(),d=b==null?void 0:b.main;b=b==null?void 0:b.pushViewStack;b=b&&b.length>0?b[b.length-1]:d;return c("ShouldShowMessagingEntrypoint")(b==null?void 0:b.route,a,e)},b[0]=a,b[1]=f,b[2]=e,b[3]=g):g=b[3];return g}g["default"]=a}),98);
__d("useMAWComposeSecureThreadThenNavigate",["MWChatSearchTypeaheadDataEntry","MWInboxRouteBuilder","MWLSThreadDisplayContext","MWThreadListNewMessageState.react","react","react-compiler-runtime","useCometRouterDispatcher","useMWChatOpenNewTab"],(function(a,b,c,d,e,f,g){"use strict";var h;(h||d("react")).useCallback;function a(){var a=d("react-compiler-runtime").c(5),b=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext(),e=b==="Inbox"?"inboxNewMessage":"jewelNewMessage",f=c("useMWChatOpenNewTab")(e),g=d("MWThreadListNewMessageState.react").useDispatchIfStateExists(),h=c("useCometRouterDispatcher")();a[0]!==h||a[1]!==g||a[2]!==e||a[3]!==f?(b=function(a,b,c){if(e==="jewelNewMessage")f(!0,a);else if(h!=null){b=b.length>0?b:a.map(d("MWChatSearchTypeaheadDataEntry").convertContactToSearchTypeaheadDataEntry);g==null?void 0:g({entries:b,initialOpenChatSearchTypeahead:c,type:d("MWThreadListNewMessageState.react").MWThreadListNewMessageStateActionType.SetEntries});a=d("MWInboxRouteBuilder").buildNewThreadURL({initial_e2ee_toggle_position:!0});h.go(a,{})}},a[0]=h,a[1]=g,a[2]=e,a[3]=f,a[4]=b):b=a[4];return b}g["default"]=a}),98);
__d("useMAWGetUserVisibleErrors",["MAWIssueNewUserVisibleErrors","Promise","ReQL","ReQLSuspense","react","react-compiler-runtime","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;(j||d("react")).useCallback;function a(){var a=d("react-compiler-runtime").c(10),e=(i||(i=c("useReStore")))(),g;a[0]!==e.tables.user_visible_errors?(g=function(){return d("ReQL").fromTableDescending(e.tables.user_visible_errors).filter(k)},a[0]=e.tables.user_visible_errors,a[1]=g):g=a[1];var j;a[2]!==e?(j=[e],a[2]=e,a[3]=j):j=a[3];var l=d("ReQLSuspense").useFirst(g,j,f.id+":37");a[4]!==e||a[5]!==l?(g=function(){return l!=null&&l.errorId!=null?d("MAWIssueNewUserVisibleErrors").deleteUserVisibleError(e,l.errorId):(h||(h=b("Promise"))).resolve()},a[4]=e,a[5]=l,a[6]=g):g=a[6];j=g;a[7]!==j||a[8]!==l?(g=[l,j],a[7]=j,a[8]=l,a[9]=g):g=a[9];return g}function k(a){a=a.presentationStyle;return a==="banner"}g["default"]=a}),98);
__d("useMWCMShouldGoToFullScreenChatHook",["getRequestConstUri","isFacebookMessengerInboxURI","isMessengerDotComURI","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a=d("react-compiler-runtime").c(1);if(a[0]===Symbol["for"]("react.memo_cache_sentinel")){var b=c("getRequestConstUri")();b=c("isMessengerDotComURI")(b)||c("isFacebookMessengerInboxURI")(b);a[0]=b}else b=a[0];return b}g["default"]=a}),98);
__d("useMWFacepileGetContactsToShow",["I64","LSAuthorityLevel","LSGroupParticipantJoinState","LSIntEnum","MWPActor.react","ReQL","ReQLSuspense","react-compiler-runtime","useGetContactsToShow","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;function a(a,b,e){var g=d("react-compiler-runtime").c(14),l=e===void 0?!1:e;e=d("MWPActor.react").useActor();var m=(j||(j=c("useReStore")))(),n;g[0]!==m.tables.contacts||g[1]!==m.tables.participants||g[2]!==l||g[3]!==a?(n=function(){return d("ReQL").leftJoin(d("ReQL").fromTableAscending(m.tables.participants,["groupParticipantJoinState"]).getKeyRange(a),d("ReQL").fromTableAscending(m.tables.contacts,["rank","profilePictureFallbackUrl","profilePictureUrl","profilePictureUrlExpirationTimestampMs","id","name","authorityLevel"])).filter(function(a){var b=a[0];a=a[1];return(h||(h=d("LSIntEnum"))).toNumber(b.groupParticipantJoinState)!==c("LSGroupParticipantJoinState").MEMBER?!1:!l||a!=null&&l&&(i||(i=d("I64"))).to_int32(a.authorityLevel)>=c("LSAuthorityLevel").AUTHORITATIVE}).take(3)},g[0]=m.tables.contacts,g[1]=m.tables.participants,g[2]=l,g[3]=a,g[4]=n):n=g[4];var o;g[5]!==m||g[6]!==l||g[7]!==a?(o=[m,a,l],g[5]=m,g[6]=l,g[7]=a,g[8]=o):o=g[8];n=d("ReQLSuspense").useArray(n,o,f.id+":61");g[9]!==n?(o=n.map(k),g[9]=n,g[10]=o):o=g[10];n=o;g[11]!==a||g[12]!==b?(o={threadKey:a,threadType:b},g[11]=a,g[12]=b,g[13]=o):o=g[13];return c("useGetContactsToShow")(o,n,e)}function k(a){a=a[1];return a}g["default"]=a}),98);
__d("useMWNavigation",["CometPassiveGetRouterStateContext","CometRelay","FBLogger","I64","LSDatabaseSingleton","LSIntEnum","LSMessagingThreadTypeUtil","LSThreadAttributionStore","MWChatInteraction","MWChatStateActions","MWChatStateV2.react","MWChatStateV2Types","MWInboxArchivedThreadsRouteBuilder","MWInboxBusinessSupportThreadsRouteBuilder","MWInboxMarketplaceThreadsRouteBuilder","MWInboxMessageRequestsRouteBuilder","MWInboxRestrictedAccountsRouteBuilder","MWInboxRouteBuilder","MWInboxTrayGating","MWNavigationContext","MWPVisibleMessageContext.react","MessengerWebEntryPointsUtil","ReQL","XCometGroupDiscussionControllerRouteBuilder","cr:9780","dispatchOpenChatTabTraceLogging","getGroupThreadViewParams","getTopMostRouteCometEntityKey","justknobx","promiseDone","react","react-compiler-runtime","requireDeferred","useAsyncReStore","useCometFeedNoRoutingNavigationEventLogger","useCometRouterDispatcher","useIntegrityBlockInterstitial","useLazyShouldShowMessagingEntrypointInCometRoot","useMAWComposeSecureThreadThenNavigate","useMWChatOpenTabTraceProvider"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k;e=h||d("react");e.useCallback;var l=e.useContext,m=e.useMemo,n=c("requireDeferred")("MAWVerifyThreadCutover").__setRef("useMWNavigation");function o(){var a=d("react-compiler-runtime").c(4),b=d("MWChatStateV2.react").useDispatch(),e=c("useCometFeedNoRoutingNavigationEventLogger")(),f=c("useMWChatOpenTabTraceProvider")(),g;a[0]!==b||a[1]!==e||a[2]!==f?(g=function(a,g,h,j){e(Date.now(),"","messenger");return f(function(e,f){d("MWChatInteraction").set((i||(i=d("I64"))).to_string(a.threadKey),e);c("dispatchOpenChatTabTraceLogging")(f,a,"useMWNavigation");(j==null?void 0:j.subEntrypoint)!=null&&f.addAnnotation("sub_entrypoint",j.subEntrypoint);return b(d("MWChatStateActions").openTab(Date.now(),{shouldFocus:h!==!0},{threadKeyDescriptor:a,type:d("MWChatStateV2Types").MWChatStateTabType.ChatTab}))},(i||(i=d("I64"))).to_int32(a.threadType),g,a.threadKey,a.isUnread)},a[0]=b,a[1]=e,a[2]=f,a[3]=g):g=a[3];return g}function p(a,e,f,g,h,j){return function(k){k=(i||(i=d("I64"))).to_string(k);if(b("cr:9780")!=null&&d("LSMessagingThreadTypeUtil").isArmadilloSecure(a))switch(e){case"message_requests":return d("MWInboxMessageRequestsRouteBuilder").buildE2EEThreadURL({focus_target:j,thread_key:k});case"restricted":return d("MWInboxRestrictedAccountsRouteBuilder").buildE2EEThreadURL({focus_target:j,thread_key:k});case"archived":return c("justknobx")._("2103")?d("MWInboxArchivedThreadsRouteBuilder").buildURL({focus_target:j,thread_key:k}):d("MWInboxRouteBuilder").buildE2EEThreadURL({focus_target:j,search:h,thread_key:k});default:return d("MWInboxRouteBuilder").buildE2EEThreadURL({focus_target:j,search:h,thread_key:k})}if(f!=null)return c("XCometGroupDiscussionControllerRouteBuilder").buildURL({chats_to_open:[f.threadKey,k],idorvanity:f.groupId});if(e==null)return d("MWInboxRouteBuilder").buildURL({focus_target:j,link_hash:g,search:h,thread_key:k});switch(e){case"archived":return d("MWInboxArchivedThreadsRouteBuilder").buildURL({focus_target:j,thread_key:k});case"business_support":return d("MWInboxBusinessSupportThreadsRouteBuilder").buildURL({focus_target:j,thread_key:k});case"marketplace":return d("MWInboxMarketplaceThreadsRouteBuilder").buildURL({focus_target:j,thread_key:k});case"message_requests":return d("MWInboxMessageRequestsRouteBuilder").buildURL({focus_target:j,thread_key:k});case"restricted":return d("MWInboxRestrictedAccountsRouteBuilder").buildURL({focus_target:j,thread_key:k});default:return d("MWInboxRouteBuilder").buildURL({focus_target:j,link_hash:g,search:h,thread_key:k})}}}function q(a,b){a=a.threadKey;return d("LSThreadAttributionStore").setSource((i||(i=d("I64"))).to_string(a),b)}function a(){var a=c("useLazyShouldShowMessagingEntrypointInCometRoot")("CHAT"),b=c("useCometRouterDispatcher")(),e=l(d("MWNavigationContext").context),f=l(c("CometPassiveGetRouterStateContext")),g=o(),h=d("CometRelay").useRelayEnvironment(),r=c("useIntegrityBlockInterstitial")(),s=d("MWPVisibleMessageContext.react").useMWPVisibleMessageContext(),t=s.setVisibleMessage,u=c("useMAWComposeSecureThreadThenNavigate")(),v=c("useAsyncReStore")();return m(function(){var l=function(a,b,d,g,h){var i,j=c("getTopMostRouteCometEntityKey")(f==null?void 0:f()),k=j==null?void 0:j.entity_type;j=c("getGroupThreadViewParams")(j,f==null?void 0:f());i=(i=e)!=null?i:p(b,k,j,d,g,h);return i(a)},m=function(a,e,f){var g=a.isUnread,h=a.searchQuery,j=a.threadKey,k=a.threadLinkHash;a=a.threadType;if(b!=null){var m=d("MessengerWebEntryPointsUtil").cast(e),n=d("LSMessagingThreadTypeUtil").isArmadilloSecure(a);k=l(j,a,k,h,f);n&&!k.includes("e2ee")&&c("FBLogger")("messenger_web").mustfix("E2ee thread navigation url is not correct");e!=="messengerUniversalSearch"&&t(void 0);b.go(k,{traceParams:{TLTV:"true",entrypoint:m,hasBadge:g!=null?g.toString():"",inboxEntrypoint:e,isSecure:n?"true":"false",thread_id:(i||(i=d("I64"))).to_string(j),thread_type:i.to_string(a)}})}},o=function(a,e){var f=a.isUnread,g=a.searchQuery,k=a.threadKey,m=a.threadLinkHash,o=a.threadType;if(b!=null){var p=d("MessengerWebEntryPointsUtil").cast(e),q=d("LSMessagingThreadTypeUtil").isArmadilloSecure(o),r=l(k,o,m,g);q&&!r.includes("e2ee")&&c("FBLogger")("messenger_web").mustfix("E2ee thread navigation url is not correct");e!=="messengerUniversalSearch"&&t(void 0);n.onReady(function(a){c("promiseDone")(a.verifyContactCutoverOrOndemandCutoverOrDefaultE2EE((j||(j=d("LSDatabaseSingleton"))).LSDatabaseSingleton,h,k,void 0,null).then(function(h){switch(h){case"cutover":c("promiseDone")(a.getCutoverThread((j||(j=d("LSDatabaseSingleton"))).LSDatabaseSingleton,k).then(function(a){a=a?a.serverThreadKey:k;var c=l(a,o,m,g);b.go(c,{traceParams:{TLTV:"true",entrypoint:p,hasBadge:f!=null?f.toString():"",inboxEntrypoint:e,isSecure:"true",thread_id:(i||(i=d("I64"))).to_string(a),thread_type:i.to_string(o)}})}));break;case"default_e2ee":c("promiseDone")(v,function(a){return d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.tables.contacts).getKeyRange(k)).then(function(a){a!=null?u([a],[],d("MWInboxTrayGating").isInboxTrayEnabled()?!1:void 0):c("FBLogger")("Contact was null when navigating to default e2ee")})});break;case"on_demand_cutover":default:b.go(r,{traceParams:{TLTV:"true",entrypoint:p,hasBadge:f!=null?f.toString():"",inboxEntrypoint:e,isSecure:q?"true":"false",thread_id:(i||(i=d("I64"))).to_string(k),thread_type:(i||(i=d("I64"))).to_string(o)}});break}}))})}};return{getUrlFromThreadKey:l,openInbox:function(a,b,c,e,f){c===void 0&&(c=(k||(k=d("LSIntEnum"))).ofNumber(54));q(a,b);return r({damagingActionsEntryPoint:c,onProceed:function(){b==="contactShareMessage"||b==="inboxTrayActiveNow"?o(a,b):m(a,b,f),e==null?void 0:e()},threadKey:a.threadKey})},openTabOrInbox:function(b,c,e,f,h,i){f===void 0&&(f=(k||(k=d("LSIntEnum"))).ofNumber(54));q(b,c);if(a())return r({damagingActionsEntryPoint:f,onProceed:function(){g(b,c,e,h),i==null?void 0:i()},threadKey:b.threadKey});else return r({damagingActionsEntryPoint:f,onProceed:function(){m(b,c),i==null?void 0:i()},threadKey:b.threadKey})}}},[f,e,b,t,v,u,r,a,g])}g["default"]=a}),98);
__d("useWAInfraDeviceList",["WABridgedAPI","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).use,j=null;function k(){j==null&&(j=c("WABridgedAPI").getCurrentUserDeviceList());return j}function a(){var a=d("react-compiler-runtime").c(1),b;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b=k(),a[0]=b):b=a[0];return i(b)}g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("LSClientDependencies",[],(function(a,b,c,d,e,f){}),null);
__d("LSDynamicDependencies",["Bootloader","LSDynamicDependenciesEventEmitter","ODS","SiteData","clearTimeout","cr:19620","cr:21165","err","justknobx","nullthrows","setTimeout"],(function(a,b,c,d,e,f,g){"use strict";var h,i;h=(h=b("cr:21165"))!=null?h:b("cr:19620");var j=babelHelpers.extends({},h);function a(a){Object.assign(j,a)}var k={_tombstone:!0};function e(a){var b=new Map();for(a of a){var e=a.name;e!=null&&!n(e)&&b.set(e,c("nullthrows")(a.value))}if(b.size===0)return Promise.resolve();var f=new Promise(function(a){var e={},g=[],h=function(b){var a=b[0];b=b[1];b=b==null?void 0:b.__dr;e[b]={be:1,r:[]};g.push(b);(i||(i=d("ODS"))).bumpEntityKey(3185,"ls_download_dependency.relay",b);j[a]={load:async function(){await f;return j[a]}}};for(var k of b)h(k);c("Bootloader").handlePayload({compMap:e,consistency:{rev:c("SiteData").client_revision}});l(c("Bootloader"),g,function(c){Array.from(b.entries()).forEach(function(a,b){var d=a[0];a[1];j[d]=c[b]}),a()})});return f}function l(a,b,c){return a.loadModules.call(a,b,function(){for(var a=arguments.length,b=new Array(a),d=0;d<a;d++)b[d]=arguments[d];return c(b)})}function m(a){return a.charAt(0).toUpperCase()+a.slice(1)}function n(a){return a in j&&j[a]!==k}var o=c("justknobx")._("2800");function f(a,b,e){var f=new Map();for(a of(a=a)!=null?a:[]){n(a)||f.set(a,"LS"+m(a))}for(b of(a=b)!=null?a:[]){!n(b+".bs")?f.set(b+".bs","LS"+m(b)+".nop"):b+".nop"in j||f.set(b+".nop","LS"+m(b)+".nop")}for(b of(a=e)!=null?a:[]){b in j||f.set(b,"LS"+m(b))}if(f.size===0)return Promise.resolve();var g=new Promise(function(a,b){var e={},h=[],m=function(a){var b=a[0];a=a[1];(i||(i=d("ODS"))).bumpEntityKey(3185,"ls_download_dependency.bootloader",a);d("LSDynamicDependenciesEventEmitter").emitLoadModuleEvent(a);e[a]={be:1,r:[]};h.push(a);j[b]={load:async function(){try{await g}catch(a){j[b]=k;throw a}return j[b]}}};for(var n of f)m(n);c("Bootloader").handlePayload({compMap:e,consistency:{rev:c("SiteData").client_revision}});var p=l(c("Bootloader"),h,function(b){c("clearTimeout")(q),Array.from(f.entries()).forEach(function(a,c){var d=a[0];a[1];j[d]=b[c]}),a()}),q=c("setTimeout")(function(){p.remove(),b(c("err")("Dynamic sproc loading timeout (%s ms); was loading: %s",o,Array.from(f.keys())))},o)});return g}g.cachedModules=j;g.addToCachedModules=a;g.TOMBSTONE=k;g.downloadRelayDependencies=e;g.downloadBootloaderDependencies=f}),98);
__d("XPlatReactCrypto",["err"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h=self.crypto)==null?void 0:h.subtle;function a(a){var b;if(typeof ((b=self.crypto)==null?void 0:b.getRandomValues)!=="function")throw c("err")("crypto.getRandomValues: Not implemented");self.crypto.getRandomValues(a);return a}function b(){var a;if(typeof ((a=self.crypto)==null?void 0:a.randomUUID)!=="function")return null;a=self.crypto.randomUUID();return typeof a==="string"?a:null}function d(a,b,d,e,f){if(i==null)throw c("err")("crypto.subtle.importKey: Not implemented");return i.importKey(a,b,d,e,f)}function e(a,b){if(i==null)throw c("err")("crypto.subtle.exportKey: Not implemented");return i.exportKey(a,b)}function f(a,b,d){if(i==null)throw c("err")("crypto.subtle.generateKey: Not implemented");return i.generateKey(a,b,d)}function j(a,b,d){if(i==null)throw c("err")("crypto.subtle.encrypt: Not implemented");return i.encrypt(a,b,d)}function k(a,b,d){if(i==null)throw c("err")("crypto.subtle.decrypt: Not implemented");return i.decrypt(a,b,d)}function l(a,b,d){if(i==null)throw c("err")("crypto.subtle.sign: Not implemented");return i.sign(a,b,d)}function m(a,b){if(i==null)throw c("err")("crypto.subtle.digest: Not implemented");return i.digest(a,b)}function n(a,b,d){if(i==null)throw c("err")("crypto.subtle.deriveBits: Not implemented");return i.deriveBits(a,b,d)}function o(a,b,d,e,f){if(i==null)throw c("err")("crypto.subtle.deriveKey: Not implemented");return i.deriveKey(a,b,d,e,f)}g.getRandomValues=a;g.randomUUID=b;g.subtleImportKey=d;g.subtleExportKey=e;g.subtleGenerateKey=f;g.subtleEncrypt=j;g.subtleDecrypt=k;g.subtleSign=l;g.subtleDigest=m;g.subtleDeriveBits=n;g.subtleDeriveKey=o}),98);
__d("LSInt64Lite",["FBLogger","I64","XPlatReactCrypto"],(function(a,b,c,d,e,f,g){"use strict";var h;a={add:(h||(h=d("I64"))).add,and_:h.and_,asr_:h.asr_,cast:function(a){return(h||(h=d("I64"))).mk(a[1],a[0])},div:h.div,eq:function(a,b){return a==null&&b==null||a!=null&&b!=null&&(h||(h=d("I64"))).equal(a,b)},from_string:function(a){try{return(h||(h=d("I64"))).of_string(a)}catch(b){throw c("FBLogger")("messenger_web").mustfixThrow('Unable to cast "%s" to int64',a)}},ge:h.ge,gt:h.gt,le:h.le,lsl_:h.lsl_,lsr_:h.lsr_,lt:h.lt,max:h.max,min:h.min,mod_:h.mod_,mul:h.mul,neq:function(a,b){return a==null&&b!=null||a!=null&&b==null||a!=null&&b!=null&&!(h||(h=d("I64"))).equal(a,b)},of_float:h.of_float,of_int32:h.of_int32,or_:h.or_,random:function(){var a=Array.from(d("XPlatReactCrypto").getRandomValues(new Uint32Array(2)));a[0]>>>=1;return(h||(h=d("I64"))).add(h.lsl_(h.of_float(a[0]),32),h.of_float(a[1]))},sub:h.sub,to_float:h.to_float,to_int32:h.to_int32,to_string:function(a){return a==null?a:(h||(h=d("I64"))).to_string(a)},xor:h.xor};g["default"]=a}),98);
__d("LSMaybeSyncIteration",["LSSynchronousPromise","isPromise"],(function(a,b,c,d,e,f,g){"use strict";var h,i={__val__:"__stop_iteration__"};function a(a){return{__val__:"__next_value__",next:a}}function j(a){return a!=null&&typeof a==="object"&&a.__val__==="__next_value__"}function k(a,b,e){var f=l(a,e);while(!(h||(h=c("isPromise")))(f)){if(f.done)return d("LSSynchronousPromise").makeSynchronousPromise(f);e=d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(b(f));if(!(h||(h=c("isPromise")))(e)){if(e===i)return d("LSSynchronousPromise").makeSynchronousPromise(f);var g=j(e)?e.next:void 0;f=l(a,g)}else return e.then(function(c){if(c===i)return f;c=j(c)?c.next:void 0;return k(a,b,c)})}var n=m(b);return f.then(function(c){return c.done?c:n(c).then(function(d){if(d===i)return c;d=j(d)?d.next:void 0;return k(a,b,d)})})}function l(a,b){a=a.next(b);return!(h||(h=c("isPromise")))(a)?a:d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a)}function m(a){return function(b){b=a(b);return d("LSSynchronousPromise").wrapInSyncPromiseIfNotPromise(b)}}g.STOP_ITERATION=i;g.wrapNextValue=a;g.iteratorLoop=k}),98);
__d("LSIterationOperations",["I64","LSDict","LSMaybeSyncIteration","LSSynchronousPromise","ReStoreKeyComparer"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function j(a,b){var c;return c={},c[typeof Symbol==="function"?Symbol.asyncIterator:"@@asyncIterator"]=function(){return j(a,b)},c.next=function(){var c={done:!0},e=function(a){return d("LSSynchronousPromise").wrapInMaybeSyncPromiseIfNotPromise(b(a.value.item)).then(function(b){if(b){c=a;return d("LSMaybeSyncIteration").STOP_ITERATION}})};return d("LSMaybeSyncIteration").iteratorLoop(a,e).then(function(){return c})},c}function k(a,b,c){var e,f=0;return e={},e[typeof Symbol==="function"?Symbol.asyncIterator:"@@asyncIterator"]=function(){return k(a,b,c)},e.next=function(){if(f>=c)return d("LSSynchronousPromise").maybeMakeSynchronousPromise({done:!0});var e={done:!0},g=function(a){if(f++<b)return;e=a;return d("LSMaybeSyncIteration").STOP_ITERATION};return d("LSMaybeSyncIteration").iteratorLoop(a,g).then(function(){return e})},e}function a(a,b){return l(a).then(function(a){return a.reduce(function(a,c){return a.then(function(){return b(c)})},d("LSSynchronousPromise").maybeMakeSynchronousPromise(void 0))})}function l(a){var b=[],c=function(a){b.push(a.value)};return d("LSMaybeSyncIteration").iteratorLoop(a,c).then(function(){return b})}function m(a,b,c){var e;c===void 0&&(c=[]);var f={ASC:1,DESC:-1},g=function(a,c){a=a.item;c=c.item;for(var e=0;e<b.length;e++){var g=b[e];g=g[0];var i=a[g];g=c[g];var j;i==null&&g==null?j=0:i==null&&g!=null?j=-1:i!=null&&g==null?j=1:j=(h||(h=d("ReStoreKeyComparer"))).compareValue(i,g);if(j===0)continue;return j*f[b[e][1]]}return 0},i,j=[],k=[],l=function(a){var b=[];for(var d=c.length-1;d>=0;d--)b.push(a[c[d]]);return b},n=function(){k=j,k.sort(g),j=[]};return e={},e[typeof Symbol==="function"?Symbol.asyncIterator:"@@asyncIterator"]=function(){return m(a,b,c)},e.next=function(){if(k.length)return d("LSSynchronousPromise").maybeMakeSynchronousPromise({done:!1,value:k.shift()});var b=function(a){var b=l(a.value.item);if(i!=null&&(h||(h=d("ReStoreKeyComparer"))).compareKey(i,b)!==0){n();j.push(a.value);i=b;return d("LSMaybeSyncIteration").STOP_ITERATION}i=b;j.push(a.value)};return d("LSMaybeSyncIteration").iteratorLoop(a,b).then(function(){!k.length&&j.length&&n();if(k.length)return{done:!1,value:k.shift()};else return{done:!0}})},e}function b(a){var b=0,c=function(){b++};return d("LSMaybeSyncIteration").iteratorLoop(a,c).then(function(){return(i||(i=d("I64"))).of_int32(b)})}function e(a,b){return{forEach:function(e){return l(a).then(function(a){a=a.reduce(function(a,c){c=c.item[b];var d=(a.get(c)||0)+1;return a.set(c,d)},new(c("LSDict"))());var f=d("LSSynchronousPromise").maybeMakeSynchronousPromise(void 0),g=function(a){var c=a[0],g=a[1];f=f.then(function(){var a;return e((a={},a[b]=c,a.group_count=(i||(i=d("I64"))).of_int32(g),a))})};for(a of a.entries())g(a);return f})}}}g.filter=j;g.slice=k;g.forEach=a;g.toArray=l;g.sortBy=m;g.count=b;g.groupBy=e}),98);
__d("LSPendingTasksPluginType",[],(function(a,b,c,d,e,f){a=Object.freeze({LS_BROKER:0,PAYMENTS:1,EPHEMERAL_MESSAGING:2,CARRIER_MESSAGING:3,BUG_REPORTER:4,MESSAGE_DENORMALIZATIONS:5,SEEN_HEADS:6,MEDIA_UPLOAD:7,SECURE_THREAD_SEEN_HEADS:8,WHATSAPP_THREAD:9,SECURE_THREAD_OVER_WA_MESSAGE_SEND:10,CONTACT_PRUNING:11,MEDIA_MANAGER:12,SECURE_THREAD_OVER_WA_ENCRYPTION:13,STORY_POST:14,CO_PRESENCE_HEARTBEAT:16,SECURE_THREAD_OVER_WA_GROUP_MANAGEMENT:17,ENCRYPTED_BACKUPS:23,ANONYMOUS_REQUEST:25,MESSAGE_ACTIONS:28,MESSAGE_UNSEND_ATTACHMENT_CLEANUP:39,IGD_INSTAMADILLO:40,PENDING_MESSAGE_SEND:46});f["default"]=a}),66);
__d("isNativeTask",["I64","LSPendingTasksPluginType"],(function(a,b,c,d,e,f,g){"use strict";var h,i="4",j="16",k=new Set([c("LSPendingTasksPluginType").IGD_INSTAMADILLO]);function a(a){var b=k.has((h||(h=d("I64"))).to_float(a.pluginType));a=a.context===j||a.context===i;return b||a}g["default"]=a}),98);
__d("LSIterationHelpers",["FBLogger","LSMaybeSyncIteration","LSSynchronousPromise","ReStoreKeyComparer","ReStoreVaulting","gkx","isNativeTask"],(function(a,b,c,d,e,f,g){"use strict";var h,i=new Set(["messages","attachments","reactions"]);function j(a){return i.has(a)}function k(a,b,d){return a&&b.name==="pending_tasks"&&d!=null&&c("isNativeTask")(d)}function l(a){for(var b of Object.keys(a))a[b]===void 0&&delete a[b];return a}function m(a,b,c){c===void 0&&(c="asc");var e=a.entries(new WeakMap(),c);function f(){var a;return a={},a[typeof Symbol==="function"?Symbol.asyncIterator:"@@asyncIterator"]=f,a.next=function(){var a={done:!0},f=0,g="start",i=[],j=function(e){var j=function(){var a=f,j=b[a]||{},k=j.end;j=j.start;var l=e.value[0];if(j&&g==="start"){var m=(h||(h=d("ReStoreKeyComparer"))).compareValue(l[a],j[0]),n=m*(c==="asc"?1:-1)<j[1];if(n){g="start_verify";i=l.slice(0,a);if(a===l.length-1&&m===0)return{v:void 0};else{n=[].concat(i,[j[0]],j[1]&&c==="asc"||!j[1]&&c==="desc"?[(h||(h=d("ReStoreKeyComparer"))).MAX_KEY]:[]);return{v:d("LSMaybeSyncIteration").wrapNextValue(n)}}}else g="check_end"}if(j&&g==="start_verify"&&!i.every(function(a,b){return(h||(h=d("ReStoreKeyComparer"))).compareValue(a,l[b])===0})){f=0;g="start";return{v:void 0}}if(k&&(h||(h=d("ReStoreKeyComparer"))).compareValue(k[0],l[a])*(c==="asc"?1:-1)<k[1]){f=0;g="start";return{v:d("LSMaybeSyncIteration").wrapNextValue([].concat(l.slice(0,a),c==="asc"?[(h||(h=d("ReStoreKeyComparer"))).MAX_KEY]:[]))}}f++;g="start"};while(f<b.length){var k=j();if(typeof k==="object")return k.v}a=e;return d("LSMaybeSyncIteration").STOP_ITERATION};return d("LSMaybeSyncIteration").iteratorLoop(e,j).then(function(){return a})},a}return f()}function n(a,b,c){c===void 0&&(c="asc");var e=a.entries(new WeakMap(),c);function f(){var a;return a={},a[typeof Symbol==="function"?Symbol.asyncIterator:"@@asyncIterator"]=f,a.next=async function(){var a=await e.next();outer:while(!a.done){var f=async function(f){var g=b[f]||{},i=g.end;g=g.start;var j=a.value[0],k=j.slice(0,f);if(g){var l=(h||(h=d("ReStoreKeyComparer"))).compareValue(j[f],g[0]);if(l*(c==="asc"?1:-1)<g[1]){if(f===j.length-1&&l===0)a=await e.next();else{l=[].concat(k,[g[0]],g[1]&&c==="asc"||!g[1]&&c==="desc"?[(h||(h=d("ReStoreKeyComparer"))).MAX_KEY]:[]);a=await e.next(l)}if(a.done)return{v:{done:!0}};j=a.value[0];if(!k.every(function(b,a){return(h||(h=d("ReStoreKeyComparer"))).compareValue(b,j[a])===0}))return"continue|outer"}}if(i&&(h||(h=d("ReStoreKeyComparer"))).compareValue(i[0],j[f])*(c==="asc"?1:-1)<i[1]){a=await e.next([].concat(j.slice(0,f),c==="asc"?[(h||(h=d("ReStoreKeyComparer"))).MAX_KEY]:[]));return"continue|outer"}};for(var g=0;g<b.length;g++){var i=await f(g);switch(i){case"continue|outer":continue outer;default:if(typeof i==="object")return i.v}}break}return a},a}return f()}function o(a,b,d,e,f){return{delete:function(){return d.delete.apply(d,a)},item:b,update:function(g){var h=f&&j(e.name)?{transportKey:"FBBroker"}:{};g=babelHelpers.extends({},b,g,h);if(k(f,e,g))throw c("FBLogger")("messenger_web").mustfixThrow("cannot insert native task in dynamic mode");return d.upsert(a,l(g))}}}function p(a,b){var c;return c={},c[typeof Symbol==="function"?Symbol.asyncIterator:"@@asyncIterator"]=function(){return p(a,b)},c.next=function(){var c={done:!0},e=function(a){c=a;return d("LSMaybeSyncIteration").STOP_ITERATION};return d("LSMaybeSyncIteration").iteratorLoop(a,e).then(function(){if(c.done)return d("LSMaybeSyncIteration").iteratorLoop(b,e)}).then(function(){return c})},c}function q(a,b,c){var e,f=[{done:!0},{done:!0}],g=function(a){var b=f[a];f[a]={done:!0};return b};return e={},e[typeof Symbol==="function"?Symbol.asyncIterator:"@@asyncIterator"]=function(){return q(a,b,c)},e.next=function(){var e=function(a){return function(b){a==="a"?f[0]=b:f[1]=b;return d("LSMaybeSyncIteration").STOP_ITERATION}},i=d("LSSynchronousPromise").maybeMakeSynchronousPromise();f[0].done&&(i=i.then(function(){return d("LSMaybeSyncIteration").iteratorLoop(a,e("a"))}));f[1].done&&(i=i.then(function(){return d("LSMaybeSyncIteration").iteratorLoop(b,e("b"))}));return i.then(function(){if(f[0].done&&f[1].done)return{done:!0};if(f[0].done)return g(1);if(f[1].done)return g(0);var a=(h||(h=d("ReStoreKeyComparer"))).compareKey(f[0].value[0],f[1].value[0]);if(a===0)return g(0);return a*(c==="asc"?1:-1)<0?g(0):g(1)})},e}var r=(b={},b[typeof Symbol==="function"?Symbol.asyncIterator:"@@asyncIterator"]=function(){return r},b.next=function(){return d("LSSynchronousPromise").maybeMakeSynchronousPromise({done:!0})},b);function a(a,b,e,f,g,h,i,l){var s=new Set(),t=a.length>1,u=a.length===1&&a[0][1]==null,v=a.map(function(a){var i=a[0],j=a[1];return i.map(function(a){f.key_lookup===!0&&a.length!==0;f.table_scan===!0&&a.length===0;var i=a.map(function(a){return h(a,b)});a=i.length===(j==null?e.primaryKeyIds:e.indexes[j]).length&&i.every(function(a){var b=a.end;a=a.start;return a&&b&&a[0]===b[0]&&a[1]===0&&b[1]===0});if(a){a=function a(){var b,c=!1;return b={},b[typeof Symbol==="function"?Symbol.asyncIterator:"@@asyncIterator"]=a,b.next=function(){var a;if(c)return d("LSSynchronousPromise").maybeMakeSynchronousPromise({done:!0});c=!0;var b=i.map(function(a){a=a.start;return a[0]});return(a=j==null?g:g.index(j)).get.apply(a,b).then(function(a){if(!a)return{done:!0};a=d("ReStoreVaulting").maybeUnvaultDbRow(a,e.name);return{done:!1,value:[b,a]}})},b};return a()}a=c("gkx")("2839")?m:n;return a(j==null?g:g.index(j),i,b)})}).flat().reduce(function(c,d,e){e=e===0&&c==null?r:c;return a.length>1?p(e,d):q(e,d,b)});function w(){var a;return a={},a[typeof Symbol==="function"?Symbol.asyncIterator:"@@asyncIterator"]=w,a.next=function(){var a=!0,b,f,h,m,n=function(c){a=!1;var g=c.value;f=g[0];h=g[1];b=u?f:e.primaryKeyIds.map(function(a){return h[a]});if(k(i,e,h)){m=c;a=!0;return}if(j(e.name)&&i&&h!=null&&h.transportKey!=="FBBroker"){m=c;a=!0;return}if(t){g=JSON.stringify(b);if(s.has(g)){a=!0;return}s.add(g)}return d("LSMaybeSyncIteration").STOP_ITERATION};return d("LSMaybeSyncIteration").iteratorLoop(v,n).then(function(){if(m!=null){var d=m.value[1].transportKey;c("FBLogger")("messenger_web").warn('Expected transportKey to equal ("FBBroker") in %s, provided transportKey: %s',l,d)}return a||b==null||h==null?{done:!0}:{done:!1,value:o(b,h,g,e,i)}})},a}return w()}g.isTranportKeyEnforcedTable=j;g.isNativePendingTaskViolation=k;g.stripUndefinedProperties=l;g.unionIterators=p;g.mergeIterators=q;g.fetch=a}),98);
__d("LSRuntimeDb",["FBLogger","LSIterationHelpers"],(function(a,b,c,d,e,f,g){"use strict";function h(a){return a.name.match(/secure_|inbox(?!_)/i)}function a(a,b,d,e,f,g){return{metadata:d,table:function(j){j=d.tableNames[d.tableIds[j]];if(b===0&&h(j))throw c("FBLogger")("messenger_web").mustfixThrow("cannot access secure table from dynamic mode");return i(a,j,e,f,g)},transactionId:a.__internal__transaction_id}}function i(a,b,e,f,g){var h=a.transactionTable(b.name,f[f.length-1]);return{add:async function(a){d("LSIterationHelpers").isTranportKeyEnforcedTable(b.name)&&g&&(a.transportKey="FBBroker"),await h.add(a)},fetch:function(){for(var a=arguments.length,c=new Array(a),i=0;i<a;i++)c[i]=arguments[i];return d("LSIterationHelpers").fetch(c.length===0?[[[[]],void 0]]:c,"asc",b,e,h,j,g,f.join(", "))},fetchDesc:function(){for(var a=arguments.length,c=new Array(a),i=0;i<a;i++)c[i]=arguments[i];return d("LSIterationHelpers").fetch(c.length===0?[[[[]],void 0]]:c,"desc",b,e,h,j,g,f.join(", "))},peekNextAutoIncrementId:function(){return h.peekNextAutoIncrementId()},put:async function(a){d("LSIterationHelpers").isTranportKeyEnforcedTable(b.name)&&g&&(a.transportKey="FBBroker");if(d("LSIterationHelpers").isNativePendingTaskViolation(g,b,a))throw c("FBLogger")("messenger_web").mustfixThrow("cannot put native task via LS transport");var e=b.primaryKeyIds.map(function(b){if(a[b]!==void 0)return a[b];throw c("FBLogger")("messenger_web").mustfixThrow("primary key must be defined on object")});await h.delete.apply(h,e);await h.add(d("LSIterationHelpers").stripUndefinedProperties(babelHelpers.extends({},a)))}}}function j(a,b){if(typeof a==="object"&&!Array.isArray(a)){var d,e;if(b==="asc"){Object.prototype.hasOwnProperty.call(a,"gt")&&(d=[a.gt,1]);if(Object.prototype.hasOwnProperty.call(a,"gte")){if(d!=null)throw c("FBLogger")("messenger_web").mustfixThrow("Cannot specify both gt and gte");d=[a.gte,0]}Object.prototype.hasOwnProperty.call(a,"lt")&&(e=[a.lt,1]);if(Object.prototype.hasOwnProperty.call(a,"lte")){if(e!=null)throw c("FBLogger")("messenger_web").mustfixThrow("Cannot specify both lt and lte");e=[a.lte,0]}}else{Object.prototype.hasOwnProperty.call(a,"lt")&&(d=[a.lt,1]);if(Object.prototype.hasOwnProperty.call(a,"lte")){if(d!=null)throw c("FBLogger")("messenger_web").mustfixThrow("Cannot specify both lt and lte");d=[a.lte,0]}Object.prototype.hasOwnProperty.call(a,"gt")&&(e=[a.gt,1]);if(Object.prototype.hasOwnProperty.call(a,"gte")){if(e!=null)throw c("FBLogger")("messenger_web").mustfixThrow("Cannot specify both gt and gte");e=[a.gte,0]}}return{end:e,start:d}}return{end:[a,0],start:[a,0]}}g.LSRuntimeDb=a;g.parseConstraint=j}),98);
__d("XPlatReactTextDecoder",[],(function(a,b,c,d,e,f){"use strict";a=self.TextDecoder;f.TextDecoder=a}),66);
__d("LS",["ExecutionEnvironment","FBLogger","I64","LSDict","LSDynamicDependencies","LSInt64Lite","LSIterationOperations","LSJson","LSRuntimeDb","LSSynchronousPromise","LSVec","MessengerLogHistory","MetaConfig","ODS","ReStoreKeyComparer","XPlatReactTextDecoder","XPlatReactTextEncoder","base64Binary","cr:1088","cr:4790","emptyFunction","err","gkx","isPromise","justknobx","qpl","setTimeout"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l;function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);m=function(){return a};return a}function n(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);n=function(){return a};return a}function o(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);o=function(){return a};return a}function p(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);p=function(){return a};return a}function q(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);q=function(){return a};return a}var r="LS_WEB",s=d("MessengerLogHistory").getInstance("ls");function t(a){return d("base64Binary").decode(a).buffer}var u={compareTo:function(a,b){a=new Uint8Array(a);b=new Uint8Array(b);var c=Math.min(a.length,b.length);for(var d=0;d<c;d++){var e=a[d]-b[d];if(e!==0)return e}return a.length===b.length?0:a.length-b.length},eq:function(a,b){if(a==null&&b==null)return!0;if(a==null||b==null)return!1;a=new Uint8Array(a);b=new Uint8Array(b);if(a.length!==b.length)return!1;for(var c=0;c<a.length;c++)if(a[c]!==b[c])return!1;return!0},ge:function(a,b){return u.compareTo(a,b)>=0},gt:function(a,b){return u.compareTo(a,b)>0},le:function(a,b){return u.compareTo(a,b)<=0},lt:function(a,b){return u.compareTo(a,b)<0},neq:function(a,b){return!u.eq(a,b)},of_string:function(a){if(a==null)return void 0;var b=new(d("XPlatReactTextEncoder").TextEncoder)();return b.encode(a).buffer},to_string:function(a){if(a==null)return void 0;var b=new(d("XPlatReactTextDecoder").TextDecoder)();return b.decode(a)}};function v(a){if(a.length!==1)throw c("FBLogger")("messenger_web").mustfixThrow("only literal strings supported");a=a[0];var b=parseInt(a.substr(-8),16);a=parseInt(a.substr(0,a.length-8),16);return(l||(l=d("I64"))).mk((b>>>1)+(a&1)*2147483648^-(b&1),a>>>1^-(b&1))}function w(a){var b="unknown_sproc";a=a.displayName;var c=/\[from (.*)\]/;c=c.exec(a);c!=null&&(b=c[1]);return b}var x=function(){var a=0;function d(d){var e=d.args,f=d.shouldLog;d=d.sprocName;b("cr:1088")==null?void 0:b("cr:1088").logStoredProcedureCall(d,e);if(!f||!b("cr:4790"))return;e=++a;b("cr:4790").markerStart(c("qpl")._(25302991,"143"),e);b("cr:4790").markerAnnotate(c("qpl")._(25302991,"143"),{string:{name:d}},{instanceKey:e});return e}function e(a,d,e){a=a.shouldLog;if(!a||d==null)return;b("cr:4790")==null?void 0:b("cr:4790").markerEnd(c("qpl")._(25302991,"143"),e,d)}function f(a){return c("gkx")("26381")?Math.random()*c("MetaConfig")._("10")<1:!1}return{call:d,logSprocDone:e,shouldLogSproc:f}}(),y="Native operation timeout; transaction blocked",z=30*1e3;function A(a,b,e,f,g,l,B){g===void 0&&(g={});l===void 0&&(l=void 0);var C=[],D=d("LSRuntimeDb").LSRuntimeDb(f,a,b,g,C,B),E=function(b,g){for(var h=arguments.length,i=new Array(h>2?h-2:0),j=2;j<h;j++)i[j-2]=arguments[j];var k;if(typeof g==="string"){k=e[g.toString()];if(k==null)throw c("FBLogger")("messenger_web").mustfixThrow("Attempted to call unimplemented native type op with type: %s and id: %s",b,g);if(k===d("LSDynamicDependencies").TOMBSTONE)throw c("err")("Concurrent native type op loading failed for: %s (retryable)",g);k.load&&(k=k.load())}else k=g;return d("LSSynchronousPromise").wrapInSyncPromiseIfNotPromise(k).then(function(b){return b.call.apply(b,[f,a].concat(i))})},F=function(b){for(var g=arguments.length,i=new Array(g>1?g-1:0),j=1;j<g;j++)i[j-1]=arguments[j];var l;if(typeof b==="string"){l=e[b+".bs"]||e[b+".nop"];if(l==null)throw c("FBLogger")("messenger_web").mustfixThrow("Attempted to call unimplemented native op with id: %s",b);if(l===d("LSDynamicDependencies").TOMBSTONE)throw c("err")("Concurrent native type op loading failed for: %s (retryable)",b);l.load&&(l=l.load())}else l=b;var m;return d("LSSynchronousPromise").wrapInSyncPromiseIfNotPromise(l).then(function(b){var e;m=(e=(e=b.__nop_name__)!=null?e:b==null?void 0:b.toString())!=null?e:"<unknown nop name>";e=d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(b.apply(void 0,[f,a].concat(i)));return!(h||(h=c("isPromise")))(e)?e:c("justknobx")._("3895")&&(k||(k=c("ExecutionEnvironment"))).isInBrowser?Promise.race([e,new Promise(function(a,b){return c("setTimeout")(function(){return b(c("err")(y))},z)})]):e}).then(function(a){return a},function(a){c("FBLogger")("messenger_web").catching(a).addMetadata(r,"NATIVE_OP_ID",m).mustfixThrow("Native operation %s failed: was_timeout: %s, is_in_worker: %s",m,(a==null?void 0:a.message)===y,(k||(k=c("ExecutionEnvironment"))).isInWorker)})},G=function(a){return a.slice(1).reduce(function(b,d){if(typeof d!=="function"){c("FBLogger")("messenger_web").mustfix("Non-function passed (%s, type %s) in sequence (%s)",d,typeof d,JSON.stringify(a.map(function(a){return typeof a})));return b}return b.then(d)},a[0]())},H=function(a,b){return a.slice(b)};return{Map:c("LSDict"),blob:t,blobs:u,constructor:{n:v},count:d("LSIterationOperations").count,createArray:function(){return c("LSVec").ofArray([])},createArrayWithElements:function(){for(var a=arguments.length,b=new Array(a),d=0;d<a;d++)b[d]=arguments[d];return c("LSVec").ofArray(b)},db:D,filter:d("LSIterationOperations").filter,forEach:d("LSIterationOperations").forEach,groupBy:d("LSIterationOperations").groupBy,i64:c("LSInt64Lite"),islc:d("LSIterationOperations").slice,like:function(a,b){b=b.replace(/[.*+?^${}()|[\]\\]/g,"\\$&").replace(/%/g,".*").replace(/_/g,".");return RegExp(b).test(a)},logger:function(a){if(l)return{debug:l,info:l,mustfix:l,warn:l};var b=c("FBLogger")("messenger_web"),e=a.startsWith("epoch mismatch"),f=a.startsWith("cursor mismatch");if(e||f){a=function(a){s.error(a,"error");a=function(){if(e)return"epoch_mismatch";else if(f)return"cursor_mismatch";else return"fixme_could_not_produce_key"}();(i||(i=d("ODS"))).bumpEntityKey(3185,"lsplatform",a)};return{debug:function(a){return s.debug(a)},info:function(a){return s.debug(a)},mustfix:a,warn:a}}else{c("gkx")("26382")||(b.info=c("emptyFunction"));return b}},loopAsync:function(a,b){function e(f){if(c("LSInt64Lite").lt(f,a)){var g=f;f=d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(b(g));while(!(h||(h=c("isPromise")))(f)){g=c("LSInt64Lite").add(g,v(q()));if(!c("LSInt64Lite").lt(g,a))return d("LSSynchronousPromise").makeSynchronousPromise(void 0);f=d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(b(g))}return f.then(function(){return e(c("LSInt64Lite").add(g,v(p())))})}return d("LSSynchronousPromise").maybeMakeSynchronousPromise(void 0,self.Promise)}return e(v(o()))},loopSync:function(a,b){for(var d=v(n());c("LSInt64Lite").lt(d,a);d=c("LSInt64Lite").add(d,v(m())))b(d)},merge:function(){function a(a,b){return(j||(j=d("ReStoreKeyComparer"))).compareValue(a,b)>0?a:b}function b(a,b){return(j||(j=d("ReStoreKeyComparer"))).compareValue([a[0],-a[1]],[b[0],-b[1]])<0?a:b}for(var c=arguments.length,e=new Array(c),f=0;f<c;f++)e[f]=arguments[f];var g=e.reduce(function(c,e){e=d("LSRuntimeDb").parseConstraint(e,"asc");return{end:c.end&&e.end?b(e.end,c.end):e.end||c.end,start:c.start&&e.start?a(e.start,c.start):e.start||c.start}},{});return babelHelpers.extends({},g.start?g.start[1]?{gt:g.start[0]}:{gte:g.start[0]}:null,g.end?g.end[1]?{lt:g.end[0]}:{lte:g.end[0]}:null)},n:v,nativeOperation:F,nativeTypeOperation:E,notnull:function(a){if(a===null)throw c("FBLogger")("messenger_web").mustfixThrow("value should not be null");return a},print:function(a){},resolve:function(a){return d("LSSynchronousPromise").wrapInMaybeSyncPromiseIfNotPromise(a,self.Promise)},resolveGuaranteeAsync:function(a){var b;return((b=self.Promise)!=null?b:Promise).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))},rm:c("LSInt64Lite").of_int32(a),sequence:G,slice:H,sortBy:d("LSIterationOperations").sortBy,storedProcedure:function(h){for(var i=arguments.length,j=new Array(i>1?i-1:0),k=1;k<i;k++)j[k-1]=arguments[k];var m;if(typeof h==="string"){m=e[h];if(m==null)throw c("FBLogger")("messenger_web").mustfixThrow("Attempted to call unimplemented stored procedure with id: %s",h);if(m===d("LSDynamicDependencies").TOMBSTONE)throw c("err")("Concurrent sproc loading failed for: %s (retryable)",h);m.load&&(m=m.load())}else m=h;var n=this;switch(a){case 0:n=A(2,b,e,f,g,l,B);break;case 2:n=A(1,b,e,f,g,l,B);break}var o,p,q;return d("LSSynchronousPromise").wrapInSyncPromiseIfNotPromise(m).then(function(a){p=w(a);q=x.shouldLogSproc(p);C.push(p);o=x.call({args:j,shouldLog:q,sprocName:p});f.reportUsedTablesForSyncAccess(a.__tables__);return a.apply(void 0,j.concat([n]))}).then(function(a){C.pop();x.logSprocDone({args:j,shouldLog:q,sprocName:p},o,2);return a},function(a){C.pop();x.logSprocDone({args:j,shouldLog:q,sprocName:p},o,3);c("FBLogger")("messenger_web").catching(a).addMetadata(r,"SPROC_STACK",C.join("\n")).warn("Sproc %s failed",h);throw a})},throw:function(a){throw c("FBLogger")("messenger_web").mustfixThrow(a)},toArray:d("LSIterationOperations").toArray,toJSON:function(a){return d("LSJson").stringify(a)}}}A.n=v;g.default=A}),98);
__d("LSContactBlockedByViewerStatus",[],(function(a,b,c,d,e,f){a=Object.freeze({UNBLOCKED:0,MESSAGE_BLOCKED:1,FULLY_BLOCKED:2});f["default"]=a}),66);
__d("LSContactGender",[],(function(a,b,c,d,e,f){a=Object.freeze({UNKNOWN:0,FEMALE:1,MALE:2,NEUTER:3});f["default"]=a}),66);
__d("LSContactIdType",[],(function(a,b,c,d,e,f){a=Object.freeze({UNKNOWN:0,FBID:1,SMS_LOCAL_ID:2});f["default"]=a}),66);
__d("LSContactType",[],(function(a,b,c,d,e,f){a=Object.freeze({UNKNOWN:0,USER:1,PAGE:2,PAGE_PERSONA:3});f["default"]=a}),66);
__d("LSContactViewerRelationship",[],(function(a,b,c,d,e,f){a=Object.freeze({UNKNOWN:0,NOT_CONTACT:1,CONTACT_OF_VIEWER:2,FACEBOOK_FRIEND:3,SOFT_CONTACT:4});f["default"]=a}),66);
__d("LSContactWorkForeignEntityType",[],(function(a,b,c,d,e,f){a=Object.freeze({UNKNOWN:0,FOREIGN:1,NOT_FOREIGN:2,NOT_FOREIGN_LIMITED:3});f["default"]=a}),66);
__d("LSFactory",["ExecutionEnvironment","LS","LSDynamicDependencies","LSMetadata","cr:8709"],(function(a,b,c,d,e,f,g){"use strict";var h,i={dynamic:!1};function a(a,e){e===void 0&&(e=i);a=c("LS")(1,d("LSMetadata").schema,d("LSDynamicDependencies").cachedModules,a,void 0,void 0,e.dynamic);return b("cr:8709")!=null&&(h||(h=c("ExecutionEnvironment"))).isInBrowser?b("cr:8709").wrapSprocInvocationWithProfiler(a):a}g["default"]=a}),98);
__d("LSMailboxType",[],(function(a,b,c,d,e,f){a=Object.freeze({MESSENGER:0,COMMUNITIES:1,TINCAN:1024,TAM:4096});f["default"]=a}),66);
__d("LSPlatformWaitForTaskCompletion",["I64","emptyFunction","err","justknobx","promiseDone","uuidv4"],(function(a,b,c,d,e,f,g){"use strict";var h,i=["acs_sync"];async function a(a,b,e,g){var j=new Set(),k=[],l=0,m=!0,n,o,p=new Promise(function(a,b){n=a,o=b}),q=c("uuidv4")(),r=!0,s=await a.runInTransaction(async function(p){await p.mailbox_task_completion_notification_context.add({notificationName:e,notificationScopeKey:q});var t=a.tables.pending_tasks.subscribe(function(a,b){a=(h||(h=d("I64"))).to_string(a[0]);if(b.operation==="add"||b.operation==="put"){var e=b.value;if(c("justknobx")._("2903")&&i.some(function(a){return e.queueName.startsWith(a)}))return;if(g!=null&&e.queueName!==g)return;j.add(a)}else j.delete(a)}),u=c("emptyFunction"),v=a.tables.mailbox_task_completion_api_tasks.subscribe(function(a,b){if(b.operation==="add"||b.operation==="put"&&b.value.notificationScopeKey===q){a=(h||(h=d("I64"))).to_string(b.value.taskId);j.delete(a);b=b.value.success;b==null?r&&(k.push(a),l+=1):(m=b&&m,l-=1)}});u=a.subscribeToCommit(function(){l===0&&j.size===0&&(v(),t(),u(),c("promiseDone")(a.runInTransaction(async function(a){for(var b of k)await a.mailbox_task_completion_api_tasks.delete((h||(h=d("I64"))).of_string(b))},"readwrite","background",void 0,f.id+":150")),m?n(s):o(c("err")("Not all tasks for "+e+" succeeded")))});try{var w=await b(p);await p.mailbox_task_completion_notification_context.delete(q);return w}catch(a){u();v();t();throw a}},"readwrite",void 0,void 0,f.id+":66");r=!1;return p}g.default=a}),98);
__d("LSShape",["LSDict"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return c("LSDict").fromObject(a)}function b(a){return c("LSDict").shapeToRecord(a)}g.ofRecord=a;g.toRecord=b}),98);
__d("LSVerifyContactRowExistsStoredProcedure",["LSSynchronousPromise","LSVerifyContactRowExists","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSVerifyContactRowExists"),e.id,e.contactIdType,e.profilePictureUrl,e.name,e.contactType,e.profilePictureFallbackUrl,e.profilePictureUrlExpirationTimestampMs,e.urlExpirationTimestampMs,e.normalizedNameForSearch,e.isMemorialized,e.isBlocked,e.blockedByViewerStatus,e.canViewerMessage,e.isSelf,e.authorityLevel,e.capabilities,e.capabilities2,e.workForeignEntityType,e.gender,e.contactViewerRelationship,e.secondaryName,e.firstName,e.friendshipStatus);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("LSVerifyContactExistsWithID",["LSAuthorityLevel","LSContactBlockedByViewerStatus","LSContactGender","LSContactIdType","LSContactType","LSContactViewerRelationship","LSContactWorkForeignEntityType","LSFactory","LSIntEnum","LSPlatformWaitForTaskCompletion","LSVerifyContactRowExistsStoredProcedure"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b,c,d){return a.runInTransaction(function(a){return i(b,c,a)},"readwrite",(a=d)!=null?a:"background",void 0,f.id+":37")}async function b(a,b,d){await c("LSPlatformWaitForTaskCompletion")(a,function(a){return i(b,d,a)},"readwrite")}function i(a,b,e){return c("LSVerifyContactRowExistsStoredProcedure")(c("LSFactory")(e),{authorityLevel:(h||(h=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").CLIENT_PARTIAL),blockedByViewerStatus:h.ofNumber(c("LSContactBlockedByViewerStatus").UNBLOCKED),contactIdType:h.ofNumber(c("LSContactIdType").FBID),contactType:h.ofNumber(c("LSContactType").USER),contactViewerRelationship:h.ofNumber(c("LSContactViewerRelationship").UNKNOWN),gender:h.ofNumber(c("LSContactGender").UNKNOWN),id:a,isBlocked:!1,isMemorialized:!1,isSelf:b,workForeignEntityType:h.ofNumber(c("LSContactWorkForeignEntityType").UNKNOWN)})}g.runInTransaction=a;g.waitForTaskFinish=b;g.callStoredProcedure=i}),98);
__d("MWChatOpenTabForGroupCallback",["I64","LSDatabaseSingleton","LSFactory","LSIntEnum","LSIssueMessagesRangeQueryStoredProcedure","LSMailboxMessagesRangeQueryDirection","LSMessagingThreadTypeUtil","Promise","ReQL","promiseDone","recoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k;function a(a){var e=(i||(i=d("I64"))).of_string(a);c("promiseDone")((k||(k=d("LSDatabaseSingleton"))).LSDatabaseSingleton.then(function(a){return a.runInTransaction(function(a){return d("ReQL").firstAsync(d("ReQL").fromTableDescending(a.threads).getKeyRange(e)).then(function(f){if(f!=null)if(d("LSMessagingThreadTypeUtil").isArmadilloSecure(f.threadType)){c("recoverableViolation")("Preloading secure thread not implemented yet","messenger_web_entrypoints");return(h||(h=b("Promise"))).resolve()}else return d("ReQL").firstAsync(d("ReQL").fromTableDescending(a.messages_ranges_v2__generated).getKeyRange(e)).then(function(b){if(b!=null&&b.minMessageId===b.maxMessageId)return c("LSIssueMessagesRangeQueryStoredProcedure")(c("LSFactory")(a),{direction:(j||(j=d("LSIntEnum"))).ofNumber(c("LSMailboxMessagesRangeQueryDirection").BEFORE),referenceTimestampMs:b.minTimestampMs,threadKey:e})});else return(h||(h=b("Promise"))).resolve()})},"readwrite",void 0,void 0,f.id+":27")}))}g.call=a}),98);
__d("MWChatSearchResultType",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum")({GROUP:"group",MESSAGE:"message",PAGE:"page",USER:"user",AI_BOT:"ai_bot"});c=a;f["default"]=c}),66);
__d("isThreadLevelCutoverEnabled",["qex"],(function(a,b,c,d,e,f,g){"use strict";function a(){return c("qex")._("564")===!0}g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("LSOnSendMessageFailure.nop",["Promise"],(function(a,b,c,d,e,f){"use strict";var g;function a(a,c,d,e){return(g||(g=b("Promise"))).resolve()}a.__nop_name__="LSOnSendMessageFailure";f["default"]=a}),66);
__d("LSMarkOptimisticMessageFailed",["LSOnSendMessageFailure.nop"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.sequence([function(e){return a[2]===!0?d[0]=c.i64.cast([0,5]):d[0]=c.i64.cast([0,4]),a[2]===!0?d[1]=c.i64.cast([0,5]):d[1]=c.i64.cast([0,4]),a[2]===!0?d[2]=c.i64.cast([0,5]):d[2]=c.i64.cast([0,4]),c.nativeOperation(b("LSOnSendMessageFailure.nop"),a[0],a[1])},function(b){return c.forEach(c.filter(c.db.table(12).fetch([[[a[0]]],"optimistic"]),function(b){return b.offlineThreadingId===a[0]&&c.i64.eq(b.authorityLevel,c.i64.cast([0,20]))}),function(a){var b=a.update;a.item;return b({sendStatus:d[0],sendStatusV2:d[1]})})}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSMailboxMarkOptimisticMessageFailedStoredProcedure";a.__tables__=["messages"];e.exports=a}),null);
__d("LSMarkOptimisticMessageFailedStoredProcedure",["LSMarkOptimisticMessageFailed","LSSynchronousPromise","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSMarkOptimisticMessageFailed"),e.optimisticMid,e.errorMessage,e.isRetryable);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("LSMessageReplySourceType",[],(function(a,b,c,d,e,f){a=Object.freeze({NONE:0,MESSAGE:1,STORY:2,FORWARD:3,FB_STORY_SHARE:4,IG_STORY_SHARE:5,LIGHTWEIGHT_STATUS:6,LIGHTWEIGHT_STATUS_REACTION:7,FB_FEED_POST:13,HIGHLIGHTS_TAB_POST_REPLY:14,HIGHLIGHTS_TAB_LOCAL_EVENT_REPLY:15,SHARED_ALBUM:16,AVATAR_DETAIL:17,NOTE_REPLY_ARMADILLO:18,HIGHLIGHTS_TAB_CARDS_FOR_MOM:19,HIGHLIGHTS_TAB_CARDS_FOR_BIRTHDAY:20,NOTE_MENTION:21,AI_PERSONA_NOTE_REPLY:26});f["default"]=a}),66);
__d("MAWClientMediaStatusUtils",["I64","LSIntEnum","MAWMediaDownloadStatus"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a){switch(a){case c("MAWMediaDownloadStatus").DOWNLOADING:return(h||(h=d("LSIntEnum"))).ofNumber(0);case c("MAWMediaDownloadStatus").SUCCESS:return(h||(h=d("LSIntEnum"))).ofNumber(1);case c("MAWMediaDownloadStatus").NOT_MANUAL_RETRYABLE_FAILURE:return(h||(h=d("LSIntEnum"))).ofNumber(2);case c("MAWMediaDownloadStatus").MANUAL_RETRYABLE_FAILURE:return(h||(h=d("LSIntEnum"))).ofNumber(3);case c("MAWMediaDownloadStatus").MISSING_FILE:return(h||(h=d("LSIntEnum"))).ofNumber(4);case c("MAWMediaDownloadStatus").RETRYING:return(h||(h=d("LSIntEnum"))).ofNumber(5);case c("MAWMediaDownloadStatus").AUTOMATICALLY_RETRYABLE_TIMEOUT_FAILURE:return(h||(h=d("LSIntEnum"))).ofNumber(6)}}function j(a){switch(a){case 0:return c("MAWMediaDownloadStatus").DOWNLOADING;case 1:return c("MAWMediaDownloadStatus").SUCCESS;case 2:return c("MAWMediaDownloadStatus").NOT_MANUAL_RETRYABLE_FAILURE;case 3:return c("MAWMediaDownloadStatus").MANUAL_RETRYABLE_FAILURE;case 4:return c("MAWMediaDownloadStatus").MISSING_FILE;case 5:return c("MAWMediaDownloadStatus").RETRYING;case 6:return c("MAWMediaDownloadStatus").AUTOMATICALLY_RETRYABLE_TIMEOUT_FAILURE}}function b(a){if(a==null)return"UNKNOWN";switch(a){case c("MAWMediaDownloadStatus").DOWNLOADING:return"DOWNLOADING";case c("MAWMediaDownloadStatus").SUCCESS:return"SUCCESS";case c("MAWMediaDownloadStatus").NOT_MANUAL_RETRYABLE_FAILURE:return"NOT_MANUAL_RETRYABLE_FAILURE";case c("MAWMediaDownloadStatus").MANUAL_RETRYABLE_FAILURE:return"MANUAL_RETRYABLE_FAILURE";case c("MAWMediaDownloadStatus").MISSING_FILE:return"MISSING_FILE";case c("MAWMediaDownloadStatus").RETRYING:return"RETRYING";case c("MAWMediaDownloadStatus").AUTOMATICALLY_RETRYABLE_TIMEOUT_FAILURE:return"AUTOMATICALLY_RETRYABLE_TIMEOUT_FAILURE"}}function k(a){return{mainMediaStatus:j((h||(h=d("LSIntEnum"))).unwrapIntEnum(a.mainMediaStatus)),mainMediaStatusDetails:a.mainMediaStatusDetails,previewMediaStatus:a.previewMediaStatus?j((h||(h=d("LSIntEnum"))).unwrapIntEnum(a.previewMediaStatus)):null,previewMediaStatusDetails:a.previewMediaStatusDetails,validationResult:l(a)}}function l(a){var b;return a.audioAvgBitsPerSecond==null&&a.audioNumberOfChannels==null&&a.audioSamplingRate==null&&a.audioStreamType==null&&a.validateMimeType==null&&a.videoAvgBitsPerSecond==null&&a.videoCalculatedFps==null&&a.videoDuration==null&&a.videoHeight==null&&a.videoNominalFps==null&&a.videoStreamType==null&&a.videoWidth==null?void 0:{audioAvgBitsPerSecond:a.audioAvgBitsPerSecond!=null?(i||(i=d("I64"))).to_int32(a.audioAvgBitsPerSecond):void 0,audioNumberOfChannels:a.audioNumberOfChannels!=null?(i||(i=d("I64"))).to_int32(a.audioNumberOfChannels):void 0,audioSamplingRate:a.audioSamplingRate!=null?(i||(i=d("I64"))).to_int32(a.audioSamplingRate):void 0,audioStreamType:(b=a.audioStreamType)!=null?b:void 0,validatedMimeType:(b=a.validateMimeType)!=null?b:void 0,videoAvgBitsPerSecond:a.videoAvgBitsPerSecond!=null?(i||(i=d("I64"))).to_int32(a.videoAvgBitsPerSecond):void 0,videoCalculatedFps:a.videoCalculatedFps!=null?(i||(i=d("I64"))).to_int32(a.videoCalculatedFps):void 0,videoDuration:a.videoDuration!=null?(i||(i=d("I64"))).to_int32(a.videoDuration):void 0,videoHeight:a.videoHeight!=null?(i||(i=d("I64"))).to_int32(a.videoHeight):void 0,videoNominalFps:a.videoNominalFps!=null?(i||(i=d("I64"))).to_int32(a.videoNominalFps):void 0,videoStreamType:(b=a.videoStreamType)!=null?b:void 0,videoWidth:a.videoWidth!=null?(i||(i=d("I64"))).to_int32(a.videoWidth):void 0}}function e(a){var b;return{audioAvgBitsPerSecond:(a==null?void 0:a.audioAvgBitsPerSecond)!=null?(i||(i=d("I64"))).of_int32(a.audioAvgBitsPerSecond):void 0,audioNumberOfChannels:(a==null?void 0:a.audioNumberOfChannels)!=null?(i||(i=d("I64"))).of_int32(a.audioNumberOfChannels):void 0,audioSamplingRate:(a==null?void 0:a.audioSamplingRate)!=null?(i||(i=d("I64"))).of_int32(a.audioSamplingRate):void 0,audioStreamType:(b=a==null?void 0:a.audioStreamType)!=null?b:void 0,validateMimeType:(b=a==null?void 0:a.validatedMimeType)!=null?b:void 0,videoAvgBitsPerSecond:(a==null?void 0:a.videoAvgBitsPerSecond)!=null?(i||(i=d("I64"))).of_int32(a.videoAvgBitsPerSecond):void 0,videoCalculatedFps:(a==null?void 0:a.videoCalculatedFps)!=null?(i||(i=d("I64"))).of_int32(a.videoCalculatedFps):void 0,videoDuration:(a==null?void 0:a.videoDuration)!=null?(i||(i=d("I64"))).of_int32(a.videoDuration):void 0,videoHeight:(a==null?void 0:a.videoHeight)!=null?(i||(i=d("I64"))).of_int32(a.videoHeight):void 0,videoNominalFps:(a==null?void 0:a.videoNominalFps)!=null?(i||(i=d("I64"))).of_int32(a.videoNominalFps):void 0,videoStreamType:(b=a==null?void 0:a.videoStreamType)!=null?b:void 0,videoWidth:(a==null?void 0:a.videoWidth)!=null?(i||(i=d("I64"))).of_int32(a.videoWidth):void 0}}function f(a){var b=a.clientMediaStatus,c=a.mediaDownloadRetryCount,e=a.mediaDownloadStatusState,f=a.preloadedMediaStatus,g=a.statusKey;a=f!=null?f:b==null?void 0:b.find(function(a){a=a.id;return a===g});f=a!=null;b=f&&a!=null?k(a):e==null?void 0:e[g];e=f?b!=null:(e=e==null?void 0:e.hasOwnProperty(g))!=null?e:!1;f=f?(i||(i=d("I64"))).to_int32((f=a==null?void 0:a.downloadRetryCount)!=null?f:(i||(i=d("I64"))).zero):(a=c==null?void 0:c[g])!=null?a:0;return{hasStatus:e,retryCount:f,statusData:b}}g.getClientMediaStatusType=a;g.getMAWMediaDownloadStatus=j;g.mediaDownloadStatusEnumToString=b;g.getMAWMediaStatus=k;g.getMAWValidationResults=l;g.getValidationResults=e;g.getStatusDataFromLsdbOrContext=f}),98);
__d("MessageSendsClientFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1271");b=d("FalcoLoggerInternal").create("message_sends_client",a);e=b;g["default"]=e}),98);
__d("MWLogSend",["ErrorGuard","FBLogger","I64","LSMessagingThreadTypeUtil","LSPlatformLsInitLog","MessageSendsClientFalcoEvent","MultipleTabsLogger","ReQL","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=[];function k(a){return function(){while(j.length>0)(i||(i=c("ErrorGuard"))).applyWithGuard(n,null,[a,j.shift(),!0])}}var l=!1;function m(a,b){j.push(b),l||(d("LSPlatformLsInitLog").onCompleteOrFail(k(a)),l=!0)}function n(a,b,e){b._mentionedJids;var f=b.actor,g=b.additionalTags,i=b.attachmentFbids,j=b.attachmentType,k=b.backend,l=b.ephemeralDurationInSec,n=b.hasReply,o=b.igdTargetType,p=b.initatingSource,q=b.isInstamadilloTTLC,r=b.messagingThreadId,s=b.msgTtl,t=b.offlineThreadingId,u=b.sendType,v=b.source,w=b.threadKey,x=b.threadType;c("promiseDone")(async function(){await Promise.all([d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(a.tables.participants).getKeyRange(w).filter(function(a){return!(h||(h=d("I64"))).equal(a.contactId,f)})),d("MultipleTabsLogger").hasMultipleTabs()]).then(function(y){var z=y[0];y=y[1];if(z==null){var A=d("LSPlatformLsInitLog").isPending();if(A&&e!==!0){m(a,b);return}e===!0&&c("FBLogger")("meteora").warn("LS_INIT completed but participants table is still empty.")}var B=z.map(function(a){return(h||(h=d("I64"))).to_string(a.contactId)});A=d("LSMessagingThreadTypeUtil").isOneToOne(x)&&(z==null?void 0:z.length)===0;A&&B.push((h||(h=d("I64"))).to_string(f));var C=r!=null?r:(h||(h=d("I64"))).to_string(w),D=s!=null?(h||(h=d("I64"))).to_string((h||(h=d("I64"))).of_float(s)):void 0,E=[y===!0?19:null,l!=null?15:null,q===!0?37:null].filter(Boolean);(C==null||C===""||(h||(h=d("I64"))).le(w,(h||(h=d("I64"))).zero))&&(b.waGroupJid!=null?c("FBLogger")("mw_log_send").mustfix("Thread FBID is null and recovered by chatJid in send flow - ThreadKey %s, messagingThreadId %s, send type %s",(h||(h=d("I64"))).to_string(w),r,u):c("FBLogger")("mw_log_send").mustfix("Thread FBID is null in send flow - ThreadKey %s, messagingThreadId %s, send type %s",(h||(h=d("I64"))).to_string(w),r,u));c("MessageSendsClientFalcoEvent").log(function(){return{additional_tags:g,backend:k,event_type:u,feature_tags:E,group_thread_subtype:void 0,igd_action:void 0,igd_target_type:o,igd_verb:void 0,initiating_app_id:void 0,initiating_source:p,is_reply:n,message_attachment_fbids:i.map(String),message_id:void 0,message_type:j,messaging_thread_fbid:C,messaging_thread_type:(h||(h=d("I64"))).to_int32(x),msg_ttl:D,nav_chain:void 0,nonce:void 0,offline_threading_id:t,recipient_fbids:B,send_attribution:h.to_int32(v),send_attribution_raw:void 0,view_mode:void 0,wa_group_jid:b.waGroupJid}})})}())}g.log=n}),98);
__d("MAWCommonSetupBridge",["BrowserLockManager","CurrentAppID","CurrentUser","FBLogger","I64","LSDatabaseSingleton","LSIntEnum","LSMessagingThreadAttributionType","MAWBridge","MAWChatJid","MAWCrossWorkerPortal","MAWCurrentUser","MAWDbMedia","MAWInit","MAWJobActionsV2","MAWMIC","MAWReportSendMessageSuccessResult","MAWThreadCutover","MAWThreadUtils","MWLogSend","ODS","Promise","QPLEvent","QPLUserFlow","WACrossWorkerPortal","WADevToolMessageChannel","WADevToolsBridge","WAExceededStorageQuota","WAJids","cr:2691","gkx","justknobx","pageID","performanceAbsoluteNow","promiseDone","requireDeferred","shouldUseMAWSharedWorker"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l,m,n,o=c("requireDeferred")("MAWMainThreadLogger").__setRef("MAWCommonSetupBridge"),p=new Set([25312111,25311870]),q=new Map();e=new Map([[(a=d("MAWDbMedia")).MEDIA_TYPE.IMAGE,8],[a.MEDIA_TYPE.VIDEO,10],[a.MEDIA_TYPE.GIF,6],[a.MEDIA_TYPE.STICKER,4],[a.MEDIA_TYPE.PTT,11],[a.MEDIA_TYPE.DOCUMENT_FILE,9]]);var r=new Set([25312150,25313100,1056840931,25299294]),s=function(){return(n||(n=c("performanceAbsoluteNow")))()-Date.now()},t=s();function u(a,b,e){return(i||(i=d("LSDatabaseSingleton"))).LSDatabaseSingleton.then(function(f){return d("MAWThreadCutover").isCutoverSecureThreadFromChatJid(f,a).then(function(a){c("QPLUserFlow").addAnnotations(b,{bool:{is_cutover:a}},{instanceKey:e})})})}var v=/[^a-zA-Z0-9._-]/g,w=/[.]+/g,x=/[\s_.-]+/g;function y(a){return a.replace(x,".").replace(v,"").replace(w,".")}var z={handleMessageSendResult:function(a){a.success&&d("MAWReportSendMessageSuccessResult").reportSendMessageSuccessResult(a.report)},log:function(a){var b=a.logLevel,c=a.logString,e=a.tags;a=e.length>0;var f=""+(d("CurrentAppID").getAppID()||"unknown");switch(b){case"count":(j||(j=d("ODS"))).bumpEntityKey(3185,y("e2ee."+(a?e.join("."):c)),y("count."+(a?c+"."+f:f)),1);o.onReadyImmediately(function(a){a=a.count;return a(c,e)});return;case"log":o.onReadyImmediately(function(a){a=a.info;return a(c,e)});return;case"warn":o.onReadyImmediately(function(a){a=a.warn;return a(c,e)});return;case"logRestricted":o.onReadyImmediately(function(a){a=a.logRestricted;return a(c,e)});return;case"debug":break;case"error":break;default:break}},logError:function(a){var b=a.entriesToReport,c=a.framesToPop,d=a.logString,e=a.message,f=a.stack,g=a.tags;o.onReadyImmediately(function(a){a=a.logError;return a(d,g,e,f,c,b)})},odsBumpEntityKey:function(a){var b=a.amount,c=a.entity;a=a.key;(j||(j=d("ODS"))).bumpEntityKey(3185,c,a+"."+(d("CurrentAppID").getAppID()||"unknown"),b)},onJobFinished:function(a){a.type==="createGroup"&&a.originalArgs.key!=null&&d("MAWJobActionsV2").recentFinishedJobsCache.set(a.originalArgs.key,a.result);switch(a.type){case"sendAppData":var b=a.originalArgs,e=a.result;(b=b.args.contents.actions)==null?void 0:b.forEach(function(a){a=a.messageAction;if(a==null||a.type!=="delete_for_me"||e.type!=="not_sent")return;q.set(e.appDataExternalId,{chatJid:a.protocolMsgId.chat,externalId:a.protocolMsgId.externalId,type:"deleteMsgForMe"})});break}if(a.type==="sendWrittenAppData"){b=a.originalArgs.appDataExternalId;var f=q.get(b);q["delete"](b);if(f!=null&&f.type==="deleteMsgForMe"&&a.result.type==="success"){var g=f.chatJid,h=f.externalId,j=d("MAWThreadUtils").getLSThreadTypeFromJid(g);c("promiseDone")((i||(i=d("LSDatabaseSingleton"))).LSDatabaseSingleton.then(function(a){c("promiseDone")(d("MAWChatJid").toThreadKey(a.tables,g,"MAWCommonSetupBridge::sendWrittenAppData").then(function(b){d("MWLogSend").log(a,{actor:(k||(k=d("I64"))).of_string(d("MAWCurrentUser").getID()),attachmentFbids:[],attachmentType:25,backend:1,hasReply:!1,messagingThreadId:k.to_string(b),offlineThreadingId:h,sendType:3,source:(l||(l=d("LSIntEnum"))).ofNumber(c("LSMessagingThreadAttributionType").UNKNOWN),threadKey:b,threadType:j})}))}))}}},qplEvent:function(a){var e=a.action,f=a.annotations,g=a.debugInfo,i=a.error,j=a.event,k=a.instanceKey,l=a.performanceAndDateSkew,n=a.timeoutInMs;a=a.timestamp;if(!c("CurrentUser").isEmployee()&&p.has((m||(m=d("QPLEvent"))).getMarkerId(j)))return;var o=k||0;k=f==null?void 0:(k=f.string)==null?void 0:k.jid;k=k!=null?d("WAJids").validateChatJid(k):void 0;k=r.has((m||(m=d("QPLEvent"))).getMarkerId(j))&&k!=null?u(k,j,o):(h||(h=b("Promise"))).resolve();var q=a!=null&&l!=null&&c("gkx")("8334")?a+l-t+s():a;switch(e.type){case"start":c("QPLUserFlow").start(j,{annotations:babelHelpers["extends"]({},f||{},{bool:babelHelpers["extends"]({},(f==null?void 0:f.bool)||{},{s_pdb:c("gkx")("8483"),isArmadilloPublicLaunchUser:c("gkx")("23405"),isDev:0,isGifSearchEnbled:!0,isLockApiSupported:c("BrowserLockManager")!=null,isRestoreDBEnabled:c("gkx")("23906"),isTlcPublicUser:d("MAWCurrentUser").isTlcPublicUser(),useSharedWorker:d("shouldUseMAWSharedWorker").shouldUseMAWSharedWorker()})}),instanceKey:o,timeoutInMs:n,timestamp:q});break;case"success":c("QPLUserFlow").addAnnotations(j,{bool:{exceededStorageQuota:d("WAExceededStorageQuota").getExceededStorageQuota(),isRelaxedDurability:!0}},{instanceKey:o});k["finally"](function(){c("QPLUserFlow").endSuccess(j,{annotations:f,instanceKey:o,timestamp:q})});break;case"cancel":c("QPLUserFlow").addAnnotations(j,{bool:{exceededStorageQuota:d("WAExceededStorageQuota").getExceededStorageQuota(),isRelaxedDurability:!0}},{instanceKey:o});k["finally"](function(){c("QPLUserFlow").endCancel(j,{annotations:f,instanceKey:o,timestamp:q})});break;case"point":f&&c("QPLUserFlow").addAnnotations(j,f,{instanceKey:o});(m||(m=d("QPLEvent"))).getMarkerId(j)===1056839232?d("MAWMIC").addPoint(e.name,q):c("QPLUserFlow").addPoint(j,e.name,{instanceKey:o,timestamp:q});break;case"annotations":c("QPLUserFlow").addAnnotations(j,(l=f)!=null?l:{},{instanceKey:o});break;case"failure":c("QPLUserFlow").addAnnotations(j,{bool:{exceededStorageQuota:d("WAExceededStorageQuota").getExceededStorageQuota(),isRelaxedDurability:!0},string:{failureReason:e.name}},{instanceKey:o});k["finally"](function(){c("QPLUserFlow").endFailure(j,e.name,{annotations:f,instanceKey:o,timestamp:q})});break;case"error":c("QPLUserFlow").markError(j,e.name,{debugInfo:g,error:i,instanceKey:o});break;default:throw c("FBLogger")("messenger_web").mustfixThrow("Bridge sends unreachable qplEvent action type")}}},A=function(a,b){a.push(b);return a};f=function(a){var e=a.customizeEventHandlers;a=a.worker;d("MAWInit").MAWInit.logPoint("bridge_setup_start");var f=d("MAWBridge").getBridge();f.setHandlers("event",babelHelpers["extends"]({},z,e));e=d("MAWCrossWorkerPortal").getOrCreateCrossWorkerPortal(f,["backend","mps"],A,{bridgeBatcherMaxTokens:Number.MAX_SAFE_INTEGER,portalCacheSize:c("justknobx")._("3092"),useLRUCache:c("gkx")("6949")});e.setPort(a);if(c("gkx")("3282")){var g=d("WADevToolsBridge").getDevToolBridge();a=new MessageChannel();var h=d("WACrossWorkerPortal").attachPortal(g,["backend"],A,c("pageID")),i=d("WACrossWorkerPortal").attachPortal(g,["devtool","mawDbDevTool"],A,c("pageID"));d("WADevToolMessageChannel").onCreateNewChannel(function(a){h.setPort(a.port1)});i.setPort(a.port1);b("cr:2691")==null?void 0:b("cr:2691").connectAddonPort(a.port2);e.addListener(function(a,b){return g.fireAndForget("devtool","bridgeMessage",{direction:b==="outgoing"?"toWorker":"toMain",msg:a,ts:Date.now()},!0)})}d("MAWMIC").addPoint("bridge_setup_done");d("MAWInit").MAWInit.logPoint("bridge_setup_end");return f};g.MEDIA_TYPE_TO_ATTACHMENT_TYPE=e;g.initBridge=f}),98);
__d("MAWGetAttachmentTypeForSendWrittenMsg",["MAWCommonSetupBridge"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,c,e,f,g,h,i){if(f)return 43;if(a==="revokeMsg")return 26;if(g!=null)return g;if(c)return 3;if(e&&h===!1)return 13;if(i===!0)return 13;f=b!=null?d("MAWCommonSetupBridge").MEDIA_TYPE_TO_ATTACHMENT_TYPE.get(b):null;return(a=f)!=null?a:0}g.getAttachmentTypeForSendWrittenMsg=a}),98);
__d("MAWReportSendMessageSuccessResult",["BrowserLockManager","FBLogger","I64","LSDatabaseSingleton","LSIntEnum","LSMessagingThreadAttributionType","MAWChatJid","MAWCurrentUser","MAWFrontendMediaUtils","MAWGetAttachmentTypeForSendWrittenMsg","MAWThreadUtils","MAWVault","MAWXMAUtils","MWLogSend","MultipleTabsLogger","URLMatcher","WAJids","gkx","justknobx","promiseDone","shouldUseMAWSharedWorker"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;async function k(a,b){try{a=await d("MAWChatJid").toThreadKey(a.tables,b,"MAWCommonSetupBridge::sendWrittenMsg");return a}catch(a){if(c("gkx")("10750")){c("FBLogger")("messenger_e2ee_web_send").warn("MAWCommonSetupBridge::sendWrittenMsg failed to get threadKey. With error: %s",a);return(h||(h=d("I64"))).zero}throw a}}function l(a){var b,e=a.externalId,f=null,g=!1,l=!1;switch(a.messageType){case"editMsg":g=!0;break;case"revokeMsg":e=a.referencedExternalId;break;case"sendMsg":l=a.specialTextSize!=null;break;case"reactionMsg":f=a.reaction!=null?20:27;break;case"bumpMsg":break;case"noteReplyMsg":break;case"sendPoll":break;case"fixMe":return;default:a.messageType}var m=null;a.fileType!=null&&(m=d("MAWFrontendMediaUtils").getMediaTypeAndServerMediaTypeFromBlob(a.fileType).mediaType);var n=a.xmaMessageType!=null,o=a.quote!=null||d("MAWXMAUtils").isXMAStoryReply(a.xmaMessageType);b=c("URLMatcher").match(d("MAWVault").unvault((b=a.content)!=null?b:""));b=b!=null&&b.length>0;var p=d("MAWGetAttachmentTypeForSendWrittenMsg").getAttachmentTypeForSendWrittenMsg(a.messageType,m,l,n,g,f,o,b),q=d("MAWThreadUtils").getLSThreadTypeFromJid(a.chatJid);c("promiseDone")((i||(i=d("LSDatabaseSingleton"))).LSDatabaseSingleton.then(async function(b){var f=(a==null?void 0:a.source)!=null?a.source:(j||(j=d("LSIntEnum"))).ofNumber(c("LSMessagingThreadAttributionType").UNKNOWN),g=await k(b,a.chatJid),i=d("WAJids").validateGroupJid(a.chatJid);d("MWLogSend").log(b,{actor:(h||(h=d("I64"))).of_string(d("MAWCurrentUser").getID()),attachmentFbids:[],attachmentType:p,backend:1,hasReply:o,initatingSource:a==null?void 0:a.initiatingSource,messagingThreadId:h.to_string(g),msgTtl:(b=a.ephemeralSetting)==null?void 0:b.ephemeralExpirationInSec,offlineThreadingId:e,sendType:1,source:f,threadKey:g,threadType:q,waGroupJid:c("gkx")("10750")&&i!=null?d("WAJids").threadIdForChatJid(i):void 0})}))}function a(a){if(c("justknobx")._("154")&&d("shouldUseMAWSharedWorker").shouldUseMAWSharedWorker()&&(c("BrowserLockManager")!=null&&!d("MultipleTabsLogger").hasUniqueLock()))return;l(a)}g.reportSendMessageSuccessResultFn=l;g.reportSendMessageSuccessResult=a}),98);
__d("MAWEditMessageContext.react",["emptyFunction","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;e=b.createContext;b.useMemo;var j=b.useState;function a(a){var b=d("react-compiler-runtime").c(5);a=a.children;var c=j(null),e=c[0];c=c[1];b[0]!==e?(c={editMessageData:e,setEditMessageData:c},b[0]=e,b[1]=c):c=b[1];e=c;c=e;b[2]!==a||b[3]!==c?(e=i.jsx(k.Provider,{value:c,children:a}),b[2]=a,b[3]=c,b[4]=e):e=b[4];return e}var k=e({editMessageData:null,setEditMessageData:c("emptyFunction")});g.MAWEditMessageContext=a;g.Context=k}),98);
__d("MAWGetEphemeralSettings",["I64","MAWBridgeSendAndReceive","MAWChatJid","ReQL","WAJids","WALogger","WATimeUtils","promiseDone","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["[ephemeral settings in memory]: MAWGetEphemeralSettings api call for chatJid "," returns ",""]);i=function(){return a};return a}var j=c("requireDeferred")("LSDatabaseSingletonLazyWrapper").__setRef("MAWGetEphemeralSettings"),k=c("requireDeferred")("MAWEphemeralSettingsUpdate").__setRef("MAWGetEphemeralSettings");async function a(a,b){if(d("WAJids").switchOnMsgrChatJidType(a,{group:function(){return!1},user:function(){return!0}})){var e=await j.load();e=await e();b=(b=b)!=null?b:await d("MAWChatJid").toThreadKeyMaybe(e.tables,a);if(b!=null){e=await d("ReQL").firstAsync(d("ReQL").fromTableAscending(e.tables.threads).getKeyRange(b));if(e!=null&&e.disappearingSettingTtl!=null){b={ephemeralExpirationInSec:(h||(h=d("I64"))).to_int32(e.disappearingSettingTtl),ephemeralLastUpdatedOrSetTimestamp:e.disappearingSettingUpdatedTs!=null?d("WATimeUtils").castMilliSecondsToUnixTime((h||(h=d("I64"))).to_float(e.disappearingSettingUpdatedTs)):d("WATimeUtils").unixTime()};return b}return}return d("MAWBridgeSendAndReceive").sendAndReceive("backend","getEphemeralSettings",{threadId:a}).then(function(b){d("WALogger").LOG(i(),a,b);if(b!=null){c("promiseDone")(k.load().then(function(c){return c.updateEphemeralSettingsByChatJid(b.ephemeralExpirationInSec,b.ephemeralLastUpdatedOrSetTimestamp,!1,a,!0)}));return b}return void 0})}}g.getEphemeralSetting=a}),98);
__d("MAWMarkMessageSendAsFailedLSDB",["LSFactory","LSMarkOptimisticMessageFailedStoredProcedure"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,d,e,g){return(b=e==null?void 0:e.runInTransaction(async function(b){await c("LSMarkOptimisticMessageFailedStoredProcedure")(c("LSFactory")(b),{errorMessage:d,isRetryable:g,optimisticMid:a})},"readwrite",void 0,void 0,f.id+":29"))!=null?b:Promise.resolve()}g.markMessageSendAsFailed=a}),98);
__d("MAWMessageSendReporterUtils",["WAResultOrError"],(function(a,b,c,d,e,f,g){"use strict";function a(a){if(!Array.isArray(a))return a.success===!0?d("WAResultOrError").makeResult([a.value]):a;else{var b=[];for(a of a){if((a==null?void 0:a.success)===!1)return a;(a==null?void 0:a.value)!=null&&b.push(a.value)}return d("WAResultOrError").makeResult(b)}}function b(a){for(var b of a)switch(b.messageType){case"sendMsg":case"editMsg":case"reactionMsg":case"revokeMsg":case"bumpMsg":case"sendPoll":case"noteReplyMsg":continue;case"fixMe":return!0;default:b.messageType}return a.length===0}g.maybeCombineMultipleSendResults=a;g.getWasOverallOperationANoOp=b}),98);
__d("MAWMessageSendReporterV2",["FBLogger","LSIntEnum","LSMessagingThreadAttributionType","LSMessagingThreadTypeUtil","LSThreadAttributionTypeUtil","MAWMarkMessageSendAsFailedLSDB","MAWMessageSendReporterUtils","MAWMiActGetMappingWithMawTypes","MAWReportSendMessageSuccessResult","MWMsgMediaTypeLogUtils","MWSharedMsgLogUtils","MWSharedS2SBaseAnnotations","ReQL","WAGetSafeQPLError","mergeDeep","promiseDone","qex","sendToSentQPLLogger"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){var b;a===void 0&&(a="exposure_logging_enabled");switch(a){case"exposure_logging_disabled":return(b=c("qex")._("404"))!=null?b:!1;case"exposure_logging_enabled":return(b=c("qex")._("408"))!=null?b:!1;default:a;return!1}}async function b(a,b,e){var f=a.composerEntrypoint,g=a.extraAnnotations;g=g===void 0?{}:g;var j=a.lsSource,k=a.messageTypeParamsArgs,l=a.s2sInstanceKey,m=a.thread,n=a.externalId,o,p=[],q=await d("MWSharedS2SBaseAnnotations").queryMediaStagingAndGetMessageTypeParams(babelHelpers.extends({},k,{db:e,threadKey:m==null?void 0:m.threadKey}));o=q.messageTypeParams;p=q.mediaStagings;q=d("MWMsgMediaTypeLogUtils").getAttachmentType({hasFile:o.hasFile,hasGif:o.hasGif,hasHotEmoji:o.hasHotEmoji,hasImage:o.hasImage,hasLinks:o.hasLinks,hasShare:o.hasShare,hasSticker:o.hasSticker,hasVideo:o.hasVideo,hasVoiceClip:o.hasVoiceClip,isAttachmentsGrouped:o.isAttachmentsGrouped,numberOfAttachments:o.numberOfAttachments,numberOfGroupedAttachments:o.numberOfGroupedAttachments});l=(l=l)!=null?l:d("sendToSentQPLLogger").markSendToSentStart(void 0,q);q=(h||(h=d("LSIntEnum"))).ofNumber(c("LSMessagingThreadAttributionType").UNKNOWN);m!=null?(q=d("LSThreadAttributionTypeUtil").getSourceAndResetAttribution(m.threadKey,j),j=await d("MWSharedMsgLogUtils").getSendToSentAnnotations(m,o,(h||(h=d("LSIntEnum"))).unwrapIntEnum(q),f,n)):(o=d("MWSharedS2SBaseAnnotations").getMessageTypeParams(babelHelpers.extends({},k)),j=await d("MWSharedS2SBaseAnnotations").getSendToSentBaseAnnotations(o,c("LSMessagingThreadAttributionType").UNKNOWN,f,n));m=c("mergeDeep")(j,g);d("sendToSentQPLLogger").addSendToSentAnnotations(l,m);try{k=await b(l,o,p,q);if(k==null)return;f=d("MAWMessageSendReporterUtils").maybeCombineMultipleSendResults(k);if(f.success)d("MAWMessageSendReporterUtils").getWasOverallOperationANoOp(f.value)?(d("sendToSentQPLLogger").markSendToSentPoint(l,"no-op"),d("sendToSentQPLLogger").markSendToSentSuccess(l)):(f.value.forEach(d("MAWReportSendMessageSuccessResult").reportSendMessageSuccessResultFn),d("sendToSentQPLLogger").markSendToSentSuccess(l));else{n=f.error.isRetriable===!0;d("sendToSentQPLLogger").addSendToSentAnnotations(l,{bool:{isRetriable:(j=f.error.isRetriable)!=null?j:!1},int:{errorCode:(g=f.error.errorCode)!=null?g:0},string:{details:(m=f.error.details)!=null?m:""}});d("sendToSentQPLLogger").markSendToSentFail(l,"runtime-failure",void 0,f.error);i(a,n,e)}}catch(b){d("sendToSentQPLLogger").markSendToSentFail(l,"runtime-failure",b),i(a,!1,e,b),c("FBLogger")("messenger_web").catching(b).mustfix("MAWMessageSendReporterV2")}}function i(a,b,e,f){if(e==null)return;var g=a.externalId,h=a.thread;if(h==null||g==null)return;c("promiseDone")(d("ReQL").firstAsync(d("ReQL").fromTableAscending(e.tables.mi_act_mapping_table).getKeyRange(h.threadKey)),async function(a){if(a!=null){a=c("MAWMiActGetMappingWithMawTypes")(a,d("LSMessagingThreadTypeUtil").isGroup(h.threadType));a=a.jid;await d("MAWMarkMessageSendAsFailedLSDB").markMessageSendAsFailed(g,a,d("WAGetSafeQPLError").getSafeQPLErrorMessage(f),e,b)}})}g.isMessageSendReporterV2Enabled=a;g.MAWMessageSendReporterV2=b}),98);
__d("MAWSendFileMsgTypes",["WAStanzaUtils"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return a}function b(a){return d("WAStanzaUtils").toStanzaId(a)}g.toOfflineAttachmentIDFromStanzaId=a;g.toOfflineAttachmentIDFromString=b}),98);
__d("MWChatSettingsQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="9672376216183311"}),null);
__d("MWChatSettingsQuery.graphql",["MWChatSettingsQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"chat_tabs_turned_off",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"chat_sounds_on",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MWChatSettingsQuery",selections:a,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"MWChatSettingsQuery",selections:a},params:{id:b("MWChatSettingsQuery_facebookRelayOperation"),metadata:{},name:"MWChatSettingsQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("MWChatSettingsQuery",["CometRelay","CometRelayEnvironment","MWChatSettingsQuery.graphql","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i=function(a){var b=d("CometRelay").fetchQuery(c("CometRelayEnvironment"),j,{},{fetchPolicy:"store-or-network"}).toPromise().then(function(b){var c;c=b==null?void 0:(c=b.viewer)==null?void 0:c.chat_tabs_turned_off;b=b==null?void 0:(b=b.viewer)==null?void 0:b.chat_sounds_on;a(c,b);return});c("promiseDone")(b)},j=h!==void 0?h:h=b("MWChatSettingsQuery.graphql");a=function(a){i(function(b,c){return a(b)})};e=function(a){i(function(b,c){return a(c!=null&&c)})};g.areChatTabsTurnedOff=a;g.areChatTabsSoundsOn=e}),98);
__d("MWChatThreadId",["FBLogger","I64","LSIntEnum"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a){switch(a.NAME){case"Group":case"User":case"Page":case"UserSecret":return a.VAL}}function b(a){switch(a.NAME){case"Group":return"g."+a.VAL;case"Page":return"p."+a.VAL;case"User":return"u."+a.VAL;case"UserSecret":throw c("FBLogger")("messenger_web").mustfixThrow("MWChatThreadIdType Not supported")}}function e(a){switch(a.targetType){case"GROUP":return{NAME:"Group",VAL:a.targetID};case"PAGE":return{NAME:"Page",VAL:a.targetID};case"USER":return{NAME:"User",VAL:a.targetID};default:throw c("FBLogger")("messenger_web").mustfixThrow("Invalid id")}}function f(a){return a.NAME==="User"}function j(a){return a.NAME==="UserSecret"}function k(a){if(a==null)return;a=a.split(":");if(a.length!==2)return;var b=a[0];a=a[1];switch(b){case"thread":return{NAME:"Group",VAL:a};case"user":return{NAME:"User",VAL:a};default:return}}function l(a){a=a.NAME;if(a==="Group")return(h||(h=d("LSIntEnum"))).ofNumber(2);return a==="User"||a==="Page"?(h||(h=d("LSIntEnum"))).ofNumber(1):(h||(h=d("LSIntEnum"))).ofNumber(7)}function m(a){return(i||(i=d("I64"))).of_string(a.VAL)}g.getFBID=a;g.serializeFuture=b;g.fromJs=e;g.isUser=f;g.isSecret=j;g.deserializeFromLegacyThreadId=k;g.getMessagingThreadType=l;g.toThreadKey=m}),98);
__d("MWPReplyContext.react",["I64","emptyFunction","react","react-compiler-runtime","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||(h=d("react"));b=h;e=b.createContext;b.useCallback;b.useMemo;var k=b.useState,l=c("requireDeferred")("MWPReplyLogging").__setRef("MWPReplyContext.react"),m=e({clearReply:c("emptyFunction"),reply:void 0,setReply:c("emptyFunction")});function n(a){try{return JSON.parse(a)}catch(a){return}}function a(a){var b=d("react-compiler-runtime").c(17),c=a.children,e=a.clearThreadReply,f=a.getRepliesState,g=a.persistRepliesState,h=a.senderId;a=a.threadKey;var o;b[0]!==f||b[1]!==a?(o=f!=null&&a!=null?n(f((i||(i=d("I64"))).to_string(a))):void 0,b[0]=f,b[1]=a,b[2]=o):o=b[2];f=o;a=k(f);var p=a[0],q=a[1];b[3]!==e||b[4]!==p?(o=function(a,b){l.onReady(function(c){c.logClearReply(b,a,p!=null)});q();if(e!=null)return e((i||(i=d("I64"))).to_string(a))},b[3]=e,b[4]=p,b[5]=o):o=b[5];f=o;b[6]!==g||b[7]!==p||b[8]!==h?(a=function(a,b){l.onReady(function(c){c.logSetReply(p,a,b)});q(a);if(g!=null)return g({messageId:a.messageId,offlineThreadingId:a.offlineThreadingId,senderId:h,sendStatusV2:a.sendStatusV2,threadKey:(i||(i=d("I64"))).to_string(b),timestampMs:a.timestampMs})},b[6]=g,b[7]=p,b[8]=h,b[9]=a):a=b[9];o=a;b[10]!==f||b[11]!==p||b[12]!==o?(a={clearReply:f,reply:p,setReply:o},b[10]=f,b[11]=p,b[12]=o,b[13]=a):a=b[13];f=a;o=f;b[14]!==c||b[15]!==o?(a=j.jsx(m.Provider,{value:o,children:c}),b[14]=c,b[15]=o,b[16]=a):a=b[16];return a}g.MWPReplyContext=m;g.MWPReplyContextProvider=a}),98);
__d("MWV2IsTabFocusedContext.react",["react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));c=h;e=c.createContext;var j=c.useContext,k=e(!1);function a(a){var b=d("react-compiler-runtime").c(3),c=a.children;a=a.isFocused;var e;b[0]!==c||b[1]!==a?(e=i.jsx(k.Provider,{value:a,children:c}),b[0]=c,b[1]=a,b[2]=e):e=b[2];return e}function b(){return j(k)}g.MWV2IsTabFocusedContextProvider=a;g.useIsTabFocused=b}),98);
__d("MWXDeferredPopoverTrigger.react",["cr:4346","cr:7154","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var c=d("react-compiler-runtime").c(4);if(b("cr:4346")!=null){var e;c[0]!==a?(e=i.jsx(b("cr:4346"),babelHelpers["extends"]({},a)),c[0]=a,c[1]=e):e=c[1];return e}if(b("cr:7154")!=null){c[2]!==a?(e=i.jsx(b("cr:7154"),babelHelpers["extends"]({},a)),c[2]=a,c[3]=e):e=c[3];return e}return null}g["default"]=a}),98);
__d("useMWFamilyCenterContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");c=b.createContext;var i=b.useContext;e={currentActiveScheduledBreakInterval:null,hasActiveMsgrFamilyCenterEnforcement:!1,isAllowedRoute:!1,shouldHideSidebar:!1,shouldShowDailyTimeLimit:!1,supervisorData:{supervisionStatus:null,supervisor:null,thread:null}};var j=c({familyCenterData:e,setFamilyCenterData:function(){}});function a(){return i(j)}g.emptyFamilyCenterData=e;g.FamilyCenterContext=j;g.useMWFamilyCenterEnforcementsContext=a}),98);/*FB_PKG_DELIM*/
__d("CometEmojiWithContextualSize.react",["CometTextTypography","FDSTextContext","cr:244","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j=new Map([[16,16],[20,16],[24,20],[28,24],[32,30],[38,32]]);function k(){var a=d("react-compiler-runtime").c(2),b=d("FDSTextContext").useFDSTextContext();b=(b=b==null?void 0:b.type)!=null?b:"body4";var e=16;b!=null&&(b in c("CometTextTypography")&&(e=c("CometTextTypography")[b].lineHeight));if(a[0]!==e){b=(b=j.get(e))!=null?b:16;a[0]=e;a[1]=b}else b=a[1];return b}function a(a){var c=d("react-compiler-runtime").c(3),e=k();e=a.size!=null?a.size:e;var f;c[0]!==e||c[1]!==a?(f=a.renderCustomEmoji?a.renderCustomEmoji(e):i.jsx(b("cr:244"),babelHelpers["extends"]({},a,{size:e})),c[0]=e,c[1]=a,c[2]=f):f=c[2];return f}g["default"]=a}),98);
__d("baseTextTransformAllStrings",["DangerouslyAccessReactElementInternals_DO_NOT_USE_IN_NEW_CODE","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function j(a){var b;return((b=c("DangerouslyAccessReactElementInternals_DO_NOT_USE_IN_NEW_CODE")(a))==null?void 0:b.type)===i.Fragment&&typeof ((b=c("DangerouslyAccessReactElementInternals_DO_NOT_USE_IN_NEW_CODE")(a))==null?void 0:(a=b.props)==null?void 0:a.children)==="string"}function k(a,b,c,d){var e;c===void 0&&(c=3);d===void 0&&(d=0);var f=0;if(a==null||typeof a==="number"||typeof a==="boolean")return a;if(typeof a==="string"){var g=a;return b(g,d+"-"+f++)}if(Array.isArray(a))return a.map(function(a){if(j(a))return i.cloneElement(a,{children:b(a.props.children,d+"-"+f++)});return d<c?k(a,b,c,d+1):a});g=i.Children.only(a);if(j(g))return i.cloneElement(g,{children:b(g.props.children,d+"-"+f++)});if(typeof (g==null?void 0:(e=g.props)==null?void 0:e.children)==="string")return i.cloneElement(g,{children:b(g.props.children,d+"-"+f++)});return Array.isArray(g==null?void 0:(e=g.props)==null?void 0:e.children)?i.cloneElement(g,{children:k(g.props.children,b,c,d+1)}):a}k.displayName=k.name+" [from "+f.id+"]";g["default"]=k}),98);
__d("CometEmojiTransform",["CometEmojiWithContextualSize.react","EmojiRenderer","baseTextTransformAllStrings","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a,b){a=a===void 0?{}:a;var e=a.size;return function(a){var f=0;return c("baseTextTransformAllStrings")(a,function(a,b){return d("EmojiRenderer").render(a,function(a){return i.jsx(c("CometEmojiWithContextualSize.react"),{emoji:a,size:e},b+"-"+f++)})},b)}}g["default"]=a}),98);
__d("EmoticonsList",[],(function(a,b,c,d,e,f){e.exports={emotes:{"O:)":"angel","O:-)":"angel","0:)":"angel","0:-)":"angel","'-_-":"coldsweat",":3":"colonthree","o.O":"confused",O_O:"confused",o_o:"confused","0_0":"confused","O.o":"confused_rev",":'(":"cry",":'-(":"cry","3:)":"devil","3:-)":"devil",":dog:":"dog","-3-":"flushkiss",":(":"frown",":-(":"frown",":[":"frown","=(":"frown",")=":"frown",":o":"gasp",":-O":"gasp",":O":"gasp",":-o":"gasp","=D":"grin",":-D":"grin",":D":"grin",">:(":"grumpy",">:-(":"grumpy","<3":"heart","&lt;3":"heart","^_^":"kiki","^~^":"kiki",":*":"kiss",":-*":"kiss","(y)":"like",":like:":"like","(Y)":"like",T_T:"loudly_crying","T-T":"loudly_crying",ToT:"loudly_crying","T.T":"loudly_crying",":-|":"neutral",":|":"neutral",":v":"pacman",":V":"pacman",'<(")':"penguin",">_<":"persevere",">.<":"persevere",":poop:":"poop",":|]":"robot","(^^^)":"shark",":)":"smile",":-)":"smile",":]":"smile","(:":"smile","=)":"smilingface","(=":"smilingface","-_-":"squint","B|":"sunglasses","8-|":"sunglasses","8|":"sunglasses","B-|":"sunglasses","B-)":"sunglasses","8-)":"sunglasses","8)":"sunglasses","(n)":"thumbsdown","(N)":"thumbsdown",":+1:":"thumbsup",":thumbsup:":"thumbsup",":P":"tongue",":-P":"tongue",":-p":"tongue",":p":"tongue","=P":"tongue",":trans:":"transflag",":/":"unsure",":-/":"unsure",":\\":"unsure",":-\\":"unsure","=/":"unsure","=\\":"unsure",">:o":"upset",">:O":"upset",">:-O":"upset",">:-o":"upset",";)":"wink",";-)":"wink",";*":"winkkiss",";-*":"winkkiss",";-P":"winktongue",";P":"winktongue",";-p":"winktongue",";p":"winktongue",":cheese:":"cheesewedge",":eyes:":"eyes",":peek:":"eyes",":clown:":"clown"},symbols:{angel:"O:)",coldsweat:"'-_-",colonthree:":3",confused:"o.O",confused_rev:"O.o",cry:":'(",devil:"3:)",dog:":dog:",flushkiss:"-3-",frown:":(",gasp:":o",grin:"=D",grumpy:">:(",heart:"<3",kiki:"^_^",kiss:":*",like:"(y)",loudly_crying:"T_T",neutral:":-|",pacman:":v",penguin:'<(")',persevere:">_<",poop:":poop:",robot:":|]",shark:"(^^^)",smile:":)",smilingface:"=)",squint:"-_-",sunglasses:"B|",thumbsdown:"(n)",thumbsup:":+1:",tongue:":P",transflag:":trans:",unsure:":/",upset:">:o",wink:";)",winkkiss:";*",winktongue:";-P",cheesewedge:":cheese:",eyes:":eyes:",clown:":clown:"},emoji:{angel:"1f607",coldsweat:"1f613",colonthree:"FACE_WITH_COLON_THREE",confused:"1f633",confused_rev:"1f633",cry:"1f622",devil:"1f608",dog:"1f436",flushkiss:"1f61a",frown:"1f641",gasp:"1f62e",grin:"1f603",grumpy:"1f620",heart:"2764",kiki:"1f60a",kiss:"1f618",like:"LIKE",loudly_crying:"1f62d",neutral:"1f610",pacman:"PACMAN",penguin:"1f427",persevere:"1f623",poop:"1f4a9",robot:"1f916",shark:"1f988",smile:"1f642",smilingface:"1f60a",squint:"1f611",sunglasses:"1f60e",thumbsdown:"1f44e",thumbsup:"1f44d",tongue:"1f61b",transflag:"1f3f3_fe0f_200d_26a7_fe0f",unsure:"1f615",upset:"1f620",wink:"1f609",winkkiss:"1f618",winktongue:"1f61c",cheesewedge:"1f9c0",eyes:"1f440",clown:"1f921"},regexp:/(^|[\s\'\".\(])(O:\)(?!\))|O:\-\)(?!\))|0:\)(?!\))|0:\-\)(?!\))|\'\-_\-|:3|o\.O|O_O|o_o|0_0|O\.o|:\'\(|:\'\-\(|3:\)(?!\))|3:\-\)(?!\))|:dog:|\-3\-|:\(|:\-\(|:\[|=\(|\)=|:o|:\-O|:O|:\-o|=D|:\-D|:D|>:\(|>:\-\(|<3|&lt;3|\^_\^|\^~\^|:\*|:\-\*|\(y\)(?!\))|:like:|\(Y\)(?!\))|T_T|T\-T|ToT|T\.T|:\-\||:\||:v|:V|<\(\"\)(?!\))|>_<|>\.<|:poop:|:\|\]|\(\^\^\^\)(?!\))|:\)(?!\))|:\-\)(?!\))|:\]|\(:|=\)(?!\))|\(=|\-_\-|B\||8\-\||8\||B\-\||B\-\)(?!\))|8\-\)(?!\))|8\)(?!\))|\(n\)(?!\))|\(N\)(?!\))|:\+1:|:thumbsup:|:P|:\-P|:\-p|:p|=P|:trans:|:\/|:\-\/|:\\|:\-\\|=\/|=\\|>:o|>:O|>:\-O|>:\-o|;\)(?!\))|;\-\)(?!\))|;\*|;\-\*|;\-P|;P|;\-p|;p|:cheese:|:eyes:|:peek:|:clown:)([\s\'\".,!?\)]|<br>|$)/,noncapturingRegexp:/(?:^|[\s\'\".\(])(O:\)(?!\))|O:\-\)(?!\))|0:\)(?!\))|0:\-\)(?!\))|\'\-_\-|:3|o\.O|O_O|o_o|0_0|O\.o|:\'\(|:\'\-\(|3:\)(?!\))|3:\-\)(?!\))|:dog:|\-3\-|:\(|:\-\(|:\[|=\(|\)=|:o|:\-O|:O|:\-o|=D|:\-D|:D|>:\(|>:\-\(|<3|&lt;3|\^_\^|\^~\^|:\*|:\-\*|\(y\)(?!\))|:like:|\(Y\)(?!\))|T_T|T\-T|ToT|T\.T|:\-\||:\||:v|:V|<\(\"\)(?!\))|>_<|>\.<|:poop:|:\|\]|\(\^\^\^\)(?!\))|:\)(?!\))|:\-\)(?!\))|:\]|\(:|=\)(?!\))|\(=|\-_\-|B\||8\-\||8\||B\-\||B\-\)(?!\))|8\-\)(?!\))|8\)(?!\))|\(n\)(?!\))|\(N\)(?!\))|:\+1:|:thumbsup:|:P|:\-P|:\-p|:p|=P|:trans:|:\/|:\-\/|:\\|:\-\\|=\/|=\\|>:o|>:O|>:\-O|>:\-o|;\)(?!\))|;\-\)(?!\))|;\*|;\-\*|;\-P|;P|;\-p|;p|:cheese:|:eyes:|:peek:|:clown:)(?:[\s\'\".,!?\)]|<br>|$)/}}),null);
__d("EmoticonRenderer",["EmoticonsList"],(function(a,b,c,d,e,f,g){"use strict";var h=["LIKE","PACMAN","FACE_WITH_COLON_THREE"];function i(a){var b=[],c=new RegExp(d("EmoticonsList").regexp),e=0,f=a.match(c);while(f!==null){var g=f[1],i=f[2].split(""),j=d("EmoticonsList").emotes[f[2]];j=d("EmoticonsList").emoji[j];b.push({chars:i,isCustom:h.includes(j),key:j,offset:e+f.index+g.length});e+=f.index+f[0].length;f=a.slice(e).match(c)}return b}function a(a,b,c){var d=i(a),e=[],f=0;d.forEach(function(d){var g=d.offset;g>f&&e.push(a.substr(f,g-f));d.isCustom?e.push(c(d.key,d.chars)):e.push(b(d.key));f=g+d.chars.length});e.push(a.substr(f,a.length-f));return e}g.parse=i;g.render=a}),98);
__d("CometEmoticonTransform",["CometEmojiWithContextualSize.react","EmoticonRenderer","FBEmojiResource","FBEmojiUtils","baseTextTransformAllStrings","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a,b){a=a===void 0?{}:a;var e=a.size;return function(a){var f=0;return c("baseTextTransformAllStrings")(a,function(a,b){return d("EmoticonRenderer").render(a,function(a){return i.jsx(c("CometEmojiWithContextualSize.react"),{emoji:[d("FBEmojiUtils").codepointsToString(a.split("_").map(function(a){return Number("0x"+a)}))],resource:new(c("FBEmojiResource"))(a),size:e},b+"-"+f++)},function(a,d){return i.jsx(c("CometEmojiWithContextualSize.react"),{emoji:d,resource:new(c("FBEmojiResource"))(a),size:e},b+"-"+f++)})},b)}}g["default"]=a}),98);
__d("CometLineBreakTransform",["baseTextTransformAllStrings","react","react-strict-dom"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");a=function(a){var b=0;return c("baseTextTransformAllStrings")(a,function(a,c){return a.split("\n").reduce(function(a,e,f){return f===0?[].concat(a,[e]):[].concat(a,[i.jsx(d("react-strict-dom").html.br,{},c+"-"+b++),e])},[])})};g["default"]=a}),98);
__d("CometStickerPickerFlyoutTagSelectorRootQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="9359085927550193"}),null);
__d("CometStickerPickerFlyoutTagSelectorRootQuery$Parameters",["CometStickerPickerFlyoutTagSelectorRootQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("CometStickerPickerFlyoutTagSelectorRootQuery_facebookRelayOperation"),metadata:{},name:"CometStickerPickerFlyoutTagSelectorRootQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("CometStickerPickerFlyoutTagSelectorRoot.entrypoint",["CometStickerPickerFlyoutTagSelectorRootQuery$Parameters","JSResourceForInteraction","WebPixelRatio"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){var b=a.count;a=a.cursor;return{queries:{flyoutTagsQueryReference:{parameters:c("CometStickerPickerFlyoutTagSelectorRootQuery$Parameters"),variables:{count:b,cursor:a,scale:d("WebPixelRatio").get()}}}}},root:c("JSResourceForInteraction")("CometStickerPickerFlyoutTagSelectorRoot.react").__setRef("CometStickerPickerFlyoutTagSelectorRoot.entrypoint")};g["default"]=a}),98);
__d("CometUFIReactionsMenuContextProvider",["emptyFunction","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));e=h;var j=e.useContext;e.useMemo;var k=i.createContext({disableAnimationPlayback:!1,focusOnShow:!1,initialReactionID:null,onClose:c("emptyFunction"),onHoverIn:c("emptyFunction"),onHoverOut:c("emptyFunction"),onReactionSelect:c("emptyFunction"),scrubbingMode:!1,shouldFocusOnShow:function(){return!1},showSelectedIndicator:!1});function a(a){var b=d("react-compiler-runtime").c(13),c=a.children;a=a.contextValues;var e=a.disableAnimationPlayback,f=a.initialReactionID,g=a.onClose,h=a.onHoverIn,j=a.onHoverOut,l=a.onReactionSelect,m=a.scrubbingMode,n=a.shouldFocusOnShow;a=a.showSelectedIndicator;var o;b[0]!==e||b[1]!==f||b[2]!==g||b[3]!==h||b[4]!==j||b[5]!==l||b[6]!==m||b[7]!==n||b[8]!==a?(o={disableAnimationPlayback:e,initialReactionID:f,onClose:g,onHoverIn:h,onHoverOut:j,onReactionSelect:l,scrubbingMode:m,shouldFocusOnShow:n,showSelectedIndicator:a},b[0]=e,b[1]=f,b[2]=g,b[3]=h,b[4]=j,b[5]=l,b[6]=m,b[7]=n,b[8]=a,b[9]=o):o=b[9];e=o;f=e;b[10]!==c||b[11]!==f?(g=i.jsx(k.Provider,{value:f,children:c}),b[10]=c,b[11]=f,b[12]=g):g=b[12];return g}function b(){return j(k)}g.CometUFIReactionsMenuContext=k;g.CometUFIReactionsMenuContextProvider=a;g.useCometUFIReactionsMenuContext=b}),98);
__d("FDSContextualMessage.react",["fbt","ix","CometRow.react","CometRowItem.react","FDSIcon.react","FDSTextPairing.react","FbtResultBase","fbicon","react","react-compiler-runtime","stylex"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k,l=k||d("react"),m={root:{borderTopStartRadius:"x1qpq9i9",borderTopEndRadius:"xdney7k",borderBottomEndRadius:"xu5ydu1",borderBottomStartRadius:"xt3gfkd",overflowX:"x6ikm8r",overflowY:"x10wlt62",paddingTop:"x1iorvi4",paddingEnd:"x150jy0e",paddingStart:"x1e558r4",paddingBottom:"x1l90r2v",$$css:!0}},n={highlight:{backgroundColor:"xwnonoy",$$css:!0},"highlight-bg":{backgroundColor:"xfmpgtx",$$css:!0},primary:{backgroundColor:"x1jx94hy",$$css:!0},secondary:{backgroundColor:"xlhe6ec",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(36),e,f,g;b[0]!==a?(f=a.ref,g=a.xstyle,e=babelHelpers.objectWithoutPropertiesLoose(a,["ref","xstyle"]),b[0]=a,b[1]=e,b[2]=f,b[3]=g):(e=b[1],f=b[2],g=b[3]);a=e;var k=a.addOnPrimary,o=a.addOnSecondary,p=a.body,q=a.headline,r=a.headlineLineLimit,s=a.icon,t=a.level,u=a.meta,v=a.paddingTop,w=a.testid;a=a.type;t=t===void 0?3:t;a=a===void 0?"primary":a;var x=e.onClose!=null?e.onClose:null;e=e.headlineAriaLabel!=null?e.headlineAriaLabel:typeof q==="string"||q instanceof c("FbtResultBase")?q:null;var y;b[4]!==a||b[5]!==g?(y=(j||(j=c("stylex"))).props(m.root,n[a],g),b[4]=a,b[5]=g,b[6]=y):y=b[6];b[7]!==s?(g=s!=null?l.jsx(c("CometRowItem.react"),{verticalAlign:"top",children:l.jsx("div",babelHelpers["extends"]({className:"x1rdy4ex"},{children:s}))}):null,b[7]=s,b[8]=g):g=b[8];s=a==="highlight"?"white":"secondary";var z=a==="highlight"?"white":"primary";r=(r=r)!=null?r:2;var A;b[9]!==p||b[10]!==q||b[11]!==t||b[12]!==s||b[13]!==z||b[14]!==r?(A=l.jsx(c("CometRowItem.react"),{expanding:!0,children:l.jsx(c("FDSTextPairing.react"),{body:p,bodyColor:s,headline:q,headlineColor:z,headlineLineLimit:r,isSemanticHeading:!0,level:t})}),b[9]=p,b[10]=q,b[11]=t,b[12]=s,b[13]=z,b[14]=r,b[15]=A):A=b[15];b[16]!==e||b[17]!==x||b[18]!==a?(p=x!=null?l.jsx(c("CometRowItem.react"),{verticalAlign:"top",children:l.jsx("div",babelHelpers["extends"]({className:"xcud41i x9otpla"},{children:l.jsx(c("FDSIcon.react"),{"aria-label":e!=null?h._(/*BTDS*/"Dismiss {card name} card",[h._param("card name",e)]):h._(/*BTDS*/"Dismiss card"),color:a==="highlight"?"white":"secondary",icon:d("fbicon")._(i("478232"),16),onPress:x,size:16,testid:void 0})}))}):null,b[16]=e,b[17]=x,b[18]=a,b[19]=p):p=b[19];b[20]!==v||b[21]!==g||b[22]!==A||b[23]!==p?(q=l.jsxs(c("CometRow.react"),{paddingTop:v,verticalAlign:"center",children:[g,A,p]}),b[20]=v,b[21]=g,b[22]=A,b[23]=p,b[24]=q):q=b[24];b[25]!==t||b[26]!==u?(s=u!=null&&l.jsx(c("CometRow.react"),{paddingTop:12,children:l.jsx(c("CometRowItem.react"),{children:l.jsx(c("FDSTextPairing.react"),{level:t,meta:u})})}),b[25]=t,b[26]=u,b[27]=s):s=b[27];b[28]!==k||b[29]!==o||b[30]!==f||b[31]!==q||b[32]!==s||b[33]!==y||b[34]!==w?(z=l.jsxs("div",babelHelpers["extends"]({},y,{"data-testid":void 0,ref:f,children:[q,k,o,s]})),b[28]=k,b[29]=o,b[30]=f,b[31]=q,b[32]=s,b[33]=y,b[34]=w,b[35]=z):z=b[35];return z}g["default"]=a}),226);
__d("FeedbackSourceType",[],(function(a,b,c,d,e,f){a=Object.freeze({PROFILE:0,NEWS_FEED:1,OBJECT:2,MOBILE:3,EMAIL:4,PROFILE_APPROVAL:10,TICKER:12,NONE:13,INTERN:14,ADS:15,EVENT_GOING_FLYOUT:16,PHOTOS_SNOWLIFT:17,PHOTOS_SNOWFLAKE:20,USER_TIMELINE:21,PAGE_TIMELINE:22,SEARCH:23,PAGE_TAB:24,TIMELINE_COLLECTION:25,ON_THIS_DAY:27,INLINE_COMMENT:28,VIDEOS_CHANNEL:29,PRODUCT_DETAILS:30,NEWSFEED_GROUP_TOP_STORIES:31,LIVE_MAP:32,REDSPACE:33,EVENT_MALL:34,LIVE_VIDEO:35,QUICKSILVER_SPOTLIGHT:36,GROUP_COMMERCE_BOOKMARK:37,WATCH_AND_SCROLL:38,LIVE_WWW_BROADCASTING:39,COMPACT_SEARCH:40,TAHOE:41,GOV_DIGEST:42,GAMEROOM_FEED:43,PAGE_VIDEO_TAB:44,VIDEO_HOME_AFTER_PARTY:45,LIVE_VIDEO_STORIES:46,GAME_HUB_FEED:47,EMBEDED_VIDEO:48,LIVING_ROOM:49,CONSTITUENT_TOP_COMMENTS:50,GAMES_VIDEO_DESTINATION:51,INSTANT_GAMES_LIST:52,INLINE_VIDEO_ENDSCREEN:53,GAMESHOW_DASH:54,PINNED_CONVERSATION:55,MARKETPLACE_MEGAMALL:56,BELL_MESSENGER_LINK:57,SAVE_DASHBOARD:58,BUSINESS_FEED:59,VIDEO_HOME_FEED:60,WORKPLACE_DISCOVERY_FEED:61,MARKETPLACE_YOU_FEED:62,PAGE_INBOX:63,PRODUCT_QUESTION:64,MEDIA_VIEWER:65,PAGE_INBOX_POST_VIEW:66,PHOTO_ALBUM:67,GAMES_VIDEO_CLIPS_HOME_IMMERSIVE_PLAYER:68,GROUPS_TARGETED_TAB:69,LIVE_PRODUCER:70,CREATOR_STUDIO_INBOX:71,CHANNEL_TAB_LIVE_CARD:72,LINEAR_CHANNEL:73,WORKPLACE_KNOWLEDGE:74,CHANNEL_TAB:75,PAGE_LIVE_TAB:76,COMMENT_REPLIES:77,NOTIFICATIONS_TAB:78,NOTIFICATIONS_PREFETCH:79,PHOTO_PERMALINK:80,EXTERNAL_URL:81,STORIES:82,AMA_POST:83,BIZ_WEB_POST_TAB_UFI:84,BIZ_WEB_POST_TAB_FEED_VIEW:85,PROFILE_PLUS_LIVE_CARD:86,STORY_PERMALINK:87,ROOMS_LIVE_VIDEO:88,LIVE_EVENT:89,WORKPLACE_HELPDESK:90,CONTINUOUS_CLOSE:91,WORKPLACE_GARDEN:92,DISCOVERY_HUB:93,GROUP_CONTEXTUAL_PROFILE:94,ACTIVITY_AND_FEEDBACK_TEST:95,WORKSTREAM_STEP_FEED:96,WORKPLACE_KNOWLEDGE_NOTES:97,WORKPLACE_QA:98,LOCPLAT_FBCAT:99,WORKPLACE_PLUGIN:100,WORKPLACE_ADMIN_REPORTED_CONTENT:101,LIVE_ENGAGE_PANEL:102,BULLETIN:103,FB_NOTES:104,SHOP_AND_DISCOVER_SURFACE:105,BIZWEB_RECENT_POSTS_FEED_CARD:106,BUSINESS_COMMENT_INBOX_TAB:107,WORKPLACE_MS_TEAMS:108,CREATOR_STUDIO_INSPIRATION_CHANNEL:109,DEDICATED_COMMENTING_SURFACE:110,REELS_VIEWER:111,GROUP_FEED:112,WORKPLACE_FILE_VIEWER:113,GAME_INTERACTIVES:114,MISINFORMATION_FACT_CHECKER_APP:115,DISCUSSION_POST_DIALOG:116,WORKPLACE_KEY_UPDATES_FEED:117,BIZWEB_BUSINESS_FEED:118,BIZ_TAGGED_CONTENT_TAB:119,BIZAPP_INTERACTIONS_TAB:120,BIZ_INTERACTIONS_COMMENTS_TAB:121,BIZWEB_HOME_TODO_COMMENTS:122,TAHOE_LIVE_REACTIONS_BAR:123,WORKPLACE_APPROVALS:124,MISINFORMATION_FANOUT:125,WORKPLACE_APPROVALS_RFI:126,STORIES_VIEWER:127,VIDEO_FULLSCREEN_PLAYER:128,GROUP_MALL:129,REELS_POST_LOOP:130,FB_ARTICLE:131,MISINFORMATION_HELPFUL_COMMENTS_APP:132,WORKPLACE_TRENDING_TOPICS_FEED:133,WORKPLACE_PLUGIN_GROUP_FEED:134,WORKPLACE_PLUGIN_NEWS_FEED:135,WORKPLACE_PLUGIN_COLLECTION:136,TOWNSQUARE:137,MESSAGING:138,INTERNAL_HELPDESK:139,WORKPLACE_LIVE_STUDIO:140,APPROVALS_SYNC_COMMENT_FROM_INTERN:141,BIZ_INSIGHT:142,WORKPLACE_LONG_READ_POST:143,FB4A_COMMENT_FLYOUT:144,BIZ_WEB_FIRST_COMMENT:145,WORKPLACE_REPOST:146});f["default"]=a}),66);
__d("TrustedTypesLinkTagHTMLPolicy",["TrustedTypes","err"],(function(a,b,c,d,e,f,g){"use strict";a={createHTML:function(a){if(a==="<link />")return a;throw c("err")("Violating Trusted Type policies. Only works for '<link />' strings.")}};b=c("TrustedTypes").createPolicy("link-tag-html",a);d=b;g["default"]=d}),98);
__d("getMarkupWrap",["invariant","ExecutionEnvironment","TrustedTypesLinkTagHTMLPolicy"],(function(a,b,c,d,e,f,g,h){var i,j=(i||c("ExecutionEnvironment")).canUseDOM?document.createElement("div"):null,k={};b=[1,'<select multiple="true">',"</select>"];d=[1,"<table>","</table>"];e=[3,"<table><tbody><tr>","</tr></tbody></table>"];var l=[1,'<svg xmlns="http://www.w3.org/2000/svg">',"</svg>"],m={"*":[1,"?<div>","</div>"],area:[1,"<map>","</map>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],legend:[1,"<fieldset>","</fieldset>"],param:[1,"<object>","</object>"],tr:[2,"<table><tbody>","</tbody></table>"],optgroup:b,option:b,caption:d,colgroup:d,tbody:d,tfoot:d,thead:d,td:e,th:e};f=["circle","clipPath","defs","ellipse","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","text","tspan"];f.forEach(function(a){m[a]=l,k[a]=!0});function a(a){a=a;!j&&h(0,144);Object.prototype.hasOwnProperty.call(m,a)||(a="*");Object.prototype.hasOwnProperty.call(k,a)||(a==="*"?j.innerHTML=c("TrustedTypesLinkTagHTMLPolicy").createHTML("<link />"):j.innerHTML="<"+a+"></"+a+">",k[a]=!j.firstChild);return k[a]?m[a]:null}g["default"]=a}),98);
__d("createNodesFromMarkup",["invariant","ExecutionEnvironment","TrustedTypesNoOpPolicy_DO_NOT_USE","getMarkupWrap"],(function(a,b,c,d,e,f,g,h){var i,j=(i||c("ExecutionEnvironment")).canUseDOM?document.createElement("div"):null,k=/^\s*<(\w+)/;function l(a){a=a.match(k);return a&&a[1].toLowerCase()}function a(a,b){var d=j;!j&&h(0,5001);var e=l(a);e=e&&c("getMarkupWrap")(e);if(e){d.innerHTML=e[1]+a+e[2];e=e[0];while(e--)d=d.lastChild}else d.innerHTML=c("TrustedTypesNoOpPolicy_DO_NOT_USE").createHTML(a);e=d.getElementsByTagName("script");e.length&&(b||h(0,5002),Array.from(e).forEach(b));a=Array.from(d.childNodes);while(d.lastChild)d.removeChild(d.lastChild);return a}g["default"]=a}),98);
__d("evalGlobal",[],(function(a,b,c,d,e,f){function a(a){if(typeof a!=="string")throw new TypeError("JS sent to evalGlobal is not a string. Only strings are permitted.");if(!a)return;var b=document.createElement("script");try{b.appendChild(document.createTextNode(a))}catch(c){b.text=a}a=document.getElementsByTagName("head")[0]||document.documentElement;a.appendChild(b);a.removeChild(b)}f["default"]=a}),66);
__d("HTML",["invariant","Bootloader","FBLogger","createNodesFromMarkup","emptyFunction","evalGlobal"],(function(a,b,c,d,e,f,g){var h=/(<(\w+)[^>]*?)\/>/g,i={abbr:!0,area:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,link:!0,meta:!0,param:!0};a=function(){"use strict";function a(c){c&&typeof c.__html==="string"&&(c=c.__html);if(!(this instanceof a))return c instanceof a?c:new a(c);if(c){var d=typeof c;d==="string"||g(0,277,d)}this._markup=c||"";this._defer=!1;this._nodes=null;this._inlineJS=b("emptyFunction");this._rootNode=null;this._hasInlineJs=!1}var c=a.prototype;c.toString=function(){return this._markup};c.getContent=function(){return this._markup};c.getNodes=function(){this._fillCache();return this._nodes};c.getRootNode=function(){this._rootNode&&g(0,278);var a=this.getNodes();if(a.length===1)this._rootNode=a[0];else{var b=document.createDocumentFragment();for(var c=0;c<a.length;c++)b.appendChild(a[c]);this._rootNode=b}return this._rootNode};c.getAction=function(){var a=this;this._fillCache();var b=function(){a._inlineJS()};return this._defer?function(){setTimeout(b,0)}:b};c._fillCache=function(){if(this._nodes!==null)return;if(!this._markup){this._nodes=[];return}var a=this._markup.replace(h,function(a,b,c){return i[c.toLowerCase()]?a:b+"></"+c+">"}),c=null;a=b("createNodesFromMarkup")(a,function(a){b("FBLogger")("staticresources").warn("HTML: encountered script node while parsing, hasSrc=%s, type=%s",Boolean(a.src),a.type==null||a.type===""?"<unknown>":a.type),a.type!=="application/ld+json"&&a.type!=="application/json"&&(c=c||[],c.push(a.src?b("Bootloader").requestJSResource_UNSAFE_NEEDS_REVIEW_BY_SECURITY_AND_XFN.bind(b("Bootloader"),a.src):b("evalGlobal").bind(null,a.innerHTML)),a.parentNode.removeChild(a))});c&&(this._hasInlineJs=!0,this._inlineJS=function(){for(var a=0;a<c.length;a++)c[a]()});this._nodes=a};c.setDeferred=function(a){this._defer=!!a;return this};c.hasInlineJs=function(){return this._hasInlineJs};a.isHTML=function(b){return!!b&&(b instanceof a||b.__html!==void 0)};a.replaceJSONWrapper=function(b){return b&&b.__html!==void 0?new a(b.__html):b};return a}();e.exports=a}),null);
__d("JSEnumValueToGraphQLKey",["flipObject"],(function(a,b,c,d,e,f,g){"use strict";var h=typeof WeakMap==="function"?new WeakMap():{get:function(a){return null},set:function(a,b){}};function i(a){var b=h.get(a);if(b!=null)return b;b=c("flipObject")(a);h.set(a,b);return b}function a(a,b){a=i(a);return a[b]}g["default"]=a}),98);
__d("lastx",["invariant"],(function(a,b,c,d,e,f,g,h){"use strict";function a(a){var b=null;if(Array.isArray(a))a.length&&(b={value:a[a.length-1]});else for(a of a)b=b||{},b.value=a;if(b)return b.value;h(0,1145)}g["default"]=a}),98);
__d("MultiKeyMap",["invariant","lastx"],(function(a,b,c,d,e,f,g,h){"use strict";var i=typeof WeakMap==="function";a=function(){function a(){this.$1=this.$2(),this.$3=null}var b=a.prototype;b.set=function(a,b){this.$4(a);var c=this.$1;for(var d=0;d<a.length-1;d++){var e=a[d],f=this.$5(c,e).get(e);f==null&&(f=this.$2(),this.$5(c,e).set(e,f));f.type==="map"||h(0,1732);c=f}e=a[a.length-1];this.$5(c,e).set(e,{type:"value",value:b})};b.get=function(a){this.$4(a);var b=this.$6(a);b=b&&b.get(c("lastx")(a));return b==null||b.type!=="value"?void 0:b.value};b["delete"]=function(a){this.$4(a);var b=this.$6(a);return b?b["delete"](c("lastx")(a)):!1};b.$5=function(a,b){return j(b)?a.cache:a.weakCache};b.$6=function(a){var b=this.$1;for(var d=0;d<a.length-1;d++){var e,f=a[d];if(((e=b)==null?void 0:e.type)==="map")b=this.$5(b,f).get(f);else return void 0}e=c("lastx")(a);f=b&&this.$5(b,e);return f};b.$2=function(){return{type:"map",cache:new Map(),weakCache:i?new WeakMap():new Map()}};b.$4=function(a){this.$3==null&&(this.$3=a.length);if(this.$3!==a.length)throw new Error("MultiKeyMap called with different number of keys");if(a.length<1)throw new Error("MultiKeyMap called with empty array of keys")};return a}();function j(a){var b=typeof a;return b==="number"||b==="string"||b==="boolean"||a==null}g["default"]=a}),98);
__d("UFIODSLogger",["CurrentUser","ODS","Random"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b){if(c("CurrentUser").isLoggedIn()){a=a+"."+b;b=i(a);d("Random").coinflip(b)&&(h||(h=d("ODS"))).bumpEntityKey(2507,"www.ufi",a,b)}}function i(a){if(c("CurrentUser").isEmployee())return 1;switch(a){case"componentDidMount.feedstory.relay":return 8763;case"comment.newsfeed.toplevel.componentDidMount.relay":return 7092;case"composer.newsfeed.toplevel.componentDidMount.relay":return 4353;case"attachment_render.any.relay":return 1677;case"comment.newsfeed.replies.componentDidMount.relay":return 1119;case"actor_selector.component_did_mount.relay":return 864;case"componentDidMount.snowlift.relay":return 585;case"comment.newsfeed.toplevel.componentDidMount.comet":return 337;case"composer.newsfeed.toplevel.componentDidMount.comet":return 316;case"composer.newsfeed.replies.componentDidMount.relay":return 285;case"reaction.mutation.attempt.1.relay":return 230;case"reaction.newsfeed.mutation.attempt.1.relay":return 180;case"comment.newsfeed.replies.componentDidMount.comet":return 69;case"componentDidMount.legacy":return 40;case"comment.newsfeed.toplevel.componentDidMount.legacy":return 31;case"componentDidMount.tahoe2.relay":return 29;case"composer.newsfeed.toplevel.componentDidMount.legacy":return 20;case"composer.newsfeed.replies.componentDidMount.comet":return 15;case"actor_selector.component_did_mount.legacy":return 8;case"componentDidMount.tahoe1.legacy":return 7;case"componentDidMount.vhfeedstory.relay":return 6;case"componentDidMount.workplace.relay":return 6;case"prefill_mention_plugin.prefill_requested.with_implementation.relay":return 4;case"componentDidMount.tahoe2.legacy":return 3;case"comment.newsfeed.replies.componentDidMount.legacy":return 2;default:return 1}}g.bump=a}),98);
__d("cometIsMimeTypeForMedia",["FBLogger","UFICommentFileInputAcceptValues"],(function(a,b,c,d,e,f,g){"use strict";var h={file:null,photo:null,video:null},i={"image/gif":"video","image/webp":"video"};function j(a){return a.split(",").map(function(a){return a.trim()}).map(function(a){return a.replace(/\/\*$/,"/")})}function k(a,b,d){h[a]==null&&(h[a]=j(d));d=h[a];if(d==null)throw c("FBLogger")("ufi2").mustfixThrow("CometIsMimeTypeForMedia prefixes can't be null");var e=i[b];return e!=null?e===a:d.some(function(a){return b.startsWith(a)})}function a(a){return k("photo",a,d("UFICommentFileInputAcceptValues").photos)}function b(a){return k("video",a,d("UFICommentFileInputAcceptValues").videos)}function e(a){return k("file",a,d("UFICommentFileInputAcceptValues").files)}g.mimeTypeAcceptStringToArray=j;g.isMimeTypeForPhoto=a;g.isMimeTypeForVideo=b;g.isMimeTypeForFile=e}),98);
__d("memoizeWithArgsWeak",["MultiKeyMap"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){b===void 0;var d=new(c("MultiKeyMap"))();return function(){for(var b=arguments.length,c=new Array(b),e=0;e<b;e++)c[e]=arguments[e];var f=d.get(c);if(f!==void 0)return f;var g=a.apply(void 0,c);d.set(c,g);return g}}g["default"]=a}),98);
__d("requireNUX",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){throw new Error("Cannot use raw untransformed requireNUX.")}f["default"]=a}),66);/*FB_PKG_DELIM*/
__d("FBIconCheckmarkCircleFilled12.svg.react",["XPlatReactSVG","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs(d("XPlatReactSVG").Svg,babelHelpers["extends"]({viewBox:"0 0 12 13",width:"1em",height:"1em",fill:"currentColor",title:a.title},a,{children:[a.children!=null&&i.jsx(d("XPlatReactSVG").Defs,{children:a.children}),i.jsx(d("XPlatReactSVG").G,{fillRule:"evenodd",transform:"translate(-450 -1073)",children:i.jsx(d("XPlatReactSVG").Path,{d:"m459.3 1078.26-3.718 4a.75.75 0 0 1-1.099 0l-1.79-1.925a.75.75 0 0 1 1.1-1.022l1.24 1.335 3.168-3.409a.75.75 0 0 1 1.098 1.022m-3.3-4.76c-3.308 0-6 2.69-6 6 0 3.308 2.692 6 6 6 3.31 0 6-2.692 6-6 0-3.31-2.69-6-6-6"})})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;b=a;g["default"]=b}),98);
__d("MAWExternalLinkUtil",["FBLogger","MAWOembedHelper","MAWOembedIframeContainer.react","gkx","setTimeout"],(function(a,b,c,d,e,f,g){"use strict";var h=[],i=["image/png","image/jpeg","image/jpg"],j=2*1e3;function k(a){return new Promise(function(b){return c("setTimeout")(b,a)})}function l(a){return Promise.race([a,k(j)])}function a(a){if(a==null)return null;var b=null;a=a.find(function(a){return Object.values(p).some(function(c){var d=c.schemes;c=c.url;d=d.some(function(b){return b.test(a.entity.url)});d&&(b=c);return d})});return a==null||b==null?null:{oEmbedRequest:b+"?url="+encodeURIComponent(a.entity.url)+"&format=json",oEmbedUrl:a.entity.url}}async function b(a){var b,e=a.fallbackUrl,f=a.qplEvent;a=a.request;b=(b=window.frames["maw-intermediate-iframe"])!=null?b:null;if(b==null){d("MAWOembedIframeContainer.react").createMAWOembedIframeContainer();if(window.frames["maw-intermediate-iframe"]==null){f==null?void 0:f.addPoint("get_oembed_response_returned_null",{string:{get_oembed_response_return:"iframe cannot be found."}});c("FBLogger")("messenger_web_sharing").warn("[external link] Cannot find the iframe to request oembed url response.");return}}try{a=await l(d("MAWOembedIframeContainer.react").requestUrl(a,d("MAWOembedHelper").MAWOembedIFrameMessageType.OEMBED_REQUEST_URL,b));if(a==null||a instanceof Blob){f==null?void 0:f.addPoint("get_oembed_response_returned_null",{string:{get_oembed_response_returned_null:"oembedResponse is null or an instance of Blob."}});c("FBLogger")("messenger_web").warn("[external link] Failed to fetch oEmbed response: expected json response but got blob.");return}return m({fallbackUrl:e,rawResponse:a})}catch(a){f==null?void 0:f.addPoint("get_oembed_response_returned_null",{string:{get_oembed_response_returned_null:"Error thrown when trying to fetch oembed response in iframe."}});c("FBLogger")("messenger_web").warn("[External link] Error thrown when trying to fetch oembed response in iframe.");return}}async function e(a){var b=a.qplEvent;a=a.xmaData;if(a==null)return Promise.resolve();var e=q(a.url);e=h.includes(e);if(e)return Promise.resolve();e=a==null?void 0:a.thumbnail_url;if(e!=null&&n.test(e)&&!c("gkx")("10935")){b==null?void 0:b.addPoint("get_image_blob_response_returned_null",{string:{get_image_blob_response_returned_null:"imageBlobResponse is not instance of Blob"}});c("FBLogger")("messenger_web").warn("[external link] Failed to fetch image blob response. ");return Promise.resolve()}if(e==null||!Boolean(e)){b==null?void 0:b.addPoint("get_image_blob_response_returned_null",{string:{get_image_blob_response_returned_null:"url was null or undefined"}});return Promise.resolve()}a=(a=window.frames["maw-intermediate-iframe"])!=null?a:null;if(a==null){d("MAWOembedIframeContainer.react").createMAWOembedIframeContainer();if(window.frames["maw-intermediate-iframe"]==null){b==null?void 0:b.addPoint("get_image_blob_response_returned_null",{string:{get_image_blob_response_returned_null:"iframe cannot be found."}});c("FBLogger")("messenger_web").warn("[external link] Cannot find the iframe to request image blob response.");return}}e=await l(d("MAWOembedIframeContainer.react").requestUrl(e,d("MAWOembedHelper").MAWOembedIFrameMessageType.THUMBNAIL_URL,a));if(e instanceof Blob)return e;b==null?void 0:b.addPoint("get_image_blob_response_returned_null",{string:{get_image_blob_response_returned_null:"imageBlobResponse is not instance of Blob"}});c("FBLogger")("messenger_web").warn("[external link] Failed to fetch image blob response. ");return Promise.resolve()}function m(a){var b,d=a.fallbackUrl;a=a.rawResponse;if(a.version!=="1.0")throw c("FBLogger")("messenger_web").mustfixThrow("Unsupported response version from oEmbed API");if(a.type==="photo"&&a.url==null)throw c("FBLogger")("messenger_web").mustfixThrow("Unsupported response from oEmbed API: photo does not have url field");return{author_name:a.author_name!=null?decodeURIComponent(a.author_name):void 0,height:a.height,thumbnail_height:a.thumbnail_height,thumbnail_url:a.thumbnail_url,thumbnail_width:a.thumbnail_width,title:a.title!=null?decodeURIComponent(a.title):void 0,type:a.type,url:(b=a.url)!=null?b:d,width:a.width}}function f(a){var b=o.some(function(b){return b.test(a)});return b?!0:Object.values(p).some(function(b){b=b.url;return a.startsWith(b)})}var n=new RegExp("^http(?:s)?:\\/\\/i\\.ytimg\\.com.+$"),o=[new RegExp("^http(?:s)?:\\/\\/i1\\.sndcdn\\.com.+$"),new RegExp("^http(?:s)?:\\/\\/i\\.scdn\\.co.+$"),new RegExp("^http(?:s)?:\\/\\/(?:#!)?[^#?\\/]+\\.cloudfront\\.net.+$"),new RegExp("^http(?:s)?:\\/\\/pi\\.tedcdn\\.com.+$"),new RegExp("^http(?:s)?:\\/\\/static01\\.nyt\\.com.+$"),new RegExp("^http(?:s)?:\\/\\/i\\.vimeocdn\\.com.+$"),new RegExp("^http(?:s)?:\\/\\/(?:#!)?[^#?\\/]+\\.tiktokcdn\\.com.+$"),n],p={NYTimes:{discovery:!0,schemes:[new RegExp("^http(?:s)?:\\/\\/www\\.nytimes\\.com\\/svc\\/oembed$"),new RegExp("^http(?:s)?:\\/\\/nytimes\\.com\\/.+$"),new RegExp("^http(?:s)?:\\/\\/(?:[-\\w]+\\.)?nytimes\\.com\\/.+$")],url:"https://www.nytimes.com/svc/oembed/json/"},SoundCloud:{schemes:[new RegExp("^http(?:s)?:\\/\\/soundcloud\\.com\\/.+$"),new RegExp("^http(?:s)?:\\/\\/on\\.soundcloud\\.com\\/.+$"),new RegExp("^http(?:s)?:\\/\\/soundcloud\\.app\\.goog\\.gl\\/.+$")],url:"https://soundcloud.com/oembed"},Spotify:{discovery:!0,schemes:[new RegExp("^http(?:s)?:\\/\\/open\\.spotify\\.com\\/.+$")],url:"https://open.spotify.com/oembed"},Spreaker:{discovery:!0,schemes:[new RegExp("^http(?:s)?:\\/\\/(?:[-\\w]+\\.)?spreaker\\.com\\/.+$")],url:"https://api.spreaker.com/oembed"},TED:{discovery:!0,schemes:[new RegExp("^http(?:s)?:\\/\\/ted\\.com\\/talks\\/.+$"),new RegExp("^http(?:s)?:\\/\\/www\\.ted\\.com\\/talks\\/.+$")],url:"https://www.ted.com/services/v1/oembed.json"},TikTok:{schemes:[new RegExp("^http(?:s)?:\\/\\/www\\.tiktok\\.com\\/.+$"),new RegExp("^http(?:s)?:\\/\\/www\\.tiktok\\.com\\/(?:#!)?[^#?\\/]+\\/video\\/.+$")],url:"https://www.tiktok.com/oembed"},Vimeo:{discovery:!0,schemes:[new RegExp("^http(?:s)?:\\/\\/vimeo\\.com\\/.+$"),new RegExp("^http(?:s)?:\\/\\/vimeo\\.com\\/album\\/(?:#!)?[^#?\\/]+\\/video\\/.+$"),new RegExp("^http(?:s)?:\\/\\/vimeo\\.com\\/channels\\/(?:#!)?[^#?\\/]+\\/.+$"),new RegExp("^http(?:s)?:\\/\\/vimeo\\.com\\/groups\\/(?:#!)?[^#?\\/]+\\/video\\/.+$"),new RegExp("^http(?:s)?:\\/\\/vimeo\\.com\\/ondemand\\/(?:#!)?[^#?\\/]+\\/.+$"),new RegExp("^http(?:s)?:\\/\\/player\\.vimeo\\.com\\/video\\/.+$")],url:"https://vimeo.com/api/oembed.json"},youtube:{discovery:!0,schemes:[new RegExp("^http(?:s)?:\\/\\/(?:[-\\w]+\\.)?youtube\\.com\\/watch.+$"),new RegExp("^http(?:s)?:\\/\\/(?:[-\\w]+\\.)?youtube\\.com\\/v\\/.+$"),new RegExp("^http(?:s)?:\\/\\/youtu\\.be\\/.+$"),new RegExp("^http(?:s)?:\\/\\/(?:[-\\w]+\\.)?youtube\\.com\\/playlist\\?list\\=.+$"),new RegExp("^http(?:s)?:\\/\\/youtube\\.com\\/playlist\\?list\\=.+$"),new RegExp("^http(?:s)?:\\/\\/(?:[-\\w]+\\.)?youtube\\.com\\/shorts.+$")],url:"https://www.youtube.com/oembed"}};function q(a){return Object.keys(p).find(function(b){return p[b].schemes.some(function(b){return b.test(a)})})}g.allowedPreviewTypes=i;g.findFirstAvailableOembedUrlAndRequestPair=a;g.getOembedResponse=b;g.getImageBlobResponse=e;g.isAllowedRequestForFbsbx=f}),98);
__d("MAWOembedHelper",["$InternalEnum","ConstUriUtils","FBLogger","MAWExternalLinkUtil","SecureMessageListener","SecurePostMessage","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h=["facebook.com","messenger.com","instagram.com","internalfb.com"];function i(a){if(a==null||typeof a!=="object")return null;var b=a.requestURL;a=a.requestMessageType;if(typeof a!=="string"||typeof b!=="string"||!d("ConstUriUtils").isValidUri(b))return null;a=j.cast(a);return a==null||a!==j.OEMBED_REQUEST_URL&&a!==j.THUMBNAIL_URL?null:[a,b]}function a(){var a=null,b=new(c("SecureMessageListener"))(window);function e(b){a=b.origin;b=b.data;b=i(b);if(b==null)return;var e=b[0],g=b[1];if(!d("MAWExternalLinkUtil").isAllowedRequestForFbsbx(g))return;c("promiseDone")(window.fetch(g).then(function(a){a.status!==200&&c("FBLogger")("messenger_web").mustfix("[external link] fbsbx page fetching for the response is not successful.");switch(e){case j.OEMBED_REQUEST_URL:return a.json();case j.THUMBNAIL_URL:return a.blob()}}).then(function(a){f({type:e,url:g,value:a})})["catch"](function(){c("FBLogger")("messenger_web").warn("[external link] Failed to fetch response in helper js.")}))}b.setEventHandler(e).setSupportedOrigins(h);b.beginListening();function f(b,d){var e=(d=d)!=null?d:1;if(a==null){e<=3&&window.setTimeout(function(){f(b,e+1)},250*Math.pow(2,e*e));return}c("SecurePostMessage").sendMessageToSpecificOrigin(window.parent,b,a)}}var j=b("$InternalEnum").Mirrored(["OEMBED_REQUEST_URL","THUMBNAIL_URL"]);g.init=a;g.MAWOembedIFrameMessageType=j}),98);
__d("XFBSbxMAWProxyPageControllerRouteBuilder",["jsRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsRouteBuilder")("/maw_proxy_page/",Object.freeze({}),void 0);b=a;g["default"]=b}),98);
__d("MAWOembedIframeContainer.react",["CookieConsentIFrameConfig","FBLogger","MAWOembedHelper","Promise","SecureMessageListener","SecurePostMessage","WAResolvable","XFBSbxMAWProxyPageControllerRouteBuilder"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(){return"www.fbsbx.com"}var j=new Map(),k=null;function a(a,e,f){var g=j.get(a);if(g!=null)return g.promise;g=n(i());if(g==null)return(h||(h=b("Promise"))).resolve();c("SecurePostMessage").sendMessageToSpecificOrigin(f.contentWindow,{requestMessageType:e,requestURL:a},g);f=new(d("WAResolvable").Resolvable)();j.set(a,f);return f.promise}function l(a){if(a==null||typeof a!=="object")return null;var b=a.url,e=a.value;a=a.type;if(b==null||e==null||a==null||typeof a!=="string")return null;var f=d("MAWOembedHelper").MAWOembedIFrameMessageType.cast(a);if(typeof b==="string"&&f!=null){if(f===d("MAWOembedHelper").MAWOembedIFrameMessageType.THUMBNAIL_URL&&e instanceof Blob)return{type:d("MAWOembedHelper").MAWOembedIFrameMessageType.THUMBNAIL_URL,url:b,value:e};if(f===d("MAWOembedHelper").MAWOembedIFrameMessageType.OEMBED_REQUEST_URL&&typeof e==="object"&&e.title!=null&&e.thumbnail_url!=null){f={author_name:typeof e.author_name==="string"?e.author_name:void 0,height:typeof e.height==="number"?e==null?void 0:e.height:150,thumbnail_height:typeof e.thumbnail_height==="number"?e.thumbnail_height:void 0,thumbnail_url:typeof e.thumbnail_url==="string"?e.thumbnail_url:void 0,thumbnail_width:typeof e.thumbnail_width==="number"?e.thumbnail_width:void 0,title:typeof e.title==="string"?e.title:void 0,type:typeof e.type==="string"?e.type:"photo",version:typeof e.version==="string"?e.version:"1.0",width:typeof e.width==="number"?e.width:200};return{type:d("MAWOembedHelper").MAWOembedIFrameMessageType.OEMBED_REQUEST_URL,url:b,value:f}}}c("FBLogger")("messenger_web").warn("Failed to handle message %s from fbsbx: cannot process event message in the correct format",a);return null}var m=function(a){a=l(a.data);if(a==null)return;var b=a.url;a=a.value;b=j.get(b);if(b==null){c("FBLogger")("messenger_web").warn("Failed to handle message from fbsbx: cannot find the resolvable promise for the url");return}b.resolve(a)};function e(){var a;a=(a=window.frames["maw-intermediate-iframe"])!=null?a:null;var b=n(i());if(a!=null){(a=k)==null?void 0:a.beginListening();return k}if(b==null){c("FBLogger")("messenger_web").warn("Failed to create maw-intermediate-iframe iFrame: cannot find the fbsbxUri");return}a=document.createElement("iframe");a.style.display="none";a.className="MAWOembedIframe";a.id="maw-intermediate-iframe";a.src=b;(b=document.body)==null?void 0:b.appendChild(a);k=new(c("SecureMessageListener"))(window).setEventHandler(m).setSupportedOrigins(["fbsbx.com"]);k.beginListening();return k}function n(a){var b;return(b=c("XFBSbxMAWProxyPageControllerRouteBuilder").buildUri({__cci:(b=c("CookieConsentIFrameConfig").consent_param)!=null?b:""}).setProtocol("https"))==null?void 0:(b=b.setDomain(a))==null?void 0:b.toString()}g.requestUrl=a;g.createMAWOembedIframeContainer=e}),98);
__d("MAWLoadingStateOutstandingOfflineQueueSelector",["MAWSharedProtocolQueueConst"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){return function(b){var c=b.offlineQueueCount,e=b.offlineQueueSyncState;b=b.offlineQueueThreadStatus;if(a!=null&&Object.keys(b).length>0){return b[a]!=null&&((b=b[a])==null?void 0:b.snippetStatus)!==d("MAWSharedProtocolQueueConst").OfflineConsumerStatus.Complete}return c>0&&e!==d("MAWSharedProtocolQueueConst").OfflineConsumerStatus.Complete}};g.outstandingOfflineQueueSelector=a}),98);
__d("MAWOfflineQueueState-resolver",["MAWOfflineQueueState"],(function(a,b,c,d,e,f,g){"use strict";function a(){return{read:function(){return d("MAWOfflineQueueState").offlineQueueState.getSnapshot()},subscribe:function(a){return d("MAWOfflineQueueState").offlineQueueState.subscribe(a)}}}g.offlineQueueStats=a}),98);
__d("MWChatFocusComposerContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));c=h;e=c.createContext;var j=c.useContext,k=c.useMemo,l=c.useRef,m=e({focusComposer:void 0,setFocusComposer:function(){}});function a(a){a=a.children;var b=l(),c=b.current,d=k(function(){return{focusComposer:c,setFocusComposer:function(a){b.current=a}}},[c]);return i.jsx(m.Provider,{value:d,children:a})}a.displayName=a.name+" [from "+f.id+"]";function b(){return j(m)}g.MWChatFocusComposerContextProvider=a;g.useMWChatFocusComposer=b}),98);
__d("MWChatHeaderActionButton.react",["MWXCircleButton.react","MWXTooltip.react","MessengerWebUXLogger","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(24),e,f,g,h,j,k,l,m;b[0]!==a?(f=a.loggingEvent,h=a.ref,k=a.size,l=a.tooltipLabel,m=a.tooltipPosition,e=a.color,g=a.onPress,j=babelHelpers.objectWithoutPropertiesLoose(a,["loggingEvent","ref","size","tooltipLabel","tooltipPosition","color","onPress"]),b[0]=a,b[1]=e,b[2]=f,b[3]=g,b[4]=h,b[5]=j,b[6]=k,b[7]=l,b[8]=m):(e=b[1],f=b[2],g=b[3],h=b[4],j=b[5],k=b[6],l=b[7],m=b[8]);a=c("MessengerWebUXLogger").useLogOnPressInteraction();var n;b[9]!==a||b[10]!==f||b[11]!==g?(n=a(g,f),b[9]=a,b[10]=f,b[11]=g,b[12]=n):n=b[12];a=n;g=(f=k)!=null?f:28;b[13]!==e||b[14]!==a||b[15]!==h||b[16]!==j||b[17]!==g||b[18]!==l?(n=i.jsx(c("MWXCircleButton.react"),babelHelpers["extends"]({color:e,label:l,onPress:a,ref:h,size:g,type:"deemphasized"},j)),b[13]=e,b[14]=a,b[15]=h,b[16]=j,b[17]=g,b[18]=l,b[19]=n):n=b[19];k=n;if(l==null)return k;e=(f=m)!=null?f:"above";b[20]!==k||b[21]!==e||b[22]!==l?(a=i.jsx(c("MWXTooltip.react"),{align:"middle",position:e,tooltip:l,children:k}),b[20]=k,b[21]=e,b[22]=l,b[23]=a):a=b[23];return a}g["default"]=a}),98);
__d("MWChatTabFocusHandler",["CometHideLayerOnEscape.react","FocusWithinHandler.react","MWChatFocusComposerContext","react","react-compiler-runtime","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react"));b=i;b.useCallback;var k=b.useRef,l={root:{height:"x5yr21d",":focus_outline":"x1uvtmcs",$$css:!0}};function m(){try{var a;return((a=document.activeElement)==null?void 0:a.getAttribute("data-release-focus-from"))==="CLICK"}catch(a){return!1}}function a(a){var b=d("react-compiler-runtime").c(22),e=a.children,f=a.disableAutoFocus,g=a.onBlur,i=a.onEscape,n=a.onFocus;a=a.xstyle;var o=k(null),p=d("MWChatFocusComposerContext").useMWChatFocusComposer();p=p.focusComposer;var q;q=p;f===!0&&(q=void 0);b[0]!==q?(p=function(){if(o.current!=null&&q!=null&&window.getSelection().toString()===""&&(o.current===document.activeElement||m()))return q()},b[0]=q,b[1]=p):p=b[1];q;f=p;b[2]!==g?(p=function(){return g==null?void 0:g()},b[2]=g,b[3]=p):p=b[3];var r;b[4]!==q||b[5]!==n?(r=function(a){a.target instanceof HTMLElement&&a.target.getAttribute("data-prevent_chattab_focus")==null&&(n==null?void 0:n()),o.current!=null&&q!=null&&o.current===a.target&&q()},b[4]=q,b[5]=n,b[6]=r):r=b[6];var s;b[7]!==i?(s=function(){return i==null?void 0:i()},b[7]=i,b[8]=s):s=b[8];var t;b[9]!==a?(t=(h||(h=c("stylex"))).props(l.root,a),b[9]=a,b[10]=t):t=b[10];b[11]!==e||b[12]!==f||b[13]!==t?(a=j.jsx("div",babelHelpers["extends"]({},t,{onClick:f,ref:o,role:"none",tabIndex:-1,children:e})),b[11]=e,b[12]=f,b[13]=t,b[14]=a):a=b[14];b[15]!==s||b[16]!==a?(e=j.jsx(c("CometHideLayerOnEscape.react"),{onHide:s,children:a}),b[15]=s,b[16]=a,b[17]=e):e=b[17];b[18]!==p||b[19]!==r||b[20]!==e?(f=j.jsx(c("FocusWithinHandler.react"),{onBlurWithin:p,onFocusWithin:r,children:e}),b[18]=p,b[19]=r,b[20]=e,b[21]=f):f=b[21];return f}g["default"]=a}),98);
__d("MWInboxThreadMessagesSpinner.react",["CometVisualCompletionAttributes","MWXSpinner.react","react","react-compiler-runtime","useDebouncedState","useIsMountedRef","useVisibilityObserver"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));h.useMemo;function a(a){var b=d("react-compiler-runtime").c(15),e=a.delayMs;a=a.vcIgnore;var f=c("useIsMountedRef")(),g=!e,h;b[0]!==e||b[1]!==g?(h={debounceMS:e,doNotDebounce:g},b[0]=e,b[1]=g,b[2]=h):h=b[2];e=c("useDebouncedState")(j,h);g=e[0];var k=e[1];b[3]!==f||b[4]!==k?(h={onHidden:function(){f.current&&k(!1)},onVisible:function(){f.current&&k(!0)}},b[3]=f,b[4]=k,b[5]=h):h=b[5];e=h;h=e;e=c("useVisibilityObserver")(h);b[6]===Symbol["for"]("react.memo_cache_sentinel")?(h="x6s0dn4 x78zum5 x1t1x2f9 x1iyjqo2 x2lah0s xxk0z11 xl56j7k xsag5q8 xz9dl7a x1eb86dx",b[6]=h):h=b[6];var l;b[7]!==a?(l=a===!0?c("CometVisualCompletionAttributes").IGNORE:{},b[7]=a,b[8]=l):l=b[8];b[9]!==g?(a=i.jsx("div",{role:"cell",children:g?i.jsx(c("MWXSpinner.react"),{color:"disabled",size:24}):i.jsx("div",{className:"x1eb86dx xxk0z11 xh8yej3"})}),b[9]=g,b[10]=a):a=b[10];b[11]!==l||b[12]!==a||b[13]!==e?(g=i.jsx("div",babelHelpers["extends"]({className:h,ref:e,role:"row"},l,{children:a})),b[11]=l,b[12]=a,b[13]=e,b[14]=g):g=b[14];return g}function j(){return!0}g["default"]=a}),98);
__d("MWV2HeaderCloseButton.react",["fbt","MWChatHeaderActionButton.react","MWXIconCross","MWXThreadThemeColor","react","react-compiler-runtime","useSetAttributeRef"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react"),k=h._(/*BTDS*/"Close chat");function a(a){var b,e=d("react-compiler-runtime").c(7),f=a.label,g=a.onPress;a=a.testid;var h=c("useSetAttributeRef")("data-prevent_chattab_focus","1"),i;e[0]===Symbol["for"]("react.memo_cache_sentinel")?(i=d("MWXThreadThemeColor").mwxThreadThemeColor("var(--mwp-header-button-color)"),e[0]=i):i=e[0];b=(b=f)!=null?b:k;f=(f=f)!=null?f:k;e[1]!==g||e[2]!==h||e[3]!==b||e[4]!==f||e[5]!==a?(i=j.jsx(c("MWChatHeaderActionButton.react"),{color:i,icon:c("MWXIconCross"),iconRatio:"large",label:b,loggingEvent:"close_chat_tab",onPress:g,ref:h,testid:void 0,tooltipLabel:f}),e[1]=g,e[2]=h,e[3]=b,e[4]=f,e[5]=a,e[6]=i):i=e[6];return i}g["default"]=a}),226);
__d("MWV2HeaderContainer.react",["MDSRow.react","MWEditMessageOverlay.react","react","react-compiler-runtime","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k={divider:{boxShadow:"x7m3og9",$$css:!0},root:{alignItems:"x6s0dn4",backgroundColor:"xfpmyvw",borderTopEndRadius:"xgqcy7u",borderTopStartRadius:"x1lq5wgf",display:"x78zum5",flexShrink:"x2lah0s",height:"x10w6t97",justifyContent:"x1qughib",overflowX:"x6ikm8r",overflowY:"x10wlt62",paddingTop:"x1y1aw1k",paddingEnd:"x1sxyh0",paddingBottom:"xwib8y2",paddingStart:"xurb0ha",position:"x1n2onr6",zIndex:"xhtitgo",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(9),e=a.divider,f=a.endContent;a=a.startContent;e=e===void 0?!0:e;f=f===void 0?null:f;a=a===void 0?null:a;var g;b[0]!==e?(g=(h||(h=c("stylex"))).props(k.root,e?k.divider:!1),b[0]=e,b[1]=g):g=b[1];b[2]===Symbol["for"]("react.memo_cache_sentinel")?(e=j.jsx(c("MWEditMessageOverlay.react"),{}),b[2]=e):e=b[2];var i;b[3]!==a?(i=j.jsx(c("MDSRow.react"),{expanding:!0,paddingHorizontal:0,paddingVertical:0,verticalAlign:"center",children:a}),b[3]=a,b[4]=i):i=b[4];b[5]!==f||b[6]!==g||b[7]!==i?(a=j.jsxs("div",babelHelpers["extends"]({},g,{children:[e,i,f]})),b[5]=f,b[6]=g,b[7]=i,b[8]=a):a=b[8];return a}g["default"]=a}),98);
__d("MWV2ComposerHasContentContext.react",["react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));c=h;e=c.createContext;var j=c.useContext;c.useMemo;var k=c.useRef,l=e({hasContentRef:void 0});function a(a){var b=d("react-compiler-runtime").c(3);a=a.children;var c=k(!1);b[0]===Symbol["for"]("react.memo_cache_sentinel")?(c={hasContentRef:c},b[0]=c):c=b[0];c=c;c=c;b[1]!==a?(c=i.jsx(l.Provider,{value:c,children:a}),b[1]=a,b[2]=c):c=b[2];return c}function b(){return j(l)}g.MWV2ComposerHasContentContextProvider=a;g.useComposerHasContext=b}),98);
__d("useMWV2CloseTab",["fbt","I64","LSContactListConversionAttributionStore","MWChatInteraction","MWChatStateActions","MWChatStateV2.react","MWV2ComposerHasContentContext.react","MessengerClickImpressionEventsLoggerUtils","emptyFunction","react","useCometConfirmationDialog"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=(i||d("react")).useCallback;function a(a,b){var e=d("MWChatStateV2.react").useDispatch(),f=c("useCometConfirmationDialog")(),g=d("MWV2ComposerHasContentContext.react").useComposerHasContext(),i=g.hasContentRef,l=d("MessengerClickImpressionEventsLoggerUtils").useGetUniqueThreadID(a,(g=b.tabType.threadKeyDescriptor)==null?void 0:g.threadType);return k(function(){var g=function(){if(a!=null){var c,f=d("MWChatInteraction").getInteractionTraceForThreadKey((j||(j=d("I64"))).to_string(a));if(f!=null&&(((c=f.getTrace())==null?void 0:c.traceStatus)==null||((c=f.getTrace())==null?void 0:c.traceStatus)==="START")){c=!0;f.cancelTrace("close_tab",c)}}l!=null&&d("LSContactListConversionAttributionStore").resetAttribution(l);e(d("MWChatStateActions").closeTab(Date.now(),b.tabId))};if(a!=null&&(i==null?void 0:i.current)===!0)return f({body:h._(/*BTDS*/"Are you sure you want to close this chat window?"),confirm:h._(/*BTDS*/"OK"),title:h._(/*BTDS*/"You haven't sent your message.")},function(){g()},c("emptyFunction"));g()},[l,a,b,e,f,i])}g["default"]=a}),226);
__d("MWV2ChatTabHeaderLoadingWithGlimmers.react",["MDSGlimmer.react","MWChatStateV2Types","MWV2HeaderCloseButton.react","MWV2HeaderContainer.react","react","react-compiler-runtime","useMWV2CloseTab"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={headerGlimmer:{borderTopStartRadius:"x1lq5wgf",borderTopEndRadius:"xgqcy7u",borderBottomEndRadius:"x30kzoy",borderBottomStartRadius:"x9jhf4c",height:"xlup9mm",marginStart:"x17adc0v",width:"x1vz4e29",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(5);a=a.tab;a=c("useMWV2CloseTab")(a.tabType.type===d("MWChatStateV2Types").MWChatStateActionsType.UpdateTab?a.tabType.threadKeyDescriptor.threadKey:void 0,a);var e;b[0]!==a?(e=i.jsx(c("MWV2HeaderCloseButton.react"),{onPress:a}),b[0]=a,b[1]=e):e=b[1];b[2]===Symbol["for"]("react.memo_cache_sentinel")?(a=i.jsx(c("MDSGlimmer.react"),{index:0,xstyle:j.headerGlimmer}),b[2]=a):a=b[2];b[3]!==e?(a=i.jsx(c("MWV2HeaderContainer.react"),{endContent:e,startContent:a}),b[3]=e,b[4]=a):a=b[4];return a}g["default"]=a}),98);
__d("useMWPEditMessageExit",["MAWEditMessageContext.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useContext;function a(){var a=d("react-compiler-runtime").c(5),b=i(d("MAWEditMessageContext.react").Context),c=b.editMessageData,e=b.setEditMessageData;a[0]!==e?(b=function(){e(null)},a[0]=e,a[1]=b):b=a[1];b=b;c=c!=null;var f;a[2]!==b||a[3]!==c?(f={exitEditMessageMode:b,isEditMessageModeActive:c},a[2]=b,a[3]=c,a[4]=f):f=a[4];return f}g["default"]=a}),98);
__d("MWV2TabContainer",["MWChatFocusComposerContext","MWChatStateActions","MWChatStateContext","MWChatStateV2.react","MWChatTabFocusHandler","react","react-compiler-runtime","stylex","useMWPEditMessageExit","useMWV2CloseTab"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k={defaultHeight:{height:"x1rgmuzj",maxHeight:"x85a59c","@media (min-height: 1280px)_height":"xbbk1sx",$$css:!0},tabContainer:{backgroundColor:"xcrg951",borderTopEndRadius:"xgqcy7u",borderTopStartRadius:"x1lq5wgf",display:"x78zum5",flexDirection:"xdt5ytf",fontSize:"x6prxxf",lineHeight:"xvq8zen",marginStart:"x17adc0v",overflowX:"x6ikm8r",overflowY:"x10wlt62",width:"xi55695",$$css:!0},tabContainerFocused:{boxShadow:"x1eqhsl0",$$css:!0},tabContainerUnfocused:{boxShadow:"x6l8u58",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(22),e=a.ariaBusy,f=a.ariaLabel,g=a.children,i=a.domRef,l=a.style,m=a.tab,n=a.tabIndex;a=a.threadKey;var o=d("MWChatStateV2.react").useDispatch();a=c("useMWV2CloseTab")(a,m);var p;b[0]!==m.tabId?(p=function(a){return a.focusedTabId===m.tabId},b[0]=m.tabId,b[1]=p):p=b[1];p=d("MWChatStateContext").useChatState(p);var q=c("useMWPEditMessageExit")(),r=q.exitEditMessageMode;q=q.isEditMessageModeActive;var s;b[2]!==o?(s=function(){return o(d("MWChatStateActions").blurTab())},b[2]=o,b[3]=s):s=b[3];q=q?r:a;b[4]!==o||b[5]!==m.tabId?(r=function(){return o(d("MWChatStateActions").focusTab(m.tabId))},b[4]=o,b[5]=m.tabId,b[6]=r):r=b[6];a=p?k.tabContainerFocused:k.tabContainerUnfocused;b[7]!==a?(p=(h||(h=c("stylex")))(k.tabContainer,k.defaultHeight,a),b[7]=a,b[8]=p):p=b[8];b[9]!==e||b[10]!==f||b[11]!==g||b[12]!==i||b[13]!==l||b[14]!==p||b[15]!==n?(a=j.jsx("div",{"aria-busy":e,"aria-label":f,className:p,"data-testid":void 0,ref:i,style:l,tabIndex:n,children:g}),b[9]=e,b[10]=f,b[11]=g,b[12]=i,b[13]=l,b[14]=p,b[15]=n,b[16]=a):a=b[16];b[17]!==s||b[18]!==q||b[19]!==r||b[20]!==a?(e=j.jsx(d("MWChatFocusComposerContext").MWChatFocusComposerContextProvider,{children:j.jsx(c("MWChatTabFocusHandler"),{onBlur:s,onEscape:q,onFocus:r,children:a})}),b[17]=s,b[18]=q,b[19]=r,b[20]=a,b[21]=e):e=b[21];return e}g["default"]=a}),98);
__d("MWV2ChatTabLoadingWithGlimmers.react",["fbt","MWInboxThreadMessagesSpinner.react","MWV2ChatTabHeaderLoadingWithGlimmers.react","MWV2IsTabFocusedContext.react","MWV2TabContainer","react","react-compiler-runtime","useCometLoadingStateTracker","useMergeRefs"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));b=i;var k=b.useEffect,l=b.useRef;function a(a){var b=d("react-compiler-runtime").c(13);a=a.tab;var e=c("useCometLoadingStateTracker")();e=e[1];var f=l(null),g=d("MWV2IsTabFocusedContext.react").useIsTabFocused(),i;b[0]!==g?(i=function(){if(g){var a=f.current;a!=null&&a.focus()}},b[0]=g,b[1]=i):i=b[1];var m;b[2]!==g||b[3]!==e?(m=[g,e],b[2]=g,b[3]=e,b[4]=m):m=b[4];k(i,m);i=c("useMergeRefs")(e,f);b[5]===Symbol["for"]("react.memo_cache_sentinel")?(m=h._(/*BTDS*/"Loading...").toString(),b[5]=m):m=b[5];b[6]!==a?(e=j.jsx(c("MWV2ChatTabHeaderLoadingWithGlimmers.react"),{tab:a}),b[6]=a,b[7]=e):e=b[7];var n;b[8]===Symbol["for"]("react.memo_cache_sentinel")?(n=j.jsx(c("MWInboxThreadMessagesSpinner.react"),{}),b[8]=n):n=b[8];b[9]!==i||b[10]!==e||b[11]!==a?(m=j.jsxs(c("MWV2TabContainer"),{ariaBusy:!0,ariaLabel:m,domRef:i,tab:a,tabIndex:0,children:[e,n]}),b[9]=i,b[10]=e,b[11]=a,b[12]=m):m=b[12];return m}g["default"]=a}),226);
__d("MWXIconCheckmarkCircle",["MWXSvgIcon","SVGIcon","cr:12361","gkx"],(function(a,b,c,d,e,f,g){"use strict";a=d("MWXSvgIcon").mwxSvgIcon(d("SVGIcon").svgIcon(b("cr:12361")),c("gkx")("23219"));g["default"]=a}),98);
__d("useMAWOfflineQueueLoadingIndicatorShown",["useCometRouterState"],(function(a,b,c,d,e,f,g){"use strict";function a(a){a=a===void 0?!1:a;var b=c("useCometRouterState")();b=b==null?void 0:b.main.route.tabKey;return b==="messenger"||!a}g["default"]=a}),98);
__d("useMAWOfflineQueueLoadingIndicatorThreadJid",["I64","Int64Hooks","LSMessagingThreadTypeUtil","MAWJids","ReQL","WAJids","promiseDone","react","react-compiler-runtime","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=(j||d("react")).useState;function a(a,b){var e=d("react-compiler-runtime").c(7),f=(h||(h=c("useReStore")))(),g=k(null),j=g[0],l=g[1];e[0]!==b?(g=b!=null?d("LSMessagingThreadTypeUtil").isGroup(b):!1,e[0]=b,e[1]=g):g=e[1];var m=g;e[2]!==f||e[3]!==m||e[4]!==a?(b=function(){if(a==null)return;c("promiseDone")(d("ReQL").firstAsync(d("ReQL").fromTableAscending(f.tables.mi_act_mapping_table).getKeyRange(a)),function(a){if(a!=null){a=(i||(i=d("I64"))).to_string(a.jid);a=m===!0?d("WAJids").toGroupJid(a):d("MAWJids").toUserJid(a);l(a)}})},g=[f,l,a,m],e[2]=f,e[3]=m,e[4]=a,e[5]=b,e[6]=g):(b=e[5],g=e[6]);d("Int64Hooks").useEffectInt64(b,g);return j}g["default"]=a}),98);
__d("useMAWOfflineQueueStateQuery.graphql",["MAWOfflineQueueState-resolver"],(function(a,b,c,d,e,f){"use strict";a={fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useMAWOfflineQueueStateQuery",selections:[{kind:"ClientExtension",selections:[{alias:null,args:null,fragment:null,kind:"RelayLiveResolver",name:"offlineQueueStats",resolverModule:b("MAWOfflineQueueState-resolver").offlineQueueStats,path:"offlineQueueStats"}]}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"useMAWOfflineQueueStateQuery",selections:[{kind:"ClientExtension",selections:[{name:"offlineQueueStats",args:null,fragment:null,kind:"RelayResolver",storageKey:null,isOutputType:!0}]}]},params:{cacheID:"84004270b2ffca123b6b78124755ac6f",id:null,metadata:{},name:"useMAWOfflineQueueStateQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("useMAWOfflineQueueState",["CometRelay","MAWOfflineQueueState","gkx","react","react-compiler-runtime","useMAWOfflineQueueStateQuery.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(i||d("react")).useSyncExternalStore;function a(){return j(d("MAWOfflineQueueState").offlineQueueState.subscribe,d("MAWOfflineQueueState").offlineQueueState.getSnapshot)}function e(){var a=d("react-compiler-runtime").c(2),c,e;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(c=h!==void 0?h:h=b("useMAWOfflineQueueStateQuery.graphql"),e={},a[0]=c,a[1]=e):(c=a[0],e=a[1]);a=d("CometRelay").useClientQuery(c,e);return(c=a.offlineQueueStats)!=null?c:d("MAWOfflineQueueState").EMPTY_STATE}f=c("gkx")("12254")?e:a;g.useMAWOfflineQueueState=f}),98);/*FB_PKG_DELIM*/
__d("ArmadilloDataTraceCheckPoint",["I64"],(function(a,b,c,d,e,f,g){"use strict";var h;a=(h||(h=d("I64"))).of_string("63");b=h.of_string("65");c=h.of_string("98");e=h.of_string("504");f=h.of_string("1000");d=h.of_string("1001");var i=h.of_string("1204"),j=h.of_string("1210"),k=h.of_string("1224"),l=h.of_string("1234"),m=h.of_string("1225"),n=h.of_string("2220");g.traceGroupMessage=a;g.armadilloActMessageSend=b;g.traceCreated=c;g.richMediaMediaSendAttachmentType=e;g.traceTextMessage=f;g.traceMediaMessage=d;g.advancedCryptoMEMSendTaskComplete=i;g.deliveryReceiptReceived=j;g.advancedCryptoMEMEncryptionDeviceCount=k;g.advancedCryptoGroupDualSend=l;g.advancedCryptoDualSend=m;g.armadilloTlcControlOpenThread=n}),98);
__d("LSAddMessengerContact",["LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return d[0]=new c.Map(),d[0].set("contact_id",a[0]),d[1]=c.toJSON(d[0]),c.storedProcedure(b("LSIssueNewTask"),"add_messenger_contact",c.i64.cast([0,308]),d[1],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]))},function(a){return c.resolve(e)}])}a.__sproc_name__="LSContactAddMessengerContactStoredProcedure";a.__tables__=[];e.exports=a}),null);
__d("LSAddMessengerContactStoredProcedure",["LSAddMessengerContact","LSSynchronousPromise","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSAddMessengerContact"),e.contactId);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("LSDeleteThread",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[],d=[];return b.sequence([function(d){return b.sequence([function(d){return b.db.table(9).fetch([[[a[0]]]]).next().then(function(a,d){var e=a.done;a=a.value;return e?(e=[b.i64.cast([0,0]),void 0],c[0]=e[0],c[1]=e[1],e):(d=a.item,e=[d.parentThreadKey,d.disappearingThreadKey],c[0]=e[0],c[1]=e[1],e)})},function(a){return b.count(b.db.table(9).fetch([[[c[0]]],"parentThreadKeyLastActivityTimestampMs"])).then(function(a){return c[3]=a})},function(d){return a[1]&&b.i64.neq(c[0],b.i64.cast([0,0]))&&b.i64.eq(c[3],b.i64.cast([0,1]))?b.sequence([function(d){return b.forEach(b.db.table(9).fetch([[[a[0]],[c[0]]]]),function(a){return a["delete"]()})},function(a){return b.i64.neq(c[1],void 0)?0:0}]):b.sequence([function(c){return b.forEach(b.db.table(9).fetch([[[a[0]]]]),function(a){return a["delete"]()})},function(a){return b.i64.neq(c[1],void 0)?0:0}])}])},function(a){return b.resolve(d)}])}a.__sproc_name__="LSMailboxDeleteThreadStoredProcedure";a.__tables__=["threads"];e.exports=a}),null);
__d("LSMoveThreadToArchivedFolder",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.db.table(9).fetch([[[a[0]]]]).next().then(function(c,d){d=c.done;c=c.value;return d?0:(c.item,b.forEach(b.db.table(9).fetch([[[a[0]]]]),function(a){var c=a.update;a=a.item;return c({folderName:"",parentThreadKey:b.i64.cast([-1,4294967286]),capabilities2:b.i64.or_(a.capabilities2,b.i64.cast([0,2]))})}))})},function(a){return b.resolve(c)}])}a.__sproc_name__="LSMailboxMoveThreadToArchivedFolderStoredProcedure";a.__tables__=["threads"];e.exports=a}),null);
__d("LSOptimisticAcceptMessageRequest",["LSIssueNewTaskWithExtraOperations"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.db.table(9).fetch([[[a[0]]]]).next().then(function(e,f){f=e.done;e=e.value;return f?0:(e.item,c.sequence([function(b){return c.forEach(c.db.table(9).fetch([[[a[0]]]]),function(b){var d=b.update;b.item;return d({folderName:"inbox",parentThreadKey:c.i64.cast([0,0]),igFolder:a[1]})})},function(b){return c.db.table(173).fetch([[[a[0]]]]).next().then(function(a,b){var e=a.done;a=a.value;return e?0:(b=a.item,d[4]=b.clientThreadPk,c.db.table(276).fetch([[[d[4]]]]).next().then(function(a,b){b=a.done;a=a.value;return b?0:(a.item,c.forEach(c.db.table(276).fetch([[[d[4]]]]),function(a){var b=a.update;a.item;return b({folderType:c.i64.cast([0,0])})}))}))})},function(b){return c.db.table(9).fetch([[[a[0]]]]).next().then(function(a,b){var e=a.done;a=a.value;return e?d[0]=c.i64.cast([0,1]):(b=a.item,d[5]=b.syncGroup,c.i64.neq(d[5],void 0)?d[4]=d[5]:d[4]=c.i64.cast([0,1]),d[0]=d[4])})},function(e){return d[2]=new c.Map(),d[2].set("thread_key",a[0]),d[2].set("sync_group",d[0]),d[2].set("ig_folder",a[1]),d[3]=c.toJSON(d[2]),c.storedProcedure(b("LSIssueNewTaskWithExtraOperations"),"message_request",c.i64.cast([0,66]),d[3],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),void 0,c.i64.cast([0,0]))}]))})},function(a){return c.resolve(e)}])}a.__sproc_name__="LSMailboxOptimisticAcceptMessageRequestStoredProcedure";a.__tables__=["threads","mi_act_mapping_table","client_threads"];e.exports=a}),null);
__d("LSOptimisticAcceptMessageRequestStoredProcedure",["LSOptimisticAcceptMessageRequest","LSSynchronousPromise","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSOptimisticAcceptMessageRequest"),e.threadKey,e.igFolder);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("LSOptimisticRemoveThread",["LSDeleteThread","LSIssueNewTaskAndGetTaskID","LSMoveThreadToArchivedFolder"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.sequence([function(b){return c.db.table(9).fetch([[[a[0]]]]).next().then(function(a,b){var e=a.done;a=a.value;return e?d[0]=c.i64.cast([0,1]):(b=a.item,d[4]=b.syncGroup,c.i64.neq(d[4],void 0)?d[3]=d[4]:d[3]=c.i64.cast([0,1]),d[0]=d[3])})},function(d){return[c.i64.cast([0,1]),c.i64.cast([0,2])].some(function(b){return c.i64.eq(a[1],b)})?c.storedProcedure(b("LSMoveThreadToArchivedFolder"),a[0]):c.storedProcedure(b("LSDeleteThread"),a[0],!1)},function(e){return c.storedProcedure(b("LSIssueNewTaskAndGetTaskID"),c.i64.to_string(a[0]),c.i64.cast([0,146]),"",void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),d[0],void 0,c.i64.cast([0,0]),c.i64.cast([0,0])).then(function(a){return a=a,d[2]=a[0],a})},function(b){return c.db.table(32).add({taskId:d[2],threadKey:a[0],removeType:a[1],syncGroup:d[0]})}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSMailboxOptimisticRemoveThreadStoredProcedure";a.__tables__=["threads","threads_optimistic_context"];e.exports=a}),null);
__d("LSOptimisticRemoveThreadStoredProcedure",["LSOptimisticRemoveThread","LSSynchronousPromise","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSOptimisticRemoveThread"),e.threadKey,e.removeType);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("LSThreadRemoveType",[],(function(a,b,c,d,e,f){a=Object.freeze({DELETE_THREAD:0,ARCHIVE_THREAD:1,IGNORE_THREAD:2});f["default"]=a}),66);
__d("MAWAttachmentBlob.react",["FBLogger","I64","LSAuthorityLevel","LSIntEnum","MAWBridgeSendAndReceive","MAWDbMedia","Promise","PromiseAnnotate","WAHashUtils","WAMediaQplHelper","interaction-tracing","performanceNow","recoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l,m=new Map(),n=new Map();function a(a,b){m.set(a,{TAG:1,value:b})}function e(a){a=m.get(a);return a!=null&&a.TAG===1}function o(a,e,f,g){var i=(g=g)!=null?g:a;g=m.get(i);if(g!=null){if(g.TAG===0)throw g.value;return g.value}f==null?void 0:f.addPoint("fetch_data_blob_from_backend_start",{string:{fetch_by:isFinite(a)?"mediaId":"hashedPlaintextHash"}});var j=c("interaction-tracing").InteractionTracingCore.getPendingInteractions(),n=(l||(l=c("performanceNow")))();g=isFinite(a)?d("MAWBridgeSendAndReceive").sendAndReceive("backend","getBlobDataUrlByMediaId",{description:e,mediaId:d("MAWDbMedia").convertNumberToMediaId(Number.parseInt(a,10)),qplInstanceKey:f==null?void 0:f.getInstanceKey()}).then(function(a){f==null?void 0:f.addPoint("fetch_data_blob_from_backend_success",{string:{blob_size_bucket:a!=null?d("WAMediaQplHelper").convertIntegerSizeToStringBucket(a.size):void 0,description:e,fetch_by:"mediaId"}});r(j,n,a!=null?"SUCCESS":"FAIL");m.set(i,{TAG:1,value:a!=null?URL.createObjectURL(a):""});f==null?void 0:f.addPoint("fetch_data_blob_url_set_in_cache");return(k||(k=b("Promise"))).resolve()})["catch"](function(a){f==null?void 0:f.endFail("fetch_data_blob_from_backend_fail",{string:{description:e,error:a.message,fetch_by:"mediaId"}});r(j,n,"FAIL");m.set(i,{TAG:1,value:""});c("recoverableViolation")("Unable to getBlobUrlByMediaId","messenger_web_media",{error:a});return(k||(k=b("Promise"))).resolve()}):d("MAWBridgeSendAndReceive").sendAndReceive("backend","getBlobDataUrlByHashedPlaintextHash",{description:e,plaintextHash:d("WAHashUtils").stringToPlaintextHash(a),qplInstanceKey:f==null?void 0:f.getInstanceKey()}).then(function(a){f==null?void 0:f.addPoint("fetch_data_blob_from_backend_success",{string:{blob_size_bucket:a!=null?d("WAMediaQplHelper").convertIntegerSizeToStringBucket(a.size):void 0,description:e,fetch_by:"hashedPlaintextHash"}});r(j,n,a!=null?"SUCCESS":"FAIL");m.set(i,{TAG:1,value:a!=null?URL.createObjectURL(a):""});f==null?void 0:f.addPoint("fetch_data_blob_url_set_in_cache");return(k||(k=b("Promise"))).resolve()})["catch"](function(a){f==null?void 0:f.endFail("fetch_data_blob_from_backend_fail",{string:{description:e,error:a.message,fetch_by:"hashedPlaintextHash"}});r(j,n,"FAIL");m.set(i,{TAG:1,value:""});c("recoverableViolation")("Unable to getBlobDataUrlByHashedPlaintextHash","messenger_web_media",{error:a});return(k||(k=b("Promise"))).resolve()});g&&void (h||(h=d("PromiseAnnotate"))).setDisplayName(g,"MAWAttachmentBlob.getBlobDataUrl");m.set(i,{TAG:0,value:g});throw g}function f(a,b,e){if(a==null){c("recoverableViolation")("Unable to getAttachmentBlob because attachment is null, from "+b,"messenger_web_media",void 0,{trackOnly:!0});e==null?void 0:e.endFail("attachment_is_null",{string:{description:b}});return""}if((i||(i=d("I64"))).equal(a.authorityLevel,(j||(j=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").OPTIMISTIC))){var f;f=(f=q(a))!=null?f:"";if(f==null||f.length===0){c("recoverableViolation")("Unable to getAttachmentBlob because optimistic attachment url is null or empty, from "+b,"messenger_web_media",void 0,{trackOnly:!0});e==null?void 0:e.endFail("no_optimistic_attachment_url",{string:{description:b}});return""}e==null?void 0:e.addPoint("return_optimistic",{string:{description:b}});return f}return o(a.attachmentFbid,b,e)}function p(a,b,e,f,g){var h="fetch_"+b+"_xma_blob",k={string:{description:e}};if(a==null){f==null?void 0:f.endFail(h+"_attachment_is_null",k);return""}if((i||(i=d("I64"))).equal(a.authorityLevel,(j||(j=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").OPTIMISTIC))&&b==="preview"){var l=q(a);if(l==null||l.length===0){c("recoverableViolation")("Unable to getInfoUrlXMA because optimistic attachment url is null or empty, from "+e,"messenger_web_media",void 0,{trackOnly:!0});f==null?void 0:f.endFail(h+"_no_optimistic_attachment_url",k);return""}f==null?void 0:f.addPoint(h+"_return_optimistic",k);return l}k=(h=g)!=null?h:a.attachmentFbid+b;l=n.get(k);if(l!=null){if(l.TAG===0)throw l.value;return l.value}var m;switch(b){case"preview":m=a.xmaPreviewFbid;break;case"header":m=a.xmaHeaderImageFbid;break;case"favicon":m=a.xmaFaviconFbid;break}if(m==null)throw c("FBLogger")("messenger_web_media").mustfixThrow("Failed to getInfoUrlXMA because xma does not have required data. xmaId is %s, info type is %s, from %s",a.attachmentFbid,b,e);return o(m,e,f)}function q(a){return a==null?void 0:a.previewUrl}function r(a,b,d){var e=(l||(l=c("performanceNow")))();a.forEach(function(a){a.addSubspan("MAWFetchAttachmentBlob","AppTiming",b,e,{action:d,full_duration:(e-b)/1e3})})}g.setEagerAttachmentUrl=a;g.isEagerAttachmentUrlDone=e;g.getAttachmentBlobNonOptional_CausesSuspense=o;g.getAttachmentBlob_CausesSuspense=f;g.getInfoUrlXMA_CausesSuspense=p}),98);
__d("MAWGetAttachmentThumbnailBlob",["FBLogger","I64","LSAuthorityLevel","LSIntEnum","MAWBridgeSendAndReceive","MAWDbMedia","Promise","PromiseAnnotate","WAHashUtils","interaction-tracing","nullthrows","performanceNow"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l,m=new Map(),n=new Map();function a(a,b){m.set(a,{TAG:"done",url:b})}function e(a,b,e,f){if(a==null){c("FBLogger")("messenger_web_media").warn("Unable to getThumbnailBlobDataUrlByMediaId because attachment is null, from %s",b);e==null?void 0:e.endFail("attachment_is_null",{string:{description:b}});return""}if((j||(j=d("I64"))).equal(a.authorityLevel,(k||(k=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").OPTIMISTIC))){var g,h=o(a);if(h==null||h.length===0){c("FBLogger")("messenger_web_media").warn("Unable to getThumbnailBlobDataUrlByMediaId because optimistic attachment url is null or empty, from %s",b);e==null?void 0:e.endFail("no_optimistic_attachment_url",{string:{description:b}});return""}e==null?void 0:e.addPoint("return_optimistic",{string:{description:b}});n.set((g=a.offlineAttachmentId)!=null?g:a.attachmentFbid,h);return h}h=(g=f)!=null?g:a.attachmentFbid;f=m.get(h);g=n.get((g=a.offlineAttachmentId)!=null?g:a.attachmentFbid);if(f!=null){if(f.TAG==="loading"){if(g!=null)return g;throw f.urlPromise}return f.url}f=isFinite(a.attachmentFbid)?q(a,b,e,h):p(a,b,e,h);m.set(h,{TAG:"loading",urlPromise:f});if(g!=null)return g;f&&void (l||(l=d("PromiseAnnotate"))).setDisplayName(f,"MAWGetAttachmentThumbnailBlob.getThumbnailBlobDataUrl");throw f}function o(a){return a==null?void 0:a.previewUrl}function p(a,e,f,g){f==null?void 0:f.addPoint("fetch_thumbnail_blob_from_backend_start",{string:{description:e}});var j=c("interaction-tracing").InteractionTracingCore.getPendingInteractions(),k=(i||(i=c("performanceNow")))();a=d("MAWBridgeSendAndReceive").sendAndReceive("backend","getThumbnailBlobDataUrlByHashedPlaintextHash",{description:e,plaintextHash:d("WAHashUtils").stringToPlaintextHash(a.attachmentFbid),qplInstanceKey:f==null?void 0:f.getInstanceKey()}).then(function(a){r(j,k,Boolean(a)?"SUCCESS":"FAIL");!Boolean(a)?(f==null?void 0:f.endFail("fetch_thumbnail_blob_from_backend_fail",{string:{description:e,error:"empty-url"}}),c("FBLogger")("messenger_web_media").warn("Unable to getThumbnailBlobDataUrlByMediaId, backend returned empty url, from %s",e)):f==null?void 0:f.addPoint("fetch_thumbnail_blob_from_backend_success",{string:{description:e}});m.set(g,{TAG:"done",url:c("nullthrows")(a)});f==null?void 0:f.addPoint("fetch_thumbnail_blob_url_set_in_cache");return(h||(h=b("Promise"))).resolve()})["catch"](function(a){f==null?void 0:f.endFail("fetch_thumbnail_blob_from_backend_fail",{string:{description:e,error:a.message}});r(j,k,"FAIL");m.set(g,{TAG:"done",url:""});c("FBLogger")("messenger_web_media").catching(a).warn("Unable to getThumbnailBlobDataUrlByHashedPlaintextHash, from %s",e);return(h||(h=b("Promise"))).resolve()});return a}function q(a,e,f,g){f==null?void 0:f.addPoint("fetch_thumbnail_blob_from_backend_start",{string:{description:e}});var j=c("interaction-tracing").InteractionTracingCore.getPendingInteractions(),k=(i||(i=c("performanceNow")))();a=d("MAWBridgeSendAndReceive").sendAndReceive("backend","getThumbnailBlobDataUrlByMediaId",{description:e,mediaId:d("MAWDbMedia").convertNumberToMediaId(Number.parseInt(a.attachmentFbid,10)),qplInstanceKey:f==null?void 0:f.getInstanceKey()}).then(function(a){r(j,k,Boolean(a)?"SUCCESS":"FAIL");!Boolean(a)?(f==null?void 0:f.endFail("fetch_thumbnail_blob_from_backend_fail",{string:{description:e,error:"empty-url"}}),c("FBLogger")("messenger_web_media").warn("Unable to getThumbnailBlobDataUrlByMediaId, backend returned empty url, from %s",e)):f==null?void 0:f.addPoint("fetch_thumbnail_blob_from_backend_success",{string:{description:e}});m.set(g,{TAG:"done",url:c("nullthrows")(a)});f==null?void 0:f.addPoint("fetch_thumbnail_blob_url_set_in_cache");return(h||(h=b("Promise"))).resolve()})["catch"](function(a){f==null?void 0:f.endFail("fetch_thumbnail_blob_from_backend_fail",{string:{description:e,error:a.message}});r(j,k,"FAIL");m.set(g,{TAG:"done",url:""});c("FBLogger")("messenger_web_media").catching(a).warn("Unable to getThumbnailBlobDataUrlByMediaId, from %s",e);return(h||(h=b("Promise"))).resolve()});return a}function r(a,b,d){var e=(i||(i=c("performanceNow")))();a.forEach(function(a){a.addSubspan("MAWFetchAttachmentThumbnailBlob","AppTiming",b,e,{action:d,full_duration:(e-b)/1e3})})}g.setEagerThumbnailUrl=a;g.getThumbnailBlob_CausesSuspense=e}),98);
__d("MAWMediaRestoreEBRange",["I64"],(function(a,b,c,d,e,f,g){"use strict";var h;b=281474976710655;var i={hasMoreBefore:!0,nextTimestampMsBefore:b.toString()},j=function(){function a(){this.$1=new Map()}a.getInstance=function(){if(a.instance!=null)return a.instance;var b=new a();a.instance=b;return b};var b=a.prototype;b.updateRange=function(a,b){this.$1.set((h||(h=d("I64"))).to_string(a),b)};b.getRange=function(a){return(a=this.$1.get((h||(h=d("I64"))).to_string(a)))!=null?a:i};b.resetRange=function(a){this.$1.set((h||(h=d("I64"))).to_string(a),i)};return a}();j.instance=null;function a(){return j.getInstance()}g.getMediaRestoreEBRange=a}),98);
__d("MAWMiActOnActThreadReadyDeferred",["requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h=c("requireDeferred")("MAWMiActOnActThreadReady").__setRef("MAWMiActOnActThreadReadyDeferred");function a(a,b,c,d){return h.load().then(function(e){e=e.onActThreadReady;return e(a.tables,b,c,d)})}g["default"]=a}),98);
__d("MDSColumnContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b=a.createContext(null);g["default"]=b}),98);
__d("MDSColumnItemContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b=a.createContext({isFirst:!1,isLast:!1});g["default"]=b}),98);
__d("isIE11OrGreater",["UserAgent"],(function(a,b,c,d,e,f,g){"use strict";a=c("UserAgent").isBrowser("IE >= 11");b=a;g["default"]=b}),98);
__d("MDSColumnItem.react",["BaseView.react","CometErrorBoundary.react","CometPlaceholder.react","MDSColumnContext","MDSColumnItemContext","isIE11OrGreater","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react")),k=i.useContext,l={divider:{borderTopColor:"x8cjs6t",borderTopStyle:"x13fuv20",borderTopWidth:"x178xt8z",$$css:!0},expanding:{flexBasis:"x1l7klhg",flexGrow:"x1iyjqo2",flexShrink:"xs83m0k",minHeight:"x2lwn1j",$$css:!0},expandingIE11:{flexBasis:"xdl72j9",$$css:!0},firstChildDisplay:{display:"x1s85apg",$$css:!0},firstChildMargin:{marginTop:"xdj266r",$$css:!0},lastChildMargin:{marginBottom:"xat24cr",$$css:!0},root:{display:"x78zum5",flexDirection:"xdt5ytf",flexShrink:"x2lah0s",maxWidth:"x193iq5w",$$css:!0}},m={center:{alignItems:"x6s0dn4",$$css:!0},end:{alignItems:"xuk3077",$$css:!0},start:{alignItems:"x1cy8zhl",$$css:!0}},n={4:{paddingStart:"x1e558r4",paddingEnd:"x150jy0e",paddingLeft:null,paddingRight:null,$$css:!0},8:{paddingStart:"xurb0ha",paddingEnd:"x1sxyh0",paddingLeft:null,paddingRight:null,$$css:!0},12:{paddingStart:"x1ye3gou",paddingEnd:"xn6708d",paddingLeft:null,paddingRight:null,$$css:!0},16:{paddingStart:"x1swvt13",paddingEnd:"x1pi30zi",paddingLeft:null,paddingRight:null,$$css:!0},20:{paddingStart:"x5ib6vp",paddingEnd:"xc73u3c",paddingLeft:null,paddingRight:null,$$css:!0}},o={0:{paddingTop:"xexx8yu",$$css:!0},4:{paddingTop:"x1iorvi4",$$css:!0},8:{paddingTop:"x1y1aw1k",$$css:!0},12:{paddingTop:"xz9dl7a",$$css:!0},16:{paddingTop:"xyamay9",$$css:!0},20:{paddingTop:"x1cnzs8",$$css:!0},24:{paddingTop:"x1p5oq8j",$$css:!0},40:{paddingTop:"x13zrc24",$$css:!0}},p={4:{paddingTop:"x1iorvi4",paddingBottom:"xjkvuk6",$$css:!0},8:{paddingTop:"x1y1aw1k",paddingBottom:"xwib8y2",$$css:!0},12:{paddingTop:"xz9dl7a",paddingBottom:"xsag5q8",$$css:!0},16:{paddingTop:"xyamay9",paddingBottom:"x1l90r2v",$$css:!0},20:{paddingTop:"x1cnzs8",paddingBottom:"xx6bls6",$$css:!0},24:{paddingTop:"x1p5oq8j",paddingBottom:"xwxc41k",$$css:!0},40:{paddingTop:"x13zrc24",paddingBottom:"x1t1ogtf",$$css:!0}},q={4:{marginTop:"xr9ek0c",marginBottom:"xjpr12u",$$css:!0},8:{marginTop:"x1gslohp",marginBottom:"x12nagc",$$css:!0},12:{marginTop:"x1k70j0n",marginBottom:"xzueoph",$$css:!0},16:{marginTop:"x1xmf6yo",marginBottom:"x1e56ztr",$$css:!0},20:{marginTop:"x1anpbxc",marginBottom:"xyorhqc",$$css:!0},24:{marginTop:"x14vqqas",marginBottom:"xod5an3",$$css:!0},32:{marginTop:"xw7yly9",marginBottom:"x1yztbdb",$$css:!0},40:{marginTop:"x1sy10c2",marginBottom:"xieb3on",$$css:!0}},r={bottom:{justifyContent:"x13a6bvl",$$css:!0},center:{justifyContent:"xl56j7k",$$css:!0},"space-between":{justifyContent:"x1qughib",$$css:!0}},s={4:{marginStart:"xsgj6o6",marginEnd:"xw3qccf",marginLeft:null,marginRight:null,$$css:!0},8:{marginStart:"x1i64zmx",marginEnd:"x1emribx",marginLeft:null,marginRight:null,$$css:!0},12:{marginStart:"x16n37ib",marginEnd:"xq8finb",marginLeft:null,marginRight:null,$$css:!0},16:{marginStart:"x1d52u69",marginEnd:"xktsk01",marginLeft:null,marginRight:null,$$css:!0},20:{marginStart:"xmn8rco",marginEnd:"x1h5jrl4",marginLeft:null,marginRight:null,$$css:!0}};function t(a){var b,d,e,f,g=a.ref;a=babelHelpers.objectWithoutPropertiesLoose(a,["ref"]);b=(b=k(c("MDSColumnContext")))!=null?b:{};var i=a.align;d=i===void 0?(d=b.align)!=null?d:"stretch":i;i=a.children;var u=a.expanding;u=u===void 0?!1:u;var v=a.fallback,w=a.paddingHorizontal;e=w===void 0?(e=b.paddingHorizontal)!=null?e:0:w;w=a.paddingTop;var x=a.paddingVertical;x=x===void 0?0:x;var y=a.placeholder,z=a.verticalAlign;z=z===void 0?"top":z;var A=babelHelpers.objectWithoutPropertiesLoose(a,["align","children","expanding","fallback","paddingHorizontal","paddingTop","paddingVertical","placeholder","verticalAlign"]),B=k(c("MDSColumnItemContext")),C=B.isFirst;B=B.isLast;var D=(h||(h=c("stylex"))).compose(a.xstyle);f=j.jsxs(j.Fragment,{children:[b.hasDividers===!0&&j.jsx(c("BaseView.react"),{role:"separator",xstyle:[l.divider,s[(f=b.paddingHorizontal)!=null?f:0],C&&l.firstChildDisplay]}),j.jsx(c("BaseView.react"),babelHelpers["extends"]({},A,{ref:g,xstyle:[l.root,u&&[l.expanding,c("isIE11OrGreater")&&l.expandingIE11],d!=="stretch"&&m[d],z!=="top"&&r[z],n[e],p[x],w!=null&&o[w],b.spacing!=null&&[q[b.spacing],D.marginTop==null&&C&&l.firstChildMargin,D.marginBottom==null&&B&&l.lastChildMargin],a.xstyle],children:j.jsx(c("MDSColumnContext").Provider,{value:null,children:i})}))]});if(v!==void 0){a.fallback;var E=babelHelpers.objectWithoutPropertiesLoose(a,["fallback"]);v===null?f=j.jsx(c("CometErrorBoundary.react"),{children:f}):f=j.jsx(c("CometErrorBoundary.react"),{fallback:function(a,b){return j.jsx(t,babelHelpers["extends"]({},E,{ref:g,children:typeof v==="function"?v(a,b):v}))},children:f})}if(y!==void 0){a.placeholder;A=babelHelpers.objectWithoutPropertiesLoose(a,["placeholder"]);f=j.jsx(c("CometPlaceholder.react"),{fallback:y!=null?j.jsx(t,babelHelpers["extends"]({},A,{ref:g,children:y})):null,children:f})}return f}t.displayName=t.name+" [from "+f.id+"]";a=t;g["default"]=a}),98);
__d("MDSRowContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b=a.createContext(null);g["default"]=b}),98);
__d("MDSRowItem.react",["BaseRowItem.react","CometErrorBoundary.react","CometPlaceholder.react","MDSRowContext","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useContext,k={4:{paddingEnd:"xg83lxy",paddingStart:"x1h0ha7o",$$css:!0},8:{paddingEnd:"x150jy0e",paddingStart:"x1e558r4",$$css:!0},12:{paddingEnd:"xsyo7zv",paddingStart:"x16hj40l",$$css:!0},16:{paddingEnd:"x1sxyh0",paddingStart:"xurb0ha",$$css:!0},24:{paddingEnd:"xn6708d",paddingStart:"x1ye3gou",$$css:!0},32:{paddingEnd:"x1pi30zi",paddingStart:"x1swvt13",$$css:!0}},l={4:{paddingBottom:"x1120s5i",paddingTop:"x1nn3v0j",$$css:!0},8:{paddingBottom:"xjkvuk6",paddingTop:"x1iorvi4",$$css:!0},12:{paddingBottom:"x10b6aqq",paddingTop:"x1yrsyyn",$$css:!0},16:{paddingBottom:"xwib8y2",paddingTop:"x1y1aw1k",$$css:!0},24:{paddingBottom:"xsag5q8",paddingTop:"xz9dl7a",$$css:!0},32:{paddingBottom:"x1l90r2v",paddingTop:"xyamay9",$$css:!0}};function m(a){var b=d("react-compiler-runtime").c(43),e,f;b[0]!==a?(f=a.ref,e=babelHelpers.objectWithoutPropertiesLoose(a,["ref"]),b[0]=a,b[1]=e,b[2]=f):(e=b[1],f=b[2]);a=(a=j(c("MDSRowContext")))!=null?a:{};var g=a.spacingHorizontal;a=a.spacingVertical;var h,n;if(b[3]!==e){var o=e;h=o.fallback;n=o.placeholder;o=babelHelpers.objectWithoutPropertiesLoose(o,["fallback","placeholder"]);b[3]=e;b[4]=h;b[5]=o;b[6]=n}else h=b[4],o=b[5],n=b[6];if(n!==void 0){if(b[7]!==e){var p=e,q=p.children;p.placeholder;p=babelHelpers.objectWithoutPropertiesLoose(p,["children","placeholder"]);q=q;p=p;b[7]=e;b[8]=q;b[9]=p}else q=b[8],p=b[9];n=n!=null?n:null;var r;b[10]!==q||b[11]!==n?(r=i.jsx(c("CometPlaceholder.react"),{fallback:n,children:q}),b[10]=q,b[11]=n,b[12]=r):r=b[12];b[13]!==p||b[14]!==f||b[15]!==r?(q=i.jsx(m,babelHelpers["extends"]({},p,{ref:f,role:"status",children:r})),b[13]=p,b[14]=f,b[15]=r,b[16]=q):q=b[16];return q}if(h!==void 0){var s;if(b[17]!==e){n=e;n.fallback;p=babelHelpers.objectWithoutPropertiesLoose(n,["fallback"]);s=p;b[17]=e;b[18]=s}else s=b[18];if(h===null){b[19]!==s||b[20]!==f?(r=i.jsx(c("CometErrorBoundary.react"),{children:i.jsx(m,babelHelpers["extends"]({},s,{ref:f}))}),b[19]=s,b[20]=f,b[21]=r):r=b[21];return r}b[22]!==h||b[23]!==s||b[24]!==f?(q=function(a,b){return i.jsx(m,babelHelpers["extends"]({},s,{ref:f,children:typeof h==="function"?h(a,b):h}))},b[22]=h,b[23]=s,b[24]=f,b[25]=q):q=b[25];b[26]!==s||b[27]!==f?(n=i.jsx(m,babelHelpers["extends"]({},s,{ref:f})),b[26]=s,b[27]=f,b[28]=n):n=b[28];b[29]!==q||b[30]!==n?(p=i.jsx(c("CometErrorBoundary.react"),{fallback:q,children:n}),b[29]=q,b[30]=n,b[31]=p):p=b[31];return p}e=k[g];r=l[a];b[32]!==o.xstyle||b[33]!==e||b[34]!==r?(q=[e,r,o.xstyle],b[32]=o.xstyle,b[33]=e,b[34]=r,b[35]=q):q=b[35];b[36]!==o.children?(n=i.jsx(c("MDSRowContext").Provider,{value:null,children:o.children}),b[36]=o.children,b[37]=n):n=b[37];b[38]!==o||b[39]!==f||b[40]!==q||b[41]!==n?(p=i.jsx(c("BaseRowItem.react"),babelHelpers["extends"]({},o,{ref:f,useDeprecatedStyles:o.useDeprecatedStyles,xstyle:q,children:n})),b[38]=o,b[39]=f,b[40]=q,b[41]=n,b[42]=p):p=b[42];return p}a=m;g["default"]=a}),98);
__d("MDSRow.react",["BaseRow.react","MDSColumnContext","MDSColumnItem.react","MDSRowContext","MDSRowItem.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useContext,k=b.useMemo,l={0:{$$css:!0},4:{paddingEnd:"x150jy0e",paddingStart:"x1e558r4",$$css:!0},8:{paddingEnd:"x1sxyh0",paddingStart:"xurb0ha",$$css:!0},10:{paddingEnd:"x1iji9kk",paddingStart:"x1sln4lm",$$css:!0},12:{paddingEnd:"xn6708d",paddingStart:"x1ye3gou",$$css:!0},16:{paddingEnd:"x1pi30zi",paddingStart:"x1swvt13",$$css:!0}},m={0:{paddingTop:"xexx8yu",$$css:!0},4:{paddingTop:"x1iorvi4",$$css:!0},8:{paddingTop:"x1y1aw1k",$$css:!0},10:{paddingTop:"x889kno",$$css:!0},12:{paddingTop:"xz9dl7a",$$css:!0},16:{paddingTop:"xyamay9",$$css:!0},20:{paddingTop:"x1cnzs8",$$css:!0}},n={0:{$$css:!0},4:{paddingBottom:"xjkvuk6",paddingTop:"x1iorvi4",$$css:!0},8:{paddingBottom:"xwib8y2",paddingTop:"x1y1aw1k",$$css:!0},10:{paddingBottom:"x1a8lsjc",paddingTop:"x889kno",$$css:!0},12:{paddingBottom:"xsag5q8",paddingTop:"xz9dl7a",$$css:!0},16:{paddingBottom:"x1l90r2v",paddingTop:"xyamay9",$$css:!0},20:{paddingBottom:"xx6bls6",paddingTop:"x1cnzs8",$$css:!0}},o={0:{$$css:!0},4:{marginEnd:"xwrv7xz",marginStart:"x8182xy",$$css:!0},8:{marginEnd:"xcud41i",marginStart:"x139jcc6",$$css:!0},10:{marginEnd:"x6zhf5e",marginStart:"xrzrlj5",$$css:!0},12:{marginEnd:"xykv574",marginStart:"xbmpl8g",$$css:!0},16:{marginEnd:"x1n0m28w",marginStart:"xp7jhwk",$$css:!0},24:{marginEnd:"x12rz0ws",marginStart:"x16hk5td",$$css:!0},32:{marginEnd:"x19f6ikt",marginStart:"x169t7cy",$$css:!0}},p={0:{$$css:!0},4:{marginBottom:"xmgb6t1",marginTop:"x1kgmq87",$$css:!0},8:{marginBottom:"x4vbgl9",marginTop:"x1rdy4ex",$$css:!0},10:{marginBottom:"xz62fqu",marginTop:"x16ldp7u",$$css:!0},12:{marginBottom:"x4cne27",marginTop:"xifccgj",$$css:!0},16:{marginBottom:"x1wsgfga",marginTop:"x9otpla",$$css:!0},24:{marginBottom:"xh3wvx0",marginTop:"x7wgvq7",$$css:!0},32:{marginBottom:"x1oo3vh0",marginTop:"xwya9rg",$$css:!0}};function a(a){var b,d=a.ref;a=babelHelpers.objectWithoutPropertiesLoose(a,["ref"]);var e=j(c("MDSColumnContext")),f=j(c("MDSRowContext")),g=(e==null?void 0:e.paddingHorizontal)!=null?0:12,h=(e==null?void 0:e.spacing)!=null?0:16,q=a.children,r=a.paddingHorizontal;g=r===void 0?g:r;r=a.paddingVertical;r=r===void 0?0:r;var s=a.paddingTop;b=s===void 0?(b=a.paddingVertical)!=null?b:h:s;h=a.spacing;s=h===void 0?12:h;h=a.spacingHorizontal;var t=h===void 0?s:h;h=a.spacingVertical;var u=h===void 0?s:h;s=a.xstyle;h=babelHelpers.objectWithoutPropertiesLoose(a,["children","paddingHorizontal","paddingVertical","paddingTop","spacing","spacingHorizontal","spacingVertical","xstyle"]);a=k(function(){return{spacingHorizontal:t,spacingVertical:u}},[t,u]);d=i.jsx(c("BaseRow.react"),babelHelpers["extends"]({},h,{ref:d,xstyle:[l[g],n[r],b!=null&&m[b],o[t],p[u],s],children:i.jsx(c("MDSRowContext").Provider,{value:a,children:q})}));if(f!=null)return i.jsx(c("MDSRowItem.react"),{expanding:h.expanding,children:d});return e!=null?i.jsx(c("MDSColumnItem.react"),{expanding:h.expanding,children:d}):d}a.displayName=a.name+" [from "+f.id+"]";e=a;g["default"]=e}),98);
__d("useMAWEditMessageData",["MAWEditMessageContext.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useContext;function a(){var a=i(d("MAWEditMessageContext.react").Context);a=a.editMessageData;return a}g["default"]=a}),98);
__d("MWEditMessageOverlay.react",["react","react-compiler-runtime","useMAWEditMessageData"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(1);a=a.messageId;var e=c("useMAWEditMessageData")(),f=e!=null;a=a!=null&&a===(e==null?void 0:e.messageId);if(!f||a)return null;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e=i.jsx("div",{className:"xyl4keb x5yr21d x17qophe x1ks1olk x10l6tqk x13vifvy xh8yej3 x1vjfegm"}),b[0]=e):e=b[0];return e}g["default"]=a}),98);
__d("SecureMessageListener",["SecurePostMessage","URI"],(function(a,b,c,d,e,f,g){"use strict";var h;a=function(){function a(a){var b=this;this.$3=null;this.$4=!1;this.$1=a;this.$5=function(a){b.run(a)}}var b=a.prototype;b.setEventHandler=function(a){this.$2=a;return this};b.setSupportedOrigins=function(a){this.$3=a;return this};b.skipOriginCheck_UNSAFE=function(){this.$4=!0;return this};b.beginListening=function(){this.$1.addEventListener("message",this.$5);return this};b.stopListening=function(){try{this.$1.removeEventListener("message",this.$5)}catch(a){if(!(a instanceof TypeError))throw a}return this};b.run=function(a){if(this.$3==null||this.$3.length===0){if(!this.$4&&a.origin!==this.$1.location.origin)return}else if(!this.isSupportedOrigin(this.$3,a.origin))return;if(this.$2){var b=function(b){d("SecurePostMessage").sendMessageToSpecificOrigin(a.source,b,a.origin)};this.$2(a,b)}};b.isSupportedOrigin=function(a,b){if(!new RegExp("^https://").test(b))return!1;var d=new(h||(h=c("URI")))(b);return a.some(function(a){return d.isSubdomainOfDomain(a)})};return a}();g["default"]=a}),98);
__d("TemporaryLoggingUtilsForS406998Only",["FBLogger","I64","WALogger"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["Failed to parse stanza id ",": ",""]);i=function(){return a};return a}function j(a){var b=6917529027641082e3,c=!1;try{c=(h||(h=d("I64"))).equal(h.and_(h.of_string(a),h.of_float(b)),h.of_float(b))}catch(b){d("WALogger").ERROR(i(),a,b)}return c}function a(a,b){var e=a.contactId!=null?(h||(h=d("I64"))).to_string(a.contactId):null;e!=null&&j(e)&&c("FBLogger")("messenger_e2ee_web","invalid_participant_added").mustfix("[S406998] invalid participant added to participants. contactId: %s at loc: %s",e,b);return a}g.isStanzaIdForS406998Only=j;g.logIfInvalidParticipantAndReturnForS406998Only=a}),98);
__d("getMWPAttachmentMessageAnnouncement",["fbt","I64","LSIntEnum","MessagingAttachmentType"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k={ANIMATED_IMAGE:function(a){return a==null?h._(/*BTDS*/"One image attached"):h._(/*BTDS*/"One image attached, titled {title of image}",[h._param("title of image",a)])},AUDIO:h._(/*BTDS*/"One audio file attached"),FILE:function(a){return a==null?h._(/*BTDS*/"One file attached"):h._(/*BTDS*/"One file attached, named {name of file}",[h._param("name of file",a)])},IMAGE:function(a,b){return b==null?h._(/*BTDS*/"_j{\"*\":\"{number} images attached\",\"_1\":\"One image attached\"}",[h._plural(a,"number")]):h._(/*BTDS*/"One image attached, titled {title of image}",[h._param("title of image",b)])},STICKER:function(a){return a==null||a===""?h._(/*BTDS*/"One sticker attached"):h._(/*BTDS*/"One sticker attached, titled {title of sticker}",[h._param("title of sticker",a)])},UNKNOWN:h._(/*BTDS*/"One unsupported attachment attached"),VIDEO:h._(/*BTDS*/"One video attached"),XMA:h._(/*BTDS*/"One rich content attachment attached")},l={ANIMATED_IMAGE:function(a){return h._(/*BTDS*/"Sent a GIF.")},AUDIO:h._(/*BTDS*/"Sent a voice message."),FILE:function(a){return h._(/*BTDS*/"Sent a file.")},IMAGE:function(a,b){return h._(/*BTDS*/"_j{\"*\":\"Sent {number} photos.\",\"_1\":\"Sent a photo.\"}",[h._plural(a,"number")])},STICKER:function(a){return h._(/*BTDS*/"Sent a sticker.")},UNKNOWN:h._(/*BTDS*/"Sent an attachment."),VIDEO:h._(/*BTDS*/"Sent a video."),XMA:h._(/*BTDS*/"Sent an attachment.")};function a(a,b){b===void 0&&(b=!0);if(a.length===0)return void 0;b=b?k:l;if(a.length>1)return a.every(m)?b.IMAGE(a.length):void 0;a=a[0];var e=a.accessibilitySummaryText,f=a.attachmentType,g=a.filename;a=a.titleText;f=(i||(i=d("LSIntEnum"))).unwrapIntEnum(f);switch(f){case c("MessagingAttachmentType").STICKER:case 1:case c("MessagingAttachmentType").SELFIE_STICKER:case 10:case c("MessagingAttachmentType").THIRD_PARTY_STICKER:case 15:return b.STICKER(e);case c("MessagingAttachmentType").IMAGE:case 2:case c("MessagingAttachmentType").EPHEMERAL_IMAGE:case 8:return b.IMAGE(1,a);case c("MessagingAttachmentType").ANIMATED_IMAGE:case 3:return b.ANIMATED_IMAGE(a);case c("MessagingAttachmentType").VIDEO:case 4:case c("MessagingAttachmentType").EPHEMERAL_VIDEO:case 9:return b.VIDEO;case c("MessagingAttachmentType").AUDIO:case 5:return b.AUDIO;case c("MessagingAttachmentType").FILE:case 6:return b.FILE(g);case c("MessagingAttachmentType").XMA:case 7:return b.XMA;case c("MessagingAttachmentType").NONE:case 0:case c("MessagingAttachmentType").SOUND_BITE:case 12:case c("MessagingAttachmentType").CATALOG_ITEM:case 13:case c("MessagingAttachmentType").POWER_UP:case 14:return b.UNKNOWN;default:f;return b.UNKNOWN}}function m(a){return(j||(j=d("I64"))).equal(a.attachmentType,(i||(i=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").IMAGE))}g["default"]=a}),226);
__d("useDebouncedState",["clearTimeout","react","setTimeoutAcrossTransitions"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useCallback,j=b.useRef,k=b.useState,l=100;function a(a,b){var d,e=(d=b==null?void 0:b.debounceMS)!=null?d:l;d=(b==null?void 0:b.doNotDebounce)!==!0;b=k(a);a=b[0];var f=b[1],g=i(n,[]);b=i(m,[g,e]);var h=j(null);return[a,d?b:f,g];function m(a){g(),h.current=c("setTimeoutAcrossTransitions")(function(){return f(a)},e)}function n(){c("clearTimeout")(h.current),h.current=null}}g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("PresenceStatusContext",["emptyFunction","react"],(function(a,b,c,d,e,f,g){"use strict";var h;h||(h=d("react"));a=h.createContext;var i=[];b=a({addListener:function(){return c("emptyFunction")},get:function(){return 0},getChatVisibility:function(){return!1},getOnlineIDs:function(){return i},getStatus:function(){return null}});g["default"]=b}),98);
__d("CometSearchTypeaheadBaseStructuredDirectNavKeywordViewItem.react",["CometImage.react","CometSearchBaseTypeaheadTitleSnippetViewItem.react","CometTypeaheadHighlight.react","CometTypeaheadViewItem.react","FDSBadge.react","FDSProfilePhoto.react","PresenceStatusContext","qex","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useContext;b.useMemo;var k=36,l={imageIcon:{display:"x1lliihq",$$css:!0}};function a(a){var b,e=d("react-compiler-runtime").c(30),f,g,h,m;e[0]!==a?(f=a.entry,g=a.isActive,m=a.queryString,h=babelHelpers.objectWithoutPropertiesLoose(a,["entry","isActive","queryString"]),e[0]=a,e[1]=f,e[2]=g,e[3]=h,e[4]=m):(f=e[1],g=e[2],h=e[3],m=e[4]);a=f.rawData;var n=a.badgeSnippet;a=a.structuredInfo;if(e[5]!==(a==null?void 0:a.direct_nav_result)){var o;o=(o=a==null?void 0:a.direct_nav_result)!=null?o:{};e[5]=a==null?void 0:a.direct_nav_result;e[6]=o}else o=e[6];a=o;o=a.ent_id;var p=a.entity_type,q=a.img_url,r=a.link_url,s=a.snippet;a=a.type;var t;e[7]!==r?(t={preloadCodeOnMount:!0,preventLocalNavigation:!0,url:r},e[7]=r,e[8]=t):t=e[8];r=t;t=r;r="circle";a==="SHORTCUT"?r="square":(p==="group"||p==="event")&&(r="roundedRect");p=j(c("PresenceStatusContext"));var u=!1;b=(b=c("qex")._("218"))!=null?b:!1;b&&o!=null&&(u=p.get(o)===2);b=null;if(q!=null){e[9]!==q||e[10]!==u||e[11]!==r||e[12]!==a?(p=a==="SHORTCUT"?i.jsx(c("CometImage.react"),{height:k,src:q,width:k,xstyle:l.imageIcon}):i.jsx(c("FDSProfilePhoto.react"),{addOn:u?{type:"availabilityBadge"}:void 0,shape:r,size:k,source:{uri:q}}),e[9]=q,e[10]=u,e[11]=r,e[12]=a,e[13]=p):p=e[13];b=p}e[14]!==n||e[15]!==s?(o=n!=null?i.jsxs(i.Fragment,{children:[i.jsx(c("FDSBadge.react"),{color:"blue"}),n]}):s,e[14]=n,e[15]=s,e[16]=o):o=e[16];var v=o;e[17]!==v?(q=function(a){return i.jsx(c("CometSearchBaseTypeaheadTitleSnippetViewItem.react"),{level:3,snippet:v,title:a})},e[17]=v,e[18]=q):q=e[18];e[19]!==f.label||e[20]!==m||e[21]!==q?(u=i.jsx(c("CometTypeaheadHighlight.react"),{content:f.label,query:m,strategy:"non-match",children:q}),e[19]=f.label,e[20]=m,e[21]=q,e[22]=u):u=e[22];e[23]!==f||e[24]!==b||e[25]!==g||e[26]!==t||e[27]!==h||e[28]!==u?(r=i.jsx(c("CometTypeaheadViewItem.react"),babelHelpers["extends"]({},h,{entry:f,isActive:g,itemStartContent:b,linkProps:t,children:u})),e[23]=f,e[24]=b,e[25]=g,e[26]=t,e[27]=h,e[28]=u,e[29]=r):r=e[29];return r}g["default"]=a}),98);
__d("CometSearchTypeaheadBaseStructuredDisambiguationKeywordViewItem.react",["CometSearchBaseTypeaheadTitleSnippetViewItem.react","CometTypeaheadHighlight.react","CometTypeaheadViewItem.react","CometTypeaheadViewItemIcon.react","react","react-compiler-runtime","recoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(24),e,f,g,h,j;b[0]!==a?(e=a.entry,f=a.isActive,g=a.linkProps,j=a.queryString,h=babelHelpers.objectWithoutPropertiesLoose(a,["entry","isActive","linkProps","queryString"]),b[0]=a,b[1]=e,b[2]=f,b[3]=g,b[4]=h,b[5]=j):(e=b[1],f=b[2],g=b[3],h=b[4],j=b[5]);if(b[6]!==e.rawData.structuredInfo){a=(a=e.rawData.structuredInfo)!=null?a:{};b[6]=e.rawData.structuredInfo;b[7]=a}else a=b[7];a=a;a=a.disambiguation_result;if(a==null){c("recoverableViolation")("We were trying to show disambiguation result, but had missing data","search");return null}a=a.disambiguation_info_list;var k=a[0].snippet;b[8]!==e.label||b[9]!==f?(a=i.jsx(d("CometTypeaheadViewItemIcon.react").CometTypeaheadViewTypedIcon,{isActive:f,label:e.label}),b[8]=e.label,b[9]=f,b[10]=a):a=b[10];var l;b[11]!==k?(l=function(a){return i.jsx(c("CometSearchBaseTypeaheadTitleSnippetViewItem.react"),{level:3,snippet:k,title:a})},b[11]=k,b[12]=l):l=b[12];var m;b[13]!==e.label||b[14]!==j||b[15]!==l?(m=i.jsx(c("CometTypeaheadHighlight.react"),{content:e.label,query:j,strategy:"non-match",children:l}),b[13]=e.label,b[14]=j,b[15]=l,b[16]=m):m=b[16];b[17]!==e||b[18]!==f||b[19]!==g||b[20]!==h||b[21]!==a||b[22]!==m?(j=i.jsx(c("CometTypeaheadViewItem.react"),babelHelpers["extends"]({},h,{entry:e,isActive:f,itemStartContent:a,linkProps:g,children:m})),b[17]=e,b[18]=f,b[19]=g,b[20]=h,b[21]=a,b[22]=m,b[23]=j):j=b[23];return j}g["default"]=a}),98);
__d("CometSearchTypeaheadBaseStructuredHighConfidenceKeywordViewItem.react",["CometSearchBaseTypeaheadTitleSnippetViewItem.react","CometTypeaheadHighlight.react","CometTypeaheadViewItem.react","CometTypeaheadViewItemIcon.react","FDSBadge.react","FDSProfilePhoto.react","react","react-compiler-runtime","recoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(30),e,f,g,h,j;b[0]!==a?(e=a.entry,f=a.isActive,g=a.linkProps,j=a.queryString,h=babelHelpers.objectWithoutPropertiesLoose(a,["entry","isActive","linkProps","queryString"]),b[0]=a,b[1]=e,b[2]=f,b[3]=g,b[4]=h,b[5]=j):(e=b[1],f=b[2],g=b[3],h=b[4],j=b[5]);a=e.rawData;var k=a.badgeSnippet;a=a.structuredInfo;if(b[6]!==(a==null?void 0:a.high_confidence_result)){var l;l=(l=a==null?void 0:a.high_confidence_result)!=null?l:{};b[6]=a==null?void 0:a.high_confidence_result;b[7]=l}else l=b[7];a=l;l=a.hcm_id;var m=a.picture_url;a=a.snippet;if(m==null){c("recoverableViolation")("Missing HC keyword item picture url for hcm_id "+((l=l)!=null?l:"null"),"search")}b[8]!==k||b[9]!==a?(l=k!=null?i.jsxs(i.Fragment,{children:[i.jsx(c("FDSBadge.react"),{color:"blue"}),k]}):a,b[8]=k,b[9]=a,b[10]=l):l=b[10];var n=l;b[11]!==m?(k=m!=null?i.jsx(c("FDSProfilePhoto.react"),{shape:"roundedRect",size:36,source:{uri:m}}):null,b[11]=m,b[12]=k):k=b[12];b[13]!==e.label||b[14]!==f?(a=i.jsx(d("CometTypeaheadViewItemIcon.react").CometTypeaheadViewTypedIcon,{isActive:f,label:e.label}),b[13]=e.label,b[14]=f,b[15]=a):a=b[15];b[16]!==n?(l=function(a){return i.jsx(c("CometSearchBaseTypeaheadTitleSnippetViewItem.react"),{level:3,snippet:n,title:a})},b[16]=n,b[17]=l):l=b[17];b[18]!==e.label||b[19]!==j||b[20]!==l?(m=i.jsx(c("CometTypeaheadHighlight.react"),{content:e.label,query:j,strategy:"non-match",children:l}),b[18]=e.label,b[19]=j,b[20]=l,b[21]=m):m=b[21];b[22]!==e||b[23]!==f||b[24]!==g||b[25]!==h||b[26]!==k||b[27]!==a||b[28]!==m?(j=i.jsx(c("CometTypeaheadViewItem.react"),babelHelpers["extends"]({},h,{entry:e,isActive:f,itemEndContent:k,itemStartContent:a,linkProps:g,children:m})),b[22]=e,b[23]=f,b[24]=g,b[25]=h,b[26]=k,b[27]=a,b[28]=m,b[29]=j):j=b[29];return j}g["default"]=a}),98);
__d("CometTypeaheadEntityViewItem.react",["CometSearchBaseTypeaheadTitleSnippetViewItem.react","CometTypeaheadViewItem.react","FDSProfilePhoto.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(23);if(b[0]!==a){var e=a.entry,f=a.isBadged,g=a.isOnline,h=a.meta,j=a.pictureUrl;a.queryString;var k=a.size,l=a.style,m=babelHelpers.objectWithoutPropertiesLoose(a,["entry","isBadged","isOnline","meta","pictureUrl","queryString","size","style"]);e=e;f=f;g=g;h=h;j=j;k=k;l=l;m=m;b[0]=a;b[1]=e;b[2]=h;b[3]=j;b[4]=m;b[5]=f;b[6]=g;b[7]=k;b[8]=l}else e=b[1],h=b[2],j=b[3],m=b[4],f=b[5],g=b[6],k=b[7],l=b[8];a=f===void 0?!1:f;f=g===void 0?!1:g;g=k===void 0?36:k;k=l===void 0?"circle":l;b[9]!==f||b[10]!==j||b[11]!==g||b[12]!==k?(l=j!=null?i.jsx(c("FDSProfilePhoto.react"),{addOn:f?{type:"availabilityBadge"}:void 0,shape:k,size:g,source:{uri:j}}):null,b[9]=f,b[10]=j,b[11]=g,b[12]=k,b[13]=l):l=b[13];b[14]!==e.label||b[15]!==a||b[16]!==h?(f=i.jsx(c("CometSearchBaseTypeaheadTitleSnippetViewItem.react"),{isBadged:a,level:3,snippet:h,title:e.label}),b[14]=e.label,b[15]=a,b[16]=h,b[17]=f):f=b[17];b[18]!==e||b[19]!==m||b[20]!==l||b[21]!==f?(j=i.jsx(c("CometTypeaheadViewItem.react"),babelHelpers["extends"]({},m,{entry:e,itemStartContent:l,children:f})),b[18]=e,b[19]=m,b[20]=l,b[21]=f,b[22]=j):j=b[22];return j}g["default"]=a}),98);
__d("CometSearchTypeaheadRecentEntityViewItem.react",["fbt","CometSearchTypeaheadBaseSurfaceRecentViewItemRemoveButton.react","CometTypeaheadEntityViewItem.react","CometTypeaheadFocusLockRegion.react","FDSBadge.react","PresenceStatusContext","qex","react","react-compiler-runtime","recoverableViolation"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react")),k=i.useContext;function a(a){var b,e,f=d("react-compiler-runtime").c(21),g,i;f[0]!==a?(g=a.entry,i=babelHelpers.objectWithoutPropertiesLoose(a,["entry"]),f[0]=a,f[1]=g,f[2]=i):(g=f[1],i=f[2]);a=g.rawData;var l=a.badgeSnippet;a=a.profile;if(f[3]!==a){var m;m=(m=a)!=null?m:{};f[3]=a;f[4]=m}else m=f[4];a=m;m=a.id;var n=a.profilePictureURL;a=a.url;if(n==null){var o;c("recoverableViolation")("Missing profile picture for fbid "+((o=m)!=null?o:"null"),"search")}f[5]!==l?(o=l!=null?j.jsxs(j.Fragment,{children:[j.jsx(c("FDSBadge.react"),{accessibilityText:h._(/*BTDS*/"Recent updates"),color:"blue"}),l]}):void 0,f[5]=l,f[6]=o):o=f[6];o=o;b=(b=g.metaData.logging)==null?void 0:b.entityType;var p="circle";b!==null&&(b==="group"||b==="event")&&(p="roundedRect");b=k(c("PresenceStatusContext"));var q=!1;e=(e=c("qex")._("218"))!=null?e:!1;e&&m!=null&&(q=b.get(m)===2);e=l!=null;f[7]!==g?(b=j.jsx(c("CometTypeaheadFocusLockRegion.react"),{children:j.jsx(c("CometSearchTypeaheadBaseSurfaceRecentViewItemRemoveButton.react"),{entry:g})}),f[7]=g,f[8]=b):b=f[8];f[9]!==a?(m={preventLocalNavigation:!0,url:a},f[9]=a,f[10]=m):m=f[10];f[11]!==g||f[12]!==q||f[13]!==o||f[14]!==n||f[15]!==i||f[16]!==p||f[17]!==e||f[18]!==b||f[19]!==m?(l=j.jsx(c("CometTypeaheadEntityViewItem.react"),babelHelpers["extends"]({},i,{entry:g,isBadged:e,isOnline:q,itemEndContent:b,itemEndContentKeyboardFocusable:!0,linkProps:m,meta:o,pictureUrl:n,size:36,style:p,testid:void 0})),f[11]=g,f[12]=q,f[13]=o,f[14]=n,f[15]=i,f[16]=p,f[17]=e,f[18]=b,f[19]=m,f[20]=l):l=f[20];return l}g["default"]=a}),226);
__d("CometSearchTypeaheadStructuredDirectNavKeywordRecentViewItem.react",["fbt","CometSearchBaseTypeaheadTitleSnippetViewItem.react","CometSearchTypeaheadBaseSurfaceRecentViewItemRemoveButton.react","CometTypeaheadFocusLockRegion.react","CometTypeaheadViewItem.react","FDSBadge.react","FDSProfilePhoto.react","PresenceStatusContext","qex","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));b=i;var k=b.useContext;b.useMemo;function a(a){var b,e=d("react-compiler-runtime").c(29);if(e[0]!==a){var f=a.entry,g=a.isActive;a.queryString;var i=babelHelpers.objectWithoutPropertiesLoose(a,["entry","isActive","queryString"]);f=f;g=g;i=i;e[0]=a;e[1]=f;e[2]=g;e[3]=i}else f=e[1],g=e[2],i=e[3];a=f;a=a.rawData;var l=a.badgeSnippet;a=a.structuredInfo;if(e[4]!==(a==null?void 0:a.direct_nav_result)){var m;m=(m=a==null?void 0:a.direct_nav_result)!=null?m:{};e[4]=a==null?void 0:a.direct_nav_result;e[5]=m}else m=e[5];a=m;m=a.ent_id;var n=a.entity_type,o=a.img_url,p=a.link_url,q=a.snippet,r=a.title;a=a.type;var s;e[6]!==p?(s={preloadCodeOnMount:!0,preventLocalNavigation:!0,url:p},e[6]=p,e[7]=s):s=e[7];p=s;s=p;e[8]!==l||e[9]!==q?(p=l!=null?j.jsxs(j.Fragment,{children:[j.jsx(c("FDSBadge.react"),{accessibilityText:h._(/*BTDS*/"Recent updates"),color:"blue"}),l]}):q,e[8]=l,e[9]=q,e[10]=p):p=e[10];q=p;p="circle";a==="SHORTCUT"?p="square":(n==="group"||n==="event")&&(p="roundedRect");a=k(c("PresenceStatusContext"));n=!1;b=(b=c("qex")._("218"))!=null?b:!1;b&&m!=null&&(n=a.get(m)===2);e[11]!==f?(b=j.jsx(c("CometTypeaheadFocusLockRegion.react"),{children:j.jsx(c("CometSearchTypeaheadBaseSurfaceRecentViewItemRemoveButton.react"),{entry:f})}),e[11]=f,e[12]=b):b=e[12];e[13]!==o||e[14]!==n||e[15]!==p?(a=o!=null?j.jsx(c("FDSProfilePhoto.react"),{addOn:n?{type:"availabilityBadge"}:void 0,shape:p,size:36,source:{uri:o}}):null,e[13]=o,e[14]=n,e[15]=p,e[16]=a):a=e[16];m=l!=null;e[17]!==q||e[18]!==m||e[19]!==r?(o=j.jsx(c("CometSearchBaseTypeaheadTitleSnippetViewItem.react"),{isBadged:m,level:3,snippet:q,title:r}),e[17]=q,e[18]=m,e[19]=r,e[20]=o):o=e[20];e[21]!==f||e[22]!==g||e[23]!==s||e[24]!==i||e[25]!==b||e[26]!==a||e[27]!==o?(n=j.jsx(c("CometTypeaheadViewItem.react"),babelHelpers["extends"]({},i,{entry:f,isActive:g,itemEndContent:b,itemEndContentKeyboardFocusable:!0,itemStartContent:a,linkProps:s,testid:void 0,children:o})),e[21]=f,e[22]=g,e[23]=s,e[24]=i,e[25]=b,e[26]=a,e[27]=o,e[28]=n):n=e[28];return n}g["default"]=a}),226);
__d("CometSearchTypeaheadStructuredHighConfidenceKeywordRecentViewItem.react",["fbt","CometRow.react","CometRowItem.react","CometSearchBaseTypeaheadTitleSnippetViewItem.react","CometSearchTypeaheadBaseSurfaceRecentViewItemRemoveButton.react","CometTypeaheadFocusLockRegion.react","CometTypeaheadViewItem.react","CometTypeaheadViewItemIcon.react","FDSBadge.react","FDSProfilePhoto.react","react","react-compiler-runtime","recoverableViolation"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(a){var b,e=d("react-compiler-runtime").c(32);if(e[0]!==a){var f=a.entry,g=a.isActive,i=a.linkProps;a.queryString;var k=babelHelpers.objectWithoutPropertiesLoose(a,["entry","isActive","linkProps","queryString"]);f=f;g=g;i=i;k=k;e[0]=a;e[1]=f;e[2]=g;e[3]=i;e[4]=k}else f=e[1],g=e[2],i=e[3],k=e[4];a=f;var l=a.label;a=a.rawData;var m=a.badgeSnippet;if(e[5]!==((b=a.structuredInfo)==null?void 0:b.high_confidence_result)){b=(b=(b=a.structuredInfo)==null?void 0:b.high_confidence_result)!=null?b:{};e[5]=(a=a.structuredInfo)==null?void 0:a.high_confidence_result;e[6]=b}else b=e[6];a=b;b=a.hcm_id;var n=a.picture_url;a=a.snippet;if(n==null){c("recoverableViolation")("Missing HC keyword item picture url for hcm_id "+((b=b)!=null?b:"null"),"search")}e[7]!==m||e[8]!==a?(b=m!=null?j.jsxs(j.Fragment,{children:[j.jsx(c("FDSBadge.react"),{accessibilityText:h._(/*BTDS*/"Recent updates"),color:"blue"}),m]}):a,e[7]=m,e[8]=a,e[9]=b):b=e[9];a=b;e[10]!==n?(b=n!=null?j.jsx(c("CometRowItem.react"),{children:j.jsx(c("FDSProfilePhoto.react"),{shape:"roundedRect",size:36,source:{uri:n}})}):null,e[10]=n,e[11]=b):b=e[11];e[12]!==f?(n=j.jsx(c("CometRowItem.react"),{children:j.jsx(c("CometTypeaheadFocusLockRegion.react"),{children:j.jsx(c("CometSearchTypeaheadBaseSurfaceRecentViewItemRemoveButton.react"),{entry:f})})}),e[12]=f,e[13]=n):n=e[13];var o;e[14]!==b||e[15]!==n?(o=j.jsxs(c("CometRow.react"),{paddingHorizontal:0,paddingVertical:0,verticalAlign:"center",children:[b,n]}),e[14]=b,e[15]=n,e[16]=o):o=e[16];e[17]!==g||e[18]!==l?(b=j.jsx(d("CometTypeaheadViewItemIcon.react").CometTypeaheadViewRecentIcon,{isActive:g,label:l}),e[17]=g,e[18]=l,e[19]=b):b=e[19];n=m!=null;e[20]!==l||e[21]!==a||e[22]!==n?(m=j.jsx(c("CometSearchBaseTypeaheadTitleSnippetViewItem.react"),{isBadged:n,level:3,snippet:a,title:l}),e[20]=l,e[21]=a,e[22]=n,e[23]=m):m=e[23];e[24]!==f||e[25]!==g||e[26]!==i||e[27]!==k||e[28]!==o||e[29]!==b||e[30]!==m?(l=j.jsx(c("CometTypeaheadViewItem.react"),babelHelpers["extends"]({},k,{entry:f,isActive:g,itemEndContent:o,itemEndContentKeyboardFocusable:!0,itemStartContent:b,linkProps:i,children:m})),e[24]=f,e[25]=g,e[26]=i,e[27]=k,e[28]=o,e[29]=b,e[30]=m,e[31]=l):l=e[31];return l}g["default"]=a}),226);
__d("LSClearEpochBeforeResumeSync",["Promise","ReQL"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){return a.runInTransaction(function(a){var c;return(c=d("ReQL")).toArrayAsync(c.mergeJoin(c.fromTableAscending(a.sync_groups),c.fromTableAscending(a.network_requests).getKeyRange(""))).then(function(c){return(h||(h=b("Promise"))).all(c.map(function(b){b=b[1];return a.network_requests.put({epochId:void 0,failureCount:b.failureCount,lastDelayedRequestTimestampMs:b.lastDelayedRequestTimestampMs,lastSentTimestampMs:b.lastSentTimestampMs,lastSyncRequestTimestampMs:b.lastSyncRequestTimestampMs,networkTaskIdentifier:b.networkTaskIdentifier,syncDatabaseId:b.syncDatabaseId,taskQueueName:b.taskQueueName})}))}).then(function(){return d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(a.network_requests).filter(function(a){return a.taskQueueName!==""})).then(function(c){return(h||(h=b("Promise"))).all(c.map(function(b){return a.network_requests.put({epochId:void 0,failureCount:b.failureCount,lastDelayedRequestTimestampMs:b.lastDelayedRequestTimestampMs,lastSentTimestampMs:b.lastSentTimestampMs,lastSyncRequestTimestampMs:b.lastSyncRequestTimestampMs,networkTaskIdentifier:b.networkTaskIdentifier,syncDatabaseId:b.syncDatabaseId,taskQueueName:b.taskQueueName})}))})})},"readwrite","ui",void 0,f.id+":17").then(function(){return(h||(h=b("Promise"))).resolve()})}g.call=a}),98);
__d("LSPlatformGraphQLTransport",["FBLogger","I64","LSDynamicDependencies","LSProgramTarget","MessengerLogHistory","nullthrows"],(function(a,b,c,d,e,f,g){"use strict";var h,i="LSPlatformGraphQLTransport.ServerError";async function a(a,b,e,f,g){var j=d("MessengerLogHistory").getInstance("client_sync"),k=null;try{k=await g(a,b,f,(h||(h=d("I64"))).to_int32(e))}catch(a){g=c("FBLogger")("messenger_web");a instanceof Error&&(j.error("Error sending Graphql Request. Type: "+(h||(h=d("I64"))).to_string(e)+" Message: "+(a.message!=null?a.message:"None")),g=g.catching(a),g.debug("Relay or Graphql Server error in LSPlatformGraphqlTransport"));throw g.mustfixThrow(i)}a=c("nullthrows")(k);b=a.dependencies;f=a.experiments;j=a.payload;var l=a.target;e=c("nullthrows")(j);g=b==null?Promise.resolve():d("LSDynamicDependencies").downloadRelayDependencies(b);k=Array.from(c("LSProgramTarget").members()).find(function(a){return c("LSProgramTarget").getName(a)===l});return[g,e,f,k]}g.ServerError=i;g.publish=a}),98);
__d("LSPlatformHardcodedInitSync",["CurrentMessengerUser","FBLogger","I64","IGDWebUtils","LSDatabaseAfterInitSyncSingleton","LSDatabaseProviderType","LSDict","LSIntEnum","LSJson","LSPlatformArmadilloUtils","LSPlatformGraphQLTransport","LSPlatformLsInitLog","MWPBumpEntityKey","MetaConfig","QuickPerformanceLogger","ReQL","getErrorSafe","gkx","isArmadillo","isInstamadillo","isRegisterArmadilloOnIgEnabled","qpl"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=c("isArmadillo")()||c("isRegisterArmadilloOnIgEnabled")()&&!c("isInstamadillo")(),l=!d("CurrentMessengerUser").isWorkUser()&&!d("IGDWebUtils").isOnInstagramWeb(),m=[1,k?95:null,l?104:null].filter(Boolean);function n(a){return a.runInTransaction(async function(a){return Promise.all(m.map(function(b){return a.network_requests.put({epochId:void 0,failureCount:(i||(i=d("I64"))).zero,lastDelayedRequestTimestampMs:void 0,lastSentTimestampMs:i.zero,lastSyncRequestTimestampMs:i.zero,networkTaskIdentifier:void 0,syncDatabaseId:(j||(j=d("LSIntEnum"))).ofNumber(b),taskQueueName:""})}))},"readwrite",void 0,void 0,f.id+":62").then(function(){return Promise.resolve()})}function o(a,b){return d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.network_requests).getKeyRange("",(j||(j=d("LSIntEnum"))).ofNumber(b)))}function p(a){return a.runInTransaction(function(a){return Promise.all(m.map(function(b){return o(a,b).then(function(b){return b!=null?a.network_requests.put({epochId:(i||(i=d("I64"))).zero,failureCount:b.failureCount,lastDelayedRequestTimestampMs:b.lastDelayedRequestTimestampMs,lastSentTimestampMs:b.lastSentTimestampMs,lastSyncRequestTimestampMs:b.lastSyncRequestTimestampMs,networkTaskIdentifier:b.networkTaskIdentifier,syncDatabaseId:b.syncDatabaseId,taskQueueName:b.taskQueueName}):Promise.resolve()})})).then(function(){})},"readwrite","ui",void 0,f.id+":97")}function q(a){if(d("LSDatabaseProviderType").isProviderPersisted(a)&&c("MetaConfig")._("76"))return a.runInTransaction(async function(a){var b=await o(a,1);b!=null&&await a.network_requests.put({epochId:void 0,failureCount:b.failureCount,lastDelayedRequestTimestampMs:b.lastDelayedRequestTimestampMs,lastSentTimestampMs:b.lastSentTimestampMs,lastSyncRequestTimestampMs:b.lastSyncRequestTimestampMs,networkTaskIdentifier:b.networkTaskIdentifier,syncDatabaseId:b.syncDatabaseId,taskQueueName:b.taskQueueName})},"readwrite","ui",void 0,f.id+":130");else return Promise.resolve()}function r(a){d("CurrentMessengerUser").isWorkUser()&&(h||(h=c("QuickPerformanceLogger"))).markerPoint(c("qpl")._(1036588047,"310"),a)}function s(a,b){return d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.tables.sync_groups).getKeyRange((j||(j=d("LSIntEnum"))).ofNumber(b)))}function t(a,b,e,f){return new(c("LSDict"))().set("database",(j||(j=d("LSIntEnum"))).ofNumber(a)).set("epoch_id",(i||(i=d("I64"))).zero).set("last_applied_cursor",e).set("sync_params",(a=f)!=null?a:"{}").set("version",i.of_string(b))}function u(a){var b=0,c=0,e=function(e){c++;c===a&&d("LSPlatformLsInitLog").addPoint("gql_fetch_end");b===0&&d("LSPlatformLsInitLog").addPoint("gql_deps_start");return e.then(function(){b===0&&(d("LSPlatformLsInitLog").addPoint("ls_sync_execute_start"),d("LSPlatformLsInitLog").LsSync.markStart()),b++,b===a&&d("LSPlatformLsInitLog").addPoint("gql_deps_end")})};return e}var v=function(){return[Promise.resolve(),"",void 0,void 0]};async function a(a,b,e,f){try{var g=d("CurrentMessengerUser").isWorkUser();await p(e);var i=[1,k?95:void 0,l?104:void 0];i=await Promise.all(i.map(function(a){return a!=null?s(e,a):void 0}));var m=i[0],o=i[1];i=i[2];m=m==null?void 0:m.currentCursor;o=o==null?void 0:o.currentCursor;i=i==null?void 0:i.currentCursor;var w=t(1,a.schemaVersion,m,a.syncParams.mailbox),x=t(95,a.schemaVersion,o,a.syncParams.e2ee),y=t(104,a.schemaVersion,i,a.syncParams.communityExclusive),z={string:{mailboxSync:m!=null?"resume":"init"}};g&&(h||(h=c("QuickPerformanceLogger"))).markerAnnotate(c("qpl")._(1036588047,"310"),z);d("LSPlatformLsInitLog").addPoint("ls_sync_start",z);d("LSPlatformArmadilloUtils").reportSyncStart();d("LSPlatformLsInitLog").addPoint("gql_fetch_start");r("start_contact");r("start_mailbox");var A=u(1+(k?1:0)+(l?1:0));g=d("LSPlatformGraphQLTransport").publish(f,0,m!=null?(j||(j=d("LSIntEnum"))).ofNumber(2):(j||(j=d("LSIntEnum"))).ofNumber(1),d("LSJson").stringify(w),a.executeGraphQLLightSpeedRequest).then(async function(a){r("mailbox_synced");d("LSPlatformLsInitLog").addPoint("gql_mailbox_fetch_end");await A(a[0]);return a}).catch(function(a){var b;d("LSPlatformArmadilloUtils").reportInitSyncFailure(a);d("LSPlatformLsInitLog").addPoint("gql_mailbox_fetch_failed",{string:{gql_mailbox_fetch_fail_reason:(b=a.message)!=null?b:"unknown"}});c("FBLogger")("messenger_web").catching(a).mustfix("Failed to sync mailbox");return v()});z=k?d("LSPlatformGraphQLTransport").publish(f,2,o!=null?(j||(j=d("LSIntEnum"))).ofNumber(2):(j||(j=d("LSIntEnum"))).ofNumber(1),d("LSJson").stringify(x),a.executeGraphQLLightSpeedRequest).then(async function(a){d("LSPlatformLsInitLog").addPoint("gql_e2ee_fetch_end");await A(a[0]);return a}).catch(function(a){var b;d("LSPlatformArmadilloUtils").reportInitSyncFailure(a);d("LSPlatformLsInitLog").addPoint("gql_e2ee_fetch_failed",{string:{gql_e2ee_fetch_fail_reason:(b=a.message)!=null?b:"unknown"}});c("FBLogger")("messenger_web").catching(a).mustfix("Failed to sync e2ee mailbox");return v()}):Promise.resolve(v());w=l?d("LSPlatformGraphQLTransport").publish(f,3,i!=null?(j||(j=d("LSIntEnum"))).ofNumber(2):(j||(j=d("LSIntEnum"))).ofNumber(1),d("LSJson").stringify(y),a.executeGraphQLLightSpeedRequest).then(async function(a){d("LSPlatformLsInitLog").addPoint("gql_cm_fetch_end");await A(a[0]);return a}).catch(function(a){var b;d("LSPlatformArmadilloUtils").reportInitSyncFailure(a);d("LSPlatformLsInitLog").addPoint("gql_cm_fetch_failed",{string:{gql_cm_fetch_fail_reason:(b=a.message)!=null?b:"unknown"}});c("FBLogger")("messenger_web").catching(a).mustfix("Failed to sync Community Exclusive mailbox");return v()}):Promise.resolve(v());if(c("gkx")("10695"))await Promise.all([z,g,w].map(function(a){return a.then(function(a){a[0];var c=a[1],d=a[2];a=a[3];if(c==="")return;return b({experiments:d,priority:"ui",syncScript:c,target:a})})}));else{o=await Promise.all([g,z,w]);for(x of o){x[0];f=x[1];i=x[2];y=x[3];if(f==="")continue;await b({experiments:i,priority:"ui",syncScript:f,target:y})}}m!=null&&await q(e);d("LSPlatformLsInitLog").LsSync.markEnd();r("sync_completed");d("LSPlatformLsInitLog").addPoint("ls_sync_execute_end");d("LSPlatformArmadilloUtils").reportSyncEnd();d("LSPlatformLsInitLog").addPoint("ls_sync_end");k&&d("LSPlatformArmadilloUtils").occamadilloInitEnd();d("MWPBumpEntityKey").bumpEntityKeyWithAppId("mw_graphql","init_sync.success");d("MWPBumpEntityKey").bumpEntityKeyWithAppId("mw_ls","init_sync.success");d("LSDatabaseAfterInitSyncSingleton").resolveInitSync(Promise.resolve(e))}catch(b){a=c("getErrorSafe")(b);d("MWPBumpEntityKey").bumpEntityKeyWithAppId("mw_ls","init_sync.fail");r("sync_failed");d("LSPlatformLsInitLog").fail("init_sync_failure");try{d("LSPlatformArmadilloUtils").reportInitSyncFailure(a)}catch(a){}c("FBLogger")("messenger_web").catching(a).mustfix("Encountered an error while performining preloaded init sync request via graphql");return n(e)}}g.sendHardcodedInitSync=a}),98);
__d("MAWBridgeReceivedChatStateHandler",["I64","MAWMiActOnMiThreadExistsForJid__DO_NOT_USE","Promise","ServerTime","WAChatState","emptyFunction"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a,e){return d("MAWMiActOnMiThreadExistsForJid__DO_NOT_USE").onMiThreadExistsForJidNoThrow__DO_NOT_USE(a,e.threadJid,"MAWBridgeReceivedChatStateHandler",function(a,f){var g=(i||(i=d("I64"))).of_string(e.senderId),j=i.of_float(3e3+d("ServerTime").getMillis());if(e.state===d("WAChatState").TYPING)return a.typing_indicator.upsert([f,g],{expirationTimestampMs:j,senderId:g,threadKey:f}).then(c("emptyFunction"));else if(e.state===d("WAChatState").IDLE)return a.typing_indicator["delete"](f,g).then(c("emptyFunction"));else return(h||(h=b("Promise"))).resolve()})}g.call=a}),98);
__d("MWChatStateV2CompareTabs",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){a=a.openWatermark-b.openWatermark;if(a<0)return 1;else if(a>0)return-1;else return 0}function b(a,b){a=Math.max(a.minimizeWatermark,a.clientForcedMinimizeWatermark)-Math.max(b.minimizeWatermark,b.clientForcedMinimizeWatermark);if(a<0)return 1;else if(a>0)return-1;else return 0}f.byMostRecentOpened=a;f.byMostRecentMinimized=b}),66);
__d("MWChatStateV2TabGroups",["MWChatStateV2CompareTabs","MWChatStateV2IsMinimized","MWChatStateV2IsOpen","ODS"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(a,b,c){var d=a.length;if(d>b&&b>0&&c!=null){var e=a.findIndex(function(a){return a.tabId===c});if(e!==-1&&e>=b&&e<d){d=function(b,c){var d=a[b];a[b]=a[c];a[c]=d};d(b-1|0,e)}}return a}function a(a,b,c,e){(h||(h=d("ODS"))).bumpEntityKey(3185,"chat_tab_groups","mediaViewerOpenWatermarkOpt."+(a==null||a===-1?"default":"set"));c=i(Array.from(b.values()).filter(function(b){return d("MWChatStateV2IsOpen").isOpen(a,b)}).sort(d("MWChatStateV2CompareTabs").byMostRecentOpened),e,c);b=Array.from(b.values()).filter(function(b){return d("MWChatStateV2IsMinimized").isMinimized(a,b)});return{minimizedTabs:b,openExcessTabs:c.slice(e,c.length),openTabs:c.slice(0,e)}}g.getTabGroups=a}),98);
__d("MercuryIDs",[],(function(a,b,c,d,e,f){"use strict";var g={isValid:function(a){return a==null||a===""||typeof a!=="string"?!1:/^\w{3,12}:.+/.test(a)},isValidThreadID:function(a){if(!g.isValid(a))return!1;a=g.tokenize(a);switch(a.type){case"user":case"support":case"thread":case"root":return!0;default:return!1}},tokenize:function(a){if(a==null||a===""||!g.isValid(a))throw new Error("bad_id_format "+String(a));var b=a.indexOf(":");return{type:a.substr(0,b),value:a.substr(b+1)}},getUserIDFromParticipantID:function(a){if(!g.isValid(a))throw new Error("bad_id_format "+a);a=g.tokenize(a);var b=a.type;a=a.value;return b==="fbid"?a:null},getParticipantIDFromUserID:function(a){if(isNaN(a))throw new Error("Not a user ID: "+a);return"fbid:"+a},getUserIDFromThreadID:function(a){return!this.isCanonical(a)?null:this.tokenize(a).value},getThreadIDFromUserID:function(a){return"user:"+a},getThreadIDFromThreadFBID:function(a){return"thread:"+a},getThreadIDFromSupportInboxItemID:function(a){return"support:"+a},getThreadFBIDFromThreadID:function(a){return this.tokenize(a).value},getThreadKeyfromThreadIDUserID:function(a,b){if(a==null||a===""||!g.isValid(a))throw new Error("bad_id_format "+String(a));var c=this.tokenize(a).type;a=this.tokenize(a).value;if(c!=="user")return"g"+a;c="";var d="";if(a.length!==b.length)c=a.length>b.length?a:b,d=a.length>b.length?b:a;else if(b===a)return b+"u"+a;else{var e=0;while(e<a.length&&e<b.length)if(a[e]===b[e])e++;else{c=a[e]>b[e]?a:b;d=a[e]>b[e]?b:a;break}}return d+"u"+c},getThreadIDFromParticipantID:function(a){a=this.getUserIDFromParticipantID(a);return a?this.getThreadIDFromUserID(a):null},getParticipantIDFromFromThreadID:function(a){a=this.getUserIDFromThreadID(a);return a?this.getParticipantIDFromUserID(a):null},getSupportInboxItemIDFromThreadID:function(a){return this.tokenize(a).value},isCanonical:function(a){return this.isValid(a)&&this.tokenize(a).type==="user"},isGroupChat:function(a){return this.isValid(a)&&this.tokenize(a).type!=="user"},isLocalThread:function(a){return this.isValid(a)&&this.tokenize(a).type==="root"}};e.exports=g}),null);
__d("cometSearchTypeaheadRecentEntityViewItem.resolver",[],(function(a,b,c,d,e,f){"use strict";function a(a){var b=a.metaData.markers;return b.has("entity")&&a.subtype==="recent"?a:null}f["default"]=a}),66);
__d("cometSearchTypeaheadStructuredDirectNavKeywordRecentViewItem.resolver",[],(function(a,b,c,d,e,f){"use strict";function a(a){var b=a.metaData.markers;return b.has("direct_nav")&&a.subtype==="recent"?a:null}f["default"]=a}),66);
__d("cometSearchTypeaheadStructuredDirectNavKeywordViewItem.resolver",[],(function(a,b,c,d,e,f){"use strict";function a(a){var b=a.metaData.markers;return b.has("keyword")&&b.has("direct_nav")?a:null}f["default"]=a}),66);
__d("cometSearchTypeaheadStructuredDisambiguationKeywordViewItem.resolver",[],(function(a,b,c,d,e,f){"use strict";function a(a){var b=a.metaData.markers;return b.has("disambiguation")&&a.subtype==="keyword"?a:null}f["default"]=a}),66);
__d("cometSearchTypeaheadStructuredHighConfidenceKeywordRecentViewItem.resolver",[],(function(a,b,c,d,e,f){"use strict";function a(a){var b=a.metaData.markers;return b.has("high_confidence")&&a.subtype==="recent"?a:null}f["default"]=a}),66);
__d("cometSearchTypeaheadStructuredHighConfidenceKeywordViewItem.resolver",[],(function(a,b,c,d,e,f){"use strict";function a(a){var b=a.metaData.markers;return b.has("high_confidence")&&(a.subtype==="keyword"||a.subtype==="bootstrap")?a:null}f["default"]=a}),66);
__d("searchCometGlobalTypeahead.config",[],(function(a,b,c,d,e,f){"use strict";a=8;b={dataSources:{bootstrapKeywordsDataSourceParams:{queryVariables:{first:2e3}},keywordDataSourceParams:{queryVariables:{fetch_count:a,fetch_mode:"blended"}}},logging:{sessionContext:"SEARCH_GLOBAL"},view:{renderLimit:a,sectionLimits:new Map([["other",a],["recent_searches",a]])}};f["default"]=b}),66);
__d("searchCometTypeaheadSTSMappings",["CometSearchTypeaheadBaseStructuredDirectNavKeywordViewItem.react","CometSearchTypeaheadBaseStructuredDisambiguationKeywordViewItem.react","CometSearchTypeaheadBaseStructuredHighConfidenceKeywordViewItem.react","CometSearchTypeaheadRecentEntityViewItem.react","CometSearchTypeaheadStructuredDirectNavKeywordRecentViewItem.react","CometSearchTypeaheadStructuredHighConfidenceKeywordRecentViewItem.react","cometSearchTypeaheadRecentEntityViewItem.resolver","cometSearchTypeaheadStructuredDirectNavKeywordRecentViewItem.resolver","cometSearchTypeaheadStructuredDirectNavKeywordViewItem.resolver","cometSearchTypeaheadStructuredDisambiguationKeywordViewItem.resolver","cometSearchTypeaheadStructuredHighConfidenceKeywordRecentViewItem.resolver","cometSearchTypeaheadStructuredHighConfidenceKeywordViewItem.resolver","filterNulls"],(function(a,b,c,d,e,f,g){"use strict";a=c("filterNulls")([{resolver:c("cometSearchTypeaheadStructuredDirectNavKeywordViewItem.resolver"),viewItem:c("CometSearchTypeaheadBaseStructuredDirectNavKeywordViewItem.react")},{resolver:c("cometSearchTypeaheadStructuredHighConfidenceKeywordViewItem.resolver"),viewItem:c("CometSearchTypeaheadBaseStructuredHighConfidenceKeywordViewItem.react")},{resolver:c("cometSearchTypeaheadStructuredDisambiguationKeywordViewItem.resolver"),viewItem:c("CometSearchTypeaheadBaseStructuredDisambiguationKeywordViewItem.react")},{resolver:c("cometSearchTypeaheadStructuredDirectNavKeywordRecentViewItem.resolver"),viewItem:c("CometSearchTypeaheadStructuredDirectNavKeywordRecentViewItem.react")},{resolver:c("cometSearchTypeaheadStructuredHighConfidenceKeywordRecentViewItem.resolver"),viewItem:c("CometSearchTypeaheadStructuredHighConfidenceKeywordRecentViewItem.react")},{resolver:c("cometSearchTypeaheadRecentEntityViewItem.resolver"),viewItem:c("CometSearchTypeaheadRecentEntityViewItem.react")}]);g["default"]=a}),98);
__d("useSubscriptionValue",["react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){var h;b=h||d("react");b.useCallback;var i=b.useEffect,j=b.useState;function a(a){var b=d("react-compiler-runtime").c(10),c=a.getCurrentValue,e=a.subscribe;b[0]!==c?(a=function(){return c()},b[0]=c,b[1]=a):a=b[1];a=j(a);var f=a[0],g=a[1];b[2]!==c?(a=function(){g(c)},b[2]=c,b[3]=a):a=b[3];var h=a;b[4]!==c?(a=function(){return c},b[4]=c,b[5]=a):a=b[5];a=j(a);var k=a[0];a=a[1];k!==c&&(a(function(){return c}),h());b[6]!==h||b[7]!==e?(k=function(){var a;a=!1;var b=function(){a||h()},c=e(b);h();return function(){a=!0,c()}},a=[h,e],b[6]=h,b[7]=e,b[8]=k,b[9]=a):(k=b[8],a=b[9]);i(k,a);return f}g["default"]=a}),98);
__d("useWindowSize",["ExecutionEnvironment","react","react-compiler-runtime","throttle","useSubscriptionValue"],(function(a,b,c,d,e,f,g){"use strict";var h,i;(i||d("react")).useCallback;function j(){return!(h||(h=c("ExecutionEnvironment"))).canUseDOM?{innerHeight:0,innerWidth:0,outerHeight:0,outerWidth:0}:{innerHeight:window.innerHeight,innerWidth:window.innerWidth,outerHeight:window.outerHeight,outerWidth:window.outerWidth}}function a(a){var b=d("react-compiler-runtime").c(4),e=a===void 0?500:a;b[0]!==e?(a=function(a){var b=c("throttle")(a,e);window.addEventListener("resize",b);return function(){window.removeEventListener("resize",b)}},b[0]=e,b[1]=a):a=b[1];a=a;var f;b[2]!==a?(f={getCurrentValue:j,subscribe:a},b[2]=a,b[3]=f):f=b[3];return c("useSubscriptionValue")(f)}g["default"]=a}),98);
__d("useMWChatStateV2MaxTabCount",["useWindowSize"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=c("useWindowSize")();b=b.innerWidth;if(b<1100||a)return 1;a=(b/2|0)-90|0;b=a/338;return b<1?1:Math.ceil(b)}g["default"]=a}),98);
__d("useMWIsTopLevelRouteMediaViewerExperiment",["MWChatVisibileRoutes","react-compiler-runtime","useCometRouterState"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a=d("react-compiler-runtime").c(2),b=c("useCometRouterState")();if(b==null)return!1;var e=b.main;b=b.pushViewStack;b=b&&b.length>0?b[b.length-1]:e;if(a[0]!==((e=b.route)==null?void 0:e.tracePolicy)){e=d("MWChatVisibileRoutes").ROUTES.has((e=(e=b.route)==null?void 0:e.tracePolicy)!=null?e:"");a[0]=(b=b.route)==null?void 0:b.tracePolicy;a[1]=e}else e=a[1];return e}g["default"]=a}),98);
__d("useSearchCometGlobalTypeaheadCompositeDataSource",["useSearchCometTypeaheadCompositeDataSource"],(function(a,b,c,d,e,f,g){"use strict";var h={instance:null};function a(a){a=c("useSearchCometTypeaheadCompositeDataSource")(a);h.instance==null&&(h.instance=a);return h.instance}g["default"]=a}),98);
__d("useSearchCometGlobalTypeaheadNullStateDataSource",["react-compiler-runtime","useSearchCometRecentSearchDataSource"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a=d("react-compiler-runtime").c(1),b;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b={fetchSearchBadge:Boolean(!0),filter:"all",nullStateSurface:"GLOBAL"},a[0]=b):b=a[0];return c("useSearchCometRecentSearchDataSource")(b)}g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("EBDeps",["FBLogger","err"],(function(a,b,c,d,e,f,g){"use strict";var h=null;function a(){if(h==null)throw c("err")("EBDeps is not initialized");return h}function b(a,b){if(h!=null)return;h=new Proxy(a,{get:function(a,d){var e=a[d];if(e instanceof Function)return function(){c("FBLogger")("labyrinth_web").info("EBDeps: function %s, reason %s",d,b);for(var f=arguments.length,g=new Array(f),h=0;h<f;h++)g[h]=arguments[h];return e.apply(a,g)};c("FBLogger")("labyrinth_web").info("EBDeps: %s is not function",d);return e}})}g.getDeps=a;g.setDeps=b}),98);
__d("LSEncryptedBackupsBackupTenancy",[],(function(a,b,c,d,e,f){a=Object.freeze({PRODUCTION:1,SHADOW:2,OPEN:3});f["default"]=a}),66);
__d("LSDataTraceCheckPoint",[],(function(a,b,c,d,e,f){a=Object.freeze({CLIENT_DB_OUTBOUND:1,CLIENT_NETWORK_OUTBOUND:2,CLIENT_NETWORK_INBOUND:10,CLIENT_DB_INBOUND:11,CLIENT_EVALUATE_DASM:12,CLIENT_APP_STATE_CHANGE:13,CLIENT_CREATE_TASK:20,CLIENT_RECIPIENT_PRESENCE:21,CLIENT_EVALUATE_DASM_BEGIN:22,MQTT_PUBLISH:30,MQTT_PUBLISH_ACK:31,MQTT_DISCONNECTED:32,MQTT_CONNECTING:33,MQTT_CONNECTED:34,MQTT_CONNECTION_ACKED:35,TINCAN_RECEIVE_MESSAGE:36,TINCAN_RECEIVE_DECRYPTION_COMPLETE:37,TINCAN_RECEIVE_DECRYPTION_FAILED:38,TINCAN_RECEIVE_DR_QUEUED:39,TINCAN_RECEIVE_DR_SENT_TO_NETWORK:40,TINCAN_RECEIVE_DR_PUBLISH_TO_MQTT:41,TINCAN_RECEIVE_DRMQTT_PUBACK:42,TINCAN_RECEIVE_BOUNCE_TASK_QUEUED:43,TINCAN_RECEIVE_BOUNCE_TASK_SENT_TO_NETWORK:44,TINCAN_RECEIVE_BOUNCE_TASK_PUBLISH_TO_MQTT:45,RICH_MEDIA_DOWNLOAD_START:50,RICH_MEDIA_DOWNLOAD_END:51,RICH_MEDIA_DOWNLOAD_ERROR:52,RICH_MEDIA_UPLOAD_START:53,ARMADILLO_ACT:60,ARMADILLO_ACT_TASK_PICK:61,ARMADILLO_ACT_SERIALIZE:62,ARMADILLO_ACT_GROUP_SEND:63,ARMADILLO_ACT_SEND_FAILURE:64,ARMADILLO_ACT_MESSAGE_SEND:65,NETWORK_DISCONNECTED:70,NETWORK_CONNECTED:71,NETWORK_UNKNOWN:72,FLOW_CREAT:80,FLOW_END:81,FLOW_INTERRUPTED:82,FLOW_CONNECT_ID:83,FLOW_END_AND_FLUSH:84,FLOW_END_FOR_FAILURE:85,TRACE_CREATED:98,CLIENT_READY_TO_FLUSH:99,PENDING_DELTA:100,NO_PENDING_DELTA:101,INIT_SYNC:102,RESNAPSHOT:103,CATCH_UP:104,PERIODIC_SYNC:105,CATCH_UP_FROM_REVISION:106,RESNAPSHOT_CONTINUE:107,RESNAPSHOT_END:108,PERIODIC_SYNC_CONTINUE:109,PERIODIC_SYNC_END:110,CONTACT_SYNC_OPTIMISTIC:111,CONTACT_SYNC_FROM_OMNISTORE:112,CONTACT_SYNC_TAM_OPTIMISTC:113,CONTACT_SYNC_TAM_FROM_OMNISTORE:114,CONTACT_SYNC_TAM_ERROR:115,VERIFY_USER_FOR_SYNC:116,SNAPSHOT_START:117,SNAPSHOT_CONTINUE:118,SNAPSHOT_END:119,FETCH_DELTA:120,DELTA_SUMMARY:130,RECEIVE_DELIVERY_RECEIPT:200,TASK_DESERIALIZATION_ERROR:201,OPTIMISIC_MESSAGE_FAILED:202,SEND_SERVER_AUTHORITATIVE:203,THREAD_RANGE_QUERY_COMPLETE:204,THREAD_RANGE_QUERY_FAILURE:205,THREAD_POINT_QUERY_COMPLETE:206,SEND_SERVER_PARTIAL:207,MARK_AS_OPTIMISTIC_SENT:208,XMS_TRANSPORT_MESSAGE_SEND_START:300,XMS_TRANSPORT_MESSAGE_SEND_FAIL:301,SKIP_TASK_DISPATCH:900,ADVANCED_CRYPTO_MEM_ENCRYPT_TASK_START:1200,ADVANCED_CRYPTO_MEM_ENCRYPT_TASK_COMPLETE:1201,ADVANCED_CRYPTO_MEM_WA_PUBLISH:1202,ADVANCED_CRYPTO_MEM_PUBLISH_ACK:1203,ADVANCED_CRYPTO_MEM_SEND_TASK_COMPLETE:1204,ADVANCED_CRYPTO_MEM_WA_CONNECTION_DISCONNECTED:1205,ADVANCED_CRYPTO_MEM_WA_CONNECTION_CONNECTING:1206,ADVANCED_CRYPTO_MEM_WA_CONNECTION_CONNECTED:1207,ADVANCED_CRYPTO_MEM_FAILURE:1208,ADVANCED_CRYPTO_MEM_SEND_SUCCESS_WITH_RETRY:1209,ADVANCED_CRYPTO_MEM_DELIVERY_RECEIPT_RECEIVED:1210,ADVANCED_CRYPTO_REGISTRATION_CAT_DISK_FETCH_START:1211,ADVANCED_CRYPTO_REGISTRATION_CAT_DISK_FETCH_END:1212,ADVANCED_CRYPTO_REGISTRATION_CAT_NETWORK_FETCH_START:1213,ADVANCED_CRYPTO_REGISTRATION_CAT_NETWORK_FETCH_RETRYSTART:1214,ADVANCED_CRYPTO_REGISTRATION_CAT_NETWORK_FETCH_END:1215,ADVANCED_CRYPTO_REGISTRATION_WA_REQUEST_SEND_START:1216,ADVANCED_CRYPTO_REGISTRATION_WA_REQUEST_SEND_END:1217,ADVANCED_CRYPTO_REGISTRATION_WCR_REGISTER:1218,ADVANCED_CRYPTO_REGISTRATION_SAVE_WA_DEVICE_ID_ERROR:1219,ADVANCED_CRYPTO_MEM_DEVICE_FETCH_START:1220,ADVANCED_CRYPTO_MEM_DEVICE_FETCH_END:1221,ADVANCED_CRYPTO_MEM_ENCRYPTION_BEGIN:1222,ADVANCED_CRYPTO_MEM_ENCRYPTION_END:1223,ADVANCED_CRYPTO_MEM_ENCRYPTION_DEVICE_COUNT:1224,ADVANCED_CRYPTO_DUAL_SEND:1225,ADVANCED_CRYPTO_REGISTRATION_SERVER_SUCCESS:1226,ADVANCED_CRYPTO_REGISTRATION_RETRY_REGISTER:1227,ADVANCED_CRYPTO_REGISTRATION_CAT_NULL:1228,ADVANCED_CRYPTO_REGISTRATION_WCR_MANAGER_NULL:1229,ADVANCED_CRYPTO_REGISTRATION_RESPONSE_NULL:1230,ADVANCED_CRYPTO_REGISTRATION_SELF_NULL:1231,ADVANCED_CRYPTO_REGISTRATION_EMPTY_DEVICE_ID:1232,ADVANCED_CRYPTO_REGISTRATIONRETRY_REGISTER_FAILURE:1233,ADVANCED_CRYPTO_GROUP_DUAL_SEND:1234,RAVEN_IMAGE_MESSAGE:1235,RAVEN_VIDEO_MESSAGE:1236,ADVANCED_CRYPTO_REGISTRATION_RETRY_REGISTER_CAT:1237,ADVANCED_CRYPTO_REGISTRATION_RETRY_REGISTER_NETWORK:1238,ADVANCED_CRYPTO_CAT_DISK_FETCH_CAT_INVALID:1239,ADVANCED_CRYPTO_RECONNECT_GENERIC_ERROR:1240,ADVANCED_CRYPTO_RECONNECT_CAT_INVALID:1241,ADVANCED_CRYPTO_RECONNECT_CAT_EXPIRED:1242,ADVANCED_CRYPTO_CAT_MEMORY_FETCH_NULL:1243,ADVANCED_CRYPTO_FIRST_CONNECTION_START:1244,LABYRINTH_INITIALIZE_BACKUP_SPROC:1400,LABYRINTH_INITIALIZE_BACKUP_SUCCESS_SPROC:1401,LABYRINTH_INITIALIZE_BACKUP_FAILURE:1402,LABYRINTH_CREATE_BACKUP_MAILBOX_SPROC:1403,LABYRINTH_HANDLE_CREATE_BACKUP_MAILBOX_SUCCESS_SPROC:1404,LABYRINTH_OPEN_EPOCH_SPROC:1405,LABYRINTH_HANDLER_OPEN_EPOCH_SUCCESS_SPROC:1406,LABYRINTH_HANDLER_OPEN_EPOCH_FAILURE_SPROC:1407,LABYRINTH_CREATE_VIRTUAL_DEVICE_SPROC:1410,LABYRINTH_HANDLE_CREATE_VIRTUAL_DEVICE_SUCCESS_SPROC:1411,LABYRINTH_HANDLE_CREATE_VIRTUAL_DEVICE_FAILURE_SPROC:1412,LABYRINTH_ADD_DEVICE_SPROC:1413,LABYRINTH_ADD_DEVICE_FROM_VIRTUAL_SPROC:1414,LABYRINTH_HANDOLE_WRONG_RECOVERY_CODE_SPROC:1415,LABYRINTH_HANDLE_ADD_DEVICE_SUCCESS_SPROC:1416,LABYRINTH_HANDLE_ADD_DEVICE_FAILURE_SPROC:1417,LABYRINTH_ADD_DEVICE_SPROC_ADD_DEVICE_ALREADY_PENDING:1600,LABYRINTH_ADD_DEVICE_SPROC_UPDATE_RECOVERY_DATA_TABLE_START:1601,LABYRINTH_ADD_DEVICE_SPROC_ADD_DEVICE_NO_VD_TABLE:1602,LABYRINTH_ADD_DEVICE_SPROC_GENERATE_RECOVERY_SECRETS_START:1603,LABYRINTH_ADD_DEVICE_SPROC_WRONG_RC:1604,LABYRINTH_ADD_DEVICE_SPROC_NULL_VD:1605,LABYRINTH_ADD_DEVICE_SPROC_NO_RC_STATUS_TABLE_FOUND:1606,LABYRINTH_ADD_DEVICE_SPROC_ISSUE_FETCH_VD_TASK:1607,LABYRINTH_ADD_DEVICE_SPROC_SUCCESS:1608,LABYRINTH_INITIALIZE_RESTORE_SPROC:1418,LABYRINTH_DECRYPT_THREADS_SPROC:1419,LABYRINTH_REQUEST_MESSAGES_FROM_THREADS_SPROC:1420,LABYRINTH_REQUEST_MESSAGES_FROM_RANGE_QUERY_SPROC:1421,LABYRINTH_DECRYPT_MESSAGES_SPROC:1422,LABYRINTH_DELETE_BACKUP_ON_CLIENT_SPROC:1423,LABYRINTH_DELETE_BACKUPS_SPROC:1424,LABYRINTH_HANDLE_DELETE_MAILBOX_SPROC:1425,LABYRINTH_ISSUE_DELETE_BACKUP_TASK_SPROC:1426,LABYRINTH_BACKUP_UPLOAD_BEGIN:1427,LABYRINTH_BACKUP_UPLOAD_SUCCESS_SPROC:1428,LABYRINTH_CREATE_EXTRA_VIRTUAL_DEVICE_SPROC:1429,LABYRINTH_QR_INIT_ADD_DEVICE_SPROC:1430,LABYRINTH_QR_INIT_ADD_DEVICE_SUCCESS_SPROC:1431,LABYRINTH_QR_INIT_GET_SECRETS_SPROC:1433,LABYRINTH_QR_FINISH_ADD_PEER_DEVICE_SPROC:1434,LABYRINTH_SYNC_EPOCHS_STORED_PROCEDURE_SPROC:1436,LABYRINTH_SYNC_EPOCHS_SUCCESS_SPROC:1437,LABYRINTH_SYNC_EPOCHS_FORWARD_DERIVATION_END:1438,LABYRINTH_SYNC_EPOCHS_BACKWARD_DERIVATION_END:1439,LABYRINTH_SYNC_EPOCHS_OPEN_NEW_EPOCH:1440,LABYRINTH_PREPARE_OPEN_EPOCH_SPROC:1441,LABYRINTH_PREPARE_OPEN_EPOCH_SUCCESS_SPROC:1442,LABYRINTH_MEB_MANAGER_ADD_DEVICE:1443,LABYRINTH_BACKUP_UPLOAD_FAIL:1450,LABYRINTH_DECRYPT_SINGLE_MESSAGE_SPROC:1498,LABYRINTH_DECRYPT_SINGLE_MESSAGE_SUCCESS:1499,LABYRINTH_MEDIA_BACKUP_START:1455,LABYRINTH_MEDIA_BACKUP_SUCCESS:1456,LABYRINTH_MEDIA_BACKUP_FAILURE:1458,LABYRINTH_MEDIA_RESTORE_START:1459,LABYRINTH_MEDIA_RESTORE_SUCCESS:1460,LABYRINTH_MEDIA_RESTORE_FAILURE:1462,LABYRINTH_REMOVE_VIRTUAL_DEVICE_SPROC:1484,LABYRINTH_HANDLE_REMOVE_VIRTUAL_DEVICE_RESULT_SUCCESS:1485,LABYRINTH_HANDLE_REMOVE_VIRTUAL_DEVICE_RESULT_FAILURE:1486,LABYRINTH_REMOVE_VIRTUAL_DEVICE_BACKUP_NOT_FOUND:1493,LABYRINTH_REMOVE_VIRTUAL_DEVICE_WRITE_TASK:1494,LABYRINTH_BACKUP_UPLOAD_ENQUEUE_TASK_EXECUTER:1495,LABYRINTH_BACKUP_UPLOAD_ENQUEUE_SERIALIZER:1496,LABYRINTH_BACKUP_UPLOAD_SERIALIZE:1451,LABYRINTH_BACKUP_UPLOAD_SERIALIZE_SUCCEED:1463,LABYRINTH_BACKUP_UPLOAD_SERIALIZE_FAIL:1464,LABYRINTH_UPDATE_BACKUP_TABLE_SPROC:1467,LABYRINTH_FETCH_BACKUP_IDS_SPROC:1468,LABYRINTH_PROCESS_BACKUP_IDS_SPROC:1487,LABYRINTH_BACKUP_STATUS_NO_INFO:1488,LABYRINTH_BACKUP_STATUS_FETCH_ERROR:1489,LABYRINTH_BACKUP_STATUS_NOT_ONBOARDED:1490,LABYRINTH_BACKUP_STATUS_ONBOARDED:1491,LABYRINTH_BACKUP_STATUS_NO_BACKUPS_PRESENT:1492,LABYRINTH_OPT_OUT_OF_BACKUP_SPROC:1469,LABYRINTH_TRIGGER_THIRD_PARTY_ID_GENERATION_SPROC:1470,LABYRINTH_HANDLE_TRIGGER_THIRD_PARTY_ID_GENERATION_SPROC:1471,LABYRINTH_FETCH_BACKUPS_METADATA_SPROC:1478,LABYRINTH_HANDLE_BACKUPS_METADATA_RESULT_SPROC:1480,LABYRINTH_RESTORE_THREADS_SUCCESS:1481,LABYRINTH_RESTORE_MESSAGES_SUCCESS:1482,LABYRINTH_POINT_QUERY_MESSAGE_RESTORE:2511,LABYRINTH_RESTORE_MESSAGE_NEWER_DIRECTION:2514,LABYRINTH_RESTORE_SURROUNDING_MESSAGES:2515,LABYRINTH_BACKUP_UPLOAD_GET_ECHO_DOC:1497,LABYRINTH_MEBMANAGER_ADD_DEVICE_FETCH_BACKUP_STATE:1800,LABYRINTH_MEBMANAGER_ADD_DEVICE_FETCH_BACKUP_STATE_SUCCESS:1801,LABYRINTH_MEBMANAGER_ADD_DEVICE_FETCH_BACKUP_STATE_FAILURE:1802,LABYRINTH_MEBMANAGER_ADD_DEVICE_ADD_DEVICE_SPROC_CALLED:1803,LABYRINTH_MEBMANAGER_ADD_DEVICE_ADD_DEVICE_SPROC_RETURN_SUCCESS:1804,LABYRINTH_MEBMANAGER_ADD_DEVICE_ADD_DEVICE_SPROC_RETURN_FAILURE:1805,LABYRINTH_MEBMANAGER_ADD_DEVICE_NOTOFICATION_TRIGGERED:1806,LABYRINTH_MEBMANAGER_ADD_DEVICE_FETCH_ADD_DEVICE_STATE:1807,LABYRINTH_MEBMANAGER_ADD_DEVICE_FETCH_ADD_DEVICE_STATEFAILURE:1808,LABYRINTH_MEBMANAGER_ADD_DEVICE_INIT_RESTORE_SPROC_CALLED:1809,LABYRINTH_MEBMANAGER_ADD_DEVICE_INIT_RESTORE_SPROC_RETURN_SUCCESS:1810,LABYRINTH_MEBMANAGER_ADD_DEVICE_INIT_RESTORE_SPROC_RETURN_FAILURE:1811,LABYRINTH_MEBMANAGER_CREATE_EXTRA_VIRTUAL_DEVICE_SPROC_CALLED:1812,LABYRINTH_MEBMANAGER_CREATE_EXTRA_VIRTUAL_DEVICE_SPROC_RETURN_SUCCESS:1813,LABYRINTH_MEBMANAGER_CREATE_EXTRA_VIRTUAL_DEVICE_SPROC_RETURN_FAILURE:1814,LABYRINTH_MEBMANAGER_CREATE_EXTRA_VIRTUAL_DEVICE_NOTIFICATION_TRIGGERRED:1815,LABYRINTH_MEBMANAGER_CREATE_EXTRA_VIRTUAL_DEVICE_FETCH_RECOVERY_CODE_STATUS:1816,LABYRINTH_MEBMANAGER_CREATE_EXTRA_VIRTUAL_DEVICE_FETCH_RECOVERY_CODE_STATUS_FAILURE:1817,LABYRINTH_MEBMANAGER_CREATE_EXTRA_VIRTUAL_DEVICE_CREATE_EXTRA_VIRTUAL_DEVICE_SUCCESS:1818,LABYRINTH_MEBMANAGER_CREATE_EXTRA_VIRTUAL_DEVICE_CREATE_EXTRA_VIRTUAL_DEVICE_FAILURE:1819,LABYRINTH_MEBMANAGER_WRONG_RECOVERY_CODE:1823,LABYRINTH_ENCRYPT_MESSAGE_FAIL:1828,LABYRINTH_ENCRYPT_MESSAGE_GENERATED_PAYLOAD:1824,LABYRINTH_ENCODE_DOCUMENT:1820,LABYRINTH_ENCODE_DOCUMENT_FAIL:1821,LABYRINTH_ENCODE_DOCUMENT_SUCCESS:1822,LABYRINTH_UPLOAD_CANCEL:1850,LABYRINTH_DELETE_BACKUP_ON_CLIENT_STARTING_CANCEL:1851,LABYRINTH_DELETE_BACKUP_ON_CLIENT_DID_CANCEL:1852,LABYRINTH_DELETE_BACKUP_ON_CLIENT_FAILED_CANCEL:1853,LABYRINTH_BACKUP_RETRY_DELETE_MESSAGE_BACKUP_STATUS_ENTRY:1865,LABYRINTH_MESSAGE_INTEGRITY_CHECKER_BEGIN:1881,LABYRINTH_MESSAGE_INTEGRITY_CHECKER_GOT_MESSAGE_IDS_FROM_ACT:1882,LABYRINTH_MESSAGE_INTEGRITY_CHECKER_BEGIN_OCMF_OPE_OPERATIONS:1883,LABYRINTH_MESSAGE_INTEGRITY_CHECKER_END_OCMF_OPE_OPERATIONS:1884,LABYRINTH_MESSAGE_INTEGRITY_CHECKER_FETCH_MESSAGE_RANGE_ERROR:1885,LABYRINTH_MESSAGE_INTEGRITY_CHECKER_ISSUE_COMPARATOR_TASK:1886,LABYRINTH_CLEAR_BACKUP_TABLE_ON_CLIENT:1891,LABYRINTH_CLEAR_VIRTUAL_DEVICES_TABLE_ON_CLIENT:1892,LABYRINTH_CLEAR_BACKUP_METADATA_TABLE_ON_CLIENT:1893,SAP_VESTA_FETCH_VESTA_KEY_AND_SECRET_BEGIN:2400,LABYRINTH_PLUGIN_CALLING_GENERATE_RECOVERY_CODE:2401,SAP_FESTA_FETCH_KEY_AND_SECRET_COMPLETION:2402,SAP_VESTA_CALLING_VESTA_REGISTRATION:2403,SAP_VESTA_REGISTRATION_COMPLETION:2404,LABYRINTH_PLUGIN_CALLING_CREATE_EXTRA_VIRTUAL_DEVICE:2405,SAP_VESTA_NOTIFY_SECRET_STORED_COMPLETION:2406,SAP_VESTA_NOTIFY_CLIENT_ABOUT_VESTA_REGISTRATION:2407,SAP_VESTA_CALLING_VESTA_LOGIN:2411,SAP_VESTA_LOGIN_COMPLETION:2412,LABYRINTH_PLUGIN_CALLING_ADD_DEVICE:2413,LABYRINTH_PLUGIN_CALLING_INITIALIZE_BACKUP:2416,LABYRINTH_PIN_SETUP_BEGIN:2417,LABYRINTH_PIN_SETUP_SUCCESS:2418,LABYRINTH_PIN_SETUP_FAILURE:2419,LABYRINTH_PIN_RESTORE_BEGIN:2420,LABYRINTH_PIN_RESTORE_SUCCESS:2421,LABYRINTH_PIN_RESTORE_FAILURE:2422,LABYRINTH_PLUGIN_CALLING_INITIALIZE_RESTORE:2423,LABYRINTH_FETCH_THREAD_IDS_SPROC:2500,LABYRINTH_FETCH_THREAD_IDS_NATIVE_OP_SUCCESS:2501,LABYRINTH_FETCH_THREAD_IDS_NATIVE_OP_FAILURE:2502,LABYRINTH_REQUEST_MESSAGES_FROM_FETCH_THREAD_IDS_SPROC:2503,LABYRINTH_REQUEST_MESSAGES_FROM_INIT_RESTORE_SPROC:2506,LABYRINTH_POINT_QUERY_RESTORE_TASK_SPROC_START:2512,LABYRINTH_POINT_QUERY_RESTORE_TASK_SPROC_END:2513,LABYRINTH_VERSIONING_UPSERT_DEVICE_ENCRYPTION_VERSIONS_TO_CLIENT_SPROC_START:2800,LABYRINTH_VERSIONING_UPSERT_DEVICE_ENCRYPTION_VERSIONS_TO_CLIENT_SPROC_END:2801,LABYRINTH_VERSIONING_DELETE_AND_SYNC_DEVICE_ENCRYPTION_VERSION_DATA_SPROC:2802,LABYRINTH_VERSIONING_UPSERT_DEVICE_DELETE_DEVICE_ENCRYPTION_VERSION_DATA:2803,LABYRINTH_VERSIONING_SYNC_ENCRYPTION_VERSION_DATA_SPROC:2804,LABYRINTH_VERSIONING_VERSION_SUPPORTED:2805,LABYRINTH_VERSIONING_SYNC_UPDATE_VERSION_DATA:2806,LABYRINTH_VERSIONING_SYNC_NO_VERSION_DATA:2807,LABYRINTH_VERSIONING_VERSION_SELECTED:2808,LABYRINTH_VERSIONING_DELETE_AND_SYNC_DEVICE_DELETE_DEVICE_ENCRYPTION_VERSION_DATA:2809,LABYRINTH_VERSIONING_VERSION_NOT_SUPPORTED:2810,LABYRINTH_VERSIONING_UPSERT_DEVICE_INVALID_SIGNATURE:2811,LABYRINTH_PREPARE_OPEN_EPOCH_SPROC_ISSUE_REQUEST_ASSOC_DEVICES:2821,LABYRINTH_PREPARE_OPEN_EPOCH_FAILURE_NO_BACKUP:2822,LABYRINTH_PREPARE_OPEN_EPOCH_FAILURE_FLOW_ALREADY_IN_PROGRES:2823,LABYRINTH_DERIVE_AND_STORE_EPOCHS_SPROC:2824,LABYRINTH_DERIVE_AND_STORE_EPOCHS_SPROC_NUM_EDGES:2825,LABYRINTH_DERIVE_AND_STORE_EPOCHS_SPROC_PROCESS_EDGE_FROM:2826,LABYRINTH_DERIVE_AND_STORE_EPOCHS_SPROC_PROCESS_EDGE_TO:2827,LABYRINTH_DERIVE_AND_STORE_EPOCHS_SPROC_FORWARD_EDGE_SOURCE:2828,LABYRINTH_DERIVE_AND_STORE_EPOCHS_SPROC_FORWARD_SOURCE_EPOCH_LOADED:2829,LABYRINTH_DERIVE_AND_STORE_EPOCHS_SPROC_DERIVE_CHAINING_KEY_PSK:2830,LABYRINTH_DERIVE_AND_STORE_EPOCHS_SPROC_DECRYPT_FORWARD_EDGE_ENTROPY:2831,LABYRINTH_DERIVE_AND_STORE_EPOCHS_SPROC_FORWARD_EDGE_DECRYPTION_SUCCESS:2832,LABYRINTH_DERIVE_AND_STORE_EPOCHS_SPROC_FORWARD_EDGE_DECRYPTION_FAIL:2833,LABYRINTH_DERIVE_AND_STORE_EPOCHS_SPROC_FORWARD_FAIL_TO_LOAD_SOURCE_EPOCH:2834,LABYRINTH_DERIVE_AND_STORE_EPOCHS_SPROC_BACKWARD_EDGE_SOURCE:2835,LABYRINTH_DERIVE_AND_STORE_EPOCHS_SPROC_BACKWARD_SOURCE_EPOCH_LOADED:2836,LABYRINTH_DERIVE_AND_STORE_EPOCHS_SPROC_DECRYPT_BACKWARD_EDGE:2837,LABYRINTH_DERIVE_AND_STORE_EPOCHS_SPROC_BACKWARD_EDGE_DECRYPTION_SUCCESS:2838,LABYRINTH_DERIVE_AND_STORE_EPOCHS_SPROC_BACKWARD_EDGE_DERIVATION_FAIL:2839,LABYRINTH_DERIVE_AND_STORE_EPOCHS_SPROC_BACKWARD_FAIL_TO_LOAD_SOURCE_EPOCH:2840,LABYRINTH_DERIVE_AND_STORE_EPOCHS_SPROC_FAILURE:2841,LABYRINTH_GET_OPEN_EPOCH_KEYS_SPROC:2842,LABYRINTH_GET_OPEN_EPOCH_KEYS_NO_EPOCHS_ON_CLIENT:2843,LABYRINTH_GET_OPEN_EPOCH_KEYS_GET_ALL_EPOCH_ANON_IDS:2844,LABYRINTH_GET_OPEN_EPOCH_KEYS_NUM_ANON_IDS:2845,LABYRINTH_GET_OPEN_EPOCHS_KEYS_EPOCH_ANON_ID_LIST_EMPTY:2846,LABYRINTH_GET_OPEN_EPOCH_KEYS_GET_KEYS_FOR_ANON_ID:2847,LABYRINTH_GET_OPEN_EPOCH_KEYS_ANON_ID_NOT_FOUND:2848,LABYRINTH_SYNC_EPOCHS_SPROC_DOWNLOAD_EPOCHS_V2_WRITE_TASK:2849,LABYRINTH_OPEN_EPOCH_SPROC_OPEN_INITIAL_EPOCH:2850,LABYRINTH_OPEN_EPOCH_SPROC_OPEN_EPOCH_WITH_LAST_EPOCH_METADATA:2851,LABYRINTH_OPEN_EPOCH_SPROC_OPEN_AFTER_FIRST_EPOCH:2852,LABYRINTH_OPEN_EPOCH_SPROC_FAILURE_LAST_EPOCH_NOT_FOUND:2853,LABYRINTH_OPEN_EPOCH_SPROC_ERROR:2854,LABYRINTH_PREPARE_OPEN_EPOCH_SPROC_CLOSE_LAST_EPOCH:2855,LABYRINTH_PREPARE_OPEN_EPOCH_SPROC_DERIVE_AND_STORE_EPOCH:2856,LABYRINTH_HANDLER_OPEN_EPOCH_SUCCESS_SPROC_DERIVE_AND_STORE:2857,LABYRINTH_HANDLER_OPEN_EPOCH_SUCCESS_SPROC_UPDATE_AUTHORITY:2858,LABYRINTH_HANDLER_OPEN_EPOCH_SUCCESS_SPROC_UPDATE_EPOCH_ID:2859,LABYRINTH_INCLUDE_FALLBACK_KEY_DURING_ENCRYPTION:2860,LABYRINTH_DERIVE_FALLBACK_KEY:2861,LABYRINTH_FAILED_TO_INCLUDE_FALLBACK_KEY:2862,LABYRINTH_GET_OPEN_EPOCH_KEYS_ANON_ID_VALUE:2863,LABYRINTH_GET_OPEN_EPOCH_KEYS_ANON_ID_NULL_VALUE:2864,LABYRINTH_MESSAGE_RESTORE_EPOCH_ANON_ID_NULL:2865,LABYRINTH_WEB_EPOCH_ROTATION_ENABLED:2866,LABYRINTH_WEB_EPOCH_ROTATION_DISABLED:2867,LABYRINTH_MOBILE_EPOCH_ROTATION_ENABLED:2868,LABYRINTH_MOBILE_EPOCH_ROTATION_DISABLED:2869,LABYRINTH_DECRYPT_MESSAGE_SPROC_SINGLE_EPOCH_KEY:2870,LABYRINTH_DECRYPT_MESSAGE_SPROC_EPOCH_NOT_FOUND_ERROR:2871,LABYRINTH_DECRYPT_MESSAGE_SPROC_MULTIPLE_EPOCHS_ERROR:2872,LABYRINTH_WEB_ECHO_MESSAGE_RESTORE_BEGIN:3600,LABYRINTH_WEB_ISSUE_RESTORE_JOB_DONE:3601,LABYRINTH_WEB_INSERT_TO_BAKCUP_MESSAGE_TABLE_DONE:3602,LABYRINTH_WEB_RESTORE_WITH_SERIALIZER_START:3603,LABYRINTH_WEB_ISSUE_RESTORE_JOB_STARTED:3604,LABYRINTH_WEB_INSERT_TO_RESTORE_PAYLOAD_CONTEXT_TABLE_DONE:3605,LABYRINTH_WEB_XMA_RESTORE_STARTED:3606,LABYRINTH_WEB_XMA_RESTORE_ENDED:3607,LABYRINTH_WEB_XMA_RESTORE_MEDIAID_NULL:3608,LABYRINTH_WEB_XMA_RESTORE_DBXMA_NULL:3609,LABYRINTH_WEB_ISSUE_MESSAGE_RANGE_QUERY:3610,LABYRINTH_WEB_ECHO_MESSAGE_UPLOAD_INVALID_REQUEST:3700,LABYRINTH_WEB_ECHO_MESSAGE_UPLOAD_BEGIN:3701,LABYRINTH_WEB_ECHO_MESSAGE_UPLOAD_FAILURE:3702,LABYRINTH_WEB_UPLOAD_THREAD_NOT_PRESENT:3703,LABYRINTH_WEB_UPLOAD_THREAD_PRESENT:3704,LABYRINTH_WEB_UPLOAD_GET_SENDER_INFO_UNSUCCESSFUL:3705,LABYRINTH_WEB_UPLOAD_GET_SENDER_INFO_SUCCESSFUL:3706,LABYRINTH_WEB_UPLOAD_CONTACT_NAME_NULL:3707,LABYRINTH_WEB_UPLOAD_CONTACT_NAME_NOT_NULL:3708,LABYRINTH_WEB_UPLOAD_GET_RECEIPT_STATUS_LIST_SUCCESSFUL:3709,LABYRINTH_WEB_UPLOAD_GET_SENDER_DISPLAY_NAME_FOR_QUOTED_MSG_NULL:3710,LABYRINTH_WEB_UPLOAD_GET_SENDER_DISPLAY_NAME_FOR_QUOTED_MSG_NOT_NULL:3711,LABYRINTH_WEB_UPLOAD_XMA_DATA_UPLOAD_SUCCESSFUL:3712,LABYRINTH_WEB_UPLOAD_XMA_DATA_UPLOAD_UNSUCCESSFUL:3713,LABYRINTH_WEB_UPLOAD_INVALID_MSG_TYPE_FOR_MEDIA_TYPE:3714,LABYRINTH_WEB_UPLOAD_IS_MEDIA_MSG_TRUE:3715,LABYRINTH_WEB_UPLOAD_IS_MEDIA_MSG_FALSE:3716,LABYRINTH_WEB_UPLOAD_UNSUPPORTED_MEDIA_TYPE:3717,LABYRINTH_WEB_UPLOAD_NO_MEDIA_ID_FOUND_IN_MEDIA_MSG:3718,LABYRINTH_WEB_UPLOAD_NO_MEDIA_ENTRY_FOR_MEDIA_ID:3719,LABYRINTH_WEB_UPLOAD_GET_REACTION_DATA_SUCCESSFUL:3720,LABYRINTH_WEB_UPLOAD_GET_QUOTE_MSG_SUCCESSFUL:3721,LABYRINTH_WEB_UPLOAD_GET_QUOTE_SENDER_NAME_SUCCESSFUL:3722,LABYRINTH_WEB_UPLOAD_FB_ID_NULL_FOR_XMA_MSG:3723,LABYRINTH_WEB_UPLOAD_GET_XMA_DATA_SUCCESSFUL:3724,LABYRINTH_WEB_UPLOAD_NO_XMA_DB_ENTRY_FOR_EXTERNAL_ID:3725,LABYRINTH_WEB_UPLOAD_ECHO_MESSAGE_CREATION_SUCCESSFUL:3726,LABYRINTH_WEB_UPLOAD_MISSING_MEDIA_DATA_FOR_MEDIA_MSG:3727,LABYRINTH_WEB_UPLOAD_INVOKE_MESSAGE_UPLOAD_SPROC:3728,LABYRINTH_WEB_UPLOAD_ISSUE_MESSAGE_UPLOAD_UI_EVENT:3729,LABYRINTH_WEB_UPLOAD_USER_DEVICE_NOT_ENROLLED:3730,LABYRINTH_WEB_GET_BACKUP_TENANCY:3731,LABYRINTH_WEB_UPLOAD_ERROR_OCCURRED_ON_ISSUE_MESSAGE_UPLOAD_UI_EVENT:3739,LABYRINTH_WEB_UPLOAD_XMA_NOT_FOUND_IN_IDB:3740,LABYRINTH_WEB_UPLOAD_MEDIA_NOT_FOUND_FOR_XMA_IN_IDB:3741,LABYRINTH_WEB_UPLOAD_INVALID_ECHO_MESSAGE_SERIALIZATION_RESPONSE:3742,LABYRINTH_WEB_UPLOAD_DUPLICATE_REQUEST:3743,LABYRINTH_WEB_RETROACTIVE_BACKUPS_START_UPLOAD_MSG:3744,LABYRINTH_WEB_RETROACTIVE_BACKUPS_START_UPLOAD_MEDIA:3745,LABYRINTH_WEB_RETROACTIVE_BACKUPS_UPLOAD_MSG_ERROR:3746,LABYRINTH_WEB_RETROACTIVE_BACKUPS_UPLOAD_MEDIA_ERROR:3747,LABYRINTH_WEB_UPLOAD_XMA_DATA_IS_NULL:3748,LABYRINTH_WEB_UPLOAD_REPLIED_MESSAGE_NOT_IN_DB:3749,LABYRINTH_WEB_UPLOAD_REPLIED_MESSAGE_IN_DB:3750,MQTT_STATE_DISCONNECTED_EVENT:10000001,MQTT_STATE_CONNECTED_EVENT:10000002,APP_STATEBACKGROUND:10000003,APP_STATEFOREGROUND:10000004,MQTT_STATE_CONNECTING_EVENT:10000005,GLOBAL_CONNECTIVITY_BANNER_DISPLAY:10000006,GLOBAL_CONNECTIVITY_BANNER_VANISH:10000007,SWITCH_ACCOUNT_EVENT:10000008,ADVANCED_CRYPTO_MEM_WA_CONNECTION_DISCONNECTED_EVENT:10001205,ADVANCED_CRYPTO_MEM_WA_CONNECTION_CONNECTING_EVENT:10001206,ADVANCED_CRYPTO_MEM_WA_CONNECTION_CONNECTED_EVENT:10001207});f["default"]=a}),66);
__d("LSDataTraceTag",[],(function(a,b,c,d,e,f){"use strict";a=0;b=1;c=2;d=3;e=4;var g=5,h=6,i=7,j=20,k=21,l=22,m=23,n=24,o=25,p=26,q=27,r=28,s=29,t=30,u=31,v=32,w=33,x=34,y=35,z=36,A=37,B=38,C=39,D=40,E=41,F=42;f.none=a;f.sticker=b;f.image=c;f.animatedImage=d;f.video=e;f.audio=g;f.file=h;f.xma=i;f.messageTypeNone=j;f.messageTypeText=k;f.messageTypeFutureproof=l;f.messageTypeCiphertext=m;f.messageTypeUnavailable=n;f.messageTypeImage=o;f.messageTypeVideo=p;f.messageTypePtt=q;f.messageTypeAdmin=r;f.messageTypeRevoked=s;f.messageTypeGif=t;f.messageTypeSticker=u;f.messageTypeExpiredEphemeral=v;f.messageTypeEphemeralSettingAdmin=w;f.messageTypeEphemeralSyncResponse=x;f.messageTypeEphemeralScreenshotAction=y;f.messageTypeDeleteForMe=z;f.messageTypeEphemeralSettingChangeFromCurrentDevice=A;f.messageTypeAlertICDC=B;f.messageTypeGroupInvite=C;f.messageTypeXMA=D;f.messageTypeReaction=E;f.messageTypeSenderKeyDistribution=F}),66);
__d("LSRequestId",["uuidv4"],(function(a,b,c,d,e,f,g){"use strict";var h="0123456789abcdef",i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";function a(){var a=c("uuidv4")().replace(/[^0-9a-f]/gi,""),b=0,d=["#"];while(b<33){var e=h.indexOf(a.charAt(b))<<8,f=h.indexOf(a.charAt(b+1))<<4,g=h.indexOf(a.charAt(b+2));g=g|(f|e);f=g>>6;d.push(i.charAt(f));d.push(i.charAt(g&63));b+=3}return d.join("")}b={generate:a};g["default"]=b}),98);
__d("MAWBridgeTrace",["WAJids"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,c,e,f,g,h,i){var j=a.ack,k=a.externalId,l=a.ts;a=a.type;var m=d("WAJids").switchOnMsgrChatJidType(b,{group:function(a){return"Group"},user:function(a){return"User"}});return{ack:j,externalId:k,isFirstMsg:!!f,openMessageOtid:e,openMessageParticipantCount:g,participantCount:h,threadJid:b,threadKey:i,threadType:m,traceType:c,ts:l,type_:a}}function b(a,b,c){return{traceContext:c,traceId:b,traceType:a}}function c(a,b,c,d){return{errorMessage:d,event:b,externalIds:a,traceType:c}}function e(a,b,c,d,e,f){return{checkPointId:a,dataTraceId:b,errorMessage:c,shouldFlush:d,syncChannel:e,tags:f}}g.createBridgeStartTraceData=a;g.createBridgeStartTraceWithTraceIdData=b;g.createBridgeUpdateTraceData=c;g.createBridgeTraceRecordCheckpointData=e}),98);
__d("WAMsgType",[],(function(a,b,c,d,e,f){"use strict";a="Text";b="Futureproof";c="Ciphertext";d="Unavailable";e="Image";var g="Video",h="Ptt",i="Admin",j="Revoked",k="Gif",l="Sticker",m="DocumentFile",n="ExpiredEphemeral",o="EphemeralSettingAdmin",p="EphemeralSyncResponse",q="DeleteForMe",r="EphemeralSettingChangeFromCurrentDevice",s="AlertICDC",t="GroupInvite",u="NoteReply",v="Reaction",w="SenderKeyDistribution",x="EditAction",y="ReceiverFetch",z="Raven",A="GroupPollCreate",B="GroupPollUpdate",C={ADMIN:i,CIPHERTEXT:c,DELETE_FOR_ME:q,DOCUMENT_FILE:m,EDIT_ACTION:x,EPHEMERAL_SETTING_ADMIN:o,EPHEMERAL_SETTING_CHANGE_FROM_CURRENT_DEVICE:r,EPHEMERAL_SYNC_RESPONSE:p,EXPIRED_EPHEMERAL:n,FUTUREPROOF:b,GIF:k,GROUP_INVITE:t,ICDC_ALERT:s,IMAGE:e,PTT:h,REACTION:v,REVOKED:j,SK_DISTRIBUTION:w,STICKER:l,TEXT:a,UNAVAILABLE:d,VIDEO:g,RECEIVER_FETCH:y,RAVEN:z,GROUP_POLL_CREATE:A,GROUP_POLL_UPDATE:B};f.TEXT=a;f.FUTUREPROOF=b;f.CIPHERTEXT=c;f.UNAVAILABLE=d;f.IMAGE=e;f.VIDEO=g;f.PTT=h;f.ADMIN=i;f.REVOKED=j;f.GIF=k;f.STICKER=l;f.DOCUMENT_FILE=m;f.EXPIRED_EPHEMERAL=n;f.EPHEMERAL_SETTING_ADMIN=o;f.EPHEMERAL_SYNC_RESPONSE=p;f.DELETE_FOR_ME=q;f.EPHEMERAL_SETTING_CHANGE_FROM_CURRENT_DEVICE=r;f.ICDC_ALERT=s;f.GROUP_INVITE=t;f.NOTE_REPLY=u;f.REACTION=v;f.SK_DISTRIBUTION=w;f.EDIT_ACTION=x;f.RECEIVER_FETCH=y;f.RAVEN=z;f.GROUP_POLL_CREATE=A;f.GROUP_POLL_UPDATE=B;f.MSG_TYPE=C}),66);
__d("MAWMsgType",["WAMsgType"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){return k.has(a)};var h=function(a){return l.has(a)||k.has(a)};b=function(a){return h(a)||m.has(a)};c="EphemeralScreenshotAction";e="Raven";f="RavenAction";var i="XMA",j="BumpExistingMessage";d=babelHelpers["extends"]({},d("WAMsgType").MSG_TYPE,{BUMP_EXISTING_MESSAGE:j,EPHEMERAL_SCREENSHOT_ACTION:c,RAVEN:e,RAVEN_ACTION:f,XMA:i});var k=new Set([d.IMAGE,d.VIDEO,d.PTT,d.GIF,d.STICKER,d.XMA,d.RAVEN,d.DOCUMENT_FILE,d.RECEIVER_FETCH]),l=new Set([d.TEXT,d.REVOKED,d.XMA,d.BUMP_EXISTING_MESSAGE,d.GROUP_POLL_CREATE]),m=new Set([d.FUTUREPROOF]),n=new Set([d.TEXT,d.IMAGE,d.VIDEO,d.PTT,d.GIF,d.STICKER,d.DOCUMENT_FILE,d.UNAVAILABLE,d.EXPIRED_EPHEMERAL,d.REVOKED,d.XMA,d.RAVEN,d.RECEIVER_FETCH]);j=function(a){return n.has(a)};g.isMAWSupportedMediaType=a;g.isEBSupportedMsgType=h;g.isProtobufUploadSupportedMsgType=b;g.EPHEMERAL_SCREENSHOT_ACTION=c;g.MSG_TYPE=d;g.mawSupportedMediaTypes=k;g.isQuotedMsgType=j}),98);
__d("MAWTraceUtils",["LSDataTraceCheckPoint","LSDataTraceTag","LSIntEnum","LSRequestId","MAWBridge","MAWBridgeTrace","MAWMsgType"],(function(a,b,c,d,e,f,g){"use strict";var h,i="backup_upload",j="media_backup",k="vesta_registration",l="vesta_login";function m(){return c("LSRequestId").generate()}function a(a){return a}function b(a,b,c){c=(c=c)!=null?c:m();d("MAWBridge").getBridge().fireAndForget("event","uiUpdate",{events:[{tag:"StartTraceWithTraceId",value:d("MAWBridgeTrace").createBridgeStartTraceWithTraceIdData(a,c,b)}]},!0);return c}function n(a,b,c,e,f){if(a!=null){c=c.length>0?c.map(function(a){return a.toString()}).join(","):void 0;d("MAWBridge").getBridge().fireAndForget("event","uiUpdate",{events:[{tag:"TraceRecordCheckpoint",value:d("MAWBridgeTrace").createBridgeTraceRecordCheckpointData(b,a,f,e,-1,c)}]},!0)}}function e(a,b,e,f){n(a,b,e,!1),n(a,(h||(h=d("LSIntEnum"))).ofNumber(c("LSDataTraceCheckPoint").FLOW_END_FOR_FAILURE),e,!0,f)}function f(a,b,e){n(a,b,e,!1),n(a,(h||(h=d("LSIntEnum"))).ofNumber(c("LSDataTraceCheckPoint").FLOW_END_AND_FLUSH),e,!0)}function o(a,b,e){n(a,b,e,!1),n(a,(h||(h=d("LSIntEnum"))).ofNumber(c("LSDataTraceCheckPoint").FLOW_END_AND_FLUSH),e,!0)}function p(a){switch(a){case d("MAWMsgType").MSG_TYPE.TEXT:return d("LSDataTraceTag").messageTypeText;case d("MAWMsgType").MSG_TYPE.FUTUREPROOF:return d("LSDataTraceTag").messageTypeFutureproof;case d("MAWMsgType").MSG_TYPE.CIPHERTEXT:return d("LSDataTraceTag").messageTypeCiphertext;case d("MAWMsgType").MSG_TYPE.UNAVAILABLE:return d("LSDataTraceTag").messageTypeUnavailable;case d("MAWMsgType").MSG_TYPE.IMAGE:return d("LSDataTraceTag").messageTypeImage;case d("MAWMsgType").MSG_TYPE.VIDEO:return d("LSDataTraceTag").messageTypeVideo;case d("MAWMsgType").MSG_TYPE.PTT:return d("LSDataTraceTag").messageTypePtt;case d("MAWMsgType").MSG_TYPE.ADMIN:return d("LSDataTraceTag").messageTypeAdmin;case d("MAWMsgType").MSG_TYPE.REVOKED:return d("LSDataTraceTag").messageTypeRevoked;case d("MAWMsgType").MSG_TYPE.GIF:return d("LSDataTraceTag").messageTypeGif;case d("MAWMsgType").MSG_TYPE.STICKER:return d("LSDataTraceTag").messageTypeSticker;case d("MAWMsgType").MSG_TYPE.EXPIRED_EPHEMERAL:return d("LSDataTraceTag").messageTypeExpiredEphemeral;case d("MAWMsgType").MSG_TYPE.EPHEMERAL_SETTING_ADMIN:return d("LSDataTraceTag").messageTypeEphemeralSettingAdmin;case d("MAWMsgType").MSG_TYPE.EPHEMERAL_SYNC_RESPONSE:return d("LSDataTraceTag").messageTypeEphemeralSyncResponse;case d("MAWMsgType").MSG_TYPE.EPHEMERAL_SCREENSHOT_ACTION:return d("LSDataTraceTag").messageTypeEphemeralScreenshotAction;case d("MAWMsgType").MSG_TYPE.DELETE_FOR_ME:return d("LSDataTraceTag").messageTypeDeleteForMe;case d("MAWMsgType").MSG_TYPE.EPHEMERAL_SETTING_CHANGE_FROM_CURRENT_DEVICE:return d("LSDataTraceTag").messageTypeEphemeralSettingChangeFromCurrentDevice;case d("MAWMsgType").MSG_TYPE.ICDC_ALERT:return d("LSDataTraceTag").messageTypeAlertICDC;case d("MAWMsgType").MSG_TYPE.GROUP_INVITE:return d("LSDataTraceTag").messageTypeGroupInvite;case d("MAWMsgType").MSG_TYPE.XMA:return d("LSDataTraceTag").messageTypeXMA;case d("MAWMsgType").MSG_TYPE.REACTION:return d("LSDataTraceTag").messageTypeReaction;case d("MAWMsgType").MSG_TYPE.SK_DISTRIBUTION:return d("LSDataTraceTag").messageTypeSenderKeyDistribution;default:return d("LSDataTraceTag").messageTypeNone}}g.CONTEXT_BACKUP_UPLOAD=i;g.CONTEXT_MEDIA_BACKUP=j;g.CONTEXT_VESTA_REGISTRATION=k;g.CONTEXT_VESTA_LOGIN=l;g.createTraceId=m;g.stringToTraceId=a;g.startNewTrace=b;g.recordCheckpointForTrace=n;g.recordFailureAndFlushForTraceId=e;g.recordSuccessAndFlushForTraceId=f;g.recordInvalidUploadRequestAndFlushTrace=o;g.getTagForMsgType=p}),98);
__d("MAWEncryptedBackupUtils",["FBLogger","I64","LSAuthorityLevel","LSDataTraceCheckPoint","LSDict","LSIntEnum","LSShape","LSVec","MAWTraceUtils","ReQL"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function j(a,b,c,e,f){d("MAWTraceUtils").recordCheckpointForTrace(a,b,c,e,f)}function a(a,b,e){j(b,(h||(h=d("LSIntEnum"))).ofNumber(c("LSDataTraceCheckPoint").LABYRINTH_WEB_GET_BACKUP_TENANCY),[],!1);return d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.secure_encrypted_backups_client_state)).then(function(a){return k(a,e)})}function k(a,b){var e;if(a==null){b!=null&&b.addPoint("get_backup_tenancy_null_client_state_row");return}e=(e=a.backupTenancy)!=null?e:(i||(i=d("I64"))).one;a=a.authorityLevel;if(b!=null){b.addPoint("get_backup_tenancy",{"int":{authorityLevel:(i||(i=d("I64"))).to_int32((b=a)!=null?b:(i||(i=d("I64"))).zero),backupTenancy:i.to_int32((b=e)!=null?b:(i||(i=d("I64"))).zero)}})}if(e!=null&&(i||(i=d("I64"))).equal((h||(h=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").AUTHORITATIVE),a))return e}function b(a,b){var d=new Set(),e=a.length;for(a of a.entries()){var f=a[0],g=a[1];d.has(g)&&c("FBLogger")("labyrinth_web").warn("Duplicate messages returned from server for restoreType: %s, index: %s of batchSize: %s",b,f,e);d.add(g)}}function e(a){a=a.map(function(a){var b=a.toplevelProtobuf;b=d("LSShape").ofRecord({decrypted_protobuf:b.decryptedProtobuf,protobuf_timestamp_ms:(i||(i=d("I64"))).of_float(b.protobufTimestampMS)});var e=new(c("LSDict"))();a.supplementalProtobufs.forEach(function(a,b){e.set(b,d("LSShape").ofRecord({decrypted_protobuf:a.decryptedProtobuf,protobuf_timestamp_ms:(i||(i=d("I64"))).of_float(a.protobufTimestampMS)}))});return d("LSShape").ofRecord({otid:a.otid,supplemental_protobufs:e,toplevel_protobuf:b})});return c("LSVec").ofArray(a)}function f(a){a=c("LSVec").toArray(a);a=a.map(function(a){return d("LSShape").toRecord(a)});return a.map(function(a){var b=d("LSShape").toRecord(a.toplevel_protobuf);b={decryptedProtobuf:b.decrypted_protobuf,protobufTimestampMS:(i||(i=d("I64"))).to_float(b.protobuf_timestamp_ms)};var c=new Map(),e=a.supplemental_protobufs;e.forEach(function(a,b){a=d("LSShape").toRecord(a);c.set(b,{decryptedProtobuf:a.decrypted_protobuf,protobufTimestampMS:(i||(i=d("I64"))).to_float(a.protobuf_timestamp_ms)})});return{otid:a.otid,supplementalProtobufs:c,toplevelProtobuf:b}})}g.getBackupTenancy=a;g.getBackupTenancyFromClientStateRow=k;g.logIfDuplicateMessagesFoundInRestore=b;g.convertJSTypesToLSTypesForRestoreJob=e;g.convertLSTypesToJSTypesForRestoreJob=f}),98);
__d("EBIsEbEnabled",["EBDeps","EBReadyNotifier","FBLogger","I64","LSEncryptedBackupsBackupTenancy","LSIntEnum","MAWEBSwitch","MAWEncryptedBackupUtils","WAResultOrError"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function j(a,b,e){return d("EBReadyNotifier").waitForEBReady().then(function(){return d("MAWEncryptedBackupUtils").getBackupTenancy(a,b,e)}).then(function(a){return a!=null&&(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(c("LSEncryptedBackupsBackupTenancy").PRODUCTION))})}function a(){try{return d("WAResultOrError").makeResult(c("MAWEBSwitch").isEnabled())}catch(a){c("FBLogger")("labyrinth_web").catching(a).mustfix("Failed to check EB enabled");return d("WAResultOrError").makeResult(!1)}}async function b(){var a=await d("EBDeps").getDeps().getLSDB();return j(a.tables)}g.isEbEnabledLS=j;g.isEbEnabledEbSwitch=a;g.isEBEnabled=b}),98);
__d("EBIsEbEnabledSubscriber",["EBDeps","EBIsEbEnabled","I64","LSEncryptedBackupsBackupTenancy","LSIntEnum","ReQL","WAPubSub"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=function(){function a(a){this.$1=d("WAPubSub").simplePubSub(),this.$4=a,this.$2=!1}var b=a.prototype;b.initialize=async function(){this.$2=await d("EBIsEbEnabled").isEbEnabledLS(this.$4.tables),this.$5(this.$4)};b.$6=function(a){this.$2=a,this.$1.publish(a)};b.$5=function(a){var b=this;this.$3==null&&(this.$3=d("ReQL").fromTableAscending(a.tables.secure_encrypted_backups_client_state).take(1).subscribe(function(a,e){e.operation==="delete"&&b.$6(!1),(e.operation==="add"||e.operation==="put")&&(e.value.backupTenancy!=null&&(h||(h=d("I64"))).equal(e.value.backupTenancy,(i||(i=d("LSIntEnum"))).ofNumber(c("LSEncryptedBackupsBackupTenancy").PRODUCTION))?b.$6(!0):b.$6(!1))}));return this.$3};b.subscribe=function(a){return this.$1.subscribe(a)};b.isEnabled=function(){return this.$2};return a}(),k;async function l(a){if(k!=null)return Promise.resolve();k=new j(a);await k.initialize()}async function a(){if(k==null){var a=await d("EBDeps").getDeps().getLSDB();await l(a)}return k}async function b(a){if(k==null){var b=await d("EBDeps").getDeps().getLSDB();await l(b)}a(k.isEnabled());b=k.subscribe(a);return b}async function e(){if(k==null){var a=await d("EBDeps").getDeps().getLSDB();await l(a)}return k.isEnabled()}g.initIsEbEnabledPubSub=l;g.isEbEnabledSubscriber=a;g.subscribeToEbChanges=b;g.isEBEnabledValueFromSubscriber=e}),98);/*FB_PKG_DELIM*/
__d("ColorUtils",[],(function(a,b,c,d,e,f){"use strict";var g=new RegExp("^[#]{0,1}([\\w]{1,2})?([\\w]{1,2})([\\w]{1,2})([\\w]{1,2})$"),h=function(a,b){if(a==null)return null;a=a.match(g);if(a==null)return null;a=a.slice(1).map(function(a){return parseInt(a.length==1?a+a:a,16)});if(a.length==4){b==="ARGB"&&a.push(a.shift());return"rgba("+a[0]+","+a[1]+","+a[2]+","+a[3]/100+")"}return"rgb("+a[0]+","+a[1]+","+a[2]+")"};function a(a){return h(a,"ARGB")}function b(a){return h(a,"RGBA")}f.hexARGBToCSSRGBA=a;f.hexRGBAToCSSRGBA=b}),66);
__d("useLayoutEffect_SAFE_FOR_SSR",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=(h||d("react")).useLayoutEffect;b=a;g["default"]=b}),98);
__d("FDSTab.react",["BaseNonBreakingSpace.react","CometFocusGroupContext","CometPressable.react","FBLogger","FDSIcon.react","FDSText.react","FDSTextWithBadge.react","XPlatReactEnvironment","react","react-strict-dom","useIntersectionObserver","useLayoutEffect_SAFE_FOR_SSR","useMergeRefs"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useCallback,k=b.useContext,l=b.useRef,m=b.useState,n={highlightColor:function(a){return[{color:a==null?null:"xfx01vb",$$css:!0},{"--color":a!=null?a:void 0}]},icon:{lineHeight:"x14ju556",paddingEnd:"xs413o2",$$css:!0},iconEnd:{marginStart:"xzv607s",$$css:!0},iconEnd8:{marginStart:"x1i64zmx",$$css:!0},iconStart:{marginEnd:"xcd5noz",$$css:!0},iconStart8:{marginEnd:"x1emribx",$$css:!0},pressable:{appearance:"xjyslct",backgroundColor:"xjbqb8w",backgroundImage:"x18o3ruo",borderTopStyle:"x13fuv20",borderEndStyle:"xu3j5b3",borderBottomStyle:"x1q0q8m5",borderStartStyle:"x26u7qi",borderTopWidth:"x972fbf",borderEndWidth:"xcfux6l",borderBottomWidth:"x1qhh985",borderStartWidth:"xm0m39n",boxSizing:"x9f619",color:"x1heor9g",cursor:"x1ypdohk",display:"x78zum5",marginTop:"xdj266r",marginEnd:"x11i5rnm",marginBottom:"xat24cr",marginStart:"x1mh8g0r",paddingTop:"xexx8yu",paddingEnd:"x4uap5",paddingBottom:"x18d9i69",paddingStart:"xkhd6sd",position:"x1n2onr6",textAlign:"x16tdsg8",textDecoration:"x1hl2dhg",zIndex:"x1vjfegm",$$css:!0},tab:{alignItems:"x6s0dn4",boxSizing:"x9f619",display:"x78zum5",flexShrink:"x2lah0s",minHeight:"x1hshjfz",position:"x1n2onr6",$$css:!0},underline:{backgroundColor:"xholzvs",borderTopEndRadius:"x11t77rh",borderTopStartRadius:"x146dn1l",bottom:"x1ey2m1c",height:"x13np604",end:"xds687c",start:"x17qophe",left:null,right:null,position:"x10l6tqk",$$css:!0},underlineColor:function(a){return[{backgroundColor:a==null?null:"xr5ldyu",$$css:!0},{"--backgroundColor":a!=null?a:void 0}]}};function a(a){var b=a.ref,e=a.badge,f=a.badgeCap,g=a.containerRef,h=a.highlightColor,o=a.icon,p=a.iconColor;p=p===void 0?"secondary":p;var q=a.iconLocation;q=q===void 0?"right":q;var r=a.iconSize;r=r===void 0?16:r;var s=a.label,t=a.labelIsHidden;t=t===void 0?!1:t;var u=a.onHidden,v=a.pressableXStyle,w=a.reduceEmphasis;w=w===void 0?!1:w;var x=a.selected;x=x===void 0?!1:x;var y=a.selectedColor;y=y===void 0?"highlight":y;var z=a.tabRef,A=a.underlineColor,B=a.xstyle;a=babelHelpers.objectWithoutPropertiesLoose(a,["ref","badge","badgeCap","containerRef","highlightColor","icon","iconColor","iconLocation","iconSize","label","labelIsHidden","onHidden","pressableXStyle","reduceEmphasis","selected","selectedColor","tabRef","underlineColor","xstyle"]);var C=m(!1),D=C[0],E=C[1],F=l(u);c("useLayoutEffect_SAFE_FOR_SSR")(function(){F.current=u},[u]);C=k(c("CometFocusGroupContext"));C=C.FocusItem;var G=j(function(a){a=a.intersectionRatio;a=a<.5;a!==D&&(E(a),F.current&&F.current(a))},[D,F]),H=j(function(){return g==null?void 0:g.current},[g]);G=c("useIntersectionObserver")(G,{root:H,threshold:.5});H=x?y:"secondary";f=!t&&e!=null?typeof e==="number"?i.jsxs(i.Fragment,{children:[s,i.jsx(c("BaseNonBreakingSpace.react"),{size:.75}),i.jsx(c("FDSText.react"),{color:H,type:"body4",children:f!=null&&e>f?f+"+":e})]}):i.jsx(c("FDSTextWithBadge.react"),{badgeAfter:e,spacing:.75,children:s}):t?null:s;x&&h!=null&&(f=i.jsx(d("react-strict-dom").html.span,{style:n.highlightColor(h),children:f}));w?f=i.jsx(c("FDSText.react"),{color:H,type:"body3",children:f}):f=i.jsx(c("FDSText.react"),{color:H,type:"bodyLink3",children:f});e=o!=null&&q==="left"?i.jsx(d("react-strict-dom").html.div,{style:[n.icon,!t&&(r===16?n.iconStart:n.iconStart8)],children:i.jsx(c("FDSIcon.react"),{color:x?y:p,icon:o,isDecorative:!0,size:r})}):null;h=o!=null&&q==="right"?i.jsx(d("react-strict-dom").html.div,{style:[n.icon,(e!=null||!t)&&(r===16?n.iconEnd:n.iconEnd8)],children:i.jsx(c("FDSIcon.react"),{color:x?y:p,icon:o,isDecorative:!0,size:r})}):null;w=c("useMergeRefs")(G,b);H=i.jsxs(d("react-strict-dom").html.div,{ref:z,style:[n.tab,B],children:[e,f,h,i.jsx(d("react-strict-dom").html.div,{style:[n.underline,x&&A!=null&&n.underlineColor(A)]})]});q=!1;try{q=IntersectionObserver!=null}catch(a){c("FBLogger")("comet_ui").catching(a).warn("IntersectionObserver is not available in current environment")}if(a.onPress!=null||a.linkProps!=null){y=i.jsx(c("CometPressable.react"),babelHelpers["extends"]({},a,{"aria-hidden":D,"aria-selected":x,disabled:D,display:d("XPlatReactEnvironment").isWeb()?"inline":void 0,focusable:!D,label:t?s:void 0,overlayDisabled:x,ref:q?w:b,role:"tab",xstyle:[n.pressable,v],children:H}));return C&&!D?i.jsx(C,{children:y}):y}return H}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("FDSTabs.react",["fbt","CometComponentWithKeyCommands.react","CometFocusGroup.react","CometKeys","CometVisualCompletionAttributes","CurrentLocale","FDSDeferredPopoverTrigger.react","FDSTab.react","Locale","ReactDOM","SVGIcon","TriangleDownFilled20.svg.react","focusScopeQueries","mergeRefs","react","react-compiler-runtime","requireDeferred","stylex","useResizeObserver"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||(j=d("react"));b=j;b.useCallback;var l=b.useEffect,m=b.useId;b.useMemo;var n=b.useRef,o=b.useState,p=c("requireDeferred")("FDSTabMenu.react").__setRef("FDSTabs.react"),q={invisible:{opacity:"xg01cxk",$$css:!0},moreTab:{height:"x1itg65n",start:"x17qophe",left:null,right:null,position:"x10l6tqk",top:"x13vifvy",$$css:!0},moreTabHidden:{display:"x1s85apg",$$css:!0},moreTabVisible:function(a){return[{start:a==null?null:"x1ilu3uo",left:null,right:null,position:"x10l6tqk",top:"x13vifvy",$$css:!0},{"--insetInlineStart":function(a){return typeof a==="number"?a+"px":a!=null?a:void 0}(a)}]},moreTabVisual:{display:"x3nfvp2",$$css:!0},moreWrapper:{display:"x1rg5ohu",height:"x1itg65n",position:"x1n2onr6",verticalAlign:"x16dsc37",$$css:!0},moreWrapperAdaptive:{height:"x1x4j4od",maxHeight:"xyhpeqk",minHeight:"x2lwn1j",overflowX:"x6ikm8r",overflowY:"x10wlt62",$$css:!0},root:{height:"x1itg65n",overflowX:"x6ikm8r",overflowY:"x10wlt62",position:"x1n2onr6",width:"xh8yej3",zIndex:"x1ja2u2z",$$css:!0},tab:{display:"x3nfvp2","float":"xrbpyxo",height:"x1itg65n",verticalAlign:"x16dsc37",$$css:!0},tabsContainer:{bottom:"x1ey2m1c",boxSizing:"x9f619",end:"xds687c",start:"x17qophe",position:"x10l6tqk",top:"x13vifvy",$$css:!0}},r={"default":{width:"x1k51ox",$$css:!0},englishOrShorter:{width:"x192njpj",$$css:!0}},s=["en_US","en_GB","nl_NL","vi_VN","af_ZA","fy_NL","kk_KZ","cs_CZ","sw_KE","it_IT","pt_BR","pt_PT","bg_BG","hr_HR","nn_NO","es_ES","es_LA","fr_FR","ca_ES","fr_CA","si_LK","sr_RS","nb_NO","sv_SE","zh_HK","zh_TW","he_IL","ne_NP","eo_EO"],t=d("Locale").isRTL();function a(a){var b=d("react-compiler-runtime").c(67),e=a["aria-label"],f=a.heightXStyle,g=a.maxHeightXStyle,j=a.maxTabs,y=a.menuSize,z=a.moreTabRef,A=a.moreTabStyles,B=a.moreTabXStyle,C=a.moreWrapperXStyle,D=a.onMoreTabPress,E=a.tabs,F=a.tabsContainerStyle;a=a.truncateMenu;var G=a===void 0?!1:a,H=(a=j)!=null?a:E.length,I=m(),J=m(),ba=n(null);b[0]===Symbol["for"]("react.memo_cache_sentinel")?(j=[],b[0]=j):j=b[0];var K=n(j),ca=n(null),L=n(v);b[1]===Symbol["for"]("react.memo_cache_sentinel")?(a=function(){L.current()},b[1]=a):a=b[1];j=a;var M=c("useResizeObserver")(j);b[2]!==H||b[3]!==E.length?(a=x(E.length,H,[]),b[2]=H,b[3]=E.length,b[4]=a):a=b[4];j=o(a);var N=j[0],O=j[1];a=o(!1);var P=a[0],da=a[1];b[5]!==H||b[6]!==E.length?(j=function(){O(function(a){return x(E.length,H,a)})},a=[E.length,H],b[5]=H,b[6]=E.length,b[7]=j,b[8]=a):(j=b[7],a=b[8]);l(j,a);b[9]!==H||b[10]!==E?(j=H<E.length?E.slice(0,H):E,b[9]=H,b[10]=E,b[11]=j):j=b[11];var Q=j,R=H>=E.length;if(b[12]!==N||b[13]!==E){b[15]!==E?(a=function(a){return(a=E[a])==null?void 0:a.selected},b[15]=E,b[16]=a):a=b[16];j=N.some(a);b[12]=N;b[13]=E;b[14]=j}else j=b[14];a=j;var S=a;j=o(null);var T=j[0],U=j[1];a=o(!1);var V=a[0],W=a[1],X=n(null);b[17]===Symbol["for"]("react.memo_cache_sentinel")?(j=function(){var a=function(){var a=X.current,b=a==null?void 0:a.parentElement;if(a!=null&&b!=null){a=a.getBoundingClientRect();b=b.getBoundingClientRect();if(a.height<5){U(null);return}t?U(b.right-a.right):U(a.left-b.left)}};a();var b;b=null;var c=function(){b!=null&&window.clearTimeout(b),d("ReactDOM").flushSync(function(){W(!0)}),b=window.setTimeout(function(){a(),W(!1)},300)};L.current=c;return function(){L.current=u,b!=null&&window.clearTimeout(b)}},a=[],b[17]=j,b[18]=a):(j=b[17],a=b[18]);l(j,a);b[19]!==R||b[20]!==f||b[21]!==V||b[22]!==T||b[23]!==C?(j=(i||(i=c("stylex"))).props(q.moreWrapper,r["default"],s.includes(c("CurrentLocale").get())&&r.englishOrShorter,C,f,R&&q.moreWrapperAdaptive,q.moreTabVisual,T!=null&&!V&&q.invisible),b[19]=R,b[20]=f,b[21]=V,b[22]=T,b[23]=C,b[24]=j):j=b[24];b[25]===Symbol["for"]("react.memo_cache_sentinel")?(a=d("SVGIcon").svgIcon(c("TriangleDownFilled20.svg.react")),b[25]=a):a=b[25];var Y;b[26]===Symbol["for"]("react.memo_cache_sentinel")?(Y=h._(/*BTDS*/"More"),b[26]=Y):Y=b[26];b[27]!==S||b[28]!==P||b[29]!==I||b[30]!==J||b[31]!==A||b[32]!==B?(a=k.createElement(c("FDSTab.react"),babelHelpers["extends"]({},A,{"aria-controls":I,"aria-expanded":P,"aria-haspopup":"menu",icon:a,iconSize:16,id:J,key:"more-tab-visual",label:Y,role:"tab",selected:S,testid:void 0,xstyle:B})),b[27]=S,b[28]=P,b[29]=I,b[30]=J,b[31]=A,b[32]=B,b[33]=a):a=b[33];b[34]!==j||b[35]!==a?(Y=k.jsx("div",babelHelpers["extends"]({"aria-hidden":!0},j,{ref:X,children:a})),b[34]=j,b[35]=a,b[36]=Y):Y=b[36];var Z=Y;b[37]!==f||b[38]!==S||b[39]!==P||b[40]!==V||b[41]!==g||b[42]!==T||b[43]!==I||b[44]!==J||b[45]!==z||b[46]!==A||b[47]!==B||b[48]!==C||b[49]!==D?(j=function(a,b){a=c("mergeRefs")(a,ca,z);var e=[{command:{key:c("CometKeys").DOWN},description:h._(/*BTDS*/"Open Menu"),handler:b}];return k.jsx(c("CometComponentWithKeyCommands.react"),{commandConfigs:e,xstyle:[r["default"],s.includes(c("CurrentLocale").get())&&r.englishOrShorter,C,g,T==null?q.moreTabHidden:q.moreTabVisible(T),V&&q.invisible],children:k.jsx(c("FDSTab.react"),babelHelpers["extends"]({},A,{"aria-controls":I,"aria-expanded":P,"aria-haspopup":"menu",icon:d("SVGIcon").svgIcon(c("TriangleDownFilled20.svg.react")),iconSize:16,id:J,label:h._(/*BTDS*/"More"),onPress:function(){b(),D==null?void 0:D()},pressableXStyle:[q.moreTab,f],ref:a,role:"tab",selected:S,testid:void 0,xstyle:B}))},"more-tab-functional")},b[37]=f,b[38]=S,b[39]=P,b[40]=V,b[41]=g,b[42]=T,b[43]=I,b[44]=J,b[45]=z,b[46]=A,b[47]=B,b[48]=C,b[49]=D,b[50]=j):j=b[50];var $=j;b[51]!==R||b[52]!==e||b[53]!==f||b[54]!==N||b[55]!==y||b[56]!==T||b[57]!==I||b[58]!==$||b[59]!==J||b[60]!==Z||b[61]!==M||b[62]!==E||b[63]!==F||b[64]!==G||b[65]!==Q?(a=k.jsx(c("CometFocusGroup.react"),{hideArrowSignifiers:!0,orientation:"horizontal",preventScrollOnFocus:!0,role:"tablist",tabScopeQuery:d("focusScopeQueries").tabbableScopeQuery,wrap:!0,children:function(a){return k.jsx("div",babelHelpers["extends"]({"aria-label":e,"aria-orientation":"horizontal",className:(i||(i=c("stylex")))(q.root,a,f),role:"tablist"},c("CometVisualCompletionAttributes").IGNORE_DYNAMIC,{children:k.jsxs("div",babelHelpers["extends"]({className:"x14ju556 x1n2onr6"},{children:[R&&k.jsx("div",babelHelpers["extends"]({className:"x6ikm8r x10wlt62 xlshs6z"},{children:Q.map(function(a,b){a.linkProps;a.onPress;a=babelHelpers.objectWithoutPropertiesLoose(a,["linkProps","onPress"]);return k.createElement(c("FDSTab.react"),babelHelpers["extends"]({},a,{key:b+"tab",ref:function(a){return K.current[b]=a},role:"tab",selected:a.selected,xstyle:[q.tab,a.xstyle]}))})})),k.jsxs("div",babelHelpers["extends"]({},i.props(q.tabsContainer,F),{"data-testid":void 0,ref:M,children:[Z,Q.map(function(a,b){return k.createElement(c("FDSTab.react"),babelHelpers["extends"]({},a,{containerRef:ba,key:b+"tab",onHidden:function(a){O(function(c){return a?w(c,b):aa(c,b)})},pressableXStyle:q.tab,ref:function(a){return K.current[b]=a},role:"tab",selected:a.selected}))}),T!=null&&k.jsx(c("FDSDeferredPopoverTrigger.react"),{onVisibilityChange:da,popoverProps:{ariaLabelledby:J,id:I,menuItems:N.map(function(a){return E[a]}).filter(Boolean),menuSize:y,truncate:G},popoverResource:p,children:$})]}))]}))}))}}),b[51]=R,b[52]=e,b[53]=f,b[54]=N,b[55]=y,b[56]=T,b[57]=I,b[58]=$,b[59]=J,b[60]=Z,b[61]=M,b[62]=E,b[63]=F,b[64]=G,b[65]=Q,b[66]=a):a=b[66];return a}function u(){}function v(){}function w(a,b){return a.includes(b)?a:[].concat(a,[b]).sort(function(a,b){return a-b})}function aa(a,b){return a.includes(b)?a.filter(function(a){return a!==b}):a}function x(a,b,c){var d=Array(a).fill(0).map(function(a,b){return b}).filter(function(a){return a>=b});d=Array.from(new Set([].concat(d,c)));return d.filter(function(b){return b<a})}g["default"]=a}),226);
__d("FDSEntityHeaderTabs.react",["FDSTabs.react","XPlatReactEnvironment","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={entityHeaderTab:{height:"xng8ra",paddingStart:"x1swvt13",paddingEnd:"x1pi30zi",paddingLeft:null,paddingRight:null,$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(8),e=a.maxTabs,f=a.menuSize,g=a.onMoreTabPress;a=a.tabs;var h;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(h={overlayOffset:d("XPlatReactEnvironment").isWeb()?{bottom:-4,left:0,right:0,top:-4}:{bottom:4,left:0,right:0,top:4},overlayRadius:6,underlineColor:"var(--accent)"},b[0]=h):h=b[0];var l;b[1]!==a?(l=a.map(k),b[1]=a,b[2]=l):l=b[2];b[3]!==e||b[4]!==f||b[5]!==g||b[6]!==l?(a=i.jsx(c("FDSTabs.react"),{maxTabs:e,menuSize:f,moreTabStyles:h,moreTabXStyle:j.entityHeaderTab,onMoreTabPress:g,tabs:l,truncateMenu:!0}),b[3]=e,b[4]=f,b[5]=g,b[6]=l,b[7]=a):a=b[7];return a}function k(a){return babelHelpers["extends"]({},a,{overlayOffset:d("XPlatReactEnvironment").isWeb()?{bottom:-4,left:0,right:0,top:-4}:{bottom:4,left:0,right:0,top:4},overlayRadius:6,underlineColor:"var(--accent)",xstyle:j.entityHeaderTab})}g["default"]=a}),98);
__d("FDSEntityHeaderTabBar.react",["FDSEntityHeaderTabs.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(13),e=a.maxTabs,f=a.menuSize,g=a.tabs;a=a.tabsRouteTarget;var h=a===void 0?"self":a;b[0]!==g?(a=g.findIndex(j),b[0]=g,b[1]=a):a=b[1];var k=a;if(b[2]!==k||b[3]!==g||b[4]!==h){b[6]!==k||b[7]!==h?(a=function(a,b){a.isActive;var c=a.linkProps;a=babelHelpers.objectWithoutPropertiesLoose(a,["isActive","linkProps"]);return c?babelHelpers["extends"]({},a,{linkProps:babelHelpers["extends"]({},c,{routeTarget:h}),selected:b===k}):babelHelpers["extends"]({},a,{selected:b===k})},b[6]=k,b[7]=h,b[8]=a):a=b[8];a=g.map(a);b[2]=k;b[3]=g;b[4]=h;b[5]=a}else a=b[5];g=a;b[9]!==g||b[10]!==e||b[11]!==f?(a=i.jsx(c("FDSEntityHeaderTabs.react"),{maxTabs:e,menuSize:f,tabs:g}),b[9]=g,b[10]=e,b[11]=f,b[12]=a):a=b[12];return a}function j(a){return a.isActive()}g["default"]=a}),98);
__d("FDSPressableFacepileProfilePhoto.react",["CometPressable.react","FDSProfilePhoto.react","react","react-compiler-runtime","useIntersectionObserver"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;b.useCallback;var j=b.useState;function a(a){var b=d("react-compiler-runtime").c(25),e,f,g,h,k,l;b[0]!==a?(l=a.Container,e=a.FocusItemComponent,f=a.divClassName,g=a.parentRef,h=a.pressableProps,k=babelHelpers.objectWithoutPropertiesLoose(a,["Container","FocusItemComponent","divClassName","parentRef","pressableProps"]),b[0]=a,b[1]=e,b[2]=f,b[3]=g,b[4]=h,b[5]=k,b[6]=l):(e=b[1],f=b[2],g=b[3],h=b[4],k=b[5],l=b[6]);a=l===void 0?i.Fragment:l;l=j(!1);var m=l[0],n=l[1];b[7]===Symbol["for"]("react.memo_cache_sentinel")?(l=function(a){a=a.intersectionRatio;n(a<.5)},b[7]=l):l=b[7];l=l;var o;b[8]!==g?(o={root:function(){var a;return(a=g.current)!=null?a:null},threshold:.5},b[8]=g,b[9]=o):o=b[9];l=c("useIntersectionObserver")(l,o);b[10]!==m||b[11]!==h||b[12]!==k?(o=h!=null?i.jsx(c("CometPressable.react"),babelHelpers["extends"]({},h,{disabled:m,children:i.jsx(c("FDSProfilePhoto.react"),babelHelpers["extends"]({},k,{overlayDisabled:!0}))})):i.jsx(c("FDSProfilePhoto.react"),babelHelpers["extends"]({},k,{overlayDisabled:!0})),b[10]=m,b[11]=h,b[12]=k,b[13]=o):o=b[13];b[14]!==a||b[15]!==o?(h=i.jsx(a,{children:o}),b[14]=a,b[15]=o,b[16]=h):h=b[16];b[17]!==e||b[18]!==m||b[19]!==h?(k=i.jsx(e,{disabled:m,children:h}),b[17]=e,b[18]=m,b[19]=h,b[20]=k):k=b[20];b[21]!==f||b[22]!==l||b[23]!==k?(a=i.jsx("div",{className:f,ref:l,role:"listitem",children:k}),b[21]=f,b[22]=l,b[23]=k,b[24]=a):a=b[24];return a}g["default"]=a}),98);
__d("FDSPressableFacepile.react",["fbt","ix","BaseContainerQueryElement.react","CometComponentWithKeyCommands.react","CometKeys","CometPressable.react","FDSIcon.react","FDSPressableFacepileProfilePhoto.react","FDSText.react","FDSTooltip.react","FocusGroup.react","ReactDOM","fbicon","focusScopeQueries","react","react-compiler-runtime","useIntersectionObserver"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=j||(j=d("react"));b=j;b.useCallback;var l=b.useId,m=b.useRef,n=b.useState;e=d("FocusGroup.react").createFocusGroup(d("focusScopeQueries").tabbableScopeQuery);var o=e[0],p=e[1],q=4,r=6,s=-4,t={overflow24:{height:"xxk0z11",width:"xvy4d1p",$$css:!0},overflow28:{height:"x1fgtraw",width:"xgd8bvy",$$css:!0},overflow32:{height:"x10w6t97",width:"x1td3qas",$$css:!0},overflow40:{height:"x1vqgdyp",width:"x100vrsf",$$css:!0},overflow48:{height:"xsdox4t",width:"x1useyqa",$$css:!0},overflowItem:{alignItems:"x6s0dn4",borderTopStartRadius:"x14yjl9h",borderTopEndRadius:"xudhj91",borderBottomEndRadius:"x18nykt9",borderBottomStartRadius:"xww2gxu",display:"x78zum5",flexShrink:"x2lah0s",justifyContent:"xl56j7k",pointerEvents:"x71s49j",$$css:!0},pressableItem:{borderTopStartRadius:"x14yjl9h",borderTopEndRadius:"xudhj91",borderBottomEndRadius:"x18nykt9",borderBottomStartRadius:"xww2gxu",display:"x1lliihq",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(41),e=a.count,f=a.ellipsisTooltip,g=a.isOverlapping,i=a.isTextInline,j=a.items,n=a.linkProps,A=a.onPress,B=a.size,C=a.testid,D=a.testOnly_pressed,E=a.text;a=a.withWrapper;var F=g===void 0?!1:g;g=i===void 0?!1:i;var G=D===void 0?!1:D,H=(i=e)!=null?i:j.length;b[0]!==j?(D=j.some(x),b[0]=j,b[1]=D):D=b[1];e=D;var I=j.some(w),J=F?s:I?r:q,K=Math.min(H,j.length,g?3:Infinity),L=m(null),M=l();i=l();b[2]===Symbol["for"]("react.memo_cache_sentinel")?(D=[{command:{key:c("CometKeys").LEFT},description:h._(/*BTDS*/"Previous item"),handler:v},{command:{key:c("CometKeys").RIGHT},description:h._(/*BTDS*/"Next item"),handler:u}],b[2]=D):D=b[2];D=D;var N;b[3]===Symbol["for"]("react.memo_cache_sentinel")?(N={className:"x78zum5 x1q0g3np xhsvlbd x16pr9af x6ikm8r x889kno x1a8lsjc x1n2onr6"},b[3]=N):N=b[3];i=E!=null?i:void 0;var O="list",P=j.slice(0,K).map(function(a,b){var d=a.addOn,e=a.alt,f=a.containerComponent,g=a.isDecorative,h=a.source,i=a.testid;i=babelHelpers.objectWithoutPropertiesLoose(a,["addOn","alt","containerComponent","isDecorative","source","testid"]);g===void 0?!1:g;return k.jsxs(k.Fragment,{children:[k.jsx(c("BaseContainerQueryElement.react"),{breakpoint:(b+1)*(B+J)-J,inverseToContainer:!0,maxWidth:"100%",minWidth:0}),k.jsx(c("FDSPressableFacepileProfilePhoto.react"),{Container:f,FocusItemComponent:p,addOn:d,alt:e,divClassName:{0:"x1n2onr6",4:"x1n2onr6 xsgj6o6",2:"x1n2onr6 x1mnrxsn",6:"x1n2onr6 x1mnrxsn",1:"x1n2onr6 x139jcc6",5:"x1n2onr6 x139jcc6",3:"x1n2onr6 x139jcc6",7:"x1n2onr6 x139jcc6"}[!!(b>0)<<2|!!(b>0&&I)<<1|!!(b>0&&F)<<0],isOverlapped:F&&b>0,parentRef:L,pressableProps:i.onPress||i.linkProps?babelHelpers["extends"]({},i,{display:"inline",overlayDisabled:F,overlayRadius:B/2,xstyle:t.pressableItem}):null,role:"listitem",shape:"circle",size:B,source:h,testid:void 0})]},b)}),Q;b[4]!==H||b[5]!==f||b[6]!==e||b[7]!==F||b[8]!==j||b[9]!==n||b[10]!==M||b[11]!==K||b[12]!==A||b[13]!==B||b[14]!==J||b[15]!==G||b[16]!==C?(Q=!e&&(A||n)&&k.jsxs("div",babelHelpers["extends"]({className:"x1jn9clo x78zum5 x1q0g3np xds687c x17qophe x47corl x10l6tqk x1eu8d0j"},{role:"listitem",children:[j.slice(0,Math.min(j.length,K<H?K:H)).map(function(a,b){return b===0&&H>1?null:k.jsx(c("BaseContainerQueryElement.react"),{breakpoint:(b+1)*(B+J)-J,maxWidth:b===H-1?"100%":B+J,minWidth:0},"overflowPusher"+b)}),k.jsx(z,{FocusItemComponent:p,"aria-label":h._(/*BTDS*/"See everyone"),ellipsisTooltip:f,linkProps:n,onPress:A,overlayDisabled:!0,parentRef:L,size:B,spacing:J,testid:void 0,xstyle:[t.overflowItem,B===24&&t.overflow24,B===28&&t.overflow28,B===32&&t.overflow32,B===40&&t.overflow40,B===48&&t.overflow48],children:function(a){var b=a.hovered;a=a.pressed;return k.jsxs(k.Fragment,{children:[k.jsxs("svg",babelHelpers["extends"]({"aria-hidden":!0},{className:"x1ey2m1c xds687c x17qophe x10l6tqk x13vifvy"},{height:B,viewBox:"0 0 "+B+" "+B,width:B,children:[F&&K>1&&k.jsxs("mask",{id:M,suppressHydrationWarning:!0,children:[k.jsx("circle",{cx:B/2,cy:B/2,fill:"white",r:B/2}),k.jsx("circle",{cx:-B/2+4,cy:B/2,fill:"black",r:B/2+2})]}),k.jsx("circle",babelHelpers["extends"]({className:"x1wnuiir",cx:B/2,cy:B/2,r:B/2,suppressHydrationWarning:!0},F&&K>1?{mask:"url(#"+M+")"}:null)),k.jsx("circle",babelHelpers["extends"]({className:{0:"x1wnuiir xg01cxk x1ebt8du x19991ni x1dhq9h",2:"x19991ni x1dhq9h x4bmajx x1hc1fzr x1mq3mr6",1:"x19991ni x1dhq9h x1tgjyoi x1hc1fzr x1mq3mr6",3:"x19991ni x1dhq9h x1tgjyoi x1hc1fzr x1mq3mr6"}[!!b<<1|!!(a||G)<<0],cx:B/2,cy:B/2,r:B/2,suppressHydrationWarning:!0},F&&K>1?{mask:"url(#"+M+")"}:null))]})),k.jsx(c("FDSIcon.react"),{color:"white",icon:y(B)})]})}})]})),b[4]=H,b[5]=f,b[6]=e,b[7]=F,b[8]=j,b[9]=n,b[10]=M,b[11]=K,b[12]=A,b[13]=B,b[14]=J,b[15]=G,b[16]=C,b[17]=Q):Q=b[17];b[18]!==P||b[19]!==Q||b[20]!==N||b[21]!==i?(f=k.jsxs("div",babelHelpers["extends"]({},N,{"aria-describedby":i,ref:L,role:O,children:[P,Q]})),b[18]=P,b[19]=Q,b[20]=N,b[21]=i,b[22]=f):f=b[22];e=f;b[23]!==g?(j={0:{className:"x78zum5 xdt5ytf"},1:{className:"x78zum5 x6s0dn4 x1q0g3np"}}[!!g<<0],b[23]=g,b[24]=j):j=b[24];b[25]!==e?(n=k.jsx(o,{orientation:"horizontal",tabScopeQuery:d("focusScopeQueries").tabbableScopeQuery,wrap:!0,children:e}),b[25]=e,b[26]=n):n=b[26];b[27]!==D||b[28]!==n?(A=k.jsx(c("CometComponentWithKeyCommands.react"),{commandConfigs:D,children:n}),b[27]=D,b[28]=n,b[29]=A):A=b[29];b[30]!==g||b[31]!==E?(O=E!=null?k.jsx("div",babelHelpers["extends"]({},{0:{className:"xz9dl7a"},1:{className:"x1e558r4 xexx8yu"}}[!!g<<0],{children:k.jsx(c("FDSText.react"),{color:"secondary",type:"body3",children:E})})):null,b[30]=g,b[31]=E,b[32]=O):O=b[32];b[33]!==j||b[34]!==A||b[35]!==O||b[36]!==C?(P=k.jsxs("div",babelHelpers["extends"]({},j,{"data-testid":void 0,children:[A,O]})),b[33]=j,b[34]=A,b[35]=O,b[36]=C,b[37]=P):P=b[37];Q=P;b[38]!==Q||b[39]!==a?(N=a?k.jsx("div",babelHelpers["extends"]({className:"xn6708d x1swvt13 xyamay9"},{children:Q})):Q,b[38]=Q,b[39]=a,b[40]=N):N=b[40];return N}function u(){}function v(){}function w(a){return((a=a.addOn)==null?void 0:a.type)==="activityBadge"}function x(a){return a.addOn!=null}function y(a){switch(a){case 32:return d("fbicon")._(i("484386"),16);case 40:case 48:return d("fbicon")._(i("484388"),24);default:return d("fbicon")._(i("484385"),12)}}function z(a){var b=d("react-compiler-runtime").c(26),e,f,g,h,i,j;b[0]!==a?(e=a.FocusItemComponent,f=a.ellipsisTooltip,g=a.parentRef,i=a.size,j=a.spacing,h=babelHelpers.objectWithoutPropertiesLoose(a,["FocusItemComponent","ellipsisTooltip","parentRef","size","spacing"]),b[0]=a,b[1]=e,b[2]=f,b[3]=g,b[4]=h,b[5]=i,b[6]=j):(e=b[1],f=b[2],g=b[3],h=b[4],i=b[5],j=b[6]);a=n(!1);var l=a[0],m=a[1];a=n(null);var o=a[0],p=a[1];b[7]===Symbol["for"]("react.memo_cache_sentinel")?(a=function(a){var b=a.intersectionRatio;d("ReactDOM").flushSync(function(){m(b<.5)})},b[7]=a):a=b[7];a=a;var q;b[8]!==g?(q={root:function(){var a;return(a=g.current)!=null?a:null},threshold:.5},b[8]=g,b[9]=q):q=b[9];a=c("useIntersectionObserver")(a,q);b[10]!==g||b[11]!==i||b[12]!==j?(q=function(a){if(!a)return;a=g.current;if(!a)return;a=a.getBoundingClientRect();a=a.width;a=Math.floor((a+j)/(i+j));p(a-1)},b[10]=g,b[11]=i,b[12]=j,b[13]=q):q=b[13];q=q;var r;b[14]!==a||b[15]!==h?(r=k.jsx(c("CometPressable.react"),babelHelpers["extends"]({},h,{ref:a})),b[14]=a,b[15]=h,b[16]=r):r=b[16];a=r;b[17]!==a||b[18]!==f||b[19]!==o||b[20]!==q?(h=f?k.jsx(c("FDSTooltip.react"),{align:"middle",onVisibilityChange:q,position:"below",tooltip:o!=null?f(o):"",children:a}):a,b[17]=a,b[18]=f,b[19]=o,b[20]=q,b[21]=h):h=b[21];b[22]!==e||b[23]!==l||b[24]!==h?(r=k.jsx(e,{disabled:l,children:h}),b[22]=e,b[23]=l,b[24]=h,b[25]=r):r=b[25];return r}g["default"]=a}),226);
__d("useSearchCometResultsTypeaheadDialogTriggerClickHandler",["react","react-compiler-runtime","searchCometScopedTypeaheadDialogFallback","useCometEntryPointDialog"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");b.useCallback;var i=b.useRef;function a(a,b,e){var f=d("react-compiler-runtime").c(11),g=i(null),h;f[0]!==b?(h={entityID:b},f[0]=b,f[1]=h):h=f[1];a=c("useCometEntryPointDialog")(a,h,"button",c("searchCometScopedTypeaheadDialogFallback"));var k=a[0];h=a[1];var l=a[2];a=a[3];var m;f[2]!==b||f[3]!==e||f[4]!==k?(m=function(){k({entityID:b},j,"comet.search_scoped."+e)},f[2]=b,f[3]=e,f[4]=k,f[5]=m):m=f[5];m=m;f[6]!==h||f[7]!==l||f[8]!==a||f[9]!==m?(g=[m,g,h,l,a],f[6]=h,f[7]=l,f[8]=a,f[9]=m,f[10]=g):g=f[10];return g}function j(){}g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("GroupsCometChatsEngagementLoggerWithDefaultExport",["GroupsCometChatsEngagementLogger"],(function(a,b,c,d,e,f,g){"use strict";a={log:d("GroupsCometChatsEngagementLogger").log};g["default"]=a}),98);
__d("LSIssueNewErrorStoredProcedure",["LSIssueNewError","LSSynchronousPromise","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSIssueNewError"),e.taskId,e.errorCode,e.errorTitleText,e.errorBodyText,e.errorExtraData,e.presentationStyle);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("LSVerifyThreadViewStoredProcedureDeferred",["requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h=c("requireDeferred")("LSVerifyThreadViewStoredProcedure").__setRef("LSVerifyThreadViewStoredProcedureDeferred");a=function(){for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];return h.load().then(function(a){return a.apply(void 0,b)})};b=a;g["default"]=b}),98);
__d("MAWBridgeUpdateClientRestoreStatus",["I64","LSEncryptedBackupsClientRestoreState","LSIntEnum","MAWUpdateClientRestoreStatusOperationType","ReQL","emptyFunction"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function j(a,b){return d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.encrypted_backups_client_restore_status).filter(function(a){return a.threadId===b})).then(function(b){if(b!=null)return a.encrypted_backups_client_restore_status.delete(b.threadId).then(c("emptyFunction"));else return Promise.resolve()})}function k(a,b,e,f){return d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.encrypted_backups_client_restore_status).getKeyRange(b)).then(function(f){if(f!=null)return a.encrypted_backups_client_restore_status.put({lastUpdated:(h||(h=d("I64"))).of_float(Date.now()),restoreStatus:(i||(i=d("LSIntEnum"))).ofNumber(c("LSEncryptedBackupsClientRestoreState").RESTORE_COMPLETE),serverThreadKey:e,threadId:b});else return Promise.resolve()})}function a(a){return d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(a.encrypted_backups_client_restore_status)).then(function(b){return b.reduce(function(b,c){return b.then(function(){return j(a,c.threadId)})},Promise.resolve())})}async function b(a,b){var e=b.threadId,f=b.action;f===d("MAWUpdateClientRestoreStatusOperationType").upsertClientRestoreStatus?await a.encrypted_backups_client_restore_status.put({lastUpdated:(h||(h=d("I64"))).of_float(Date.now()),restoreStatus:(i||(i=d("LSIntEnum"))).ofNumber(c("LSEncryptedBackupsClientRestoreState").RESTORE_IN_PROGRESS),serverThreadKey:void 0,threadId:e}):await k(a,b.threadId,void 0,b.ebPrefetch);return Promise.resolve()}g.truncateClientRestoreStatusTable=a;g.call=b}),98);
__d("MAWUIJob",["ExecutionEnvironment","MAWBridge","WAJobOrchestratorTypes","WALogger"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["UIJobStarters waitUntilPersisted called in the worker, which is a bug for job: ",""]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["UIJobStarters waitUntilCompleted called in the worker, which is a bug for job: ",""]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["UIJobStarters fireAndForget called in the worker, which is a bug for job: ",""]);k=function(){return a};return a}var l={priority:d("WAJobOrchestratorTypes").JOB_PRIORITY.UI_ACTION};a={fireAndForget:function(a){(h||(h=c("ExecutionEnvironment"))).isInWorker&&d("WALogger").ERROR(k(),a.type);d("MAWBridge").getBridge().fireAndForget("backend","runJobFireAndForget",babelHelpers["extends"]({},a,{scheduleConfig:(a=a.scheduleConfig)!=null?a:l}))},waitUntilCompleted:function(a,b,e){(h||(h=c("ExecutionEnvironment"))).isInWorker&&d("WALogger").ERROR(j(),a.type);a=d("MAWBridge").getBridge().sendAndReceive("backend","runJobWaitUntilCompleted",babelHelpers["extends"]({},a,{scheduleConfig:(a=a.scheduleConfig)!=null?a:l}),void 0,b,e);return a},waitUntilPersisted:function(a,b,e){(h||(h=c("ExecutionEnvironment"))).isInWorker&&d("WALogger").ERROR(i(),a.type);a=d("MAWBridge").getBridge().sendAndReceive("backend","runJobWaitUntilPersisted",babelHelpers["extends"]({},a,{scheduleConfig:(a=a.scheduleConfig)!=null?a:l}),void 0,b,e);return a}};g.UIJobStarters=a}),98);
__d("MAWTimedJob",["FBLogger","MAWBridgeLoggingUtils","MAWMaybeWithTimeout","MAWTimedBridge","MAWUIJob","MAWWaitForBackendSetup","MAWWebWorkerSingleton","MAWWorkerEvent","getErrorSafe"],(function(a,b,c,d,e,f,g){"use strict";a={fireAndForget:function(a,b){b===void 0&&(b=d("MAWTimedBridge").DEFAULT_MAW_BRIDGE_TIMEOUT_MS);var e=!1;return d("MAWMaybeWithTimeout").maybeWithTimeout(d("MAWWaitForBackendSetup").waitForBackendSetup(a.type).then(function(){e=!0;return d("MAWUIJob").UIJobStarters.fireAndForget(a)}),b,function(){return d("MAWWebWorkerSingleton").getWorkerHealthStatus().then(function(b){throw c("FBLogger")("maw_core_lla").mustfixThrow("Failed to ack execution of job %s in time. Backend setup: %s, workerHealthStatus: %s",a.type,e,b.tag)})},a.type)},waitUntilCompleted:function(a,b){b===void 0&&(b=d("MAWTimedBridge").DEFAULT_MAW_BRIDGE_TIMEOUT_MS);var e=!1,f=d("MAWBridgeLoggingUtils").getBridgeEventInstanceKey(a.type);return d("MAWMaybeWithTimeout").maybeWithTimeout(d("MAWWaitForBackendSetup").waitForBackendSetup(a.type).then(function(){d("MAWWorkerEvent").logStart("waitUntilCompleted",a.type,f);e=!0;return d("MAWUIJob").UIJobStarters.waitUntilCompleted(a,{onAck:function(b){d("MAWWorkerEvent").logAck(f,a.type,b)},onSend:function(b){var c=b.queueMsgs;b=b.queueSize;d("MAWWorkerEvent").logSend(f,a.type,"waitUntilCompleted");d("MAWWorkerEvent").logAnnotations(f,{"int":{bridgeSize:b},string_array:{bridgeMsgs:c}})}},{bridgeQPLInstanceKey:f}).then(function(a){d("MAWWorkerEvent").logSuccess(f);return a},function(a){a=c("getErrorSafe")(a);d("MAWWorkerEvent").logFailure(f,a.message);throw a})}),b,function(){return d("MAWWebWorkerSingleton").getWorkerHealthStatus().then(function(b){d("MAWWorkerEvent").logTimeoutFailure(f,"Failed to complete execution of job",b);throw c("FBLogger")("maw_core_lla").mustfixThrow("Failed to complete execution of job %s in time. Backend setup: %s, workerHealthStatus: %s",a.type,e,b.tag)})},a.type)},waitUntilPersisted:function(a,b){b===void 0&&(b=d("MAWTimedBridge").DEFAULT_MAW_BRIDGE_TIMEOUT_MS);var e=!1,f=d("MAWBridgeLoggingUtils").getBridgeEventInstanceKey(a.type);return d("MAWMaybeWithTimeout").maybeWithTimeout(d("MAWWaitForBackendSetup").waitForBackendSetup(a.type).then(function(){e=!0;d("MAWWorkerEvent").logStart("waitUntilPersisted",a.type,f);return d("MAWUIJob").UIJobStarters.waitUntilPersisted(a,{onAck:function(b){d("MAWWorkerEvent").logAck(f,a.type,b)},onSend:function(b){var c=b.queueMsgs;b=b.queueSize;d("MAWWorkerEvent").logSend(f,a.type,"waitUntilPersisted");d("MAWWorkerEvent").logAnnotations(f,{"int":{bridgeSize:b},string_array:{bridgeMsgs:c}})}},{bridgeQPLInstanceKey:f}).then(function(a){d("MAWWorkerEvent").logSuccess(f);return a},function(a){a=c("getErrorSafe")(a);d("MAWWorkerEvent").logFailure(f,a.message);throw a})}),b,function(){return d("MAWWebWorkerSingleton").getWorkerHealthStatus().then(function(b){d("MAWWorkerEvent").logTimeoutFailure(f,"Failed to persist execution of job",b);throw c("FBLogger")("maw_core_lla").mustfixThrow("Failed to persist execution of job %s in time. Backend setup: %s, workerHealthStatus: %s",a.type,e,b.tag)})},a.type)}};g.TimedUIJobStarters=a}),98);
__d("MDSGlimmer.react",["BaseGlimmer.react","react","react-compiler-runtime","useCurrentDisplayMode"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={dark:{backgroundColor:"xhzw6zf",$$css:!0},light:{backgroundColor:"x1vtvx1t",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(9),e,f;b[0]!==a?(f=a.xstyle,e=babelHelpers.objectWithoutPropertiesLoose(a,["xstyle"]),b[0]=a,b[1]=e,b[2]=f):(e=b[1],f=b[2]);a=c("useCurrentDisplayMode")();a=a==="dark"?j.dark:j.light;var g;b[3]!==a||b[4]!==f?(g=[a,f],b[3]=a,b[4]=f,b[5]=g):g=b[5];b[6]!==e||b[7]!==g?(a=i.jsx(c("BaseGlimmer.react"),babelHelpers["extends"]({xstyle:g},e)),b[6]=e,b[7]=g,b[8]=a):a=b[8];return a}g["default"]=a}),98);
__d("MWChatFacepile.react",["CometImage.react","react","react-compiler-runtime","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k={dropShadow:{boxShadow:"x1qeybcx",":hover_boxShadow":"x19xcq9t",$$css:!0},image:{borderTopStartRadius:"x14yjl9h",borderTopEndRadius:"xudhj91",borderBottomEndRadius:"x18nykt9",borderBottomStartRadius:"xww2gxu",position:"x10l6tqk",$$css:!0},imageBorder:{borderTopColor:"xsdn2ir",borderEndColor:"x16rfsbj",borderBottomColor:"x13awxeq",borderStartColor:"x16sykr7",borderTopStyle:"x13fuv20",borderEndStyle:"xu3j5b3",borderBottomStyle:"x1q0q8m5",borderStartStyle:"x26u7qi",borderTopWidth:"x178xt8z",borderEndWidth:"xm81vs4",borderBottomWidth:"xso031l",borderStartWidth:"xy80clv",$$css:!0},leftImage:{bottom:"x1ey2m1c",start:"x17qophe",left:null,right:null,$$css:!0},rightImage:{end:"xds687c",left:null,right:null,top:"x13vifvy",$$css:!0},root:{display:"x78zum5",position:"x1n2onr6",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(24),e=a.borderBetweenImages,f=a.children,g=a.firstParticipantURI,i=a.secondParticipantURI,l=a.shadow,m=a.size;a=a.xstyle;e=e===void 0?!0:e;l=l===void 0?!1:l;m=m===void 0?30:m;var n=m/1.5,o;b[0]!==a?(o=(h||(h=c("stylex")))(k.root,a),b[0]=a,b[1]=o):o=b[1];a=String(m)+"px";m=String(m)+"px";var p;b[2]!==a||b[3]!==m?(p={height:a,width:m},b[2]=a,b[3]=m,b[4]=p):p=b[4];a=l&&k.dropShadow;b[5]!==a?(m=[a,k.image,k.rightImage],b[5]=a,b[6]=m):m=b[6];b[7]!==n||b[8]!==i||b[9]!==m?(a=j.jsx(c("CometImage.react"),{height:n,src:i,width:n,xstyle:m}),b[7]=n,b[8]=i,b[9]=m,b[10]=a):a=b[10];i=l&&k.dropShadow;m=e&&k.imageBorder;b[11]!==i||b[12]!==m?(l=[i,k.image,m,k.leftImage],b[11]=i,b[12]=m,b[13]=l):l=b[13];b[14]!==g||b[15]!==n||b[16]!==l?(e=j.jsx(c("CometImage.react"),{height:n,src:g,width:n,xstyle:l}),b[14]=g,b[15]=n,b[16]=l,b[17]=e):e=b[17];b[18]!==f||b[19]!==a||b[20]!==e||b[21]!==o||b[22]!==p?(i=j.jsxs("div",{className:o,style:p,children:[a,e,f]}),b[18]=f,b[19]=a,b[20]=e,b[21]=o,b[22]=p,b[23]=i):i=b[23];return i}g["default"]=a}),98);
__d("MWChatProfile.react",["CometImage.react","MDSGlimmer.react","isStringNullOrEmpty","react","react-compiler-runtime","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k={img:{borderTopStartRadius:"x14yjl9h",borderTopEndRadius:"xudhj91",borderBottomEndRadius:"x18nykt9",borderBottomStartRadius:"xww2gxu",height:"x5yr21d",objectFit:"xl1xv1r",verticalAlign:"x3ajldb",width:"xh8yej3",$$css:!0},root:{position:"x1n2onr6",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(18),e=a.alt,f=a.children,g=a.isActiveNow,i=a.size,l=a.src;a=a.xstyle;e=e===void 0?"":e;g=g===void 0?!1:g;var m;b[0]!==a?(m=(h||(h=c("stylex")))(k.root,a),b[0]=a,b[1]=m):m=b[1];a=String(i)+"px";i=String(i)+"px";var n;b[2]!==a||b[3]!==i?(n={height:a,width:i},b[2]=a,b[3]=i,b[4]=n):n=b[4];b[5]!==e||b[6]!==l?(a=c("isStringNullOrEmpty")(l)?j.jsx(c("MDSGlimmer.react"),{index:1,xstyle:k.img}):j.jsx(c("CometImage.react"),{alt:e,src:l,xstyle:k.img}),b[5]=e,b[6]=l,b[7]=a):a=b[7];b[8]!==g?(i={0:{className:"xv9rvxn xsdn2ir x16rfsbj x13awxeq x16sykr7 x14yjl9h xudhj91 x18nykt9 xww2gxu x13fuv20 xu3j5b3 x1q0q8m5 x26u7qi xamhcws xol2nv xlxy82 x19p7ews x1ey2m1c x1s85apg xdk7pt xds687c x10l6tqk x1xc55vz"},1:{className:"xv9rvxn xsdn2ir x16rfsbj x13awxeq x16sykr7 x14yjl9h xudhj91 x18nykt9 xww2gxu x13fuv20 xu3j5b3 x1q0q8m5 x26u7qi xamhcws xol2nv xlxy82 x19p7ews x1ey2m1c xdk7pt xds687c x10l6tqk x1xc55vz x1lliihq"}}[!!g<<0],b[8]=g,b[9]=i):i=b[9];b[10]!==i?(e=j.jsx("div",babelHelpers["extends"]({},i)),b[10]=i,b[11]=e):e=b[11];b[12]!==f||b[13]!==m||b[14]!==n||b[15]!==a||b[16]!==e?(l=j.jsxs("div",{className:m,style:n,children:[a,f,e]}),b[12]=f,b[13]=m,b[14]=n,b[15]=a,b[16]=e,b[17]=l):l=b[17];return l}g["default"]=a}),98);
__d("MWFocusTable.react",["FocusTable.react","focusScopeQueries"],(function(a,b,c,d,e,f,g){"use strict";g.createFocusTable=d("FocusTable.react").createFocusTable,g.tabbableScopeQuery=d("focusScopeQueries").tabbableScopeQuery}),98);
__d("MWPGetThreadTitle",["fbt","CurrentEnvironment","FBLogger","I64","LSContactBitOffset","LSContactType","LSIntEnum","LSMessagingThreadTypeUtil","intlList","recoverableViolation"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=(c("CurrentEnvironment").workplacedotcom?h._(/*BTDS*/"Workplace user"):c("CurrentEnvironment").instagramdotcom?h._(/*BTDS*/"Instagram User"):c("CurrentEnvironment").horizondotmetadotcom?h._(/*BTDS*/"Horizon user"):h._(/*BTDS*/"Facebook user")).toString();function a(a,b,e,f){a===void 0&&(a=c("intlList").CONJUNCTIONS.AND);e.length>8&&c("recoverableViolation")("You are overfetching participants needed to compute a thread title. Please use ->take(MWPGetThreadTitle.amountToFetchForTitle) to limit participants fetched. Length: "+e.length,"messenger_web_ia");if(e.length===0)return;if(e.length===1){var g=e[0],l=g[0];g=g[1];return l.nickname!=null?l.nickname:(l=g==null?void 0:g.name)!=null?l:k}if(d("LSMessagingThreadTypeUtil").isOneToOne(b)){g=e.filter(function(a){return!(i||(i=d("I64"))).equal(a[0].contactId,f)});if(g.length===0){c("recoverableViolation")("No participants in thread","messenger_comet");return}l=g.sort(function(a,b){return(i||(i=d("I64"))).compare(b[0].authorityLevel,a[0].authorityLevel)})[0];b=l[0].nickname;if(b!=null)return b;g=l[1];return(b=g==null?void 0:g.name)!=null?b:k}l=e.filter(function(a){return!(i||(i=d("I64"))).equal(a[0].contactId,f)}).slice(0,7).sort(function(a,b){b=b[1];a=a[1];if(a!=null)if(b!=null)return b.rank-a.rank;else return 0;else return 0}).map(function(a){var b,f=a[1];f!=null&&(i||(i=d("I64"))).equal(f.contactType,(j||(j=d("LSIntEnum"))).ofNumber(c("LSContactType").PAGE))&&!((b=d("LSContactBitOffset").has(77,f))!=null?b:!1)&&!((b=d("LSContactBitOffset").has(65,f))!=null?b:!1)&&c("FBLogger")("messenger_web").debug("page participant in group");b=a[0].nickname;if(b!=null)return b;if(f==null)return k;a=f.firstName;if(a!=null&&e.length>2)return a;else return f.name});e.length>7&&l.push(String(h._(/*BTDS*/"others")));return c("intlList")(l,a,c("intlList").DELIMITERS.COMMA).toString()}b=8;g.computeThreadTitle=a;g.amountToFetchForTitle=b}),226);
__d("MWThreadListFocusableTable.react",["MWFocusTable.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");b=d("MWFocusTable.react").createFocusTable(d("MWFocusTable.react").tabbableScopeQuery);var j=b[0];c=b[1];e=b[2];f=c;b=e;function a(a){var b=d("react-compiler-runtime").c(2);a=a.children;var c;b[0]!==a?(c=i.jsx(j,{allowModifiers:!0,tabScopeQuery:d("MWFocusTable.react").tabbableScopeQuery,wrapX:!0,children:a}),b[0]=a,b[1]=c):c=b[1];return c}g.MWThreadListFocusableTableRow=f;g.MWThreadListFocusableTableCell=b;g.MWThreadListFocusableTableScopeQuery=d("MWFocusTable.react").tabbableScopeQuery;g.MWThreadListFocusableTable=a}),98);
__d("MWXListCellHoverActions.react",["react","react-compiler-runtime","react-strict-dom"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={action:{marginStart:"x1i64zmx",$$css:!0},menuButtonContainer:{alignItems:"x6s0dn4",bottom:"x1hgdm3",display:"x78zum5",flexDirection:"x1q0g3np",end:"x84fkku",left:null,right:null,pointerEvents:"x67bb7w",position:"x10l6tqk",top:"x1jl3hli",$$css:!0},visuallyHidden:{clip:"x1qvwoe0",clipPath:"x1vzd84k",height:"xjm9jq1",overflowX:"x6ikm8r",overflowY:"x10wlt62",width:"x1i1rx1s",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(7),c=a.children;a=a.hidden;a=a&&j.visuallyHidden;var e;b[0]!==a?(e=[j.menuButtonContainer,a],b[0]=a,b[1]=e):e=b[1];b[2]!==c?(a=Array.isArray(c)?c.filter(l).map(k):c,b[2]=c,b[3]=a):a=b[3];b[4]!==e||b[5]!==a?(c=i.jsx(d("react-strict-dom").html.div,{role:"gridcell",style:e,children:a}),b[4]=e,b[5]=a,b[6]=c):c=b[6];return c}function k(a,b){return i.jsx(d("react-strict-dom").html.div,{style:j.action,children:a},b)}k.displayName=k.name+" [from "+f.id+"]";function l(a){return a!=null}g["default"]=a}),98);
__d("MWXEntryPointPopoverTrigger.react",["cr:1000","cr:4755","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){if(b("cr:4755")!=null)return i.jsx(b("cr:4755"),babelHelpers["extends"]({},a));return b("cr:1000")!=null?i.jsx(b("cr:1000"),babelHelpers["extends"]({},a)):null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWXIconDots3Horizontal",["MWXSvgIcon","SVGIcon","cr:12398","gkx"],(function(a,b,c,d,e,f,g){"use strict";a=d("MWXSvgIcon").mwxSvgIcon(d("SVGIcon").svgIcon(b("cr:12398")),c("gkx")("23219"));g["default"]=a}),98);
__d("MWXListCellHoverButton.react",["fbt","FocusWithinHandler.react","MWXCircleButton.react","MWXEntryPointPopoverTrigger.react","MWXIconDots3Horizontal","MWXLazyPopoverTrigger.react","react","react-compiler-runtime","react-strict-dom"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));i.useCallback;function a(a){var b=d("react-compiler-runtime").c(30),e=a.label,f=a.onFocusChange,g=a.onHoverChange,i=a.onMenuStateChange,k=a.onPress,l=a.size,m=a.testid,n;b[0]!==i?(n=function(a){i!=null&&i(a)},b[0]=i,b[1]=n):n=b[1];n=n;var o;b[2]!==e||b[3]!==f||b[4]!==g||b[5]!==k||b[6]!==l||b[7]!==m?(o=function(a,b,i,m,n){return j.jsx(d("react-strict-dom").html.div,{ref:a,children:j.jsx(c("FocusWithinHandler.react"),{onFocusChange:f,children:function(a){return j.jsx(d("react-strict-dom").html.div,{children:j.jsx(c("MWXCircleButton.react"),{color:"secondary",icon:c("MWXIconDots3Horizontal"),label:e!=null?e:h._(/*BTDS*/"Menu"),onHoverIn:function(a){i&&i(a),g&&g(!0)},onHoverOut:function(a){m&&m(),g&&g(!1)},onPress:function(){k&&k(),b()},onPressIn:n,size:(a=l)!=null?a:36,testid:void 0,type:"overlay-raised"})})}})})},b[2]=e,b[3]=f,b[4]=g,b[5]=k,b[6]=l,b[7]=m,b[8]=o):o=b[8];var p=o;b[9]!==n||b[10]!==a.popoverFallback||b[11]!==a.popoverProps?(m={align:"middle",fallback:a.popoverFallback,onVisibilityChange:n,popoverProps:a.popoverProps,position:"below"},b[9]=n,b[10]=a.popoverFallback,b[11]=a.popoverProps,b[12]=m):m=b[12];o=m;if(a.popoverTriggerType==="lazy"){b[13]!==p?(n=function(a,b){return p(a,b)},b[13]=p,b[14]=n):n=b[14];b[15]!==o||b[16]!==a.popoverResource||b[17]!==n?(m=j.jsx(c("MWXLazyPopoverTrigger.react"),babelHelpers["extends"]({},o,{popoverResource:a.popoverResource,children:n})),b[15]=o,b[16]=a.popoverResource,b[17]=n,b[18]=m):m=b[18];return m}else{b[19]!==o?(n=o.popoverProps,m=babelHelpers.objectWithoutPropertiesLoose(o,["popoverProps"]),b[19]=o,b[20]=n,b[21]=m):(n=b[20],m=b[21]);b[22]!==p?(o=function(a,b,c,d,e,f){return p(a,b,d,e,f)},b[22]=p,b[23]=o):o=b[23];var q;b[24]!==n||b[25]!==a.entryPointParams||b[26]!==a.popoverEntryPoint||b[27]!==m||b[28]!==o?(q=j.jsx(c("MWXEntryPointPopoverTrigger.react"),babelHelpers["extends"]({},m,{entryPointParams:a.entryPointParams,otherProps:n,popoverEntryPoint:a.popoverEntryPoint,preloadTrigger:"button_aggressive",children:o})),b[24]=n,b[25]=a.entryPointParams,b[26]=a.popoverEntryPoint,b[27]=m,b[28]=o,b[29]=q):q=b[29];return q}}g["default"]=a}),226);
__d("MessengerClientEventLogger",["requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h=c("requireDeferred")("MessengerCommunityItemEventFalcoEvent").__setRef("MessengerClientEventLogger");function a(a){var b=babelHelpers["extends"]({},a);h.onReady(function(a){return a.log(function(){return babelHelpers["extends"]({},b)})})}g.log=a}),98);
__d("useLSGetThreadTitle.react",["MWPActor.react","MWPGetThreadTitle","ReQL","ReQLSuspense","intlList","react-compiler-runtime","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b){var e=d("react-compiler-runtime").c(17),g=d("MWPActor.react").useActor(),i=(h||(h=c("useReStore")))(),j;e[0]!==i||e[1]!==b||e[2]!==a.threadKey?(j=function(){return b===!0?d("ReQL").empty():d("ReQL").leftJoin(d("ReQL").fromTableAscending(i.tables.participants,["contactId","nickname","authorityLevel"]).getKeyRange(a.threadKey),d("ReQL").fromTableAscending(i.tables.contacts,["name","rank","contactType","firstName","capabilities","capabilities2","secondaryName","id","contactTypeExact","blockedByViewerStatus"])).take(8)},e[0]=i,e[1]=b,e[2]=a.threadKey,e[3]=j):j=e[3];var k;e[4]!==a.threadKey?(k=[a.threadKey],e[4]=a.threadKey,e[5]=k):k=e[5];j=d("ReQLSuspense").useArray(j,k,f.id+":65");if(b===!0){e[6]!==g||e[7]!==j?(k={actorId:g,participantsAndContacts:j,threadTitle:null},e[6]=g,e[7]=j,e[8]=k):k=e[8];return k}e[9]!==g||e[10]!==j||e[11]!==a.threadType?(k=d("MWPGetThreadTitle").computeThreadTitle(c("intlList").CONJUNCTIONS.NONE,a.threadType,j,g),e[9]=g,e[10]=j,e[11]=a.threadType,e[12]=k):k=e[12];k=k;var l;e[13]!==g||e[14]!==j||e[15]!==k?(l={actorId:g,participantsAndContacts:j,threadTitle:k},e[13]=g,e[14]=j,e[15]=k,e[16]=l):l=e[16];return l}g["default"]=a}),98);
__d("useMWGetThreadTitleForLabel",["mwCMIsAnyCMThread","react-compiler-runtime","useLSGetThreadTitle.react"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=d("react-compiler-runtime").c(3),e=a.threadName,f=a.threadType,g;b[0]!==e||b[1]!==f?(g=c("mwCMIsAnyCMThread")(f)||e!=null,b[0]=e,b[1]=f,b[2]=g):g=b[2];f=c("useLSGetThreadTitle.react")(a,g).threadTitle;return(b=e)!=null?b:f}g["default"]=a}),98);
__d("MWThreadListItemMoreActions.react",["fbt","I64","JSResourceForInteraction","LSIntEnum","MWPIsThreadUnread","MWThreadListFocusableTable.react","MWXListCellHoverActions.react","MWXListCellHoverButton.react","MWXPopoverLoadingState.react","MessageRequestsBulkActionsContext.react","MessengerClientEventLogger","MessengerWebUXLogger","WebUXLoggingSurfaceContextProvider","cr:2580","gkx","isCommunityContainersEnabled","mwCMisStandAloneCommunity","react","react-compiler-runtime","useMWGetThreadTitleForLabel"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=i||(i=d("react"));e=i;var m=e.useContext;e.useMemo;var n=c("JSResourceForInteraction")("MWThreadListHoverButtonDropdownMenu.react").__setRef("MWThreadListItemMoreActions.react");function a(a){var e=d("react-compiler-runtime").c(25),f=a.communityType,g=a.fbGroupId,i=a.folderId,o=a.isContainerUnread,p=a.menuButtonVisibilityState,q=a.messagingEntrypoint,r=a.onClose,s=a.selected;a=a.thread;var t=a.threadKey,u=a.threadType,v;e[0]!==t?(v=(j||(j=d("I64"))).to_string(t),e[0]=t,e[1]=v):v=e[1];v=v;v=v;var w=d("MWPIsThreadUnread").useIsThreadUnread(t),x=p[0];p=p[1];var y=p.setMenuBtnFocused,z=p.setMenuBtnHovered,A=p.setMenuOpened,B=c("MessengerWebUXLogger").useInteractionLogger();p=m(c("MessageRequestsBulkActionsContext.react"));p=p.isBulkActionsEditMode;a=c("useMWGetThreadTitleForLabel")(a);var C;e[2]!==a?(C=a!=null?h._(/*BTDS*/"More options for {chat_name}",[h._param("chat_name",a)]):h._(/*BTDS*/"More options for this chat"),e[2]=a,e[3]=C):C=e[3];a=C;e[4]!==f||e[5]!==g||e[6]!==v||e[7]!==i||e[8]!==p||e[9]!==o||e[10]!==x||e[11]!==w||e[12]!==a||e[13]!==B||e[14]!==q||e[15]!==r||e[16]!==s||e[17]!==y||e[18]!==z||e[19]!==A||e[20]!==t||e[21]!==u?(C=p?null:l.jsx(c("MWXListCellHoverActions.react"),{hidden:!x,children:l.jsx(c("MWXListCellHoverButton.react"),{label:a,onFocusChange:y,onHoverChange:z,onMenuStateChange:function(a){a&&(o!=null&&i!=null&&g!=null&&c("isCommunityContainersEnabled")()&&(j||(j=d("I64"))).equal(u,(k||(k=d("LSIntEnum"))).ofNumber(17))&&d("MessengerClientEventLogger").log({business_account_user:null,event_type:"one_px_impression",is_smc:c("mwCMisStandAloneCommunity")(f),marketplace_user:null,multiple_account_user:null,surface:{entry_point:null,major_surface:"inbox_tab",minor_surface:"inbox_communities"},target:{badging:{count:o?"1":"0"},button:{type:null},community:{id:(j||(j=d("I64"))).to_string(i)},group:{id:j.to_string(g)},ranking:null}}),b("cr:2580")&&b("cr:2580")({threadKey:t,threadType:u},"open_thread_settings_menu",q),B==null?void 0:B({eventName:"open_thread_overflow_menu",threadKey:t,threadType:u}));return A(a)},popoverFallback:l.jsx(c("MWXPopoverLoadingState.react"),{withArrow:!0}),popoverProps:{fbid:v,isUnread:w,messagingEntrypoint:q,onCloseJewel:r,selected:s,threadKey:t},popoverResource:n,popoverTriggerType:"lazy",size:c("gkx")("23219")?32:void 0,testid:void 0})}),e[4]=f,e[5]=g,e[6]=v,e[7]=i,e[8]=p,e[9]=o,e[10]=x,e[11]=w,e[12]=a,e[13]=B,e[14]=q,e[15]=r,e[16]=s,e[17]=y,e[18]=z,e[19]=A,e[20]=t,e[21]=u,e[22]=C):C=e[22];e[23]!==C?(v=l.jsx(d("MWThreadListFocusableTable.react").MWThreadListFocusableTableCell,{children:l.jsx(d("WebUXLoggingSurfaceContextProvider").WebUXLoggingSurfaceContextProvider,{value:"thread_list_options",children:C})}),e[23]=C,e[24]=v):v=e[24];return v}g["default"]=a}),226);
__d("useAsyncReStoreBulkFix",["isPromise","promiseDone","qex","useAsyncReStore","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i;d=(b=c("qex")._("3408"))!=null?b:!1;function a(a,b,d){(h||(h=c("isPromise")))(a)?c("promiseDone").apply(void 0,arguments):b==null?void 0:b(a)}e={onDbReady:c("promiseDone"),useReStoreHook:c("useAsyncReStore")};f={onDbReady:a,useReStoreHook:i||(i=c("useReStore"))};b=d?e:f;d=b.useReStoreHook;e=a;g.useReStoreHook=d;g.onDbReady=e}),98);
__d("verifyChatTabContactExists",["LSAuthorityLevel","LSContactBlockedByViewerStatus","LSContactGender","LSContactIdType","LSContactType","LSContactViewerRelationship","LSContactWorkForeignEntityType","LSFactory","LSIntEnum","LSMessagingThreadTypeUtil","LSVerifyContactRowExistsStoredProcedure","Promise"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a){var e=a.db,g=a.threadKey;a=a.threadType;if(d("LSMessagingThreadTypeUtil").isOpenOneToOne(a))return e.runInTransaction(function(a){return c("LSVerifyContactRowExistsStoredProcedure")(c("LSFactory")(a),{authorityLevel:(i||(i=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").CLIENT_PARTIAL),blockedByViewerStatus:i.ofNumber(c("LSContactBlockedByViewerStatus").UNBLOCKED),contactIdType:i.ofNumber(c("LSContactIdType").FBID),contactType:i.ofNumber(c("LSContactType").USER),contactViewerRelationship:i.ofNumber(c("LSContactViewerRelationship").UNKNOWN),gender:i.ofNumber(c("LSContactGender").UNKNOWN),id:g,isBlocked:!1,isMemorialized:!1,isSelf:!1,workForeignEntityType:i.ofNumber(c("LSContactWorkForeignEntityType").UNKNOWN)})},"readwrite",void 0,void 0,f.id+":40");else return(h||(h=b("Promise"))).resolve()}g["default"]=a}),98);
__d("verifyChatTabThreadExists",["I64","LSFactory","LSIntEnum","LSMailboxType","LSMessagingThreadTypeUtil","LSVec","LSVerifyThreadRowExistsStoredProcedure","LSVerifyThreadViewStoredProcedureDeferred","ReQL","cr:17336","useIsChatPreviewsEnabled","verifyChatTabContactExists"],(function(a,b,c,d,e,f,g){"use strict";var h,i;async function a(a){var e=a.callsite,g=a.db,j=a.threadKey,k=a.threadType;await c("verifyChatTabContactExists")({db:g,threadKey:j,threadType:k});a=await d("ReQL").firstAsync(d("ReQL").fromTableAscending(g.tables.threads).getKeyRange(j));var l=a==null?null:await d("ReQL").firstAsync(d("ReQL").fromTableAscending(g.tables.community_folders).getKeyRange(a.parentThreadKey));if(b("cr:17336")!=null&&d("LSMessagingThreadTypeUtil").isArmadilloSecure(k)&&((a==null?void 0:a.clientThreadKey)==null||!(h||(h=d("I64"))).equal(j,a.clientThreadKey)))return b("cr:17336")(g,j,"verifyChatTabThreadExists_"+e).then(function(){});e=a==null?!1:d("useIsChatPreviewsEnabled").isChatPreviewsEnabled(a,l==null?void 0:l.communityType);if(e)return g.runInTransaction(function(a){return c("LSVerifyThreadViewStoredProcedureDeferred")(c("LSFactory")(a),{contacts:c("LSVec").ofArray([]),mailboxType:(i||(i=d("LSIntEnum"))).ofNumber(c("LSMailboxType").MESSENGER),threadKey:j,threadType:k})},"readwrite",void 0,void 0,f.id+":76").then(function(){});else return g.runInTransaction(function(a){return c("LSVerifyThreadRowExistsStoredProcedure")(c("LSFactory")(a),{syncGroup:(i||(i=d("LSIntEnum"))).ofNumber(1),threadKey:j,threadType:k})},"readwrite",void 0,void 0,f.id+":89")}g.default=a}),98);
__d("MWV2EnsureThatChatTabExists",["I64","Int64Hooks","LSMessagingThreadTypeUtil","Promise","promiseDone","react-compiler-runtime","useAsyncReStoreBulkFix","verifyChatTabThreadExists"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function j(a,d,e,f,g){return k(d,e,f)?(i||(i=b("Promise"))).resolve():c("verifyChatTabThreadExists")({callsite:g,db:a,threadKey:d,threadType:e})}function a(a,b,e,f){var g=d("react-compiler-runtime").c(7),h=d("useAsyncReStoreBulkFix").useReStoreHook(),i,k;g[0]!==f||g[1]!==e||g[2]!==h||g[3]!==a||g[4]!==b?(i=function(){d("useAsyncReStoreBulkFix").onDbReady(h,function(d){c("promiseDone")(j(d,a,b,e,f))})},k=[f,e,h,a,b],g[0]=f,g[1]=e,g[2]=h,g[3]=a,g[4]=b,g[5]=i,g[6]=k):(i=g[5],k=g[6]);d("Int64Hooks").useEffectInt64(i,k)}function k(a,b,c){return d("LSMessagingThreadTypeUtil").isArmadilloSecure(b)&&c!=null&&(h||(h=d("I64"))).equal(a,c)}g.ensureThatChatTabExists=j;g.useMWV2EnsureThatChatTabExists=a;g.isOptimisticSecureThread=k}),98);
__d("MessengerCommunityItemEventFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("312");b=d("FalcoLoggerInternal").create("messenger_community_item_event",a);e=b;g["default"]=e}),98);/*FB_PKG_DELIM*/
__d("EBSMGating",["gkx"],(function(a,b,c,d,e,f,g){"use strict";function a(){return c("gkx")("24151")}g.isPersistedEBTableEnabled=a}),98);
__d("EBSMProperties",[],(function(a,b,c,d,e,f){"use strict";a=["encrypted_backups_virtual_devices","secure_encrypted_backups_recovery_code_status","device_metadata","secure_encrypted_backups_epochs","secure_encrypted_backups_client_state","encrypted_backups","experiences_shared_state","auto_restore_opt_out"];b=new Set(["secure_encrypted_backups_client_state","secure_encrypted_backups_epochs"]);c={dbVersion:5,mandatoryTables:b,persistedTables:new Set(a),persistedTablesArray:a};d=c;f["default"]=d}),66);
__d("GetLsDatabaseDeferredForDisplay",["requireDeferredForDisplay"],(function(a,b,c,d,e,f,g){"use strict";var h=c("requireDeferredForDisplay")("GetLsDatabase").__setRef("GetLsDatabaseDeferredForDisplay");async function a(){var a=await h.load();return a.get()}g.get=a}),98);
__d("MAWCryptoConsts",[],(function(a,b,c,d,e,f){"use strict";a=60*60;b=24*a;c=32;d=new Uint8Array(0).buffer;e=128;a=256;var g=12,h=1,i=2,j=2,k=4;b=b*30*6;var l=3,m="AES-GCM",n="HKDF",o="SHA-256";f.HKDF_SEED_LENGTH_IN_BYTES=c;f.HKDF_INFO=d;f.AES_GCM_TAG_LENGTH=e;f.AES_GCM_KEY_LENGTH=a;f.AES_GCM_IV_LENGTH_IN_BYTES=g;f.VERSION=h;f.CIPHER_ID=i;f.ADDITIONAL_DATA_LENGTH_IN_BYTES=j;f.EXTRA_ADDITIONAL_DATA_LENGTH_IN_BYTES=k;f.ENC_KEY_TTL=b;f.MAX_KEYCHAIN_SETUP_RETRIES=l;f.AES_GCM=m;f.HKDF=n;f.SHA256=o}),66);
__d("MAWIndexedDBDeletion",["CurrentMessengerUser","FBLogger","MAWIndexedDbMetadata"],(function(a,b,c,d,e,f,g){"use strict";function h(a,b){return indexedDB==null||a==null?Promise.resolve():new Promise(function(d,e){var f=indexedDB.deleteDatabase(a);f.onsuccess=function(){c("FBLogger")("maw_db").warn("%s db was deleted",b),d()};f.onblocked=function(){c("FBLogger")("maw_db").mustfix("Cannot delete %s db: blocked. Make sure DB is closed.",b)};f.onerror=function(){c("FBLogger")("maw_db").mustfix("Cannot delete %s db",b),e(f.error)}})}async function a(){var a,b=d("CurrentMessengerUser").getID();await Promise.all([h((a=d("MAWIndexedDbMetadata")).dbName(b),"maw_v1"),h(a.restoreDbName2(b),"maw_v3"),h(a.jobsDbName(b),"signal"),h(a.logDbName(b),"logDb")])}g.deleteDB=h;g.deleteMAWPersistence=a}),98);
__d("MWEBODSCategory",[],(function(a,b,c,d,e,f){"use strict";a=7319;f["default"]=a}),66);
__d("MWEBODSEntityKey.enum",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum")({START:"start",SUCCESS:"success",FAIL:"fail",INCORRECT_PIN_CODE:"incorrect_pin_code",INCORRECT_RECOVERY_CODE:"incorrect_recovery_code",TIMEOUT:"timeout"});c=a;f["default"]=c}),66);
__d("MWEBODSEntityName.enum",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum")({MW_EB_PIN_RESTORE_AUTH:"mw_eb_pin_restore_auth",MW_EB_RC_RESTORE_AUTH:"mw_eb_rc_restore_auth",MW_EB_AUTO_RESTORE_AUTH:"mw_eb_auto_restore_auth",MW_EB_OTC_AUTH:"mw_eb_otc_auth",MW_EB_ONBOARDING_AUTH:"mw_eb_onboarding_auth",MW_EBSM_HYDRATION:"mw_ebsm_hydration",MW_EBSM_IDB:"mw_eb_ebsm_idb",MW_EBSM_CORRUPTION:"mw_ebsm_corruption",MW_EBSM_CORRUPTION_RELOAD:"mw_ebsm_corruption_reload",MW_EBSM_RESTORE_PERSISTENCE_ERROR:"mw_ebsm_restore_persistence",MW_EBSM_IDB_TABLE_DELETION:"mw_ebsm_idb_table_deletion",MW_EBSM_WORKER_SUFFIX:"_worker",MW_EB_SWITCH_CONSISTENCY:"mw_eb_switch_consistency",MAW_EB_UPLOAD_TRACKING:"maw_eb_upload_tracking",MAW_EB_UPLOAD_COUNTER:"maw_eb_upload_counter",MAW_EB_RESTORE_COUNTER:"maw_eb_restore_counter",EB_SYMMETRIC_ENCRYPTION_JS_RUST_SHADOW_TEST:"eb_symmetric_encryption_js_rust_shadow_test",MAW_EB_FRONTEND_QPL_IN_WORKER:"maw_eb_frontend_qpl_in_worker"});c=a;f["default"]=c}),66);
__d("MAWEncryptedBackupsPersistedDB",["EBSMGating","EBSMProperties","FBLogger","LSMetadata","MAWCurrentUser","MAWIndexedDBDeletion","MAWIndexedDbMetadata","MAWLoggerDeferred","MWEBODSCategory","MWEBODSEntityKey.enum","MWEBODSEntityName.enum","ODS","Promise","QPLUserFlow","err","gkx","justknobx","qpl","recoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["[labyrinth_web] EB state DB upgrade needed"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["[labyrinth_web] EBSM upgrade failed: ",". Falling back to ephemeral LSDB"]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["[labyrinth_web] EB state DB onVersionChange: closing the db"]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["[labyrinth_web] EB state DB initialization successsful"]);m=function(){return a};return a}function n(){var a=babelHelpers.taggedTemplateLiteralLoose(["[labyrinth_web] EB state DB initialization: db blocked"]);n=function(){return a};return a}function o(){var a=babelHelpers.taggedTemplateLiteralLoose(["[labyrinth_web] EB state DB initialization failed"]);o=function(){return a};return a}function p(){var a=babelHelpers.taggedTemplateLiteralLoose(["[labyrinth_web] Initializing EB state DB"]);p=function(){return a};return a}var q=null,r=c("justknobx")._("2243");function a(){if(q==null)throw c("err")("EB state IndexedDB should've been initialized");return q}var s=(i||(i=b("Promise"))).resolve();function e(){return s}function t(a){return a?c("MWEBODSEntityName.enum").MW_EBSM_WORKER_SUFFIX:""}function f(a){var e=a.force,f=a.getCache,g=a.isWorker;return!e&&!d("EBSMGating").isPersistedEBTableEnabled()?(i||(i=b("Promise"))).resolve():(i||(i=b("Promise"))).resolve().then(function(){if(q==null||!f){c("QPLUserFlow").start(c("qpl")._(521471732,"1454"),{annotations:{bool:{is_worker:g}}});(h||(h=d("ODS"))).bumpEntityKey(c("MWEBODSCategory"),c("MWEBODSEntityName.enum").MW_EBSM_IDB+t(g),c("MWEBODSEntityKey.enum").START);void d("MAWLoggerDeferred").LOG(p());var a=c("gkx")("11709")&&g?d("MAWIndexedDbMetadata").EBSM_WORKER_DB_PREFIX:"",e=indexedDB.open(d("MAWIndexedDbMetadata").ebLSDBName(a+d("MAWCurrentUser").getID()),c("EBSMProperties").dbVersion);return new(i||(i=b("Promise")))(function(a,p){e.onerror=function(a){c("QPLUserFlow").endFailure(c("qpl")._(521471732,"1454"),"EB state idb initialization failed"),void d("MAWLoggerDeferred").ERROR(o()),c("QPLUserFlow").endFailure(c("qpl")._(521477507,"1406"),"Initialisation failed. Reached onerror."),c("FBLogger")("labyrinth_web").catching(a).mustfix("[labyrinth_web] EBSM idb init failed: %s",a),(h||(h=d("ODS"))).bumpEntityKey(c("MWEBODSCategory"),c("MWEBODSEntityName.enum").MW_EBSM_IDB+t(g),c("MWEBODSEntityKey.enum").FAIL),p(a)},e.onblocked=function(){void d("MAWLoggerDeferred").LOG(n()),(h||(h=d("ODS"))).bumpEntityKey(c("MWEBODSCategory"),c("MWEBODSEntityName.enum").MW_EBSM_IDB+t(g),"blocked")},e.onsuccess=function(b){var e=b.target.result;void d("MAWLoggerDeferred").LOG(m());e.onversionchange=function(){void d("MAWLoggerDeferred").LOG(l()),e.close()};f&&(q=e);return s.then(function(){c("QPLUserFlow").endSuccess(c("qpl")._(521471732,"1454")),(h||(h=d("ODS"))).bumpEntityKey(c("MWEBODSCategory"),c("MWEBODSEntityName.enum").MW_EBSM_IDB+t(g),c("MWEBODSEntityKey.enum").SUCCESS),a(e)})["catch"](function(b){void d("MAWLoggerDeferred").ERROR(k(),b.message),c("QPLUserFlow").endFailure(c("qpl")._(521471732,"1454"),"EB state idb upgrade failed"),(h||(h=d("ODS"))).bumpEntityKey(c("MWEBODSCategory"),c("MWEBODSEntityName.enum").MW_EBSM_IDB+t(g),"upgrade.fail"),h.bumpEntityKey(c("MWEBODSCategory"),c("MWEBODSEntityName.enum").MW_EBSM_IDB+t(g),c("MWEBODSEntityKey.enum").FAIL),a(null)})},e.onupgradeneeded=function(a){var e=a.target.result;a=new(i||(i=b("Promise")))(function(a,b){setTimeout(function(){b(c("err")("EBSM upgrade timeout"))},r)});var f=new i(function(a){c("QPLUserFlow").addPoint(c("qpl")._(521471732,"1454"),"eb_state_idb_upgrade_start",{data:{bool:{eb_state_upgrade:!0}}});void d("MAWLoggerDeferred").LOG(j());for(var b of Object.keys(d("LSMetadata").schema.tableNames))c("EBSMProperties").persistedTables.has(b)&&!e.objectStoreNames.contains(b)&&e.createObjectStore(b,{autoIncrement:!0});c("QPLUserFlow").addPoint(c("qpl")._(521471732,"1454"),"eb_state_idb_upgrade_end",{data:{bool:{eb_state_upgrade:!0}}});a()});s=i.race([f,a])}})}else return q})}function u(a){var b=a.closeDb,d=b===void 0?!0:b;b=a.hasUserGivenAutoRestoreConsent;var e=b?["secure_encrypted_backups_epochs","secure_encrypted_backups_client_state"]:[];c("gkx")("5229")&&e.push("auto_restore_opt_out");a=Array.from(c("EBSMProperties").persistedTables).filter(function(a){return!e.includes(a)});try{if(q!=null){var f=q.transaction(a,"readwrite");a.forEach(function(a){a=f.objectStore(a);a.clear()});f.oncomplete=function(){d&&f.db.close()}}}catch(a){c("recoverableViolation")(a,"labyrinth_web")}}function v(a){var b;b=d("MAWIndexedDbMetadata").ebLSDBName(((b=a)!=null?b:"")+d("MAWCurrentUser").getID());(h||(h=d("ODS"))).bumpEntityKey(c("MWEBODSCategory"),c("MWEBODSEntityName.enum").MW_EBSM_IDB+t(a===d("MAWIndexedDbMetadata").EBSM_WORKER_DB_PREFIX),"deletion");return d("MAWIndexedDBDeletion").deleteDB(b,"ebsm")}function w(a){if(q!=null){var e=q.transaction([a],"readwrite"),f=e.objectStore(a);f.clear();e.oncomplete=function(){e.db.close()};(h||(h=d("ODS"))).bumpEntityKey(c("MWEBODSCategory"),c("MWEBODSEntityName.enum").MW_EBSM_IDB_TABLE_DELETION+t(e.db.name.includes(d("MAWIndexedDbMetadata").EBSM_WORKER_DB_PREFIX)),a)}return(i||(i=b("Promise"))).resolve()}g.getEBLSDB=a;g.isDBBeingUpgraded=e;g.makeEBIDB=f;g.clearEBIDBNonPersistedRows=u;g.deleteEBIDB=v;g.clearEBSMTable=w}),98);
__d("MAWKeychainUtil",[],(function(a,b,c,d,e,f){"use strict";function a(a){return self.crypto.getRandomValues(new Uint8Array(a))}function b(a){var b=a.reduce(function(a,b){return a+b.byteLength},0),c=new Uint8Array(b);a.reduce(function(a,b){c.set(new Uint8Array(b),a);return a+b.byteLength},0);return c.buffer}function c(a,b){return new Uint8Array([a,b]).buffer}function d(a){var b=a.length;if(b>0&&b%2===0&&/^[\da-f]+$/gi.test(a)){var c=[];for(var d=0,b=b/2;d<b;++d){var e=parseInt(a.substring(d*2,d*2+2),16);c.push(e)}return new Uint8Array(c)}else return null}f.getBufferWithRandomValuesFromLength=a;f.mergeBuffers=b;f.makeAAD=c;f.fromHexString=d}),66);
__d("MAWSubtleCrypto",[],(function(a,b,c,d,e,f){a=self.crypto;b=a&&(a.subtle||a.webkitSubtle||a.subtle);f.MAWSubtleCrypto=b}),66);
__d("MAWWebInitDataHelpers",["FBLogger","MessengerWebInitData"],(function(a,b,c,d,e,f,g){"use strict";function a(){return 2}function b(a){switch(a){case 2:return[c("MessengerWebInitData").accountKeyV2];case 1:return[c("MessengerWebInitData").accountKey].concat((a=c("MessengerWebInitData").additionalAccountKeysV1)!=null?a:[]);default:throw c("FBLogger")("messenger_web").mustfixThrow("Invalid format version, should never happen.")}}g.getLastAccountKeyFormatVersion=a;g.getAccountKeysString=b}),98);
__d("MAWKeychainCrypto",["FBLogger","MAWCryptoConsts","MAWKeychainUtil","MAWSubtleCrypto","MAWWebInitDataHelpers","WABase64","memoizeOneWithArgs"],(function(a,b,c,d,e,f,g){"use strict";var h=d("MAWKeychainUtil").makeAAD(d("MAWCryptoConsts").VERSION,d("MAWCryptoConsts").CIPHER_ID);function a(a,b,e){var f=d("MAWKeychainUtil").getBufferWithRandomValuesFromLength(d("MAWCryptoConsts").AES_GCM_IV_LENGTH_IN_BYTES),g=e?e:h;return d("MAWSubtleCrypto").MAWSubtleCrypto.encrypt({additionalData:g,iv:new Uint8Array(f),name:d("MAWCryptoConsts").AES_GCM,tagLength:d("MAWCryptoConsts").AES_GCM_TAG_LENGTH},a,b).then(function(a){a=d("MAWKeychainUtil").mergeBuffers([g,f,a]);return d("WABase64").encodeB64(a)}).catch(function(b){throw c("FBLogger")("messenger_web").catching(b).mustfixThrow("Failed to encryptDataToStringBuffer",typeof a,a.constructor.name)})}async function b(a,b){var c;b=new Uint8Array(d("WABase64").decodeB64(b));var e=b.subarray(0,(c=d("MAWCryptoConsts")).ADDITIONAL_DATA_LENGTH_IN_BYTES),f=b.subarray(c.ADDITIONAL_DATA_LENGTH_IN_BYTES,c.AES_GCM_IV_LENGTH_IN_BYTES+c.ADDITIONAL_DATA_LENGTH_IN_BYTES);b=b.subarray(c.AES_GCM_IV_LENGTH_IN_BYTES+c.ADDITIONAL_DATA_LENGTH_IN_BYTES);e=await d("MAWSubtleCrypto").MAWSubtleCrypto.decrypt({additionalData:e,iv:f,name:c.AES_GCM,tagLength:c.AES_GCM_TAG_LENGTH},a,b);return e}function i(a){a=d("MAWWebInitDataHelpers").getAccountKeysString(a);return a.map(function(a){var b=d("MAWKeychainUtil").fromHexString(a);if(b==null)throw c("FBLogger")("messenger_web").mustfixThrow("Invalid value for account key. Is empty="+String(a.length===0)+";");return b.buffer})}function j(a){return Promise.all(i(a).map(function(a){return d("MAWSubtleCrypto").MAWSubtleCrypto.importKey("raw",a,{name:d("MAWCryptoConsts").AES_GCM},!1,["encrypt","decrypt"])}))}function e(){return d("WABase64").encodeB64(d("MAWKeychainUtil").getBufferWithRandomValuesFromLength(d("MAWCryptoConsts").HKDF_SEED_LENGTH_IN_BYTES))}async function f(a){a=d("WABase64").decodeB64(a);try{a=await d("MAWSubtleCrypto").MAWSubtleCrypto.importKey("raw",a,{name:d("MAWCryptoConsts").HKDF},!1,["deriveKey"]);return a}catch(a){c("FBLogger")("messenger_web").catching(a).mustfix("Failed to importBrowserEncryptionKey");throw a}}function k(){return d("MAWKeychainUtil").getBufferWithRandomValuesFromLength(d("MAWCryptoConsts").HKDF_SEED_LENGTH_IN_BYTES)}function l(a,b){var c;return d("MAWSubtleCrypto").MAWSubtleCrypto.deriveKey({hash:{name:(c=d("MAWCryptoConsts")).SHA256},info:c.HKDF_INFO,name:c.HKDF,salt:b},a,{length:c.AES_GCM_KEY_LENGTH,name:c.AES_GCM},!0,["encrypt","decrypt"]).then(function(a){return d("MAWSubtleCrypto").MAWSubtleCrypto.exportKey("raw",a)})}function m(a){var b=a.slice(0,d("MAWCryptoConsts").ADDITIONAL_DATA_LENGTH_IN_BYTES);b=new DataView(b).getUint8(0);if(b===0){var c,e=a.slice((c=d("MAWCryptoConsts")).ADDITIONAL_DATA_LENGTH_IN_BYTES,c.ADDITIONAL_DATA_LENGTH_IN_BYTES*2);return{aadLengthInBytes:c.ADDITIONAL_DATA_LENGTH_IN_BYTES*2+c.EXTRA_ADDITIONAL_DATA_LENGTH_IN_BYTES,keyVersion:new DataView(e).getUint8(0),originRandomisedVersion:new DataView(a).getUint32(c.ADDITIONAL_DATA_LENGTH_IN_BYTES*2,!0)}}return{aadLengthInBytes:d("MAWCryptoConsts").ADDITIONAL_DATA_LENGTH_IN_BYTES,keyVersion:b}}function n(a){return m(a)}var o=c("memoizeOneWithArgs")(function(a){return j(a)});async function p(a){a=d("WABase64").decodeB64(a);a=await d("MAWSubtleCrypto").MAWSubtleCrypto.digest(d("MAWCryptoConsts").SHA256,a);return d("WABase64").encodeB64(a)}g.ADDITIONAL_DATA=h;g.encryptDataToStringBuffer=a;g.decryptDataToArrayBuffer=b;g.getAccountKeysBuffers=i;g.genAccountKeys=j;g.genBrowserEncryptionKeyString=e;g.importBrowserEncryptionKey=f;g.genDatabaseEncryptionSeed=k;g.genDatabaseEncryptionKey=l;g.getKeyVersionFromCipherData=m;g.getKeyVersionFromCipherDataString=n;g.getAccountKeys=o;g.generateHashString=p}),98);
__d("MAWKeychain",["MWEARKeychainV3"],(function(a,b,c,d,e,f,g){"use strict";a={getDbEncryptionKey:d("MWEARKeychainV3").getDbEncryptionKey,getLatestVersion:d("MWEARKeychainV3").getLatestVersion,init:d("MWEARKeychainV3").init};g["default"]=a}),98);
__d("MAWKeychainNaClCrypto",["MAWKeychainCrypto","WABase64","tweetnacl"],(function(a,b,c,d,e,f,g){"use strict";var h=function(b){babelHelpers.inheritsLoose(a,b);function a(a){var c;c=b.call(this,a)||this;c.name="EARError";c.message=a;return c}return a}(babelHelpers.wrapNativeSuper(Error));function i(a,b,c){c=new Uint8Array(c);var e=d("tweetnacl").randomBytes(d("tweetnacl").secretbox.nonceLength);b=d("tweetnacl").secretbox(b,e,new Uint8Array(a));a=new Uint8Array(c.length+e.length+b.length);a.set(c);a.set(e,c.length);a.set(b,c.length+e.length);return a.buffer}function j(a,b,c){return d("WABase64").encodeB64(i(a,b,c!=null?c:d("MAWKeychainCrypto").ADDITIONAL_DATA))}function k(a,b,c,e,f){b.slice(0,f);var g=b.slice(f,f+d("tweetnacl").secretbox.nonceLength);b=b.slice(f+d("tweetnacl").secretbox.nonceLength);f=d("tweetnacl").secretbox.open(new Uint8Array(b),new Uint8Array(g),new Uint8Array(a));if(f==null){throw new h("decryptTweetNaCl was unable to decrypt an entity. Attempting to use key version : "+((b=c)!=null?b:"non-provided")+". Format version "+((g=e)!=null?g:"unknown")+".")}return f}function l(a,b,c,e){return k(a,d("WABase64").decodeB64(b),c,void 0,e)}function a(a,b,c){return j(a,b,c)}function b(a,b,c,d){return l(a,b,c,d)}function c(a,b,c,d,e){return k(a,b,c,d,e)}g.EARDecryptionError=h;g.encryptTweetNaClArrayBuffer=i;g.encryptTweetNaCl=j;g.decryptTweetNaClArrayBuffer=k;g.decryptTweetNaCl=l;g.encrypt=a;g.decrypt=b;g.decryptArrayBuffer=c}),98);
__d("MAWLSDBEncryption",["FBLogger","I64","LSPlatformErrorChannel","MAWCryptoConsts","MAWKeychainCrypto","MAWKeychainNaClCrypto","MAWKeychainUtil","MWEARKeychainV3","QPLUserFlow","nullthrows","qpl"],(function(a,b,c,d,e,f,g){"use strict";var h,i=typeof window!=="undefined"?window:self,j="EBSMDecryptionFailure",k=function(b){babelHelpers.inheritsLoose(a,b);function a(a,c){var d;a=a+" - Encrypted Restore was unable to decrypt an entity for table "+c;d=b.call(this,a)||this;d.message=a;d.name=j;d.tableName=c;return d}var c=a.prototype;c.getTableName=function(){return this.tableName};return a}(babelHelpers.wrapNativeSuper(Error));function l(a){a=atob(a);var b=a.length,c=new Uint8Array(b);for(var d=0;d<b;d++)c[d]=a.charCodeAt(d);return c.buffer}function m(a){var b="";a=new Uint8Array(a);var c=a.byteLength;for(var d=0;d<c;d++)b+=String.fromCharCode(a[d]);return i.btoa(b)}function n(a){return c("nullthrows")(JSON.stringify(a,function(a,b){if((h||(h=d("I64"))).isI64(b))return{type:"64",value:[b[0],b[1]]};else if(a===""||b===null||typeof b==="string"||typeof b==="number"||typeof b==="boolean"||Array.isArray(b))return b;else if(b===void 0)return{type:"u"};else if(b instanceof ArrayBuffer)return{type:"ab",value:m(b)};else if(b instanceof Uint8Array)return{l:b.byteLength,o:b.byteOffset,type:"ui8",value:m(b.buffer)};else if(b instanceof Map)return{e:n(Array.from(b.entries())),type:"m"};else if(b instanceof Set)return{type:"s",v:n(Array.from(b.values()))};else if(typeof b==="object")return{type:"o",value:n(b)};throw c("FBLogger")("maw_ear").mustfixThrow('Value not supported when stringifying "%s"',b.toString())}))}function o(a){return JSON.parse(a,function(a,b){if(a===""||b===null||typeof b==="string"||typeof b==="number"||typeof b==="boolean"||Array.isArray(b))return b;else if(typeof b==="object")if(b.type==="64")return(h||(h=d("I64"))).mk(b.value[1],b.value[0]);else if(b.type==="u")return void 0;else if(b.type==="ab")return l(b.value);else if(b.type==="ui8")return new Uint8Array(l(b.value),b.o,b.l);else if(b.type==="o")return o(b.value);else if(b.type==="m")return new Map(o(b.e));else if(b.type==="s")return new Set(o(b.v));throw c("FBLogger")("maw_ear").mustfixThrow('Value not supported when parsing "%s"',b.toString())})}function a(a,b){try{var e=d("MWEARKeychainV3").getDbEncryptionKey("global_ear"),f=e.keys;f=f[0];e=e.version;e=d("MAWKeychainUtil").makeAAD(e,d("MAWCryptoConsts").CIPHER_ID);return p(f,c("nullthrows")(n(a)),e)}catch(a){throw c("FBLogger")("messenger_web").mustfixThrow(a.message+" - Encrypted LSDB was unable to encrypt an entity for table "+b)}}function b(a,b){try{var e=d("MAWKeychainCrypto").getKeyVersionFromCipherData(a),f=e.aadLengthInBytes;e=e.keyVersion;var g=d("MWEARKeychainV3").getDbEncryptionKey("global_ear",e),h=g.dbEntry;g=g.keys;g=g[0];g=q(g,a,e,h.formatVersion,f);return c("nullthrows")(o(g))}catch(a){c("QPLUserFlow").addPoint(c("qpl")._(521481876,"1407"),"EBSM_HYDRATION_DECRYPTION_FAILURE_ON_"+b.toUpperCase());c("LSPlatformErrorChannel").emit(new k(a.message,b));throw new k(a.message,b)}}function p(a,b,c){b=new TextEncoder().encode(b).buffer;return d("MAWKeychainNaClCrypto").encryptTweetNaClArrayBuffer(a,new Uint8Array(b),c)}function q(a,b,c,e,f){a=d("MAWKeychainNaClCrypto").decryptTweetNaClArrayBuffer(a,b,c,e,f);return new TextDecoder().decode(a)}g.ERROR_NAME=j;g.EBSMDecryptionFailure=k;g.stringify=n;g.parse=o;g.encryptLSDBObj=a;g.decryptLSDBObj=b}),98);
__d("MAWVaultMaterialsStorageStatus",[],(function(a,b,c,d,e,f){"use strict";var g=!1;function a(){return g}function b(){g=!0}f.isCurrentContextHoldingLock=a;f.setIsCurrentContextHoldingLock=b}),66);
__d("MAWVault",["ExecutionEnvironment","FBLogger","MAWKeychainCrypto","MAWKeychainNaClCrypto","MAWVaultMaterials","MAWVaultMaterialsStorageStatus","err","gkx","hasMultipleTabs","promiseDone","shouldUseMAWSharedWorker"],(function(a,b,c,d,e,f,g){"use strict";var h,i=new Map(),j=new Map();function k(a){return new RegExp("^[0-9]{10}##[0-9]{10}.*[0-9]{10}##[0-9]{10}$").test(a)}var l=c("gkx")("23909");function m(a){if(!l)return!1;var b=d("MAWVaultMaterials").getVaultPrefixAndSuffix();b=b==null?!1:new RegExp(b+".*"+b).test(a);return b}function n(a,b){b===void 0&&(b=!1);if(!l)return a;if(m(a)){var e=d("MAWVaultMaterials").getVaultMaterials(),f=e.encryptionKey;e=e.prefixAndSuffix;if(e==null)throw c("FBLogger")("messenger_web").mustfixThrow("Vault prefix and suffix should not be null when unvaulting");var g=new RegExp(e+"(.*)"+e);g=a.match(g);if(g==null||g.length!=2)throw c("FBLogger")("messenger_web").mustfixThrow("Could not retrieve inner value to unvault");if(f==null)throw c("FBLogger")("messenger_web").mustfixThrow("Vault encryption key was null before unvault");g=g[1];e=""+e+g+e;var i=p(f,g);return a.replace(e,function(){return i})}if(k(a))if(b)throw c("FBLogger")("messenger_web").mustfixThrow("Encountered vaulted value with incorrect key.");else{var j=c("err")("Encountered vaulted value with incorrect key");c("promiseDone")(d("hasMultipleTabs").hasMultipleTabs().then(function(a){c("FBLogger")("messenger_web").catching(j).mustfix("Encountered vaulted value with incorrect key. Vault material source: %s, environment: %s, hasMultipleTabs: %s, isSharedWorker: %s, isCurrentContextHoldingLock: %s",d("MAWVaultMaterials").getVaultMaterialsSource(),(h||(h=c("ExecutionEnvironment"))).isInMainThread?"main":"worker",a==null?"unknown_multi_tab":a?"multi_tab":"single_tab",d("shouldUseMAWSharedWorker").shouldUseMAWSharedWorker()?"shared_worker":"dedicated_worker",d("MAWVaultMaterialsStorageStatus").isCurrentContextHoldingLock()?"holding_lock":"not_holding_lock")}))}return a}function a(a){if(a==="")return a;if(!l)return a;if(!(h||(h=c("ExecutionEnvironment"))).isInBrowser)return a;if(!d("MAWVaultMaterials").hasVaultBeenSetup()){c("FBLogger")("messenger_web").mustfix("Attempted to vault value while materials were not setup");return a}if(m(a)){c("FBLogger")("messenger_web").warn("Attempted to vault value that's already been vaulted");return a}k(a)&&c("FBLogger")("messenger_web").mustfix("Attempted to vault value that's already been vaulted with a different key");var b=d("MAWVaultMaterials").getVaultMaterials(),e=b.encryptionKey;b=b.prefixAndSuffix;if(b==null||e==null)throw c("FBLogger")("messenger_web").mustfixThrow("Cannot vault before vault materials are set");e=o(e,a);return""+b+e+b}function b(a){if(!l)return a;if(!m(a))throw c("FBLogger")("messenger_web").mustfixThrow("Value should be vaulted");return n(a)}function o(a,b){var c=i==null?void 0:i.get(b);if(c!=null)return c;c=new TextEncoder().encode(b).buffer;a=d("MAWKeychainNaClCrypto").encryptTweetNaCl(a,new Uint8Array(c));i==null?void 0:i.set(b,a);j==null?void 0:j.set(a,b);return a}function p(a,b){var c=j==null?void 0:j.get(b);if(c!=null)return c;c=new TextDecoder().decode(d("MAWKeychainNaClCrypto").decryptTweetNaCl(a,b,void 0,d("MAWKeychainCrypto").ADDITIONAL_DATA.byteLength));i==null?void 0:i.set(c,b);j==null?void 0:j.set(b,c);return c}g.isVaulted=m;g.unvault=n;g.vault=a;g.unvaultOrThrow=b}),98);
__d("isObject",[],(function(a,b,c,d,e,f){function a(a){var b=typeof a;return b==="function"||b==="object"&&!!a}f["default"]=a}),66);
__d("isPlainObject",[],(function(a,b,c,d,e,f){"use strict";function a(a){return Object.prototype.toString.call(a)==="[object Object]"}f["default"]=a}),66);
__d("MAWVaultDb",["FBLogger","MAWQplProxy","MAWVault","gkx","isObject","isPlainObject","qpl"],(function(a,b,c,d,e,f,g){"use strict";var h=1/1e3,i=new WeakMap();function j(a,b){return b[a]!=null}var k=c("gkx")("23909");function a(a,b,e){if(!c("isPlainObject")(a)||!k||!j(b,e)||a==null)return a;var f=i.get(a);if(f!=null)return f;f=Math.random()<h?d("MAWQplProxy").startQplUserFlow(c("qpl")._(25301509,"119")):null;try{e=e[b];e=l(a,e,d("MAWVault").vault);f==null?void 0:f.endSuccess();i.set(a,e);return e}catch(a){f==null?void 0:f.endFail("vault_fail");throw c("FBLogger")("messenger_web").mustfixThrow(a.message+" - Failed to vault an entity in the table: "+b)}}function b(a,b,e){if(!c("isPlainObject")(a)||!k||!j(b,e)||a==null)return a;var f=Math.random()<h?d("MAWQplProxy").startQplUserFlow(c("qpl")._(741087294,"2028")):null;try{a=l(a,e[b],d("MAWVault").unvault);f==null?void 0:f.endSuccess();return a}catch(a){f==null?void 0:f.endFail("unvault_fail");throw c("FBLogger")("messenger_web").mustfixThrow(a.message+" - Unvaulting failed for an entity in the table: "+b)}}function l(a,b,d){if(a==null)return a;b=Object.entries(b).filter(function(b){b=b[0];return a[b]!=null});return b.length===0?a:b.reduce(function(a,b){var e=b[0];b=b[1];typeof b!=="boolean"&&c("isObject")(b)?a[e]=l(a[e],b,d):b===!0&&(a[e]=d(a[e]));return a},babelHelpers["extends"]({},a))}g.vaultDbRow=a;g.unvaultDbRow=b;g.setInPath=l}),98);
__d("MAWVaultDefinitions",[],(function(a,b,c,d,e,f){"use strict";a={editMsgHistory:{msgContent:{content:!0}},messages:{msgContent:{content:!0},quote:{content:{msgContent:{content:!0}}}},unrenderedMessages:{msgContent:!0}};b={edit_message_history:{messageContent:!0},messages:{replyMessageText:!0,text:!0},threads:{snippet:!0}};f.ARMADILLO_IDB_VAULT_DEFINITIONS=a;f.PERSISTED_DB_VAULT_DEFINITIONS=b}),66);
__d("MAWVerifyThreadCutoverDeferred",["requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";a=c("requireDeferred")("MAWVerifyThreadCutover").__setRef("MAWVerifyThreadCutoverDeferred");g["default"]=a}),98);
__d("MWEBUseLocalStorage",["WALogger","WebStorage","getMWEncryptedBackupsIsLocalStorageSupported"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["[labyrinth_web] Encrypted Backups key "," written to local storage"]);i=function(){return a};return a}function a(a,b){a=a;b=(b=b)!=null?b:"true";if(d("getMWEncryptedBackupsIsLocalStorageSupported").getMWEncryptedBackupsIsLocalStorageSupported()){var e;d("WALogger").LOG(i(),a);(e=(h||(h=c("WebStorage"))).getLocalStorage())==null?void 0:e.setItem(a,b)}}function b(a){a=a;if(d("getMWEncryptedBackupsIsLocalStorageSupported").getMWEncryptedBackupsIsLocalStorageSupported()){var b;(b=(h||(h=c("WebStorage"))).getLocalStorage())==null?void 0:b.removeItem(a)}}function e(a){if(d("getMWEncryptedBackupsIsLocalStorageSupported").getMWEncryptedBackupsIsLocalStorageSupported()){var b;a=a;return(b=(h||(h=c("WebStorage"))).getLocalStorageForRead())==null?void 0:b.getItem(a)}return null}function f(a){if(d("getMWEncryptedBackupsIsLocalStorageSupported").getMWEncryptedBackupsIsLocalStorageSupported()){var b;a=a;return((b=(h||(h=c("WebStorage"))).getLocalStorageForRead())==null?void 0:b.getItem(a))!=null}return!0}g.mwEBCreateLocalStorageEntry=a;g.mwEBDeleteLocalStorageEntry=b;g.mwEBGetLocalStorageEntryValue=e;g.mwEBGetIsLocalStorageEntryValuePresent=f}),98);
__d("MWEncryptedBackupsFirstRestoreUpsellTime",["EBAPIWorkerCheck","FBLogger","WebStorage","getMWEncryptedBackupsIsLocalStorageSupported"],(function(a,b,c,d,e,f,g){"use strict";var h,i="mw_encrypted_backups_restore_upsell_first_impression_time_key";function a(){var a=Date.now().toString();if(d("EBAPIWorkerCheck").runningInWorker())return k(a);if(!d("getMWEncryptedBackupsIsLocalStorageSupported").getMWEncryptedBackupsIsLocalStorageSupported())return a;try{var b;b=(b=(h||(h=c("WebStorage"))).getLocalStorage())==null?void 0:b.getItem(i);if(b==null){var e;(e=(h||(h=c("WebStorage"))).getLocalStorage())==null?void 0:e.setItem(i,a);return a}return b}catch(b){c("FBLogger")("labyrinth_web").warn("[labyrinth][web] Failed to set EB session identifier due to %s",b);return a}}var j=null;function k(a){j==null&&(j=a);return j}g.getFirstRestoreUpsellTime=a;g.getFirstRestoreUpsellTimeForEBLS=k}),98);
__d("MWSetupDBEncryption",["BrowserLockManager","ExecutionEnvironment","FBLogger","MAWEncryptionIndexedDbV2","MAWKeychain","MWEARKeychainV3","WAResultOrError","getErrorSafe","justknobx","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i=function(a,b){return b()};function a(a){i=a}var j="mw_ear_db";async function k(a){try{await d("MAWEncryptionIndexedDbV2").makeEncryptionDB(a);return await i("init_setup_keychain",function(){return c("MAWKeychain").init("global_ear",a)})}catch(e){var b=e instanceof Error?e:c("getErrorSafe")(e);c("FBLogger")("messenger_web").catching(b).mustfix("[%s] EAR setup error",String(a));return d("WAResultOrError").DEPRECATED_makeError("keychain-setup-failure",b)}}function l(a){if(d("MAWEncryptionIndexedDbV2").getEncryptionDB()!=null&&d("MWEARKeychainV3").isKeychainInitialised("global_ear"))return Promise.resolve(d("WAResultOrError").makeResult(d("MWEARKeychainV3").getLatestVersion("global_ear")));if(c("BrowserLockManager")!=null)return new Promise(function(b,d){c("promiseDone")(c("BrowserLockManager").request(j,async function(){try{var c=await k(a);b(c)}catch(a){d(a)}}),function(a){},function(a){d(a)})});else return k(a)}function b(a,b){b===void 0&&(b=function(a){return!0});var c=null;return function(d){c==null&&(c=a(d).then(function(a){c=b(a)?Promise.resolve(a):null;return a}).catch(function(a){c=null;throw a}));return c}}e=b(function(a){return l(a)},function(a){return(a==null?void 0:a.success)===!0});f=c("justknobx")._("2804")||(h||(h=c("ExecutionEnvironment"))).isInWorker?e:l;g.setPerformanceMeasurementTool=a;g.init=f}),98);
__d("makeImmutable",[],(function(a,b,c,d,e,f){"use strict";function a(a){throw new Error("This empty "+((a=a)!=null?a:"Object")+" cannot be mutated.")}function b(a,b){return a}f["default"]=b}),66);
__d("emptyArray",["makeImmutable"],(function(a,b,c,d,e,f,g){"use strict";a=c("makeImmutable")([],["copyWithin","fill","pop","push","reverse","shift","sort","splice","unshift"]);b=a;g["default"]=b}),98);/*FB_PKG_DELIM*/
__d("ArrowLeftOutline24.svg.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs("svg",babelHelpers["extends"]({viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"currentColor"},a,{children:[a.title!=null&&i.jsx("title",{children:a.title}),a.children!=null&&i.jsx("defs",{children:a.children}),i.jsx("g",{fillRule:"evenodd",transform:"translate(-444 -204)",children:i.jsxs("g",{fillRule:"nonzero",children:[i.jsx("path",{d:"M99.78 56.78a.75.75 0 0 0-1.06-1.06l-6.25 6.25a.75.75 0 0 0 0 1.06l6.25 6.25a.75.75 0 0 0 1.06-1.06l-5.72-5.72 5.72-5.72z",transform:"translate(355 153.5)"}),i.jsx("path",{d:"M109 61.75H93.625a.75.75 0 1 0 0 1.5H109a.75.75 0 1 0 0-1.5z",transform:"translate(355 153.5)"})]})})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;b=a;g["default"]=b}),98);
__d("BaseMenuFocusGroup",["fbt","CometComponentWithKeyCommands.react","CometKeys","FocusGroup.react","focusScopeQueries","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");b=d("FocusGroup.react").createFocusGroup(d("focusScopeQueries").tabbableScopeQuery);var k=b[0];e=b[1];function a(a){var b=d("react-compiler-runtime").c(3),e;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e=[{command:{key:c("CometKeys").UP},description:h._(/*BTDS*/"Previous item"),handler:m},{command:{key:c("CometKeys").DOWN},description:h._(/*BTDS*/"Next item"),handler:l}],b[0]=e):e=b[0];e=e;b[1]!==a?(e=j.jsx(c("CometComponentWithKeyCommands.react"),{commandConfigs:e,children:j.jsx(k,babelHelpers["extends"]({},a))}),b[1]=a,b[2]=e):e=b[2];return e}function l(){}function m(){}f={FocusGroup:a,FocusItem:e};g["default"]=f}),226);
__d("CometFocusGroupFirstLetterNavigation",["isStringNullOrEmpty","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useEffect,j=b.useState,k=function(a){return a.slice(0,1).toLowerCase()};function a(a){var b=d("react-compiler-runtime").c(4),e=j(void 0),f=e[0],g=e[1];if(b[0]!==(a==null?void 0:(e=a.current)==null?void 0:e.innerText)){var h;e=function(){var b;b=a==null?void 0:(b=a.current)==null?void 0:b.innerText;c("isStringNullOrEmpty")(b)||g(k(b))};b[0]=a==null?void 0:(h=a.current)==null?void 0:h.innerText;b[1]=e}else e=b[1];b[2]!==a?(h=[a],b[2]=a,b[3]=h):h=b[3];i(e,h);return f}e=function(a){if(a.type==="PRINT_CHAR"){a.event.stopPropagation();var b=a.event.key.toLowerCase();b=a.getItemByTag(b);b!=null&&a.focusItem(b)}};g.useFirstLetterNavigationTag=a;g.handleFirstLetterNavigation=e}),98);
__d("FDSMenuFocusRegion.react",["BaseMenuFocusGroup","CometFocusGroupFirstLetterNavigation","FocusRegion.react","focusScopeQueries","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(5),e=a.items;a=a.role;a=a==="menu"?d("focusScopeQueries").tabbableScopeQuery:null;var f;b[0]!==e?(f=i.jsx(c("BaseMenuFocusGroup").FocusGroup,{onNavigate:d("CometFocusGroupFirstLetterNavigation").handleFirstLetterNavigation,orientation:"vertical",preventScrollOnFocus:!1,tabScopeQuery:d("focusScopeQueries").tabbableScopeQuery,wrap:!0,children:e}),b[0]=e,b[1]=f):f=b[1];b[2]!==a||b[3]!==f?(e=i.jsx(d("FocusRegion.react").FocusRegion,{autoFocusQuery:a,children:f}),b[2]=a,b[3]=f,b[4]=e):e=b[4];return e}g["default"]=a}),98);
__d("FDSMenuHeaderListCell.react",["fbt","ArrowLeftOutline24.svg.react","CometListCellStrict_DEPRECATED.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(a){var b=d("react-compiler-runtime").c(8),e;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e=h._(/*BTDS*/"Back"),b[0]=e):e=b[0];var f=a.onPressBack,g;b[1]===Symbol["for"]("react.memo_cache_sentinel")?(g=h._(/*BTDS*/"Back"),b[1]=g):g=b[1];b[2]!==a.onPressBack?(e={"aria-label":e,icon:c("ArrowLeftOutline24.svg.react"),onPress:f,size:24,tooltip:g,type:"icon"},b[2]=a.onPressBack,b[3]=e):e=b[3];b[4]!==a.meta||b[5]!==a.title||b[6]!==e?(f=j.jsx(c("CometListCellStrict_DEPRECATED.react"),{addOnStart:e,addOnStartVerticalAlign:"center",emphasized:!1,headline:a.title,isSemanticHeading:!0,level:3,meta:a.meta,paddingHorizontal:8}),b[4]=a.meta,b[5]=a.title,b[6]=e,b[7]=f):f=b[7];return f}g["default"]=a}),226);
__d("FDSMenuItemBaseRoleContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b=a.createContext(null);g["default"]=b}),98);
__d("FDSSeparatorMenuItem.react",["FDSMenuItemBaseRoleContext","react","react-compiler-runtime","react-strict-dom"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useContext,k={separator:{borderTopColor:"x8cjs6t",borderTopStyle:"x13fuv20",borderTopWidth:"x178xt8z",marginTop:"x1xaiuri",marginBottom:"x1yaqywo",marginStart:"x1wyjsc1",marginEnd:"xm8kqrv",marginLeft:null,marginRight:null,$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(5),e=a.ref;a=a.xstyle;var f=j(c("FDSMenuItemBaseRoleContext"));f=f==="menuitem"?"separator":"none";var g;b[0]!==a?(g=[k.separator,a],b[0]=a,b[1]=g):g=b[1];b[2]!==f||b[3]!==g?(a=i.jsx(d("react-strict-dom").html.div,{ref:e,role:f,style:g}),b[2]=f,b[3]=g,b[4]=a):a=b[4];return a}g["default"]=a}),98);
__d("FDSMenuBase.react",["BaseContextualLayerAvailableHeightContext","BasePopoverReflowSheetContext","BaseScrollableArea.react","CometErrorBoundary.react","FDSMenuFocusRegion.react","FDSMenuHeaderListCell.react","FDSMenuItemBaseRoleContext","FDSSeparatorMenuItem.react","FDSTextPairing.react","react","react-compiler-runtime","react-strict-dom"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useContext,k=145,l={listItem:{borderTopStartRadius:"x1lcm9me",borderTopEndRadius:"x1yr5g0i",borderBottomEndRadius:"xrt01vj",borderBottomStartRadius:"x10y3i5r",display:"x78zum5",flexDirection:"x1q0g3np",marginStart:"x1i64zmx",marginEnd:"x1emribx",marginLeft:null,marginRight:null,paddingTop:"x12j3hk6",paddingBottom:"x11d8vdq",paddingStart:"x9wwqvz",paddingEnd:"xev2ry7",paddingLeft:null,paddingRight:null,$$css:!0},maxHeight:function(a){return[{maxHeight:a==null?null:"x1kb659o",$$css:!0},{"--maxHeight":function(a){return typeof a==="number"?a+"px":a!=null?a:void 0}(a)}]},maxWidth:function(a){return[{maxWidth:a==null?null:"x10cxd3o",$$css:!0},{"--maxWidth":function(a){return typeof a==="number"?a+"px":a!=null?a:void 0}(a)}]},root:{boxSizing:"x9f619",display:"x78zum5",flexDirection:"xdt5ytf",paddingTop:"x1ten1a2",paddingBottom:"xz7cn9q",paddingStart:"xkhd6sd",paddingEnd:"x4uap5",paddingLeft:null,paddingRight:null,$$css:!0},sizeFull:{marginEnd:"x2xt60n",width:"xh8yej3",$$css:!0},sizeNormal:{width:"x168biu4",$$css:!0},sizeSmall:{width:"xi55695",$$css:!0}},m="menu",n={listbox:"option",menu:"menuitem"};function a(a){var b=d("react-compiler-runtime").c(12),e=a.children,f=a.footer,g=a.header,h=a.maxHeight,p=a.maxHeightOffset,q=a.maxWidth,r=a.role;a=a.size;r=r===void 0?m:r;a=a===void 0?"normal":a;var s=j(c("BasePopoverReflowSheetContext"));s=s.isReflowSheet;var t=j(c("BaseContextualLayerAvailableHeightContext"));t=s?(s=t)!=null?s:0:h;t!=null&&p!=null&&(t=t+p);b[0]!==e?(s=i.Children.toArray(e).map(o),b[0]=e,b[1]=s):s=b[1];h=s;p=n[r];b[2]!==e||b[3]!==f||b[4]!==g||b[5]!==p||b[6]!==h||b[7]!==t||b[8]!==q||b[9]!==r||b[10]!==a?(s=i.Children.count(e)>0?i.jsx(c("BaseScrollableArea.react"),{horizontal:!1,style:{maxHeight:t!=null?Math.max(t,k):void 0,maxWidth:q!=null?q:void 0},vertical:!0,xstyle:[l.root,a==="full"&&l.sizeFull,a==="normal"&&l.sizeNormal,a==="small"&&l.sizeSmall,q!=null&&l.maxWidth(q),t!=null&&l.maxHeight(Math.max(t,k))],children:i.jsxs(c("FDSMenuItemBaseRoleContext").Provider,{value:p,children:[g!=null?i.jsxs(i.Fragment,{children:[g.onPressBack!=null?i.jsx(c("FDSMenuHeaderListCell.react"),babelHelpers["extends"]({},g)):i.jsx(d("react-strict-dom").html.div,{style:[l.listItem],children:i.jsx(c("FDSTextPairing.react"),{body:g.body,headline:g.title,isSemanticHeading:!0,level:3,meta:g.meta,reduceEmphasis:!0})}),i.jsx(c("FDSSeparatorMenuItem.react"),{})]}):null,i.jsx(c("FDSMenuFocusRegion.react"),{items:h,role:r}),f!=null?i.jsxs(i.Fragment,{children:[i.jsx(c("FDSSeparatorMenuItem.react"),{}),i.jsx(d("react-strict-dom").html.div,{style:l.listItem,children:i.jsx(c("FDSTextPairing.react"),{level:3,meta:f.text})})]}):null]})}):null,b[2]=e,b[3]=f,b[4]=g,b[5]=p,b[6]=h,b[7]=t,b[8]=q,b[9]=r,b[10]=a,b[11]=s):s=b[11];return s}function o(a,b){return a==null?null:i.jsx(c("CometErrorBoundary.react"),{children:a},b)}o.displayName=o.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("FDSMenuBaseWithPopover.react",["BaseContextualLayerAvailableHeightContext","BaseMultiPageView.react","BasePopoverReflowSheetContext","FDSMenuBase.react","FDSPopover.react","FDSPopoverLoadingStateContent.react","XPlatReactEnvironment","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useContext,k=15,l="menu";function a(a){var b,e=d("react-compiler-runtime").c(41),f,g,h,m,n,o,p,q,r,s,t,u,v,w,x,y,z;e[0]!==a?(m=a.fallback,u=a.ref,w=a.truncate,p=a.id,h=a.children,r=a.maxHeightOffset,x=a.role,g=a.arrowAlignment,y=a.withArrow,z=a.testid,s=a.maxWidth,q=a.maxHeight,n=a.footer,o=a.header,t=a.onClose,v=a.size,f=babelHelpers.objectWithoutPropertiesLoose(a,["fallback","ref","truncate","id","children","maxHeightOffset","role","arrowAlignment","withArrow","testid","maxWidth","maxHeight","footer","header","onClose","size"]),e[0]=a,e[1]=f,e[2]=g,e[3]=h,e[4]=m,e[5]=n,e[6]=o,e[7]=p,e[8]=q,e[9]=r,e[10]=s,e[11]=t,e[12]=u,e[13]=v,e[14]=w,e[15]=x,e[16]=y,e[17]=z):(f=e[1],g=e[2],h=e[3],m=e[4],n=e[5],o=e[6],p=e[7],q=e[8],r=e[9],s=e[10],t=e[11],u=e[12],v=e[13],w=e[14],x=e[15],y=e[16],z=e[17]);a=w===void 0?!1:w;w=x===void 0?l:x;x=y===void 0?!1:y;y=z===void 0?"comet-menu":z;z=j(c("BasePopoverReflowSheetContext"));z=z.isReflowSheet;var A=j(c("BaseContextualLayerAvailableHeightContext"));x=d("XPlatReactEnvironment").isWeb()?x:!1;x&&A!=null&&(A=A-k);b=Math.min((b=A)!=null?b:Infinity,(b=q)!=null?b:Infinity);if(e[18]!==A||e[19]!==b||e[20]!==q||e[21]!==a){var B;B=d("XPlatReactEnvironment").isWeb()?a?b===Infinity?0:b:q:(B=A)!=null?B:void 0;e[18]=A;e[19]=b;e[20]=q;e[21]=a;e[22]=B}else B=e[22];A=B;if(e[23]!==f||e[24]!==g||e[25]!==h||e[26]!==m||e[27]!==n||e[28]!==o||e[29]!==p||e[30]!==z||e[31]!==r||e[32]!==s||e[33]!==A||e[34]!==t||e[35]!==u||e[36]!==w||e[37]!==v||e[38]!==y||e[39]!==x){q=i.Children.count(h)>0?i.jsx(c("FDSPopover.react"),babelHelpers["extends"]({},f,{arrowAlignment:g,id:p,ref:u,role:w,testid:void 0,withArrow:z?!1:x,children:i.jsx(c("BaseMultiPageView.react"),{disableAutoFocus:!0,disableFocusContainment:!0,fallback:(b=m)!=null?b:i.jsx(c("FDSPopoverLoadingStateContent.react"),{}),children:i.jsx(c("FDSMenuBase.react"),{children:h,footer:n,header:o,maxHeight:A,maxHeightOffset:r,maxWidth:s,onClose:t,role:w,size:z?"full":v})})})):null;e[23]=f;e[24]=g;e[25]=h;e[26]=m;e[27]=n;e[28]=o;e[29]=p;e[30]=z;e[31]=r;e[32]=s;e[33]=A;e[34]=t;e[35]=u;e[36]=w;e[37]=v;e[38]=y;e[39]=x;e[40]=q}else q=e[40];return q}b=i.memo(a);g["default"]=b}),98);
__d("FDSMenu.react",["FDSMenuBaseWithPopover.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(6),e,f;b[0]!==a?(f=a.ref,e=babelHelpers.objectWithoutPropertiesLoose(a,["ref"]),b[0]=a,b[1]=e,b[2]=f):(e=b[1],f=b[2]);b[3]!==e||b[4]!==f?(a=i.jsx(c("FDSMenuBaseWithPopover.react"),babelHelpers["extends"]({},e,{ref:f})),b[3]=e,b[4]=f,b[5]=a):a=b[5];return a}g["default"]=a}),98);
__d("MWXThreadThemeColor",[],(function(a,b,c,d,e,f){"use strict";var g=function(a){this.color=a};function a(a){return new g(a)}f.MWXThreadThemeColor=g;f.mwxThreadThemeColor=a}),66);
__d("useMDSIconColors",["getMDSIconColorCometFallback","react","react-compiler-runtime","useCometIconColors"],(function(a,b,c,d,e,f,g){"use strict";var h;(h||d("react")).useMemo;var i={"mds-accent":"var(--icon-accent-color)","mds-destructive":"var(--icon-destructive-color)","mds-inactive":"var(--icon-inactive-color)","mds-nux":"var(--icon-nux-color)","mds-selected":"var(--icon-selected-color)",primary:"var(--icon-primary-color)",secondary:"var(--icon-secondary-color)",tertiary:"var(--icon-tertiary-color)",white:"var(--icon-white-color)"};function a(a){var b=d("react-compiler-runtime").c(3),e=c("useCometIconColors")(),f;if(b[0]!==e||b[1]!==a){f={};for(var g of Object.entries(e)){var h=g[0],j=g[1];f[h]=j}for(h of Object.entries(i)){j=h[0];g=h[1];f[j]=g}if(!a)for(j of Object.entries(d("getMDSIconColorCometFallback").MDSFallbackTypes)){g=j[0];h=j[1];f[g]=e[h]}b[0]=e;b[1]=a;b[2]=f}else f=b[2];g=f;return g}g["default"]=a}),98);
__d("MWXIconStrict.react",["BaseIsDecorativeContext","BaseSVGIcon.react","MWXThreadThemeColor","gkx","react","react-compiler-runtime","react-strict-dom","useMDSIconColors"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={backgroundEnabledMDS:{alignItems:"x6s0dn4",backgroundColor:"x1qhmfi1",borderTopStartRadius:"xzolkzo",borderTopEndRadius:"x12go9s9",borderBottomEndRadius:"x1rnf11y",borderBottomStartRadius:"xprq8jg",display:"x78zum5",flexDirection:"xdt5ytf",justifyContent:"xl56j7k",$$css:!0},backgroundEnabledMDSDisabled:{backgroundColor:"xwcfey6",$$css:!0},root:{display:"x1lliihq",forcedColorAdjust:"x1tzjh5l",$$css:!0},size:function(a){return[{height:a==null?null:"x1f5funs",minWidth:a==null?null:"x1eqyben",$$css:!0},{"--height":function(a){return typeof a==="number"?a+"px":a!=null?a:void 0}(a),"--minWidth":function(a){return typeof a==="number"?a+"px":a!=null?a:void 0}(a)}]}};function a(a){var b=d("react-compiler-runtime").c(22),e=a.alt,f=a.backgroundEnabled,g=a.color,h=a.icon,k=a.isDecorative;a=a.size;f=f===void 0?!1:f;g=g===void 0?"primary":g;var l=c("useMDSIconColors")(c("gkx")("23219"));l=g instanceof d("MWXThreadThemeColor").MWXThreadThemeColor?g.color:l[g];if(f!==!0){b[0]!==e||b[1]!==l||b[2]!==h.component.component||b[3]!==a?(g=i.jsx(c("BaseSVGIcon.react"),{alt:e,color:l,icon:h.component.component,size:a,xstyle:j.root}),b[0]=e,b[1]=l,b[2]=h.component.component,b[3]=a,b[4]=g):g=b[4];b[5]!==k||b[6]!==g?(f=i.jsx(c("BaseIsDecorativeContext").Provider,{value:k,children:g}),b[5]=k,b[6]=g,b[7]=f):f=b[7];return f}b[8]!==l||b[9]!==a?(g=c("gkx")("23219")?[j.backgroundEnabledMDS,j.size(a),l==="disabled"&&j.backgroundEnabledMDSDisabled]:void 0,b[8]=l,b[9]=a,b[10]=g):g=b[10];f=(c("gkx")("23219")?.75:.5555555555555556)*a;b[11]!==e||b[12]!==l||b[13]!==h.originalComponent.component||b[14]!==f?(a=i.jsx(c("BaseSVGIcon.react"),{alt:e,color:l,icon:h.originalComponent.component,size:f,xstyle:j.root}),b[11]=e,b[12]=l,b[13]=h.originalComponent.component,b[14]=f,b[15]=a):a=b[15];b[16]!==g||b[17]!==a?(e=i.jsx(d("react-strict-dom").html.div,{style:g,children:a}),b[16]=g,b[17]=a,b[18]=e):e=b[18];b[19]!==k||b[20]!==e?(l=i.jsx(c("BaseIsDecorativeContext").Provider,{value:k,children:e}),b[19]=k,b[20]=e,b[21]=l):l=b[21];return l}g["default"]=a}),98);
__d("FDSMenuItemAuxItemIcon",["FDSIcon.react","MWXIconStrict.react","MWXSvgIcon","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(6),e=a.color;a=a.icon;if(a instanceof d("MWXSvgIcon").MWXSvgIcon){var f;b[0]!==e||b[1]!==a?(f=i.jsx(c("MWXIconStrict.react"),{color:e,icon:a,size:20}),b[0]=e,b[1]=a,b[2]=f):f=b[2];return f}b[3]!==e||b[4]!==a?(f=i.jsx(c("FDSIcon.react"),{color:e,icon:a,size:20}),b[3]=e,b[4]=a,b[5]=f):f=b[5];return f}g["default"]=a}),98);
__d("useScrollDefaultItemIntoView",["react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useEffect,j=b.useRef;function a(a){var b=d("react-compiler-runtime").c(4),c=a.autoScrollOnLoad,e=a.pressableElementRef,f=j(c);b[0]!==e.current?(a=function(){var a=e.current;f.current&&a!=null&&(f.current=!1,a.scrollIntoView({block:"nearest"}))},b[0]=e.current,b[1]=a):a=b[1];b[2]!==e?(c=[e],b[2]=e,b[3]=c):c=b[3];i(a,c)}g["default"]=a}),98);
__d("useScrollVisuallyFocusedItemIntoView",["react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useEffect,j=b.useRef;function a(a){var b=d("react-compiler-runtime").c(6),c=a.pressableElementRef,e=a.visuallyFocused,f=j(e);b[0]!==c.current||b[1]!==e?(a=function(){var a=c.current;!f.current&&e&&a!=null&&a.scrollIntoView({block:"nearest"})},b[0]=c.current,b[1]=e,b[2]=a):a=b[2];var g;b[3]!==c||b[4]!==e?(g=[c,e],b[3]=c,b[4]=e,b[5]=g):g=b[5];i(a,g)}g["default"]=a}),98);
__d("FDSMenuItemBase.react",["BaseMenuContext","BaseMenuFocusGroup","BaseNonBreakingSpace.react","CometFocusGroupFirstLetterNavigation","CometPressable.react","FDSMenuItemBaseRoleContext","FDSText.react","FDSTextPairing.react","FDSTextWithIcon.react","XPlatReactEnvironment","mergeRefs","react","react-strict-dom","useScrollDefaultItemIntoView","useScrollVisuallyFocusedItemIntoView"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useCallback,k=b.useContext,l=b.useMemo,m=b.useRef,n={aux:{flexShrink:"x2lah0s",marginStart:"x16n37ib",$$css:!0},content:{alignItems:"x6s0dn4",display:"x78zum5",flexDirection:"x1q0g3np",flexGrow:"x1iyjqo2",justifyContent:"x1qughib",minWidth:"xeuugli",$$css:!0},disabled:{cursor:"x1h6gzvc",$$css:!0},extraHorizontalPadding:{paddingStart:"xurb0ha",paddingEnd:"x1sxyh0",paddingLeft:null,paddingRight:null,$$css:!0},listItem:{alignItems:"x6s0dn4",appearance:"xjyslct",boxSizing:"x9f619",cursor:"x1ypdohk",display:"x78zum5",flexDirection:"x1q0g3np",flexShrink:"x2lah0s",marginTop:"x1i6fsjq",marginBottom:"xfvfia3",marginStart:"xnqzcj9",marginEnd:"x1gh759c",marginLeft:null,marginRight:null,paddingTop:"x10wwi4t",paddingBottom:"x1x7e7qh",paddingStart:"x1344otq",paddingEnd:"x1de53dj",paddingLeft:null,paddingRight:null,position:"x1n2onr6",textAlign:"x16tdsg8",zIndex:"x1ja2u2z",$$css:!0},listItemAlignedCenter:{alignItems:"x6s0dn4",$$css:!0},listItemWithIcon:{paddingTop:"x1y1aw1k",paddingBottom:"xwib8y2",paddingStart:"x1q8cg2c",paddingEnd:"xnjli0",paddingLeft:null,paddingRight:null,$$css:!0},pressableOverlay:{borderTopStartRadius:"x9jk4nr",borderTopEndRadius:"x10vv0rk",borderBottomEndRadius:"x1mn05ot",borderBottomStartRadius:"x4u6ece",$$css:!0}};function a(a){var b=a.download,e=a.href,f=a.iconNode,g=a.overlayRadius;g=g===void 0?d("XPlatReactEnvironment").isWeb()?void 0:4:g;var h=a.ref,o=a.routeTarget,p=a.target,q=a.traceParams,r=a.alignCenter;r=r===void 0?!1:r;var s=a.autoScrollOnLoad;s=s===void 0?!1:s;var t=a.aux,u=a.badge,v=a.bodyColor,w=a.bodyText,x=a.disabled;x=x===void 0?!1:x;var y=a.focusRingPosition,z=a.id,A=a.isIconAnImage,B=a.onClick,C=a.onFocusIn,D=a.onFocusOut,E=a.onHoverIn,F=a.onHoverOut,G=a.onPressIn,H=a.passthroughProps,I=a.prefetchQueriesOnHover,J=a.preventClosingMenuOnSelect;J=J===void 0?!1:J;var K=a.preventLocalNavigation,L=a.primaryColor,M=a.primaryColor_DEPRECATED,N=a.primaryText,O=a.role,P=a.secondaryColor,Q=a.secondaryText,R=a.testid;R=a.visuallyFocused;R=R===void 0?!1:R;a=babelHelpers.objectWithoutPropertiesLoose(a,["download","href","iconNode","overlayRadius","ref","routeTarget","target","traceParams","alignCenter","autoScrollOnLoad","aux","badge","bodyColor","bodyText","disabled","focusRingPosition","id","isIconAnImage","onClick","onFocusIn","onFocusOut","onHoverIn","onHoverOut","onPressIn","passthroughProps","prefetchQueriesOnHover","preventClosingMenuOnSelect","preventLocalNavigation","primaryColor","primaryColor_DEPRECATED","primaryText","role","secondaryColor","secondaryText","testid","visuallyFocused"]);L=L||M;var S=m(null);M=k(c("BaseMenuContext"));var T=J!==!0&&M?M.onClose:null;J=e!=null||o!=null||p!=null?{download:b,passthroughProps:H,prefetchQueriesOnHover:I,preventLocalNavigation:K,routeTarget:o,target:p,traceParams:q,url:e}:void 0;M=j(function(a){T!=null&&T(),B&&B(a)},[B,T]);b=k(c("FDSMenuItemBaseRoleContext"));K=(I=(H=O)!=null?H:b)!=null?I:void 0;c("useScrollDefaultItemIntoView")({autoScrollOnLoad:s,pressableElementRef:S});c("useScrollVisuallyFocusedItemIntoView")({pressableElementRef:S,visuallyFocused:R});o=m(null);p=d("CometFocusGroupFirstLetterNavigation").useFirstLetterNavigationTag(o);q=l(function(){return c("mergeRefs")(h,S)},[h]);e=u!=null?typeof u==="number"?i.jsxs(i.Fragment,{children:[N,i.jsx(c("BaseNonBreakingSpace.react"),{size:.5}),i.jsx(c("FDSText.react"),{color:x?"disabled":L,type:"body4",children:u})]}):i.jsx(c("FDSTextWithIcon.react"),{iconAfter:u,children:N}):N;return i.jsx(c("BaseMenuFocusGroup").FocusItem,{disabled:x,tag:p,children:i.jsx(c("CometPressable.react"),babelHelpers["extends"]({},a,{disabled:x,display:d("XPlatReactEnvironment").isWeb()?"inline":void 0,id:z,linkProps:J,onFocusIn:C,onFocusOut:D,onHoverIn:E,onHoverOut:F,onPress:M,onPressIn:G,overlayFocusRingPosition:y,overlayFocused:R,overlayRadius:g,overlayXStyle:g==null?n.pressableOverlay:null,ref:q,role:K,suppressFocusRing:!0,testid:void 0,xstyle:[n.listItem,r&&n.listItemAlignedCenter,f!=null&&n.listItemWithIcon,x&&n.disabled],children:i.jsxs(i.Fragment,{children:[f,i.jsxs(d("react-strict-dom").html.div,{style:[n.content,((O=A)!=null?O:!1)&&n.extraHorizontalPadding],children:[i.jsx(c("FDSTextPairing.react"),{body:w,bodyColor:x?"disabled":v,headline:e,headlineColor:x?"disabled":L,headlineRef:o,level:4,meta:Q,metaColor:x?"disabled":P,reduceEmphasis:!0}),t!=null&&i.jsx(d("react-strict-dom").html.div,{style:n.aux,children:t})]})]})}))})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("FDSMenuItemIcon.react",["CometImage.react","FDSIcon.react","IconSource","ImageIconSource","SVGIcon","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useMemo,k={circle:{borderTopStartRadius:"x14yjl9h",borderTopEndRadius:"xudhj91",borderBottomEndRadius:"x18nykt9",borderBottomStartRadius:"xww2gxu",$$css:!0},roundedRect:{borderTopStartRadius:"x1lq5wgf",borderTopEndRadius:"xgqcy7u",borderBottomEndRadius:"x30kzoy",borderBottomStartRadius:"x9jhf4c",$$css:!0}};function a(a){var b=a.disabled,e=a.icon,f=a.iconColor,g=a.iconCssSelectorId,h=a.iconSize,l=h===void 0?20:h;h=a.isDecorative;a=a.use;var m=a===void 0?"normal":a;a=j(function(){if(e instanceof c("IconSource")){var a;return i.jsx(c("FDSIcon.react"),{color:(a=f)!=null?a:"primary",disabled:b,icon:e})}if(e instanceof c("ImageIconSource"))return i.jsx(c("FDSIcon.react"),{disabled:b,icon:e});if(e instanceof d("SVGIcon").SVGIcon){return i.jsx(c("FDSIcon.react"),{color:(a=f)!=null?a:"primary",disabled:b,icon:e,size:l})}if(e instanceof d("SVGIcon").LegacySVGIcon||e instanceof d("SVGIcon").EmojiIcon){return i.jsx(c("FDSIcon.react"),{color:(a=f)!=null?a:"primary",disabled:b,icon:e,size:l})}if(typeof e==="object"&&typeof e!=="function"&&e._isSVG!==!0&&typeof e.src==="string"){a=e.src;var g=m==="contained"?36:20;return i.jsxs("div",babelHelpers["extends"]({className:"x1n2onr6"},{children:[i.jsx(c("CometImage.react"),{height:g,src:a,width:g,xstyle:[e.style==="circle"&&k.circle,e.style==="roundedRect"&&k.roundedRect]}),e.style!=="square"?i.jsx("div",{className:{0:"xlg9a9y x10l6tqk x17qophe x13vifvy",2:"x14yjl9h xudhj91 x18nykt9 xww2gxu xlg9a9y x10l6tqk x17qophe x13vifvy",1:"xlg9a9y x10l6tqk x17qophe x13vifvy x1lq5wgf xgqcy7u x30kzoy x9jhf4c",3:"xlg9a9y x10l6tqk x17qophe x13vifvy x1lq5wgf xgqcy7u x30kzoy x9jhf4c"}[!!(e.style==="circle")<<1|!!(e.style==="roundedRect")<<0],style:{height:g,width:g}}):null]}))}return i.jsx(c("FDSIcon.react"),{color:(a=f)!=null?a:"secondary",disabled:b,icon:e,size:l})},[b,e,f,l,m]);return i.jsx("div",babelHelpers["extends"]({},{0:{className:"x6s0dn4 xoi2r2e x78zum5 xl56j7k xq8finb"},2:{className:"x6s0dn4 xoi2r2e x78zum5 xl56j7k xq8finb x1qhmfi1 x14yjl9h xudhj91 x18nykt9 xww2gxu xvnh2x x1g0q3yh"},1:{className:"x6s0dn4 xoi2r2e x78zum5 xl56j7k xq8finb xcrj56b x1ua1ozc"},3:{className:"x6s0dn4 xoi2r2e x78zum5 xl56j7k xq8finb x1qhmfi1 x14yjl9h xudhj91 x18nykt9 xww2gxu xcrj56b x1ua1ozc"}}[!!(m==="contained"||m==="contained_small_icon")<<1|!!(m==="normal")<<0],{"aria-hidden":h,id:g,children:a}))}a.displayName=a.name+" [from "+f.id+"]";b=i.memo(a);g["default"]=b}),98);
__d("FDSMenuItemIconImage.react",["FDSProfilePhoto.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(5);a=a.image;var e;b[0]!==a.addOn||b[1]!==a.shape||b[2]!==a.size||b[3]!==a.source?(e=i.jsx(c("FDSProfilePhoto.react"),{addOn:a.addOn,shape:a.shape,size:a.size,source:a.source}),b[0]=a.addOn,b[1]=a.shape,b[2]=a.size,b[3]=a.source,b[4]=e):e=b[4];return e}g["default"]=a}),98);
__d("FDSMenuItem.react",["fbt","FDSBadge.react","FDSMenuItemAuxItemIcon","FDSMenuItemBase.react","FDSMenuItemIcon.react","FDSMenuItemIconImage.react","FDSText.react","FDSTextPairing.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(a){var b=d("react-compiler-runtime").c(35),e,f,g,i,k,l,m,n,o,p;b[0]!==a?(o=a.ref,e=a.auxItem,g=a.icon,i=a.iconColor,k=a.iconCssSelectorId,l=a.iconSize,p=a.iconStyle,m=a.image,n=a.isIconDecorative,f=babelHelpers.objectWithoutPropertiesLoose(a,["ref","auxItem","icon","iconColor","iconCssSelectorId","iconSize","iconStyle","image","isIconDecorative"]),b[0]=a,b[1]=e,b[2]=f,b[3]=g,b[4]=i,b[5]=k,b[6]=l,b[7]=m,b[8]=n,b[9]=o,b[10]=p):(e=b[1],f=b[2],g=b[3],i=b[4],k=b[5],l=b[6],m=b[7],n=b[8],o=b[9],p=b[10]);a=p===void 0?"normal":p;p=null;if(e!=null)bb0:switch(e.type){case"text":var q;b[11]!==e.auxText||b[12]!==e.style?(q=e.style==="link"?j.jsx(c("FDSText.react"),{color:"blueLink",type:"bodyLink3",children:e.auxText}):j.jsx(c("FDSTextPairing.react"),{level:3,meta:e.auxText}),b[11]=e.auxText,b[12]=e.style,b[13]=q):q=b[13];p=q;break bb0;case"badge":b[14]===Symbol["for"]("react.memo_cache_sentinel")?(q=h._(/*BTDS*/"${fbt.param(\"color\", auxItem.color)} dot"),b[14]=q):q=b[14];b[15]!==e.color?(q=j.jsx(c("FDSBadge.react"),{accessibilityText:q,color:e.color}),b[15]=e.color,b[16]=q):q=b[16];p=q;break bb0;case"icon":b[17]!==e.color||b[18]!==e.icon?(q=j.jsx(c("FDSMenuItemAuxItemIcon"),{color:e.color,icon:e.icon}),b[17]=e.color,b[18]=e.icon,b[19]=q):q=b[19];p=q;break bb0;case"numberedBadge":p=e.badge;break bb0;case"infoChip":p=e.chip}b[20]!==f||b[21]!==g||b[22]!==i||b[23]!==k||b[24]!==l||b[25]!==a||b[26]!==m||b[27]!==n?(q=g!=null?j.jsx(c("FDSMenuItemIcon.react"),{disabled:f.disabled,icon:g,iconColor:i,iconCssSelectorId:k,iconSize:l,isDecorative:n,use:a}):m!=null?j.jsx(c("FDSMenuItemIconImage.react"),{image:m}):null,b[20]=f,b[21]=g,b[22]=i,b[23]=k,b[24]=l,b[25]=a,b[26]=m,b[27]=n,b[28]=q):q=b[28];e=g==null&&m!=null;b[29]!==p||b[30]!==f||b[31]!==o||b[32]!==q||b[33]!==e?(i=j.jsx(c("FDSMenuItemBase.react"),babelHelpers["extends"]({},f,{alignCenter:!0,aux:p,iconNode:q,isIconAnImage:e,ref:o})),b[29]=p,b[30]=f,b[31]=o,b[32]=q,b[33]=e,b[34]=i):i=b[34];return i}g["default"]=a}),226);/*FB_PKG_DELIM*/
__d("CometSearchBaseTypeaheadTitleSnippetViewItem.react",["FDSTextPairing.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(5),e=a.isBadged,f=a.level,g=a.snippet;a=a.title;e=e===void 0?!1:e;g=g===void 0?null:g;var h=!0,j=f;f===1?j=2:f===2?j=3:f===3&&(j=4);e&&(h=!1);b[0]!==j||b[1]!==h||b[2]!==g||b[3]!==a?(f=i.jsx(c("FDSTextPairing.react"),{body:g,bodyColor:"secondary",bodyLineLimit:1,headline:a,headlineLineLimit:2,level:j,reduceEmphasis:h}),b[0]=j,b[1]=h,b[2]=g,b[3]=a,b[4]=f):f=b[4];return f}g["default"]=a}),98);
__d("WorkplaceSearchTypeaheadEventEmitterContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||c("react");b=a.createContext();g["default"]=b}),98);
__d("CometSearchScopedTypeaheadInputStrategy.react",["CometTypeaheadInputRoundedStrategy.react","FBLogger","SearchCometTypeaheadEventEmitterContext","WorkplaceSearchTypeaheadEventEmitterContext","react","useCometTypeaheadInputRefsWebOnly"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useContext,k=b.useEffect;function a(a){var b=a.ref,d=a.inputExtraProps,e=a.onChange;a=babelHelpers.objectWithoutPropertiesLoose(a,["ref","inputExtraProps","onChange"]);var f=j(c("SearchCometTypeaheadEventEmitterContext")),g=j(c("WorkplaceSearchTypeaheadEventEmitterContext"));g=(f=(f=f)!=null?f:g)!=null?f:{};var h=g.subscribeToScopedSearchTypeaheadFocus;h==null&&c("FBLogger")("search").mustfix("Both event emitter contexts missing");f=c("useCometTypeaheadInputRefsWebOnly")(b);g=f.composedRef;b=f.inputRef;var l=b.current;k(function(){var a=h==null?void 0:h(function(){if(l==null)return;l.focus();l.value="";e("")});return function(){a==null?void 0:a()}},[l,e,h]);return i.jsx(c("CometTypeaheadInputRoundedStrategy.react"),babelHelpers["extends"]({},a,{inputExtraProps:babelHelpers["extends"]({},d,{size:"medium"}),onChange:e,ref:g}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("withSearchCometTypeaheadBaseNavigationDecorator",["react","useCometTypeaheadInputRefs"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useCallback;function a(a){function b(b){var d=b.inputRef,e=b.onPressEntry,f=b.onSelectFreeformQuery;b=babelHelpers.objectWithoutPropertiesLoose(b,["inputRef","onPressEntry","onSelectFreeformQuery"]);d=c("useCometTypeaheadInputRefs")(d);var g=d.composedRef,h=d.inputRef;d=j(function(a,b){b!==!0&&(h.current&&h.current.blur()),e==null?void 0:e(a,b)},[h,e]);var k=j(function(a){h.current&&h.current.blur(),f&&f(a)},[h,f]);return i.jsx(a,babelHelpers["extends"]({},b,{inputRef:g,onPressEntry:d,onSelectFreeformQuery:k}))}b.displayName=b.name+" [from "+f.id+"]";return b}g["default"]=a}),98);
__d("withSearchCometTypeaheadSERPWarmCallDecoratorQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="29776205841970495"}),null);
__d("withSearchCometTypeaheadSERPWarmCallDecoratorQuery.graphql",["withSearchCometTypeaheadSERPWarmCallDecoratorQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{alias:null,args:null,concreteType:"InitiateWarmSearchResponse",kind:"LinkedField",name:"initiate_warm_search",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"withSearchCometTypeaheadSERPWarmCallDecoratorQuery",selections:a,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"withSearchCometTypeaheadSERPWarmCallDecoratorQuery",selections:a},params:{id:b("withSearchCometTypeaheadSERPWarmCallDecoratorQuery_facebookRelayOperation"),metadata:{},name:"withSearchCometTypeaheadSERPWarmCallDecoratorQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("withSearchCometTypeaheadSERPWarmCallDecorator",["CometRelay","CometRelayErrorHandling","react","react-compiler-runtime","withSearchCometTypeaheadSERPWarmCallDecoratorQuery.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react"));i.useCallback;function a(a){function c(c){var f=d("react-compiler-runtime").c(9),g,i;f[0]!==c?(g=c.onFocus,i=babelHelpers.objectWithoutPropertiesLoose(c,["onFocus"]),f[0]=c,f[1]=g,f[2]=i):(g=f[1],i=f[2]);var k=d("CometRelay").useRelayEnvironment();f[3]!==g||f[4]!==k?(c=function(){d("CometRelay").fetchQuery(k,h!==void 0?h:h=b("withSearchCometTypeaheadSERPWarmCallDecoratorQuery.graphql"),{},{fetchPolicy:"store-or-network"}).subscribe({error:e}),g&&g()},f[3]=g,f[4]=k,f[5]=c):c=f[5];c=c;var l;f[6]!==c||f[7]!==i?(l=j.jsx(a,babelHelpers["extends"]({},i,{onFocus:c})),f[6]=c,f[7]=i,f[8]=l):l=f[8];return l}function e(a){d("CometRelayErrorHandling").markErrorAsHandled(a)}return c}g["default"]=a}),98);
__d("CometSearchScopedTypeahead.react",["BaseTypeahead.react","CometSearchScopedTypeaheadInputStrategy.react","CometTypeaheadLayoutContextualStrategy.react","emptyFunction","react","react-compiler-runtime","useStable","withSearchCometTypeaheadBaseNavigationDecorator","withSearchCometTypeaheadSERPWarmCallDecorator"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));h.useMemo;var j={typeaheadInput:{alignItems:"x6s0dn4",display:"x78zum5",$$css:!0},typeaheadView:{borderBottomWidth:"xso031l",borderTopColor:"x5q5vme",borderEndColor:"x5fapg",borderBottomColor:"xia5s5o",borderStartColor:"x1vrg8lv",borderBottomEndRadius:"x30kzoy",borderBottomStartRadius:"x9jhf4c",borderEndWidth:"xm81vs4",borderStartWidth:"xy80clv",borderTopEndRadius:"x13lgxp2",borderTopStartRadius:"x168nmei",borderTopStyle:"x13fuv20",borderEndStyle:"xu3j5b3",borderBottomStyle:"x1q0q8m5",borderStartStyle:"x26u7qi",borderTopWidth:"x972fbf",boxShadow:"x1wcvc8b",maxHeight:"x133jd2w",paddingTop:"x1y1aw1k",paddingEnd:"x1sxyh0",paddingBottom:"xwib8y2",paddingStart:"xurb0ha",$$css:!0}},k={12:{paddingStart:"x1ye3gou",paddingEnd:"xn6708d",paddingLeft:null,paddingRight:null,$$css:!0},16:{paddingStart:"x1swvt13",paddingEnd:"x1pi30zi",paddingLeft:null,paddingRight:null,$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(9),e,f;b[0]!==a?(e=a.paddingHorizontal,f=babelHelpers.objectWithoutPropertiesLoose(a,["paddingHorizontal"]),b[0]=a,b[1]=e,b[2]=f):(e=b[1],f=b[2]);a=e===void 0?16:e;e=k[a];b[3]!==e?(a={inputXStyle:[j.typeaheadInput,e],viewXStyle_DO_NOT_USE:j.typeaheadView},b[3]=e,b[4]=a):a=b[4];e=a;a=e;e=c("useStable")(l);var g;b[5]!==e||b[6]!==f||b[7]!==a?(g=i.jsx(e,babelHelpers["extends"]({},f,{inputStrategyRenderer:c("CometSearchScopedTypeaheadInputStrategy.react"),layoutStrategyRenderer:c("CometTypeaheadLayoutContextualStrategy.react"),xstyles:a})),b[5]=e,b[6]=f,b[7]=a,b[8]=g):g=b[8];return g}function l(){var a;return((a=c("withSearchCometTypeaheadSERPWarmCallDecorator"))!=null?a:c("emptyFunction").thatReturnsArgument)(c("withSearchCometTypeaheadBaseNavigationDecorator")(c("BaseTypeahead.react")))}g["default"]=a}),98);
__d("CometSearchTypeaheadBaseViewRecentEmptyState.react",["fbt","CometTypeaheadViewEmptyState.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(){var a=d("react-compiler-runtime").c(1),b;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b=j.jsx(c("CometTypeaheadViewEmptyState.react"),{children:h._(/*BTDS*/"No recent searches")}),a[0]=b):b=a[0];return b}g["default"]=a}),226);
__d("CometTypeaheadFocusLockRegion.react",["react","react-compiler-runtime","react-strict-dom"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));h.useCallback;function a(a){var b=d("react-compiler-runtime").c(3),c=a.children;a=a.xstyle;var e=j;b[0]!==c||b[1]!==a?(e=i.jsx(d("react-strict-dom").html.div,{onMouseDown:e,style:a,children:c}),b[0]=c,b[1]=a,b[2]=e):e=b[2];return e}function j(a){a.preventDefault()}g["default"]=a}),98);
__d("CometTypeaheadHightlightBoldTransform.react",["FDSText.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(2);a=a.segment;a=a.content;var e;b[0]!==a?(e=i.jsx(c("FDSText.react"),{type:"bodyLink3",children:a}),b[0]=a,b[1]=e):e=b[1];return e}g["default"]=a}),98);
__d("CometTypeaheadHightlightNormalTransform.react",["FDSText.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(2);a=a.segment;a=a.content;var e;b[0]!==a?(e=i.jsx(c("FDSText.react"),{type:"body3",children:a}),b[0]=a,b[1]=e):e=b[1];return e}g["default"]=a}),98);
__d("mayHaveConnectedCharacters",[],(function(a,b,c,d,e,f){"use strict";function a(a){return a.match(/[\u0900-\u097F\u0980-\u09FF\u0A00-\u0A7F\u0A80-\u0AFF\u0B00-\u0B7F\u0B80-\u0BFF\u0C00-\u0C7F\u0C80-\u0CFF\u0D00-\u0D7F\u0D80-\u0DFF\u0E00-\u0E7F\u0E80-\u0EFF\u0F00-\u0FFF\u1000-\u109F\u1700-\u171F\u1720-\u173F\u1740-\u175F\u1760-\u177F\u1780-\u17FF\u1900-\u194F\u1950-\u197F\u1980-\u19DF\u19E0-\u19FF\u1A00-\u1A1F\u1A20-\u1AAF\u1B00-\u1B7F\u1B80-\u1BBF\u1BC0-\u1BFF\u1C00-\u1C4F\u1CC0-\u1CCF\uA800-\uA82F\uA840-\uA87F\uA880-\uA8DF\uA8E0-\uA8FF\uA930-\uA95F\uA980-\uA9DF\uA9E0-\uA9FF\uAA00-\uAA5F\uAA60-\uAA7F\uAA80-\uAADF\uAAE0-\uAAFF\uABC0-\uABFF\u0600-\u06FF\u0750\u077F\u08A0\u08FF\uFB50\uFDFF\uFE70\uFEFF\u4e00-\u9faf\u0D80-\u0DFF\u0E80-\u0EFF]/)!=null}f["default"]=a}),66);
__d("cometTypeaheadHighlightUtils",["escapeRegex","mayHaveConnectedCharacters"],(function(a,b,c,d,e,f,g){"use strict";function h(a,b,d,e){if(c("mayHaveConnectedCharacters")(b))return[{content:b,isMatched:!1}];a=c("escapeRegex")(e==="prefix"?a:a.trim());e=e==="prefix"?new RegExp("( "+a.split(/\s+/).join("| ")+")","gi"):new RegExp("("+a.split(/\s+/).join("|")+")","gi");a=" "+b;b=[];var f=0,g=null;while(!0){g=e.exec(a);if(g==null)break;var h=a.substring(f,g.index);f===0&&(h=h.trimLeft());b.push({content:h,isMatched:!d});h=g[0];g.index===0&&(h=h.trimLeft());f=g.index+g[0].length;b.push({content:h,isMatched:d})}h=a.substring(f,a.length);b.push({content:h,isMatched:!d});return b}function a(a,b,c){c===void 0&&(c="prefix");return h(a,b,!0,c)}function b(a,b,c){c===void 0&&(c="prefix");return h(a,b,!1,c)}g.highlightMatch=a;g.highlightNonMatch=b}),98);
__d("CometTypeaheadHighlight.react",["CometTypeaheadHightlightBoldTransform.react","CometTypeaheadHightlightNormalTransform.react","cometTypeaheadHighlightUtils","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(14),e=a.children,f=a.content,g=a.query;a=a.strategy;if(g==null||f==null)return null;var h=null;bb0:switch(a){case"match":h=d("cometTypeaheadHighlightUtils").highlightMatch;break bb0;case"non-match":h=d("cometTypeaheadHighlightUtils").highlightNonMatch;break bb0;default:}if(h&&g.length!==0){b[0]!==f||b[1]!==h||b[2]!==g?(a=h(g,f).map(j),b[0]=f,b[1]=h,b[2]=g,b[3]=a):a=b[3];b[4]!==a?(h=i.jsx(i.Fragment,{children:a}),b[4]=a,b[5]=h):h=b[5];b[6]!==e||b[7]!==h?(g=e(h),b[6]=e,b[7]=h,b[8]=g):g=b[8];return g}b[9]!==f?(a=i.jsx(c("CometTypeaheadHightlightNormalTransform.react"),{segment:{content:f,isMatched:!1}}),b[9]=f,b[10]=a):a=b[10];b[11]!==e||b[12]!==a?(h=e(a),b[11]=e,b[12]=a,b[13]=h):h=b[13];return h}function j(a,b){return a.isMatched?i.jsx(c("CometTypeaheadHightlightBoldTransform.react"),{segment:a},String(b)):i.jsx(c("CometTypeaheadHightlightNormalTransform.react"),{segment:a},String(b))}g["default"]=a}),98);
__d("FBNucleusClockOutline20Icon.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs("svg",babelHelpers["extends"]({viewBox:"0 0 20 20",width:"1em",height:"1em",fill:"currentColor"},a,{children:[a.title!=null&&i.jsx("title",{children:a.title}),a.children!=null&&i.jsx("defs",{children:a.children}),i.jsx("path",{d:"M10.75 5.75a.75.75 0 0 0-1.5 0V10c0 .199.079.39.22.53l2.5 2.5a.75.75 0 1 0 1.06-1.06l-2.28-2.28V5.75z"}),i.jsx("path",{d:"M10 .5a9.5 9.5 0 1 0 0 19 9.5 9.5 0 0 0 0-19zM2 10a8 8 0 1 1 16 0 8 8 0 0 1-16 0z"})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;b=a;g["default"]=b}),98);
__d("FBNucleusHashtagOutline20Icon.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs("svg",babelHelpers["extends"]({viewBox:"0 0 20 20",width:"1em",height:"1em",fill:"currentColor"},a,{children:[a.title!=null&&i.jsx("title",{children:a.title}),a.children!=null&&i.jsx("defs",{children:a.children}),i.jsx("path",{d:"M9.036 1.897a.75.75 0 0 0-1.471-.294L6.685 6H2.75a.75.75 0 0 0 0 1.5h3.635l-1 5H1.75a.75.75 0 0 0 0 1.5h3.335l-.82 4.103a.75.75 0 0 0 1.47.294L6.616 14h5.22l-.82 4.103a.75.75 0 0 0 1.47.294l.88-4.397h3.885a.75.75 0 0 0 0-1.5h-3.585l1-5h3.585a.75.75 0 0 0 0-1.5h-3.285l.82-4.103a.75.75 0 0 0-1.47-.294L13.435 6h-5.22l.82-4.103zm3.1 10.603H6.914l1-5h5.22l-1 5z"})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;b=a;g["default"]=b}),98);
__d("FBNucleusMagnifyingGlassFilled16Icon.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs("svg",babelHelpers["extends"]({viewBox:"0 0 16 16",width:"1em",height:"1em",fill:"currentColor"},a,{children:[a.title!=null&&i.jsx("title",{children:a.title}),a.children!=null&&i.jsx("defs",{children:a.children}),i.jsx("path",{d:"M7.5 1a6.5 6.5 0 1 0 3.835 11.749l1.958 1.958a1 1 0 0 0 1.414-1.414l-1.958-1.958A6.5 6.5 0 0 0 7.5 1zM3 7.5a4.5 4.5 0 1 1 9 0 4.5 4.5 0 0 1-9 0z"})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;b=a;g["default"]=b}),98);
__d("SearchCometInterestsDeepDiveUtil",[],(function(a,b,c,d,e,f){"use strict";function a(a){a=a.trim();var b=a.match(/^#(\S+)$/);a=a.split("#").length>2;return!a&&b!=null?b[1]:null}f.getHashtagTag=a}),66);
__d("CometTypeaheadViewItemIcon.react",["ix","FBNucleusClockOutline20Icon.react","FBNucleusHashtagOutline20Icon.react","FBNucleusMagnifyingGlassFilled16Icon.react","FDSIcon.react","SearchCometInterestsDeepDiveUtil","XPlatReactEnvironment","fbicon","react","react-compiler-runtime","react-strict-dom"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react"),k={icon:{alignItems:"x6s0dn4",backgroundColor:"x443n21",borderTopStartRadius:"x14yjl9h",borderTopEndRadius:"xudhj91",borderBottomEndRadius:"x18nykt9",borderBottomStartRadius:"xww2gxu",display:"x78zum5",height:"xc9qbxq",justifyContent:"xl56j7k",width:"x14qfxbe",$$css:!0},iconActive:{backgroundColor:"x1jx94hy",$$css:!0},iconFBVR:{backgroundColor:"x1qhmfi1",$$css:!0}};function l(a){var b=d("react-compiler-runtime").c(5),c=a.children;a=a.isActive;a=a&&k.iconActive;var e;b[0]!==a?(e=[k.icon,d("XPlatReactEnvironment").isWeb()?null:k.iconFBVR,a],b[0]=a,b[1]=e):e=b[1];b[2]!==c||b[3]!==e?(a=j.jsx(d("react-strict-dom").html.div,{style:e,children:c}),b[2]=c,b[3]=e,b[4]=a):a=b[4];return a}function a(a){var b=d("react-compiler-runtime").c(5),c=a.label;a=a.isActive;var e;b[0]!==c?(e=j.jsx(m,{isRecent:!0,label:c}),b[0]=c,b[1]=e):e=b[1];b[2]!==a||b[3]!==e?(c=j.jsx(l,{isActive:a,children:e}),b[2]=a,b[3]=e,b[4]=c):c=b[4];return c}function b(a){var b=d("react-compiler-runtime").c(3);a=a.isActive;var e;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e=j.jsx(c("FDSIcon.react"),{color:"secondary",icon:d("fbicon")._(h("688945"),16),size:16}),b[0]=e):e=b[0];b[1]!==a?(e=j.jsx(l,{isActive:a,children:e}),b[1]=a,b[2]=e):e=b[2];return e}function e(a){var b=d("react-compiler-runtime").c(5),c=a.label;a=a.isActive;var e;b[0]!==c?(e=j.jsx(m,{isRecent:!1,label:c}),b[0]=c,b[1]=e):e=b[1];b[2]!==a||b[3]!==e?(c=j.jsx(l,{isActive:a,children:e}),b[2]=a,b[3]=e,b[4]=c):c=b[4];return c}function f(a){var b=d("react-compiler-runtime").c(3);a=a.isActive;var e;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e=j.jsx(c("FDSIcon.react"),{color:"secondary",icon:d("fbicon")._(h("495586"),16),size:16}),b[0]=e):e=b[0];b[1]!==a?(e=j.jsx(l,{isActive:a,children:e}),b[1]=a,b[2]=e):e=b[2];return e}function m(a){var b=d("react-compiler-runtime").c(3),e=a.isRecent;a=a.label;if(d("SearchCometInterestsDeepDiveUtil").getHashtagTag(a)!=null){b[0]===Symbol["for"]("react.memo_cache_sentinel")?(a=j.jsx(c("FDSIcon.react"),{color:d("XPlatReactEnvironment").isWeb()?"secondary":"primary",icon:c("FBNucleusHashtagOutline20Icon.react"),size:16}),b[0]=a):a=b[0];return a}else if(e){b[1]===Symbol["for"]("react.memo_cache_sentinel")?(a=j.jsx(c("FDSIcon.react"),{color:d("XPlatReactEnvironment").isWeb()?"secondary":"primary",icon:c("FBNucleusClockOutline20Icon.react"),size:20}),b[1]=a):a=b[1];return a}else{b[2]===Symbol["for"]("react.memo_cache_sentinel")?(e=j.jsx(c("FDSIcon.react"),{color:d("XPlatReactEnvironment").isWeb()?"secondary":"primary",icon:c("FBNucleusMagnifyingGlassFilled16Icon.react"),size:16}),b[2]=e):e=b[2];return e}}g.CometTypeaheadViewRecentIcon=a;g.CometTypeaheadViewTrophyIcon=b;g.CometTypeaheadViewTypedIcon=e;g.CometTypeaheadViewSavedContentIcon=f}),98);
__d("CometTypeaheadKeywordViewItem.react",["CometTypeaheadHighlight.react","CometTypeaheadViewItem.react","CometTypeaheadViewItemIcon.react","FDSText.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(17),e,f,g,h;b[0]!==a?(e=a.entry,f=a.isActive,h=a.queryString,g=babelHelpers.objectWithoutPropertiesLoose(a,["entry","isActive","queryString"]),b[0]=a,b[1]=e,b[2]=f,b[3]=g,b[4]=h):(e=b[1],f=b[2],g=b[3],h=b[4]);b[5]!==e.label||b[6]!==f?(a=i.jsx(d("CometTypeaheadViewItemIcon.react").CometTypeaheadViewTypedIcon,{isActive:f,label:e.label}),b[5]=e.label,b[6]=f,b[7]=a):a=b[7];var k;b[8]!==e.label||b[9]!==h?(k=i.jsx(c("CometTypeaheadHighlight.react"),{content:e.label,query:h,strategy:"non-match",children:j}),b[8]=e.label,b[9]=h,b[10]=k):k=b[10];b[11]!==e||b[12]!==f||b[13]!==g||b[14]!==a||b[15]!==k?(h=i.jsx(c("CometTypeaheadViewItem.react"),babelHelpers["extends"]({},g,{entry:e,isActive:f,itemStartContent:a,testid:void 0,children:k})),b[11]=e,b[12]=f,b[13]=g,b[14]=a,b[15]=k,b[16]=h):h=b[16];return h}function j(a){return i.jsx(c("FDSText.react"),{numberOfLines:2,type:"body3",children:a})}j.displayName=j.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometTypeaheadRecentViewItem.react",["CometSearchBaseTypeaheadTitleSnippetViewItem.react","CometTypeaheadViewItem.react","CometTypeaheadViewItemIcon.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(17);if(b[0]!==a){var e=a.entry,f=a.isActive;a.queryString;var g=a.testid,h=babelHelpers.objectWithoutPropertiesLoose(a,["entry","isActive","queryString","testid"]);e=e;f=f;g=g;h=h;b[0]=a;b[1]=e;b[2]=f;b[3]=h;b[4]=g}else e=b[1],f=b[2],h=b[3],g=b[4];a=e;a=a.label;var j;b[5]!==f||b[6]!==a?(j=i.jsx(d("CometTypeaheadViewItemIcon.react").CometTypeaheadViewRecentIcon,{isActive:f,label:a}),b[5]=f,b[6]=a,b[7]=j):j=b[7];a=(a=a)!=null?a:"";var k;b[8]!==a?(k=i.jsx(c("CometSearchBaseTypeaheadTitleSnippetViewItem.react"),{level:3,snippet:null,title:a}),b[8]=a,b[9]=k):k=b[9];b[10]!==e||b[11]!==f||b[12]!==h||b[13]!==j||b[14]!==k||b[15]!==g?(a=i.jsx(c("CometTypeaheadViewItem.react"),babelHelpers["extends"]({},h,{entry:e,isActive:f,itemStartContent:j,testid:void 0,children:k})),b[10]=e,b[11]=f,b[12]=h,b[13]=j,b[14]=k,b[15]=g,b[16]=a):a=b[16];return a}g["default"]=a}),98);
__d("FDSBinocularsFilled20Icon",["cr:14530"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:14530")}),98);
__d("FDSBinocularsFilled20PNGIcon.react",["ix","fbicon"],(function(a,b,c,d,e,f,g,h){"use strict";a=d("fbicon")._(h("717879"),20);b=a;g["default"]=b}),98);
__d("SearchCometScopedTypeaheadPlaceholder.react",["FDSGlimmer.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={glimmer:{borderTopStartRadius:"xnwf7zb",borderTopEndRadius:"x40j3uw",borderBottomEndRadius:"x1s7lred",borderBottomStartRadius:"x15gyhx8",height:"xc9qbxq",marginTop:"xdj266r",marginEnd:"xktsk01",marginBottom:"xat24cr",marginStart:"x1d52u69",$$css:!0}};function a(){var a=d("react-compiler-runtime").c(1),b;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b=i.jsx(c("FDSGlimmer.react"),{index:0,xstyle:j.glimmer}),a[0]=b):b=a[0];return b}g["default"]=a}),98);
__d("SearchGeminiGlobalResultPageTracePolicy",[],(function(a,b,c,d,e,f){a=Object.freeze({DEFAULT_TAB:"gemini.search_results.default",HASHTAG:"gemini.search_results.hashtag"});f["default"]=a}),66);
__d("XCometSearchResultsControllerRouteBuilder",["jsRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsRouteBuilder")("/search/{?searchtype}/{?*bqf}/",Object.freeze({}),void 0);b=a;g["default"]=b}),98);
__d("isSearchGeminiGlobalResultPageTracePolicy",["SearchGeminiGlobalResultPageTracePolicy"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return Object.values(c("SearchGeminiGlobalResultPageTracePolicy")).includes(a)}g["default"]=a}),98);
__d("useCometSearchRoutingQueryString",["CometRouteParams","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a=d("react-compiler-runtime").c(2),b=d("CometRouteParams").useRouteParams(),c;a[0]!==b.q?(c=typeof b.q==="string"?b.q.trim():"",a[0]=b.q,a[1]=c):c=a[1];return c}g["default"]=a}),98);
__d("useCometSearchScopedTypeaheadPressEntryHandler",["react","react-compiler-runtime","searchCometTypeaheadGetHighConfidenceResult","searchCometTypeaheadGetStsDisambiguation","useCometTypeaheadNavigate"],(function(a,b,c,d,e,f,g){"use strict";var h;(h||d("react")).useCallback;function a(a){var b=d("react-compiler-runtime").c(5),e=a.callback,f=a.loggingProvider,g=a.urlBuilder,h=c("useCometTypeaheadNavigate")();b[0]!==e||b[1]!==f||b[2]!==h||b[3]!==g?(a=function(a){var b=a.rawData;a=a.subtype==="your_group_activity"?b.url:g({entryPointAction:"SEARCH_BOX",highConfidenceResult:c("searchCometTypeaheadGetHighConfidenceResult")(a),query:a.label,stsDisambiguation:(b=c("searchCometTypeaheadGetStsDisambiguation")(a))!=null?b:void 0,typeaheadSessionID:f.getSessionID()});h(a);e&&e()},b[0]=e,b[1]=f,b[2]=h,b[3]=g,b[4]=a):a=b[4];return a}g["default"]=a}),98);
__d("useCometSearchScopedTypeaheadSelectFreeformQueryHandler",["react","react-compiler-runtime","useCometTypeaheadNavigate"],(function(a,b,c,d,e,f,g){"use strict";var h;(h||d("react")).useCallback;function a(a){var b=d("react-compiler-runtime").c(5),e=a.callback,f=a.loggingProvider,g=a.urlBuilder,h=c("useCometTypeaheadNavigate")();b[0]!==e||b[1]!==f||b[2]!==h||b[3]!==g?(a=function(a){a=g({entryPointAction:"SEARCH_BOX",query:a,typeaheadSessionID:f.getSessionID()});h(a);e&&e()},b[0]=e,b[1]=f,b[2]=h,b[3]=g,b[4]=a):a=b[4];return a}g["default"]=a}),98);
__d("useSearchCometResultsEntryPointSurface",["isSearchCometGlobalResultPageTracePolicy","isSearchCometScopedResultPageTracePolicy","isSearchGeminiGlobalResultPageTracePolicy","react-compiler-runtime","useCometRouterState"],(function(a,b,c,d,e,f,g){"use strict";var h=new Map([["apps","SERP_APPS_TAB"],["events","SERP_EVENTS_TAB"],["groups","SERP_GROUPS_TAB"],["links","SERP_NEWS_LINK_TAB"],["pages","SERP_PAGES_TAB"],["people","SERP_PEOPLE_TAB"],["photos","SERP_PHOTOS_TAB"],["places","SERP_PLACES_TAB"],["posts","SERP_POSTS_TAB"],["top","SERP_TOP_TAB"],["videos","SERP_VIDEOS_TAB"]]),i=new Map([["groups_home","GROUPS_HOME_SERP_ALL_TAB"],["groups","GROUPS_HOME_SERP_GROUPS_TAB"],["posts","GROUPS_HOME_SERP_GROUP_POSTS_TAB"]]);function a(a){var b=d("react-compiler-runtime").c(9);if(b[0]!==a){var e;e=(e=a)!=null?e:{};b[0]=a;b[1]=e}else e=b[1];a=e;e=a.currentSearchType;a=a.entryPointSurface;var f=c("useCometRouterState")();if(a!=null)return a;b[2]!==(f==null?void 0:f.pushViewStack)?(a=(f==null?void 0:f.pushViewStack)||[],b[2]=f==null?void 0:f.pushViewStack,b[3]=a):a=b[3];a=a;if(a.length>0){a=(a=a[a.length-1])==null?void 0:a.route}else a=f==null?void 0:f.main.route;f=(f=a)==null?void 0:f.tracePolicy;a=(a=a)==null?void 0:(a=a.params)==null?void 0:a.searchtype;a=typeof a==="string"?a:null;e=(e=e)!=null?e:a;if(e!=null&&f!=null&&(c("isSearchCometGlobalResultPageTracePolicy")(f)||c("isSearchGeminiGlobalResultPageTracePolicy")(f)||f==="comet.groups.search")){a=f==="comet.groups.search"?i:h;var g;b[4]!==e||b[5]!==a?(g=a.get(e),b[4]=e,b[5]=a,b[6]=g):g=b[6];return g}var j;if(f!=null&&!c("isSearchCometScopedResultPageTracePolicy")(f)&&!c("isSearchCometGlobalResultPageTracePolicy")(f)&&!c("isSearchGeminiGlobalResultPageTracePolicy")(f)){b[7]!==f?(e=f.match(/^((comet|gemini)\.[a-zA-Z_]+).*$/),b[7]=f,b[8]=e):e=b[8];a=e;a!=null&&(j=a[1])}return(g=j)!=null?g:f}g["default"]=a}),98);
__d("useSearchCometResultsCommonRouteParamBuilder",["Base64","CometRouteParams","react","react-compiler-runtime","useSearchCometResultsEntryPointSurface"],(function(a,b,c,d,e,f,g){"use strict";var h;(h||d("react")).useMemo;function a(a){var b=d("react-compiler-runtime").c(8);if(b[0]!==a){var e;e=(e=a)!=null?e:{};b[0]=a;b[1]=e}else e=b[1];a=e;e=a.currentSearchType;a=a.entryPointSurface;var f=d("CometRouteParams").useRouteParams(),g=f.__tsid__;b[2]!==e||b[3]!==a?(f={currentSearchType:e,entryPointSurface:a},b[2]=e,b[3]=a,b[4]=f):f=b[4];var h=c("useSearchCometResultsEntryPointSurface")(f);b[5]!==g||b[6]!==h?(e={build:function(a){var b=a.disableAutocorrect,d=a.encryptedQueryFunction,e=a.encryptedServerDefinedExperience,f=a.entryPointAction,i=a.filters,j=a.highConfidenceResult,k=a.query,l=a.stsDisambiguation;a=a.typeaheadSessionID;k={q:k};d!=null&&(k.f=d);e!=null&&(k.sde=e);a!=null?k.__tsid__=a:typeof g==="string"&&(k.__tsid__=g);f!=null&&(k.__epa__=f);h!=null&&(k.__eps__=h);b===!0&&(k.spell="1");i!=null&&(k.filters=c("Base64").encode(JSON.stringify(i)));l!=null&&(k.__stsd__=c("Base64").encode(JSON.stringify(l)));if(j!=null){d=j.id;e=j.source;k.__hcr__=c("Base64").encode(JSON.stringify({id:d,source:e}))}return k}},b[5]=g,b[6]=h,b[7]=e):e=b[7];a=e;return a}g["default"]=a}),98);
__d("useSearchCometResultsURLBuilder",["react","react-compiler-runtime","useSearchCometResultsCommonRouteParamBuilder"],(function(a,b,c,d,e,f,g){"use strict";var h;(h||d("react")).useCallback;function a(a){var b=d("react-compiler-runtime").c(7),e,f;b[0]!==a?(f=a.routeBuilder,e=babelHelpers.objectWithoutPropertiesLoose(a,["routeBuilder"]),b[0]=a,b[1]=e,b[2]=f):(e=b[1],f=b[2]);a=e;var g=a.currentSearchType,h=c("useSearchCometResultsCommonRouteParamBuilder")(e);b[3]!==h||b[4]!==g||b[5]!==f?(a=function(a){var b=a.searchType;return f.buildURL(babelHelpers["extends"]({},h.build(babelHelpers["extends"]({},a)),{searchtype:(b=(a=b)!=null?a:g)!=null?b:"top"}))},b[3]=h,b[4]=g,b[5]=f,b[6]=a):a=b[6];return a}g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("MAWBridgeTraceEvent",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum").Mirrored(["ReceivedReceipt","ReceivedSent","FlowEndForFailure","FlowEndForSuccess"]);c=a;f["default"]=c}),66);
__d("MAWEphemeralUtils",["MAWLocalizationType","MAWUserJidWrapper","WAArmadilloApplication.pb","WAJids","err"],(function(a,b,c,d,e,f,g){"use strict";var h=60,i=60*h,j=24*i;function a(a,b,c,e){var f=[],g=b===j,k=a===d("MAWUserJidWrapper").getMyUserJid();if(e)e=d("MAWLocalizationType").LOCALIZATION_TYPE.EPHEMERAL_SETTINGS_AUTO_RESET;else if(!k||a==null)b===0?e=d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_EPHEMERAL_SETTING_TURNED_OFF:b<h?(e=c?d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_EPHEMERAL_SETTING_TURNED_ON_SECONDS:d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_EPHEMERAL_SETTING_CHANGE_SECONDS,f.push(b.toString())):b<i?(e=c?d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_EPHEMERAL_SETTING_TURNED_ON_MINUTES:d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_EPHEMERAL_SETTING_CHANGE_MINUTES,f.push((b/h).toString())):b<j||g?(e=c?d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_EPHEMERAL_SETTING_TURNED_ON_HOURS:d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_EPHEMERAL_SETTING_CHANGE_HOURS,f.push((b/i).toString())):(e=c?d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_EPHEMERAL_SETTING_TURNED_ON_DAYS:d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_EPHEMERAL_SETTING_CHANGE_DAYS,f.push((b/j).toString()));else{a=d("WAJids").extractUserId(a).toString();b===0?k?e=d("MAWLocalizationType").LOCALIZATION_TYPE.YOU_EPHEMERAL_SETTING_TURNED_OFF:(e=d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_TURNED_OFF,f.push(a)):b<h?(k?e=c?d("MAWLocalizationType").LOCALIZATION_TYPE.YOU_EPHEMERAL_SETTING_TURNED_ON_SECONDS:d("MAWLocalizationType").LOCALIZATION_TYPE.YOU_EPHEMERAL_SETTING_CHANGE_SECONDS:(e=c?d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_TURNED_ON_SECONDS:d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_CHANGE_SECONDS,f.push(a)),f.push(b.toString())):b<i?(k?e=c?d("MAWLocalizationType").LOCALIZATION_TYPE.YOU_EPHEMERAL_SETTING_TURNED_ON_MINUTES:d("MAWLocalizationType").LOCALIZATION_TYPE.YOU_EPHEMERAL_SETTING_CHANGE_MINUTES:(e=c?d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_TURNED_ON_MINUTES:d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_CHANGE_MINUTES,f.push(a)),f.push((b/h).toString())):b<j||g?(k?e=c?d("MAWLocalizationType").LOCALIZATION_TYPE.YOU_EPHEMERAL_SETTING_TURNED_ON_HOURS:d("MAWLocalizationType").LOCALIZATION_TYPE.YOU_EPHEMERAL_SETTING_CHANGE_HOURS:(e=c?d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_TURNED_ON_HOURS:d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_CHANGE_HOURS,f.push(a)),f.push((b/i).toString())):(k?e=c?d("MAWLocalizationType").LOCALIZATION_TYPE.YOU_EPHEMERAL_SETTING_TURNED_ON_DAYS:d("MAWLocalizationType").LOCALIZATION_TYPE.YOU_EPHEMERAL_SETTING_CHANGE_DAYS:(e=c?d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_TURNED_ON_DAYS:d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_CHANGE_DAYS,f.push(a)),f.push((b/j).toString()))}return{adminMsgContent:f,adminType:e,version:1}}function b(a,b,e){var f,g=[];b=d("WAJids").extractUserId(b).toString();switch(a){case d("WAArmadilloApplication.pb").ARMADILLO_CONTENT_SCREENSHOT_ACTION_SCREENSHOT_TYPE.SCREENSHOT_IMAGE:e?f=d("MAWLocalizationType").LOCALIZATION_TYPE.YOU_EPHEMERAL_TAKE_SCREENSHOT:(f=d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_TAKE_SCREENSHOT,g.push(b));break;case d("WAArmadilloApplication.pb").ARMADILLO_CONTENT_SCREENSHOT_ACTION_SCREENSHOT_TYPE.SCREEN_RECORDING:e?f=d("MAWLocalizationType").LOCALIZATION_TYPE.YOU_EPHEMERAL_RECORD_SCREEN:(f=d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_RECORD_SCREEN,g.push(b));break;default:throw c("err")("Received unexpected screenshot action type")}return{ephemeralScreenshotActionContent:g,ephemeralScreenshotActionType:f}}g.getEphemeralSettingChangeData=a;g.getEphemeralScreenshotActionData=b}),98);
__d("MAWMessagesCompare",["MAWMessagesDirection"],(function(a,b,c,d,e,f,g){"use strict";function h(a){return function(b,c){if(c.sortOrderMs==null||b.sortOrderMs==null)return 0;if(b.sortOrderMs===c.sortOrderMs){var d,e;d=(d=b.externalId)!=null?d:"";e=(e=c.externalId)!=null?e:"";if(a!=null){d=a.has(d);e=a.has(e);if(d&&!e)return-1;else if(!d&&e)return 1}return((d=c.externalId)!=null?d:"").localeCompare((e=b.externalId)!=null?e:"")}return c.sortOrderMs-b.sortOrderMs}}var i=h(),j=function(a,b){return-1*h()(a,b)};function a(a){return d("MAWMessagesDirection").switchOnMWPMessagesDirection(a,{asc:j,desc:i})}g.makeCompareMessageMetadataForDescOrderFn=h;g.getSortComparisonFunctionForDirection=a}),98);
__d("MAWWritePinMessageAdminMsgContent",["MAWAdminMsgType","MAWCurrentUser"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a===d("MAWCurrentUser").getID()?d("MAWAdminMsgType").ADMIN_MSG_TYPE.CURRENT_USER_PINNED_MESSAGE:d("MAWAdminMsgType").ADMIN_MSG_TYPE.PARTICIPANT_PINNED_MESSAGE;a=b===d("MAWAdminMsgType").ADMIN_MSG_TYPE.PARTICIPANT_PINNED_MESSAGE?[a]:[];return{adminMsgContent:a,adminType:b,version:1}}g.getAdminMsgContent=a}),98);
__d("MAWWriteThreadHotlikeCustomizationAdminMsgContent",["MAWAdminMsgType","MAWCurrentUser"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){var c=a===d("MAWCurrentUser").getID();c=c?d("MAWAdminMsgType").ADMIN_MSG_TYPE.CURRENT_USER_CUSTOMIZE_HOTLIKE:d("MAWAdminMsgType").ADMIN_MSG_TYPE.PARTICIPANT_CUSTOMIZE_HOTLIKE;var e=[];c===d("MAWAdminMsgType").ADMIN_MSG_TYPE.CURRENT_USER_CUSTOMIZE_HOTLIKE?e.push(b):e.push(a,b);return{adminMsgContent:e,adminType:c,version:1}}g.getAdminMsgContent=a}),98);
__d("MAWWriteThreadNicknameCustomizationAdminMsgContent",["MAWAdminMsgType","MAWCurrentUser"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,c){var e=d("MAWCurrentUser").getID(),f=a===e&&a!==b,g=b===e&&b!==a,h=b===a&&e===b;e=b===a&&e!==b;var i;h&&c.length>0?i=d("MAWAdminMsgType").ADMIN_MSG_TYPE.CURRENT_USER_SET_OWN_NICKNAME:h&&c.length===0?i=d("MAWAdminMsgType").ADMIN_MSG_TYPE.CURRENT_USER_CLEAR_OWN_NICKNAME:e&&c.length>0?i=d("MAWAdminMsgType").ADMIN_MSG_TYPE.PARTICIPANT_SET_OWN_NICKNAME:e&&c.length===0?i=d("MAWAdminMsgType").ADMIN_MSG_TYPE.PARTICIPANT_CLEAR_OWN_NICKNAME:f&&c.length>0?i=d("MAWAdminMsgType").ADMIN_MSG_TYPE.CURRENT_USER_CUSTOMIZE_NICKNAME:f&&c.length===0?i=d("MAWAdminMsgType").ADMIN_MSG_TYPE.CURRENT_USER_CLEAR_PARTICIPANT_NICKNAME:g&&c.length>0?i=d("MAWAdminMsgType").ADMIN_MSG_TYPE.PARTICIPANT_CUSTOMIZE_CURRENT_USER_NICKNAME:g&&c.length===0?i=d("MAWAdminMsgType").ADMIN_MSG_TYPE.PARTICIPANT_CLEAR_CURRENT_USER_NICKNAME:c.length>0?i=d("MAWAdminMsgType").ADMIN_MSG_TYPE.PARTICIPANT_CUSTOMIZE_PARTICIPANT_NICKNAME:i=d("MAWAdminMsgType").ADMIN_MSG_TYPE.PARTICIPANT_CLEAR_PARTICIPANT_NICKNAME;h=[];switch(i){case d("MAWAdminMsgType").ADMIN_MSG_TYPE.CURRENT_USER_CUSTOMIZE_NICKNAME:h.push(b,c);break;case d("MAWAdminMsgType").ADMIN_MSG_TYPE.PARTICIPANT_CUSTOMIZE_CURRENT_USER_NICKNAME:case d("MAWAdminMsgType").ADMIN_MSG_TYPE.PARTICIPANT_SET_OWN_NICKNAME:h.push(a,c);break;case d("MAWAdminMsgType").ADMIN_MSG_TYPE.CURRENT_USER_SET_OWN_NICKNAME:h.push(c);break;case d("MAWAdminMsgType").ADMIN_MSG_TYPE.CURRENT_USER_CLEAR_PARTICIPANT_NICKNAME:case d("MAWAdminMsgType").ADMIN_MSG_TYPE.PARTICIPANT_CLEAR_OWN_NICKNAME:h.push(b);break;case d("MAWAdminMsgType").ADMIN_MSG_TYPE.PARTICIPANT_CLEAR_CURRENT_USER_NICKNAME:h.push(a);break;case d("MAWAdminMsgType").ADMIN_MSG_TYPE.PARTICIPANT_CUSTOMIZE_PARTICIPANT_NICKNAME:case d("MAWAdminMsgType").ADMIN_MSG_TYPE.PARTICIPANT_CLEAR_PARTICIPANT_NICKNAME:h.push(a,b,c);break;default:break}return{adminMsgContent:h,adminType:i,version:1}}g.getAdminMsgContent=a}),98);
__d("MAWWriteThreadPhotoCustomizationAdminMsgContent",["MAWAdminMsgType","MAWCurrentUser"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a===d("MAWCurrentUser").getID()?d("MAWAdminMsgType").ADMIN_MSG_TYPE.CURRENT_USER_CUSTOMIZE_PHOTO:d("MAWAdminMsgType").ADMIN_MSG_TYPE.PARTICIPANT_CUSTOMIZE_PHOTO;a=b===d("MAWAdminMsgType").ADMIN_MSG_TYPE.PARTICIPANT_CUSTOMIZE_PHOTO?[a]:[];return{adminMsgContent:a,adminType:b,version:1}}g.getAdminMsgContent=a}),98);
__d("MessengerThreadThemeType",[],(function(a,b,c,d,e,f){a=Object.freeze({COLOR_GRADIENT:1,THEME:2,THIRD_PARTY:3,INTERACTIVE:4,IGD_CHANNEL_CUSTOMIZED_THEME:5,AI_AGENT:6,AI_GENERATED_THEME:7,AI_STUDIO_GENERATED_THEME:8});f["default"]=a}),66);
__d("MAWWriteThreadThemeCustomizationAdminMsgContent",["MAWAdminMsgType","MAWCurrentUser","MessengerThreadThemeType","WALogger","gkx"],(function(a,b,c,d,e,f,g){"use strict";function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["Unable to convert theme type to integer: ",""]);h=function(){return a};return a}function a(a,b,c,e){var f=a===d("MAWCurrentUser").getID();f=i(f,e);e=[];f===d("MAWAdminMsgType").ADMIN_MSG_TYPE.CURRENT_USER_CUSTOMIZE_THEME||f===d("MAWAdminMsgType").ADMIN_MSG_TYPE.CURRENT_USER_CUSTOMIZE_AI_THEME?e.push(c):e.push(a,c);b!=null&&e.push(b);return{adminMsgContent:e,adminType:f,version:1}}function i(a,b){if(c("gkx")("11033")&&b!=null)try{b=parseInt(b,10)===c("MessengerThreadThemeType").AI_GENERATED_THEME;if(b)return a?d("MAWAdminMsgType").ADMIN_MSG_TYPE.CURRENT_USER_CUSTOMIZE_AI_THEME:d("MAWAdminMsgType").ADMIN_MSG_TYPE.PARTICIPANT_CUSTOMIZE_AI_THEME}catch(a){d("WALogger").ERROR(h(),a)}return a?d("MAWAdminMsgType").ADMIN_MSG_TYPE.CURRENT_USER_CUSTOMIZE_THEME:d("MAWAdminMsgType").ADMIN_MSG_TYPE.PARTICIPANT_CUSTOMIZE_THEME}g.getAdminMsgContent=a}),98);
__d("MAWWriteUKOSAAdminMsgContent",["MAWAdminMsgType"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=d("MAWAdminMsgType").ADMIN_MSG_TYPE.E2EE_THREAD_UK_OSA_ADMIN_MESSAGE;a=[a];return{adminMsgContent:a,adminType:b,version:1}}g.getAdminMsgContent=a}),98);
__d("MAWWriteUnpinMessageAdminMsgContent",["MAWAdminMsgType","MAWCurrentUser"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a===d("MAWCurrentUser").getID()?d("MAWAdminMsgType").ADMIN_MSG_TYPE.CURRENT_USER_UNPINNED_MESSAGE:d("MAWAdminMsgType").ADMIN_MSG_TYPE.PARTICIPANT_UNPINNED_MESSAGE;a=b===d("MAWAdminMsgType").ADMIN_MSG_TYPE.PARTICIPANT_UNPINNED_MESSAGE?[a]:[];return{adminMsgContent:a,adminType:b,version:1}}g.getAdminMsgContent=a}),98);
__d("MessagesRangesV2ExternalIds",[],(function(a,b,c,d,e,f){"use strict";a="";b="9999999999999999";f.MIN_EXTERNAL_ID=a;f.MAX_EXTERNAL_ID=b}),66);
__d("MpsAdminMsgToBridge",["FBLogger","MAWAckLevel","MAWEphemeralUtils","MAWJids","MAWWritePinMessageAdminMsgContent","MAWWriteThreadHotlikeCustomizationAdminMsgContent","MAWWriteThreadNicknameCustomizationAdminMsgContent","MAWWriteThreadPhotoCustomizationAdminMsgContent","MAWWriteThreadThemeCustomizationAdminMsgContent","MAWWriteUKOSAAdminMsgContent","MAWWriteUnpinMessageAdminMsgContent","WAArmadilloMiTransportAdminMessage.pb","WAMsgType","getErrorSafe","nullthrows"],(function(a,b,c,d,e,f,g){"use strict";function h(a,b){if(b.quickReactionChanged!=null){var e=b.quickReactionChanged.emojiName;return d("MAWWriteThreadHotlikeCustomizationAdminMsgContent").getAdminMsgContent(a,c("nullthrows")(e))}else if(b.iconChanged!=null){e=b.iconChanged.threadIcon;return d("MAWWriteThreadHotlikeCustomizationAdminMsgContent").getAdminMsgContent(a,c("nullthrows")(e))}else if(b.chatThemeChanged!=null){e=b.chatThemeChanged;var f=e.themeEmoji,g=e.themeName;e=e.themeType;return d("MAWWriteThreadThemeCustomizationAdminMsgContent").getAdminMsgContent(a,f,c("nullthrows")(g),""+((f=e)!=null?f:""))}else if(b.messagePinned!=null){g=b.messagePinned.action;e=g===d("WAArmadilloMiTransportAdminMessage.pb").MiTransportAdminMessage$MessagePinned$Action.PINNED?d("MAWWritePinMessageAdminMsgContent").getAdminMsgContent:d("MAWWriteUnpinMessageAdminMsgContent").getAdminMsgContent;return e(a)}else if(b.nicknameChanged!=null){f=b.nicknameChanged;g=f.nickname;e=f.targetUserId;return d("MAWWriteThreadNicknameCustomizationAdminMsgContent").getAdminMsgContent(a,c("nullthrows")(e),c("nullthrows")(g))}else if(((f=b.linkCta)==null?void 0:f.ukOsaAdminText)!=null)return d("MAWWriteUKOSAAdminMsgContent").getAdminMsgContent(c("nullthrows")(b.linkCta.ukOsaAdminText.initiatorUserId));else if(b.disappearingSettingChanged!=null){return d("MAWEphemeralUtils").getEphemeralSettingChangeData(d("MAWJids").toUserJid(a),(g=(e=b.disappearingSettingChanged)==null?void 0:e.disappearingSettingDurationSeconds)!=null?g:0,((e=(f=b.disappearingSettingChanged)==null?void 0:f.oldDisappearingSettingDurationSeconds)!=null?e:0)===0,!1)}else if(b.groupImageChanged!=null)return d("MAWWriteThreadPhotoCustomizationAdminMsgContent").getAdminMsgContent(a)}function a(a){var b;b=(b=a.deserialize().adminMessage())==null?void 0:b.proto;if(b==null)return;var e;try{e=h(a.message.senderId,b)}catch(a){c("FBLogger")("mps").catching(c("getErrorSafe")(a)).warn("Failed to get admin message content")}if(e==null)return;b={ack:d("MAWAckLevel").ACK.received,adminContent:e.adminMsgContent,adminType:e.adminType,adminVersion:e.version,chatJid:a.getChatJid(),externalId:a.getExternalId(),forwardingScore:0,isAdminMessage:!0,isAuthorMe:!1,isForwarded:!1,msgId:a.getMsgId(),sender:a.message.senderId,sortOrderMs:a.message.timestampMs,ts:a.getUnixTs(),type_:d("WAMsgType").MSG_TYPE.ADMIN};return{kind:"bridgeMsg",value:b}}g.adminMsgToBridgeMsg=a}),98);
__d("MpsBumpMessageToBridgeMsg",["MAWAckLevel","MAWMsgType"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b,c,e=a.deserialize().encryptedTransportMessage();b=e==null?void 0:(b=e.armadillo())==null?void 0:(b=b.proto.payload)==null?void 0:(b=b.content)==null?void 0:b.bumpExistingMessage;if(b==null||e==null)return null;e={ack:d("MAWAckLevel").ACK.received,chatJid:a.getChatJid(),externalId:a.getExternalId(),forwardingScore:(c=(c=e.proto.metadata)==null?void 0:c.forwardingScore)!=null?c:0,isAdminMessage:!1,isAuthorMe:a.isAuthorMe(),isForwarded:(e=(c=e.proto.metadata)==null?void 0:c.isForwarded)!=null?e:!1,msgId:a.getMsgId(),replySourceId:(c=b.key)==null?void 0:c.id,sender:a.message.senderId,sortOrderMs:a.message.timestampMs,ts:a.getUnixTs(),type_:d("MAWMsgType").MSG_TYPE.BUMP_EXISTING_MESSAGE};return{kind:"bridgeMsg",value:e}}g.bumpMessageToBridgeMsg=a}),98);
__d("MpsEditToBridge",["LSMessageSendStatus","MAWDbEditMsgHistory","WAJids","WAStanzaUtils"],(function(a,b,c,d,e,f,g){"use strict";function h(a,b){var e=d("MAWDbEditMsgHistory").convertToEditMsgHistoryId64(d("MAWDbEditMsgHistory").unsafeCoerceToEditMsgHistoryId(Number(a.getExternalId()))),f=a.topLevelMetadata();e={author:a.getAuthor(),editExternalId:d("WAStanzaUtils").toStanzaId(a.getExternalId()),editMsgHistoryId:e,editTs:a.getUnixTs(),msgContent:b,originalMsgExternalId:d("WAStanzaUtils").toStanzaId(f.getExternalId()),originalMsgId:f.getMsgId(),sendStatus:c("LSMessageSendStatus").SENDING_TO_SERVER,threadJid:a.getChatJid()};return{kind:"bridgeEditHistoryMsg",value:e}}function a(a){var b;b=(b=a.deserialize().encryptedTransportMessage())==null?void 0:(b=b.consumerMessage())==null?void 0:(b=b.payload)==null?void 0:(b=b.content)==null?void 0:(b=b.editMessage)==null?void 0:b.message;if(b==null)return;return h(a,{commands:b==null?void 0:b.commands,content:((a=b==null?void 0:b.text)!=null?a:"")+" *",mentionedJids:b==null?void 0:b.mentionedJid.map(d("WAJids").validateUserJid).filter(Boolean)})}function b(a){var b,c=a.message,d=a.supplementals,e=a.topLevel;if(e.kind!=="bridgeMsg")return a;var f=d.map(function(a){return a.kind==="bridgeEditHistoryMsg"?a.value:null}).filter(Boolean).sort(function(a,b){return b.editTs-a.editTs});if(f.length===0)return a;d.push(h(c,{commands:e.value.commands&&[].concat(e.value.commands),content:(a=e.value.content)!=null?a:"",mentionedJids:e.value.mentionedJids&&[].concat(e.value.mentionedJids)}));a=f[0].msgContent;e.value=babelHelpers["extends"]({},e.value,{commands:(b=a.commands)!=null?b:e.value.commands,content:(b=a.content)!=null?b:e.value.content,editCount:f.length,mentionedJids:(b=a.mentionedJids)!=null?b:e.value.mentionedJids});return{message:c,supplementals:d,topLevel:e}}g.editMessageToBridgeMsg=a;g.processEditedMessage=b}),98);
__d("MpsEphemeralMessageToBridge",["WATimeUtils"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b,c=a.message,e=a.supplementals,f=a.topLevel;b=(b=a.message.deserialize().encryptedTransportMessage())==null?void 0:(b=b.proto.metadata)==null?void 0:(b=b.chatEphemeralSetting)==null?void 0:b.ephemeralExpiration;if(b==null||b===0)return a;var g=d("WATimeUtils").castToUnixTime(a.message.getUnixTs()+b),h=d("WATimeUtils").cappedMillisecondsUntil(g);if(h<=0)return a;f.kind==="bridgeMsg"&&(f.value=babelHelpers["extends"]({},f.value,{ephemeralDurationInSec:b}));a.supplementals.push({kind:"bridgeMsgsStartCountdown",value:{msgs:[{countdownTs:g,millisecondsUntilCountdownTs:h,msgId:a.message.getMsgId(),threadJid:a.message.getChatJid(),ts:a.message.getUnixTs()}]}});return{message:c,supplementals:e,topLevel:f}}g.processEphemeralMessage=a}),98);
__d("MpsMediaToBridge",["FBLogger","MAWAckLevel","MAWDbMedia","MAWMsgType","WAHashUtils","WALongInt","WATimeUtils","getMediaTypeFromConsumerMessage"],(function(a,b,c,d,e,f,g){"use strict";function h(a){a=(a=a.encryptedTransportMessage())==null?void 0:(a=a.consumerMessage())==null?void 0:a.proto;a=d("getMediaTypeFromConsumerMessage").getMediaTypeFromConsumerMessage(a);if(a==null)return;switch(a){case"ptt":return d("MAWMsgType").MSG_TYPE.PTT;case"image":return d("MAWMsgType").MSG_TYPE.IMAGE;case"video":return d("MAWMsgType").MSG_TYPE.VIDEO;case"gif":return d("MAWMsgType").MSG_TYPE.GIF;case"sticker":return d("MAWMsgType").MSG_TYPE.STICKER;case"document":return d("MAWMsgType").MSG_TYPE.DOCUMENT_FILE;case"xma-image":return;case"md-app-state":return;default:return a}}function a(a){var b,c=a.deserialize().encryptedTransportMessage();if(c==null)return;var e=h(a.deserialize());if(e==null)return;b={ack:d("MAWAckLevel").ACK.received,chatJid:a.getChatJid(),externalId:a.getExternalId(),forwardingScore:(b=(b=c.proto.metadata)==null?void 0:b.forwardingScore)!=null?b:0,groupId:(b=c.proto.metadata)==null?void 0:b.groupId,groupIndex:(b=c.proto.metadata)==null?void 0:b.groupIndex,groupSize:(b=c.proto.metadata)==null?void 0:b.groupSize,isAdminMessage:!1,isAuthorMe:a.isAuthorMe(),isForwarded:(c=(b=c.proto.metadata)==null?void 0:b.isForwarded)!=null?c:!1,msgId:a.getMsgId(),sender:a.message.senderId,sortOrderMs:a.message.timestampMs,ts:a.getUnixTs(),type_:e};return{kind:"bridgeMsg",value:b}}function b(a){var b,e,f,g,i;b=(b=a.message.deserialize().encryptedTransportMessage())==null?void 0:b.consumerMessage();if(b==null)return a;e=(e=b.documentMessage())==null?void 0:e.fileName;f=(f=(f=(f=(f=(f=(f=b.audioMessage())==null?void 0:f.payload)!=null?f:(f=b.documentMessage())==null?void 0:f.payload)!=null?f:(f=b.imageMessage())==null?void 0:f.payload)!=null?f:(f=b.stickerMessage())==null?void 0:f.payload)!=null?f:(f=b.videoMessage())==null?void 0:f.payload)!=null?f:{};var j=f.ancillary;f=f.integral;if((j==null?void 0:j.receiverFetchId)!=null||(f==null?void 0:f.receiverFetchId)!=null)return a;var k=h(a.message.deserialize());if(k==null||j==null||f==null){k==null&&(j!=null||f!=null)&&c("FBLogger")("mps").mustfix("media type is null but ancillary or integral is not: %s",a.topLevel.kind);return a}var l=a.message.getMsgId();g=f==null?void 0:(g=f.transport)==null?void 0:(g=g.integral)==null?void 0:g.mediaKeyTimestamp;i=f==null?void 0:(i=f.transport)==null?void 0:(i=i.integral)==null?void 0:i.fileSha256;i=i!=null?d("WAHashUtils").toPlaintextHash(i):void 0;k={accessibilitySummaryText:(b=(b=b.imageMessage())==null?void 0:(b=b.caption)==null?void 0:b.text)!=null?b:(b=j.caption)==null?void 0:b.text,defaultFilename:e,duration:((b=j.seconds)!=null?b:0)*1e3,filenames:e!=null?(b={},b[l]=e,b):void 0,filesize:d("WALongInt").numberOrThrowIfTooLarge((e=f==null?void 0:(e=f.transport)==null?void 0:(b=e.ancillary)==null?void 0:b.fileLength)!=null?e:0),hasMedia:!0,hasPreviewMedia:(f==null?void 0:(b=f.transport)==null?void 0:(e=b.ancillary)==null?void 0:e.thumbnail)!=null,mediaId:d("MAWDbMedia").convertNumberToMediaId(0),mediaType:k,messagesSortOrderMs:(b={},b[l]=a.message.topLevel.timestampMs,b),msgIds:[a.message.getMsgId()],offlineAttachmentId:i,plaintextHash:i,previewHeight:f==null?void 0:(e=f.transport)==null?void 0:(k=e.ancillary)==null?void 0:(l=k.thumbnail)==null?void 0:l.thumbnailHeight,previewHeightLarge:j==null?void 0:j.height,previewWidth:f==null?void 0:(b=f.transport)==null?void 0:(i=b.ancillary)==null?void 0:(e=i.thumbnail)==null?void 0:e.thumbnailWidth,previewWidthLarge:j==null?void 0:j.width,sortOrderMs:g!=null?d("WATimeUtils").castLongIntToMillisTime(g):void 0,threadJid:a.message.getChatJid(),transportKey:"WhatsApp",ts:a.message.getUnixTs()};a.supplementals.push({kind:"bridgeMedia",value:k});return a}g.getMediaTypeForMedia=h;g.mediaToBridge=a;g.processAttachment=b}),98);
__d("mwv2MessageIsEmojiOnly",["EmojiRenderer","EmoticonRenderer","ReStoreVaulting"],(function(a,b,c,d,e,f,g){"use strict";var h=/^[ \r\n\s]*$/;function a(a,b){if(a==null)return!1;var c=d("ReStoreVaulting").maybeUnvault(a);a=d("EmojiRenderer").parse(c).map(function(a){return{length:a.length,offset:a.offset}});b=b?d("EmoticonRenderer").parse(c).map(function(a){return{length:a.chars.length,offset:a.offset}}):[];a=a.concat(b);if(a.length===0)return!1;b=a.sort(function(a,b){return a.offset-b.offset|0});var e={contents:0},f={contents:0};a=b.some(function(a){e.contents===a.offset?(e.contents=e.contents+a.length|0,f.contents=e.contents):f.contents=a.offset;var b=c.substring(e.contents,f.contents);e.contents=a.offset+a.length|0;return h.test(b)===!1});b=e.contents!==c.length&&!h.test(c.substring(f.contents));if(a)return!1;else return!b}g["default"]=a}),98);
__d("MpsMessageTextToBridge",["MAWAckLevel","MAWVault","WAJids","WAMsgType","maybeConvertMessageTextMentionsV2ToV1","mwv2MessageIsEmojiOnly"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b,e,f=a.deserialize().encryptedTransportMessage(),g=f==null?void 0:f.consumerMessage();b=c("maybeConvertMessageTextMentionsV2ToV1")(g==null?void 0:(b=g.payload)==null?void 0:(b=b.content)==null?void 0:b.messageText);if(g==null||b==null||f==null)return;e=(e=b.text)!=null?e:"";var h=c("mwv2MessageIsEmojiOnly")(e,!0);h||(e+="*");e=d("MAWVault").vault(e);e={ack:d("MAWAckLevel").ACK.received,chatJid:a.getChatJid(),commands:b.commands,content:e,externalId:a.getExternalId(),forwardingScore:(e=(h=f.proto.metadata)==null?void 0:h.forwardingScore)!=null?e:0,isAdminMessage:!1,isAuthorMe:a.isAuthorMe(),isForwarded:(e=(h=f.proto.metadata)==null?void 0:h.isForwarded)!=null?e:!1,mentionedJids:b.mentionedJid.map(d("WAJids").validateUserJid).filter(Boolean),msgId:a.getMsgId(),sender:a.message.senderId,sortOrderMs:a.message.timestampMs,specialTextSize:(h=(f=g.metadata)==null?void 0:f.specialTextSize)!=null?h:void 0,ts:a.getUnixTs(),type_:d("WAMsgType").MSG_TYPE.TEXT};return{kind:"bridgeMsg",value:e}}g.messageTextToBridgeMsg=a}),98);
__d("MpsReactionToBridge",[],(function(a,b,c,d,e,f){"use strict";function a(a){var b;b=(b=a.deserialize().encryptedTransportMessage())==null?void 0:(b=b.consumerMessage())==null?void 0:(b=b.payload)==null?void 0:(b=b.content)==null?void 0:b.reactionMessage;if(b==null)return;b={reaction:{actorId:a.message.senderId,chatJid:a.getChatJid(),messageId:a.topLevelMetadata().getMsgId(),reaction:(b=b.text)!=null?b:"",ts:a.topLevelMetadata().getUnixTs()},type:"upsert"};return{kind:"bridgeReactionAction",value:b}}f.reactionMessageToBridgeMsg=a}),66);
__d("MpsReceiverFetchInfoToBridge",["WATimeUtils"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b,c,e;b=(b=a.message.deserialize().encryptedTransportMessage())==null?void 0:b.consumerMessage();if(b==null)return a;b=(b=(b=b.stickerMessage())==null?void 0:b.payload)!=null?b:{};var f=b.ancillary;b=b.integral;c=(c=b==null?void 0:b.receiverFetchId)!=null?c:f==null?void 0:f.receiverFetchId;b=b==null?void 0:(b=b.transport)==null?void 0:(b=b.ancillary)==null?void 0:b.mimetype;if(c==null||b==null)return a;e=(e=f==null?void 0:f.width)!=null?e:0;f=(f=f==null?void 0:f.height)!=null?f:0;b={mimetype:b,msgId:a.message.getMsgId(),previewHeight:f,previewWidth:e,receiverFetchId:c,sortOrderMs:d("WATimeUtils").castLongIntToMillisTime(a.message.message.timestampMs),threadJid:a.message.getChatJid(),transportKey:"WhatsApp",type:"sticker"};a.supplementals.push({kind:"bridgeReceiverFetchInfo",value:b});return a}g.processReceiverFetchInfo=a}),98);
__d("MpsReplyToBridge",["WAJids"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.message,c=a.supplementals,e=a.topLevel,f=b.deserialize().encryptedTransportMessage();if(e.kind!=="bridgeMsg"||f==null)return a;f=(f=f.proto.metadata)==null?void 0:f.quotedMessage;if(f==null)return a;a=f.participant!=null?d("WAJids").validateUserJid(f==null?void 0:f.participant):null;a=a!=null?d("WAJids").userIdFromJid(a):void 0;e.value=babelHelpers["extends"]({},e.value,{replySourceId:f==null?void 0:f.stanzaId,replyToUserId:a});return{message:b,supplementals:c,topLevel:e}}g.processReplyMessage=a}),98);
__d("MpsRevokeMessageToBridgeMsg",["MAWAckLevel","WAMsgType"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b,c=a.deserialize().encryptedTransportMessage();b=c==null?void 0:(b=c.consumerMessage())==null?void 0:(b=b.payload)==null?void 0:(b=b.applicationData)==null?void 0:b.revoke;if(c==null||b==null)return;return{kind:"bridgeMsg",value:{ack:d("MAWAckLevel").ACK.received,chatJid:a.getChatJid(),externalId:a.getExternalId(),forwardingScore:(b=(b=c.proto.metadata)==null?void 0:b.forwardingScore)!=null?b:0,isAdminMessage:!1,isAuthorMe:a.isAuthorMe(),isForwarded:(c=(b=c.proto.metadata)==null?void 0:b.isForwarded)!=null?c:!1,msgId:a.getMsgId(),sender:a.message.senderId,sortOrderMs:a.message.timestampMs,ts:a.getUnixTs(),type_:d("WAMsgType").MSG_TYPE.REVOKED}}}g.revokeMessageToBridgeMsg=a}),98);
__d("MpsScreenshotActionToBridgeMsg",["MAWAckLevel","MAWEphemeralUtils","WAArmadilloApplication.pb","WAMsgType"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b,c=a.deserialize().encryptedTransportMessage();b=c==null?void 0:(b=c.armadillo())==null?void 0:(b=b.proto.payload)==null?void 0:(b=b.content)==null?void 0:b.screenshotAction;if(b==null||c==null)return;b=d("MAWEphemeralUtils").getEphemeralScreenshotActionData((c=b.screenshotType)!=null?c:d("WAArmadilloApplication.pb").ARMADILLO_CONTENT_SCREENSHOT_ACTION_SCREENSHOT_TYPE.SCREENSHOT_IMAGE,a.getSenderJid(),a.isAuthorMe());c={ack:d("MAWAckLevel").ACK.received,adminContent:b.ephemeralScreenshotActionContent,adminType:b.ephemeralScreenshotActionType,adminVersion:1,chatJid:a.getChatJid(),externalId:a.getExternalId(),forwardingScore:0,isAdminMessage:!0,isAuthorMe:a.isAuthorMe(),isForwarded:!1,msgId:a.getMsgId(),sender:a.message.senderId,sortOrderMs:a.message.timestampMs,ts:a.getUnixTs(),type_:d("WAMsgType").MSG_TYPE.ADMIN};return{kind:"bridgeMsg",value:c}}g.screenshotActionToBridgeMsg=a}),98);
__d("MpsMessageToBridge",["MpsAdminMsgToBridge","MpsBumpMessageToBridgeMsg","MpsEditToBridge","MpsEphemeralMessageToBridge","MpsMediaToBridge","MpsMessageTextToBridge","MpsMessageToBridgeWrapper","MpsReactionToBridge","MpsReceiverFetchInfoToBridge","MpsReplyToBridge","MpsRevokeMessageToBridgeMsg","MpsScreenshotActionToBridgeMsg"],(function(a,b,c,d,e,f,g){"use strict";var h=[d("MpsMessageTextToBridge").messageTextToBridgeMsg,d("MpsEditToBridge").editMessageToBridgeMsg,d("MpsReactionToBridge").reactionMessageToBridgeMsg,d("MpsMediaToBridge").mediaToBridge,d("MpsAdminMsgToBridge").adminMsgToBridgeMsg,d("MpsScreenshotActionToBridgeMsg").screenshotActionToBridgeMsg,d("MpsRevokeMessageToBridgeMsg").revokeMessageToBridgeMsg,d("MpsBumpMessageToBridgeMsg").bumpMessageToBridgeMsg],i=[d("MpsEditToBridge").processEditedMessage,d("MpsReplyToBridge").processReplyMessage,d("MpsMediaToBridge").processAttachment,d("MpsEphemeralMessageToBridge").processEphemeralMessage,d("MpsReceiverFetchInfoToBridge").processReceiverFetchInfo];function j(a){for(var b of h){var c=b(a);if(c!=null)return c}}function a(a){var b=d("MpsMessageToBridgeWrapper").MpsMessageToBridgeWrapper.fromTopLevel(a.toplevelProtobuf),c=j(b);if(c==null)return;var e=a.supplementalProtobufs.values().toArray().map(function(b){return j(d("MpsMessageToBridgeWrapper").MpsMessageToBridgeWrapper.fromSupplemental(b,a.toplevelProtobuf))}).filter(Boolean);b=i.reduce(function(a,b){return b(a)},{message:b,supplementals:e,topLevel:c});return{supplementals:b.supplementals,topLevel:b.topLevel}}g.mpsFullMessagetoBridge=a}),98);
__d("WAAbPropsTypes",[],(function(a,b,c,d,e,f){"use strict";a={noyb_opt_out_flag:[3488,"bool",!1,!1],service_improvement_opt_out_flag:[3664,"bool",!1,!1],msgrw_test_bool:[704,"bool",!1,!1],msgrw_test_int:[705,"int",0,0],msgrw_test_string:[706,"string","test_string","test_string"],msgrw_test_float:[707,"float",1,1],msgrw_icdc_alert_trigger_failure_count:[1233,"int",8,8],msgrw_icdc_cooldown_interval_in_minutes:[1234,"int",35,35],msgrw_icdc_interval_in_minutes:[1236,"int",1500,1500],msgrw_logger_entries:[1298,"int",0,0],msgrw_max_keys:[2453,"int",812,812],msgrw_job_manager_conf:[2667,"string",'{"maxConcurrency": 5,"bestEffortWaitTimeoutSec": 300,"highPriorityQuota":5,"lowPriorityQuota":1}','{"maxConcurrency": 5,"bestEffortWaitTimeoutSec": 300,"highPriorityQuota":5,"lowPriorityQuota":1}'],client_group_participants_limit:[618,"int",257,257],client_group_name_length_limit:[1200,"int",25,25]};f.ABPropConfigs=a}),66);
__d("WAAbPropsToUI",["WAAbPropsTypes"],(function(a,b,c,d,e,f,g){"use strict";var h=["client_group_participants_limit","client_group_name_length_limit"];function a(a){var b=a!=null?a:{},c={};h.forEach(function(a){b[a]!=null?c[a]=b[a]:c[a]=d("WAAbPropsTypes").ABPropConfigs[a][2]});return c}g.prepareAbPropsForUI=a}),98);
__d("isGroupInvitesEnabled",["qex"],(function(a,b,c,d,e,f,g){"use strict";function a(){return c("qex")._("125")===!0}g["default"]=a}),98);
__d("isMAWUniversalSearchWithEBEnabled",["gkx"],(function(a,b,c,d,e,f,g){"use strict";function a(){return c("gkx")("4741")}g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("MinGapType",["$InternalEnum"],(function(a,b,c,d,e,f){a=b("$InternalEnum")({UNKNOWN:0,ORGANIC:1,ENGAGEMENT:2,FIXED_POSITION:3,PROMOTION:4,SPONSORED:5,END_OF_FEED_CONTENT:6,FB_STORIES:7,HIGH_VALUE_PROMOTION:8,FB_STORIES_ENGAGEMENT:9,PYMK:10,SHOWCASE:11,FB_SHORTS:12,TRENDING:13,IFR:14,ENGAGEMENT_QP:15,GROUPS_TAB_UNCONNECTED:16,END_OF_FEED_REELS:17,FRIEND_REQUESTS:18,FB_SHORTS_FALLBACK:19,FRIENDLY_FEED_BIRTHDAYS:20,FRIENDLY_FEED_FRIEND_REQUESTS:21,FRIENDLY_FEED_MID_CARD:22,FRIENDLY_FEED_PROMOTION:23,INJECTED_STORY:24,LIMITED_PERSONALIZATION_NOTICE:25});c=a;f["default"]=c}),66);
__d("AdsExtremeGapUtils",["gkx"],(function(a,b,c,d,e,f,g){"use strict";var h=3,i=6;function a(a,b){if(b!==5)return!1;b=c("gkx")("23035");if(!b)return!1;b=j(a,0);return b>i}function j(a,b){if(a.length===0||b>i)return b;var c=a.length,d=k(a);if(d===-1)return b;return c-d<=h?j(a.slice(0,d),b+1):b}function k(a){for(var b=a.length-1;b>=0;b--)if(a[b].minGapType===5)return b;return-1}g.EXTREME_GAP_DISTANCE=h;g.shouldApplyExtremeGapProtection=a;g.getLastSponsoredStoryPosition=k}),98);
__d("BrandSafetyOpportunityLossRateFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1305");b=d("FalcoLoggerInternal").create("brand_safety_opportunity_loss_rate",a);e=b;g["default"]=e}),98);
__d("CometAdsProductLoggingFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("5479");b=d("FalcoLoggerInternal").create("comet_ads_product_logging",a);e=b;g["default"]=e}),98);
__d("CometFeedUnitStatusTrackingUtils",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){return a.map(function(a,c){return b(a)?babelHelpers["extends"]({},a,{position:c}):null}).filter(Boolean)}function b(a){return a.filter(h)}function c(a){return a.filter(i)}function d(a){return a.filter(j)}function e(a){return a.filter(function(a){return a.status==="received"||a.status==="positioned"})}function g(a){var b=a.reduce(function(a,b,c){return j(b)?c:a},-1);return a.map(function(a,c){return c<=b&&!j(a)?babelHelpers["extends"]({},a,{status:"rendered"}):a})}function h(a){return a.status==="rendered"}function i(a){return a.status!=="error"}function j(a){return a.status==="rendered"||a.status==="error"||a.status==="positioned"}f.getFeedUnitsWithOriginalPosition=a;f.getCurrentlyVisibleFeedUnits=b;f.getPossiblyVisibleFeedUnits=c;f.getAllPositionedFeedUnits=d;f.getUncommittedFeedUnits=e;f.getFeedUnitsWithRenderingOutOfOrderFixed=g;f.isCurrentlyVisible=h;f.isPossiblyVisible=i;f.isAnyPositionedType=j}),66);
__d("CometAdsProductLogger",["AdsExtremeGapUtils","CometAdsProductLoggingFalcoEvent","CometFeedUnitStatusTrackingUtils","WebSession"],(function(a,b,c,d,e,f,g){"use strict";var h="SPONSORED",i="comet.home";function a(a){var b=a.adId,d=a.csp,e=a.cts,f=a.endPoint,g=a.getFeedUnitStatusList,i=a.hba,k=a.isv,l=a.minGapRule,m=a.minGapType,n=a.sessionKey,o=a.tracking,p=a.vp;if(m!==h||l==null||b==null)return;c("CometAdsProductLoggingFalcoEvent").logImmediately(function(){return{ad_id:b,csp:d,endpoint:f,event:"impression",hba:i,isv:k,min_gap_shape:{min_gap_rule:l.toString(),min_gap_type:m},session_key:n,timestamp:e,tracking:o,vp:p}});j({adId:b,csp:d,cts:e,endPoint:f,getFeedUnitStatusList:g,hba:i,isv:k,minGapRule:l,minGapType:m,sessionKey:n,tracking:o,vp:p})}function j(a){var b=a.adId,e=a.csp,f=a.cts,g=a.endPoint,h=a.getFeedUnitStatusList,i=a.hba,j=a.isv,k=a.minGapRule,l=a.minGapType,m=a.sessionKey,n=a.tracking,o=a.vp;if(h==null||e==null)return;a=h();h=d("CometFeedUnitStatusTrackingUtils").getFeedUnitsWithOriginalPosition(a,d("CometFeedUnitStatusTrackingUtils").isCurrentlyVisible);a=parseInt(e,10);h=h.slice(0,a-1);var p=d("AdsExtremeGapUtils").shouldApplyExtremeGapProtection(h,5);if(!p)return;var q=a-d("AdsExtremeGapUtils").getLastSponsoredStoryPosition(h);c("CometAdsProductLoggingFalcoEvent").logImmediately(function(){return{ad_id:b,csp:e,endpoint:g,event:"extreme_experience",hba:i,isv:j,min_gap_shape:{min_gap_rule:k!=null?k.toString():null,min_gap_type:l},product_features:q<=d("AdsExtremeGapUtils").EXTREME_GAP_DISTANCE?"not protected":"protected",session_key:m,timestamp:f,tracking:n,vp:o}})}function b(a){var b=a.adId,e=a.endPoint,f=e===void 0?i:e,g=a.minGapRule,h=a.minGapType;e=Date.now();var j=Math.floor(e/1e3);c("CometAdsProductLoggingFalcoEvent").logImmediately(function(){return{ad_id:b,csp:null,endpoint:f,event:"cta_click",hba:!1,isv:null,min_gap_shape:{min_gap_rule:g!=null?g.toString():null,min_gap_type:h},product_features:"primary_blue_cta_button",session_key:d("WebSession").getId(),timestamp:j.toString(),tracking:null,vp:null}})}function e(a){var b=a.endPoint,e=b===void 0?i:b,f=a.minGapRule,g=a.minGapType;b=Date.now();var h=Math.floor(b/1e3);c("CometAdsProductLoggingFalcoEvent").logImmediately(function(){return{ad_id:null,csp:"0",endpoint:e,event:"impression",hba:!1,isv:null,min_gap_shape:{min_gap_rule:f!=null?f.toString():null,min_gap_type:g},product_features:"highest_position_ad_from_multifeed",session_key:d("WebSession").getId(),timestamp:h.toString(),tracking:null,vp:null}})}g.logCometAdsProductGapRule=a;g.logCometAdsProductGapRuleExtremeExperience=j;g.logCometAdsProductPrimaryBlueCTAButtonClick=b;g.logCometFeedHighestPositionAd=e}),98);
__d("CometAdsRenderingValidationContext",["FBLogger","react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b=a.createContext({dispatcher:function(a){c("FBLogger")("comet_ads").mustfix("CometAdsRenderingValidationLoggingContext is not initialized with a valid dispatcher")},sponsoredData:null,state:null});g["default"]=b}),98);
__d("CometFeed5sImpressionDelayContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b=a.createContext({firstAdStoryPosition:null,firstLoggedAdImpressionStoryPosition:null,hasAnyAdImpressionAlreadyBeenLogged:!1,hasUserSeenAnyAd:!1});g["default"]=b}),98);
__d("CometFeedAdsProductContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b=a.createContext({adId:null,minGapRule:null,minGapType:null});g["default"]=b}),98);
__d("CometFeedBrandSafetyContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b=a.createContext(null);g["default"]=b}),98);
__d("CometFeedBrandSafetyLoggingUtil",["CometFeedUnitStatusTrackingUtils","FBLogger","NetworkStatus"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,c){if(a==null||b==null)return null;a=a();a=d("CometFeedUnitStatusTrackingUtils").getFeedUnitsWithOriginalPosition(a,d("CometFeedUnitStatusTrackingUtils").isPossiblyVisible);var e=a.findIndex(function(a){return a.position===c});if(!h(a,e))return null;b=b();var f=i(a,b,e-1),g=i(a,b,e+1);e=j(a,b,e);return{brs_filter_setting:e,feed_size:a.length.toString(),feed_state:l(b),unit_after:g,unit_before:f}}function h(a,b){return((a=a[b])==null?void 0:a.category)==="SPONSORED"}function i(a,b,c){a=k(a,b,c);return a&&{brs_content_label:(b=a.brsContentLabel)==null?void 0:b.toString(),organic_tracking:a.tracking,unit_type:a.unitType}}function j(a,b,c){a=k(a,b,c);return a==null?void 0:(b=a.brsFilterSetting)==null?void 0:b.toString()}function k(a,b,d){var e=a[d];if(e==null)return null;var f=e.key;f=b.feedUnitRegistry[f];f==null&&e.status==="rendered"?c("FBLogger")("comet_feed_unit_brand_safety_null_brs_info").warn("Unable to find a CometFeedUnitBrandSafetyInfo for position %s and deduplicationKey %s. feedUnitStatusList: %s. brsRegistry: %s",d,e.key,JSON.stringify(a),JSON.stringify(Object.keys(b.feedUnitRegistry))):e.status==="error"&&c("FBLogger")("comet_feed_unit_brand_safety_error_status").mustfix("CometFeedUnitStatus is error for position %s and deduplicationKey %s. feedUnitStatusList: %s. brsRegistry: %s",d,e.key,JSON.stringify(a),JSON.stringify(Object.keys(b.feedUnitRegistry)));return f}function l(a){a=a.feedStateInfoRef.current;if(a==null){c("FBLogger")("comet_feed_unit_brand_safety_feed_state").mustfix("feedStateInfo was not initialized correctly");return"feed_uninitialized_state_info"}var b=a.hasMore,d=a.isEOFError,e=a.isLoading;a=a.showEOFMessageAfterFeedStoppedLoading;var f=c("NetworkStatus").isOnline();if(d)if(f)return"feed_eof_error_while_online";else return"feed_eof_error_while_offline";else if(a)if(f)return"feed_eof_no_more_stories_while_online";else return"feed_eof_no_more_stories_while_offline";else if(b&&e)return"feed_has_more_and_is_loading";else if(b)return"feed_has_more";else if(e)return"feed_is_loading";else return"feed_unknown"}g.getBrandSafetyFieldForAdImpression=a;g.isSponsored=h;g.getBrsInfo=k;g.getFeedState=l}),98);
__d("CometFeedHighlightedStoriesContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b=new Set();c=a.createContext(b);g["default"]=c}),98);
__d("CometFocusedStoryViewPortableVideoContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b=a.createContext(null);g["default"]=b}),98);
__d("CometMetricsFullViewFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1936086");b=d("FalcoLoggerInternal").create("comet_metrics_full_view",a);e=b;g["default"]=e}),98);
__d("CometMetricsViewabilityFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1948176");b=d("FalcoLoggerInternal").create("comet_metrics_viewability",a);e=b;g["default"]=e}),98);
__d("GhlSwankFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1955947");b=d("FalcoLoggerInternal").create("ghl_swank",a);e=b;g["default"]=e}),98);
__d("PercentVisible",[],(function(a,b,c,d,e,f){a=-1;b=0;c=50;d=100;f.NO_VISIBLE=a;f.VISIBLE_0_PCT=b;f.VISIBLE_50_PCT=c;f.VISIBLE_100_PCT=d}),66);
__d("useCometDisplayTimingTracker",["InteractionTracingMetrics","performanceNow","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i;b=i||d("react");b.useCallback;var j=b.useRef;function a(a,b){var e=d("react-compiler-runtime").c(3),f=j(null),g;e[0]!==b||e[1]!==a?(g=function(d){if(f.current!==d){f.current=d;if(d){var e=(h||(h=c("performanceNow")))();b!=null?c("InteractionTracingMetrics").addMountPoint(b,e,a):c("InteractionTracingMetrics").currentInteractionLogger().forEach(function(b){return c("InteractionTracingMetrics").addMountPoint(b.traceId,e,a)})}}},e[0]=b,e[1]=a,e[2]=g):g=e[2];return g}g["default"]=a}),98);
__d("useCometGHLFeedSurvey",["CometGHLTracker","DebugOwl","GhlSwankFalcoEvent","cr:1088657","react","useCometGHLDisplayMonitor","useMergeRefs","useUnsafeRef_DEPRECATED"],(function(a,b,c,d,e,f,g){"use strict";var h,i;e=i||d("react");var j=e.useCallback,k=e.useEffect;function a(a){var e=a.encryptedToken,f=a.isDisabled;f=f===void 0?!1:f;var g=a.position,i=(h||(h=c("useUnsafeRef_DEPRECATED")))(!1);a=j(function(a){if(i.current||e==null)return;i.current=!0;c("GhlSwankFalcoEvent").log(function(){return{hd:String(a),sli:String(g),xt:e}});var f=l.current;if(f!==null){d("CometGHLTracker").m(f);b("cr:1088657")&&b("cr:1088657").b({e:f,hd:a,token:(f=e)!=null?f:""})}},[e,g]);var l=c("useCometGHLDisplayMonitor")(!i.current&&!f,a);k(function(){var a=l.current;return function(){a&&d("CometGHLTracker").d(a)}},[l]);f=j(function(a){c("DebugOwl").nest(a,{location:"FEED",position:g})},[g]);return c("useMergeRefs")(l,f)}f=a;g["default"]=f}),98);
__d("useFullViewImpression",["react","react-compiler-runtime","useVisibilityObserver"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");b.useCallback;var i=b.useRef;function a(a){var b=d("react-compiler-runtime").c(7),e=a.onFullViewStart;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(a={bottomRight:!1,hasBeenFullyViewed:!1,topLeft:!1},b[0]=a):a=b[0];var f=i(a);b[1]!==e?(a=function(a){var b=a.entry;a=a.isElementVisible;if(!a&&f.current.hasBeenFullyViewed)f.current={bottomRight:!1,hasBeenFullyViewed:!1,topLeft:!1};else if(a&&!f.current.hasBeenFullyViewed){b.intersectionRatio===1?(f.current.bottomRight=!0,f.current.topLeft=!0):(f.current.bottomRight||(f.current.bottomRight=b.boundingClientRect.bottom<=b.rootBounds.bottom&&b.boundingClientRect.right<=b.rootBounds.right),f.current.topLeft||(f.current.topLeft=b.boundingClientRect.top>=b.rootBounds.top&&b.boundingClientRect.left>=b.rootBounds.left));if(f.current.bottomRight&&f.current.topLeft){f.current.hasBeenFullyViewed=!0;return e({currentTime:Date.now()})}}},b[1]=e,b[2]=a):a=b[2];a=a;var g;b[3]===Symbol["for"]("react.memo_cache_sentinel")?(g=function(a){f.current={bottomRight:!1,hasBeenFullyViewed:!1,topLeft:!1}},b[3]=g):g=b[3];g=g;var h;b[4]===Symbol["for"]("react.memo_cache_sentinel")?(h={thresholdOverride:"EXPENSIVE"},b[4]=h):h=b[4];b[5]!==a?(g={onHidden:g,onIntersection:a,options:h},b[5]=a,b[6]=g):g=b[6];return c("useVisibilityObserver")(g)}g["default"]=a}),98);
__d("useStoryFullViewLogger",["CometMetricsFullViewFalcoEvent","react","react-compiler-runtime","requireDeferred","useFullViewImpression","uuidv4"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");b.useCallback;var i=b.useRef,j=c("requireDeferred")("Banzai").__setRef("useStoryFullViewLogger");function a(a,b,e){e=d("react-compiler-runtime").c(5);var f=i(!1),g;e[0]!==b||e[1]!==a?(g=function(d){if(!f.current&&a!=null){f.current=!0;var e=a,g=b,h=c("uuidv4")(),i={csp:g,event_trace_id:h,xt:e};c("CometMetricsFullViewFalcoEvent").log(function(){return{csp:g.toString(),event_trace_id:h,xt:e}});j.onReady(function(a){a.post("comet_metrics:full_view",i)})}},e[0]=b,e[1]=a,e[2]=g):g=e[2];g=g;var h;e[3]!==g?(h={onFullViewStart:g},e[3]=g,e[4]=h):h=e[4];return c("useFullViewImpression")(h)}g["default"]=a}),98);
__d("useStoryObserverImpressionLogger",["BrandSafetyOpportunityLossRateFalcoEvent","CometAdsProductLogger","CometFeed5sImpressionDelayContext","CometFeedAdsProductContext","CometFeedBrandSafetyContext","CometFeedBrandSafetyLoggingUtil","CometFeedUnitStatusListPassiveContext","CometGHLTracker","CometMetricsViewableImpressionFalcoEvent","CometTimeSpentNavigation","DebugOwl","FBLogger","WebSession","cr:1813330","ghlTestUBT","gkx","justknobx","randomInt","react","registerSourceForView","sendImpressionEnterActionValidationData","sendImpressionExitActionValidationData","setTimeout","useMinifiedProductAttribution","usePartialViewImpression","uuidv4"],(function(a,b,c,d,e,f,g){"use strict";var h;e=h||d("react");var i=e.useCallback,j=e.useContext,k=e.useEffect,l=e.useRef,m={can_delay_log_impression:!1,subsequent_gap_in_ms:6e4},n=5e3;function a(a,e,f,g,h,p){g===void 0&&(g=!1);h===void 0&&(h=null);var q=babelHelpers["extends"]({},m,f),r=l(null),s=l(null),t=l(null),u=l(!1),v=l(!1),w=c("useMinifiedProductAttribution")();k(function(){c("ghlTestUBT")(function(a){u.current=a})},[]);k(function(){return function(){r.current=null,v.current=!1,t.current=null}},[h]);var x=j(c("CometFeedUnitStatusListPassiveContext")),y=j(c("CometFeedBrandSafetyContext")),z=j(c("CometFeed5sImpressionDelayContext"));f=j(c("CometFeedAdsProductContext"));var A=f.adId,B=f.minGapRule,C=f.minGapType;h=i(function(f){var h=f.entry,i=f.visibleTime;c("DebugOwl").perch(h.target);b("cr:1813330")==null?void 0:b("cr:1813330").setNewsFeedStoryPosition(e);var j=function(b,f){f=Date.now();var g=c("CometTimeSpentNavigation").getPathInfo(),h=d("CometGHLTracker").c(b.target);c("DebugOwl").fly(b.target);var j=e,k=Math.floor(f/1e3),l=f+"_"+(c("randomInt")(0,4294967295)+1),m=h,n=g?g.name:null,q=d("WebSession").getId(),r=b.visiblePercentage,s=a,t=c("uuidv4")(),u=d("CometFeedBrandSafetyLoggingUtil").getBrandSafetyFieldForAdImpression(x,y,e),D;if(c("justknobx")._("616")){j==null&&c("FBLogger")("comet_impression").mustfix("storyPosition param %s is invalid. event_trace_id: %s, aidv2: %s",j,t,w);D=(f=j==null?void 0:j.toString())!=null?f:"0"}else D=j.toString();c("CometMetricsViewableImpressionFalcoEvent").logImmediately(function(){return{aidv2:w,brs:u,csp:D,cts:k.toString(),etid:l,event_trace_id:t,hba:m,isv:"1",me:n,sk:q,vp:r.toString(),xt:s}});if(x){h=x();((g=h[j])==null?void 0:g.category)==="SPONSORED"&&(z.hasAnyAdImpressionAlreadyBeenLogged===!1&&(z.hasAnyAdImpressionAlreadyBeenLogged=!0,z.firstLoggedAdImpressionStoryPosition=e))}o(u,p,i,e);d("CometAdsProductLogger").logCometAdsProductGapRule({adId:A,csp:D,cts:k.toString(),endPoint:n,getFeedUnitStatusList:x,hba:m,isv:"1",minGapRule:B,minGapType:C,sessionKey:q,tracking:s,vp:r.toString()});c("registerSourceForView")(null,s);v.current=!0},k={boundingClientRect:h.boundingClientRect,impressedAt:i,intersectionRect:h.intersectionRect,invisibleReason:null,rootBounds:h.rootBounds,status:"ENTER",target:h.target,visible:!0,visiblePercentage:h.intersectionRatio};g&&c("sendImpressionEnterActionValidationData")("impression_api_comet_enter",k,null,{csp:e,pre_rs:r.current,xt:a});if(t.current||s.current)return;if(q.can_delay_log_impression===!0&&(u.current||d("CometGHLTracker").b()||c("gkx")("23488"))){z.hasUserSeenAnyAd===!1&&(z.hasUserSeenAnyAd=!0,z.firstAdStoryPosition=e);f=c("gkx")("23490");h=f;f=d("CometGHLTracker").b();var l=!z.hasAnyAdImpressionAlreadyBeenLogged;h=h||f||l?n:0;c("gkx")("1718")?f=h:f=n;s.current=c("setTimeout")(function(){j&&j(k,"AD_BLOCKER"),s.current=null},f)}else j&&j(k,v.current?"DEDUP":"ORIGINAL")},[g,q.can_delay_log_impression,e,a,w]);f=i(function(b){var d=b.hiddenReason,f=b.visibleDuration;b=b.visibleTime;g&&c("sendImpressionExitActionValidationData")("impression_api_comet_exit",{impressedAt:b,invisibleReason:d,visiblePercentage:0},null,{csp:e,duration:f,pre_rs:r.current,xt:a});r.current=d;if(t.current)return;(v.current||s.current)&&(t.current=c("setTimeout")(function(){v.current=!1,t.current=null},q.subsequent_gap_in_ms))},[q.subsequent_gap_in_ms,e,a,g]);return c("usePartialViewImpression")({onImpressionEnd:f,onImpressionStart:h})}function o(a,b,d,e){var f=a==null?void 0:a.brs_filter_setting;if(c("BrandSafetyOpportunityLossRateFalcoEvent")!=null&&parseInt(f,10)>0){var g=a==null?void 0:a.unit_after,h=a==null?void 0:a.unit_before;c("BrandSafetyOpportunityLossRateFalcoEvent").log(function(){var a;return{ad_insertion_status:"INSERTED",ad_insertion_sub_status:"VALID_COMPATIBLE",ad_inventory_filter:String(f),adjacent_edges_info:{unit_after:g!=null?{brs_content_label:(a=g.brs_content_label)!=null?a:"",organic_tracking:(a=g.organic_tracking)!=null?a:""}:null,unit_before:h!=null?{brs_content_label:(a=h.brs_content_label)!=null?a:"",organic_tracking:(a=h.organic_tracking)!=null?a:""}:null},client_token:(a=b)!=null?a:"",feed_session_id:"",impression_original_timestamp_ms:String(d),slot_position:String(e)}})}}g["default"]=a}),98);
__d("useViewabilityImpression",["react-compiler-runtime","useVisibilityObserver"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=d("react-compiler-runtime").c(3);a=a.onIntersection;var e;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e={thresholdOverride:"MODERATE"},b[0]=e):e=b[0];b[1]!==a?(e={onIntersection:a,options:e},b[1]=a,b[2]=e):e=b[2];return c("useVisibilityObserver")(e)}g["default"]=a}),98);
__d("useStoryViewabilityDurationLogger",["Banzai","CometMetricsViewabilityFalcoEvent","PercentVisible","react","react-compiler-runtime","useViewabilityImpression","uuidv4"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");b.useCallback;var i=b.useRef;function j(a,b,d){c("CometMetricsViewabilityFalcoEvent").logImmediately(function(){return{cumulative:a.cumulative.toString(),duration:a.duration.toString(),event_trace_id:b,interval:a.interval.toString(),segment_id:a.segmentid.toString(),start_ts:a.startTs.toString(),view_event_type:a.eventType.toString(),xt:d}})}function a(a,b,e){b=d("react-compiler-runtime").c(4);var f=i(null),g=i(null),h=i(null);b[0]!==a?(e=function(b){var e=b.entry;b=b.isElementVisible;var i=k,m=function(b){var d=c("uuidv4")(),e={cumulative:b.cumulative,duration:b.duration,event_trace_id:d,eventType:b.eventType,interval:b.interval,segmentid:b.segmentid,startTs:b.startTs,xt:a};j(b,d,a);b=babelHelpers["extends"]({},c("Banzai").VITAL,{signal:!1});c("Banzai").post("comet_metrics:viewability",e,b)},n=function(a,b,c){if(c==null)return null;b=i(a,c);m(b);return null},o=function(a,b,c){c==null?b={cumulative:0,duration:0,eventType:b,interval:0,segmentid:0,startTs:a}:b=i(a,c);b.segmentid<=2&&m(b);return b};!b?(f.current=n(e.time,d("PercentVisible").VISIBLE_0_PCT,f.current),g.current=n(e.time,d("PercentVisible").VISIBLE_50_PCT,g.current),h.current=n(e.time,d("PercentVisible").VISIBLE_100_PCT,h.current)):e.intersectionRatio<.5?(f.current=o(e.time,d("PercentVisible").VISIBLE_0_PCT,f.current),g.current=n(e.time,d("PercentVisible").VISIBLE_50_PCT,g.current),h.current=n(e.time,d("PercentVisible").VISIBLE_100_PCT,h.current)):e.intersectionRatio>=.5&&e.intersectionRatio<1?(f.current=o(e.time,d("PercentVisible").VISIBLE_0_PCT,f.current),g.current=o(e.time,d("PercentVisible").VISIBLE_50_PCT,g.current),h.current=n(e.time,d("PercentVisible").VISIBLE_100_PCT,h.current)):(f.current=o(e.time,d("PercentVisible").VISIBLE_0_PCT,f.current),g.current=o(e.time,d("PercentVisible").VISIBLE_50_PCT,g.current),h.current=o(e.time,d("PercentVisible").VISIBLE_100_PCT,h.current))},b[0]=a,b[1]=e):e=b[1];e=e;var l;b[2]!==e?(l={onIntersection:e},b[2]=e,b[3]=l):l=b[3];return c("useViewabilityImpression")(l)}function k(a,b){return{cumulative:a-b.startTs,duration:a-b.startTs,eventType:b.eventType,interval:a-b.cumulative-b.startTs,segmentid:b.segmentid+1,startTs:b.startTs}}g["default"]=a}),98);
__d("useStoryViewabilityLogger",["mergeRefs","react","useCometGHLFeedSurvey","useStoryFullViewLogger","useStoryObserverImpressionLogger","useStoryVPVDLogger","useStoryViewabilityDurationLogger"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useMemo;function k(a,b,c){return l}function l(){return null}function a(a){var b=a.clientToken,d=a.clientViewConfig;d=d===void 0?null:d;var e=a.contentIdentifier;e=e===void 0?null:e;var f=a.disabledViewabilityEventTypes,g=a.encryptedTracking,h=a.position,l=a.shouldDisableGHLSurvey,m=l===void 0?!1:l,n=a.viewabilityConfig;l=a.vpvdOptionalData;a=[];function o(a,b){return n&&n.includes(a)&&(!f||!f.includes(a))?b:null}var p=!!n&&n.some(function(a){return a===7}),q=o(8,c("useStoryObserverImpressionLogger")(g,h,d,p,e,b)),r=o(7,k(g,h,d)),s=o(2,c("useStoryFullViewLogger")(g,h,d)),t=o(3,c("useStoryViewabilityDurationLogger")(g,h,d));p=c("useStoryVPVDLogger")(babelHelpers["extends"]({},l,{position:h,trackable:g}));e=p[0];b=p[1];a.push(b);var u=o(5,e),v=c("useCometGHLFeedSurvey")({clientViewConfig:d,encryptedToken:g,isDisabled:m,position:h});l=j(function(){return c("mergeRefs")(q,r,s,t,u,m?null:v,null)},[q,r,s,t,u,m,v]);return{debuggingInfoLoggers:a.map(function(a,b){return i.jsx("div",{children:a},b)}),ref:l}}g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("BaseDataEntryKeyBuilder",[],(function(a,b,c,d,e,f){"use strict";function a(a){a=a.key;return a.trimLeft().toLowerCase()}f["default"]=a}),66);
__d("BaseCacheEntryKeyBuilder",["BaseDataEntryKeyBuilder"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return c("BaseDataEntryKeyBuilder")(a.entry)}g["default"]=a}),98);
__d("BaseDataEntryLabelKeyBuilder",[],(function(a,b,c,d,e,f){"use strict";function a(a){return a.label.trimLeft().toLowerCase()}f["default"]=a}),66);
__d("BaseCacheEntryLabelKeyBuilder",["BaseDataEntryLabelKeyBuilder"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return c("BaseDataEntryLabelKeyBuilder")(a.entry)}g["default"]=a}),98);
__d("BaseTypeaheadDataCacheProvider",["BaseDataEntryLabelKeyBuilder"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){var b=a.cache,d=a.matchBuilder,e=a.mergeBuilder;a=a.keyBuilder;a=a===void 0?c("BaseDataEntryLabelKeyBuilder"):a;this.$1=b;this.$2=d;this.$3=e;this.$4=a}var b=a.prototype;b.add=function(a){var b=this;a.forEach(function(a){var c=b.$4(a),d=b.$1.get(c);b.$1.set(c,d!=null&&b.$3!=null?b.$3(a,d):a)})};b.clear=function(){this.$1.clear()};b.remove=function(a){a=this.$4(a);this.$1.remove(a)};b.match=function(a){var b=this.$2({query:a});return this.$1.values().map(function(a){return a.type==="section"?babelHelpers["extends"]({},a):babelHelpers["extends"]({},a)}).filter(function(a){if(a.type==="section"){a.entries=a.entries.filter(b);return!0}else return b(a)})};b.values=function(){return this.$1.values()};return a}();g["default"]=a}),98);
__d("XPlatReactRelayErrorHandling",["CometRelayErrorHandling"],(function(a,b,c,d,e,f){"use strict";a=importNamespace("CometRelayErrorHandling").markErrorAsHandled;f.markErrorAsHandled=a}),66);
__d("BaseTypeaheadDataProvider",["CometRelay","Promise","XPlatReactRelayErrorHandling"],(function(a,b,c,d,e,f,g){"use strict";var h;a=function(){function a(a){var b=a.onError,c=a.options,d=a.query,e=a.queryVariablesBuilder;a=a.relayEnvironment;this.$1=b;this.$2=d;this.$3=e;this.$4=a;this.$5=c}var c=a.prototype;c.fetch=function(a){var c=this,e=this.$3.build(),f=e(a);return new(h||(h=b("Promise")))(function(a,b){var e,g=!1;d("CometRelay").fetchQuery(c.$4,c.$2,f,{fetchPolicy:(e=c.$5)==null?void 0:e.fetchPolicy}).subscribe({error:function(a){d("XPlatReactRelayErrorHandling").markErrorAsHandled(a),c.$1!=null&&c.$1(a),b(a)},next:function(b){g||(g=!0,a({requestQueryVariables:f,response:b}))}})})};return a}();g["default"]=a}),98);
__d("BaseTypeaheadDataProviderQueryVariablesBuilder",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a){this.$1=null,this.$2=null,this.$3=a}var b=a.prototype;b.build=function(){return this.$3(this.$1,this.$2)};b.setComputedVariables=function(a){this.$2=a;return this};b.setDefaultVariables=function(a){this.$1=a;return this};return a}();f["default"]=a}),66);
__d("BaseTypeaheadInMemoryMapDataCache",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1=new Map()}var b=a.prototype;b.clear=function(){this.$1.clear()};b.get=function(a){return this.$1.get(a)};b.has=function(a){return this.$1.has(a)};b.remove=function(a){this.$1["delete"](a)};b.set=function(a,b){this.$1.set(a,b)};b.values=function(){return Array.from(this.$1.values())};return a}();f["default"]=a}),66);
__d("BaseTypeaheadNetworkDataSource",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a,b){this.$1=a,this.$2=b}var b=a.prototype;b.fetchNetwork=function(a){var b=this;return this.$1.fetch(a).then(function(c){var d=c.requestQueryVariables;c=c.response;return{entries:b.$2(c,d),params:a}})};return a}();f["default"]=a}),66);
__d("BaseTypeaheadNetworkCacheDataSource",["BaseTypeaheadNetworkDataSource"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a,b,d){d=d.normalizeFunc;this.$1=new(c("BaseTypeaheadNetworkDataSource"))(a,d);this.$2=b}var b=a.prototype;b.fetchCache=function(a){var b=a.query;b=this.$2.match(b);return{entries:b,params:a}};b.fetchNetwork=function(a){var b=this,c=a.query;return this.$1.fetchNetwork(a).then(function(d){d=d.entries;d!=null&&b.$2.add(d,c);return{entries:b.$2.match(c),params:a}})};b.clearCache=function(){this.$2.clear()};return a}();g["default"]=a}),98);
__d("searchBaseTypeaheadTakeNEntriesFromSectionedEntries",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){if(b===0)return[];b=g(a,b);var c=b.entryIndex;b=b.entryUnionIndex;if(b===void 0)return a;a=a.slice(0,b+1);if(c!==void 0&&b!==void 0){b=a[b];b.type==="section"&&(b.entries=b.entries.slice(0,c+1))}return a}function g(a,b){b=b;for(var c=0;c<a.length;c++){var d=a[c];if(d.type!=="section"){b--;if(b===0)return{entryUnionIndex:c}}else if(b<=d.entries.length)return{entryIndex:b-1,entryUnionIndex:c};else b-=d.entries.length}return{}}f["default"]=a}),66);
__d("BaseTypeaheadPayloadDecoratorAddLimit",["searchBaseTypeaheadTakeNEntriesFromSectionedEntries"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return function(b){var d=b.entries;return babelHelpers["extends"]({},b,{entries:c("searchBaseTypeaheadTakeNEntriesFromSectionedEntries")(d,a)})}}g["default"]=a}),98);
__d("baseTypeaheadDedupEntriesBuilder",["baseTypeaheadFlattenEntries"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return function(b,d){var e=new Set(c("baseTypeaheadFlattenEntries")(b).map(function(b){return a(b)})),f=new Map();for(var g of b){if(g.type!=="section")continue;f.set(g.key,g)}g=d.map(function(b){if(b.type==="section"){var c=b.entries.filter(function(b){return!e.has(a(b))});if(c.length===0)return null;var d=f.get(b.key);if(d!=null){d.entries=[].concat(d.entries,c);return null}else{b.entries=c;return b}}else return e.has(a(b))?null:b}).filter(Boolean);return[].concat(b,g)}}g["default"]=a}),98);
__d("baseTypeaheadLabelSuffixBuilder",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){a=a.label.trimLeft().toLowerCase();return b==null||!a.startsWith(b)?"":a.slice(b.length)}f["default"]=a}),66);
__d("BaseTypeaheadQueryDataCacheProvider",["BaseCacheEntryLabelKeyBuilder","BaseTypeaheadInMemoryMapDataCache","baseTypeaheadDedupEntriesBuilder","baseTypeaheadLabelSuffixBuilder","recoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){a=a===void 0?{}:a;var b=a.dedupe;a=a.suffixBuilder;this.$1=new(c("BaseTypeaheadInMemoryMapDataCache"))();this.$2=(b=b)!=null?b:c("baseTypeaheadDedupEntriesBuilder")(c("BaseCacheEntryLabelKeyBuilder"));this.$3=(b=a)!=null?b:c("baseTypeaheadLabelSuffixBuilder")}var b=a.prototype;b.add=function(a,b){b===void 0&&(b="");b=((b=b)!=null?b:"").trimLeft().toLowerCase();a=this.$4(a,b);this.$1.set(b,a)};b.clear=function(){this.$1.clear()};b.match=function(a){a=a.trimLeft().toLowerCase();if(a===""){var b;return((b=this.$1.get(a))!=null?b:[]).map(function(a){a=a.entry;return a})}b=[];for(var c=1;c<=a.length;c++){var d=a.substring(0,c),e=a.substring(c,a.length);d=this.$5(d,e);b=this.$2(b,d)}return b.map(function(a){a=a.entry;return a})};b.remove=function(a){c("recoverableViolation")("'remove' is not implemented for BaseTypeaheadQueryDataCacheProvider","search")};b.$5=function(a,b){a=(a=this.$1.get(a))!=null?a:[];return a.map(function(a){return!a.suffix.startsWith(b)&&a.suffix!==b.trim()?null:a}).filter(Boolean)};b.$4=function(a,b){var c=this;return a.map(function(a){return{entry:a,suffix:c.$3(a,b)}})};b.values=function(){c("recoverableViolation")("'entries' is not implemented for BaseTypeaheadQueryDataCacheProvider","search");return[]};return a}();g["default"]=a}),98);
__d("CometInternalTypeaheadFetchContext",["emptyFunction","react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b=a.createContext({fetch:c("emptyFunction"),isLoading:!1,refetch:c("emptyFunction"),source:"all"});g["default"]=b}),98);
__d("CometInternalTypeaheadStateContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b=a.createContext({activeEntries:[],highlightedEntry:null,highlightedEntrySource:null,secondaryActionHighlighted:null});g["default"]=b}),98);
__d("cometTypeaheadKeyboardNavigationUtils",[],(function(a,b,c,d,e,f){"use strict";function g(a,b,c,d){var e;if(a.length===0){c(null,null);return}var f=b!=null?a.findIndex(function(a){return a.key===b})+1:0;f===a.length&&(f=0);e=(e=(e=a[f])==null?void 0:e.hasSecondaryAction)!=null?e:!1;c(a[f],e?d:null)}function h(a,b,c,d){var e;if(a.length===0){c(null,null);return}var f=b!=null?a.findIndex(function(a){return a.key===b})-1:a.length-1;f===-1&&(f=a.length-1);e=(e=(e=a[f])==null?void 0:e.hasSecondaryAction)!=null?e:!1;c(a[f],e?d:null)}function a(a,b,c,d){if(a.length===0){c(null,!1);return}if(d===!0){d=a.findIndex(function(a){return a.key===b});c(a[d],!1)}else h(a,b,c,!0)}function b(a,b,c,d){if(a.length===0){c(null,!1);return}if(d===!0)g(a,b,c,!1);else{d=a.findIndex(function(a){return a.key===b});c(a[d],!0)}}f.moveDown=g;f.moveUp=h;f.moveLeft=a;f.moveRight=b}),66);
__d("cometTypeaheadODSLogFetchCacheEvent",["requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h=c("requireDeferred")("ODS").__setRef("cometTypeaheadODSLogFetchCacheEvent");function a(a,b,c){b===void 0&&(b=!0);c===void 0&&(c=1);if(!b)return;h.onReady(function(b){b.bumpEntityKey(354,a,"fetched-cache",c)})}g["default"]=a}),98);
__d("cometTypeaheadODSLogFetchNetworkEvent",["requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h=c("requireDeferred")("ODS").__setRef("cometTypeaheadODSLogFetchNetworkEvent");function a(a,b,c){b===void 0&&(b=!0);c===void 0&&(c=1);if(!b)return;h.onReady(function(b){b.bumpEntityKey(354,a,"fetched-network",c)})}g["default"]=a}),98);
__d("useBaseTypeaheadDataSourceFetchResolverCache",["react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h;(h||d("react")).useCallback;function a(a){var b=d("react-compiler-runtime").c(2),c=a.dataSource;b[0]!==c?(a=function(a){var b=a.onResolvePayload;a=a.requestParams;var d=a.perfTraceAPI;a=c.fetchCache(a);d&&d.addMarkerPoint("cachedResponse","AppTiming");b(a);return a},b[0]=c,b[1]=a):a=b[1];return a}g["default"]=a}),98);
__d("useBaseTypeaheadDataSourceFetchResolverNetwork",["promiseDone","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");b.useCallback;var i=b.useEffect,j=b.useRef,k=b.useState;function a(a){var b=d("react-compiler-runtime").c(9),e=a.dataSource;a=k(!1);var f=a[0],g=a[1],h=j(0),l=j(!1),m;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(a=function(){l.current=!1;return function(){l.current=!0}},m=[],b[0]=a,b[1]=m):(a=b[0],m=b[1]);i(a,m);b[2]!==e?(a=function(a){var b=a.onResolvePayload;a=a.requestParams;h.current=h.current+1;var d=h.current,f=a.perfTraceAPI;g(!0);c("promiseDone")(e.fetchNetwork(a).then(function(a){!l.current&&d===h.current&&(b(a),f&&f.addMarkerPoint("networkResponse","AppTiming"))})["finally"](function(){!l.current&&d===h.current&&(h.current=0,g(!1))}))},b[2]=e,b[3]=a):a=b[3];m=a;b[4]!==f?(a={isLoading:f},b[4]=f,b[5]=a):a=b[5];b[6]!==m||b[7]!==a?(f=[a,m],b[6]=m,b[7]=a,b[8]=f):f=b[8];return f}g["default"]=a}),98);
__d("useBaseTypeaheadDataSourceFetchResolver",["baseTypeaheadFlattenEntries","cometTypeaheadODSLogFetchCacheEvent","cometTypeaheadODSLogFetchNetworkEvent","emptyObject","react","recoverableViolation","useBaseTypeaheadDataSourceFetchResolverCache","useBaseTypeaheadDataSourceFetchResolverNetwork","useDebouncedComet"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useEffect,j=b.useRef,k=8;function a(a,b){var d=a.dataSource,e=a.dataSourceFetchConfigParams,f=a.onResolvePayload;e=(a=e)!=null?a:c("emptyObject");a=e.renderLimit;var g=a===void 0?k:a;a=e.bypassCacheRenderLimitCheck;var h=a===void 0?!1:a;a=e.shouldDebounceNetwork;var l=a===void 0?!0:a;a=e.networkDebounceWaitDuration;e=e.requestFlow;var m=j(e),n=c("useBaseTypeaheadDataSourceFetchResolverCache")({dataSource:d});e=c("useBaseTypeaheadDataSourceFetchResolverNetwork")({dataSource:d});var o=e[0].isLoading,p=e[1],q=c("useDebouncedComet")(p,{wait:a});function r(){var a=!1;function e(b,d){var e=d.isTraceComplete;d=d.source;try{a||f(b,{isTraceComplete:e,source:d})}catch(b){a||c("recoverableViolation")("Failed to resolve fetched payload","search")}}function i(a){var b=a.requestParams;a=a.source;var f=b.requestFlow;f!=null&&(m.current=f);if(typeof d.fetchCache==="function"&&["all","cache"].includes(a)){f=n({onResolvePayload:function(a){var b=a.entries;b=c("baseTypeaheadFlattenEntries")(b).length;e(a,{isTraceComplete:!h&&b>=g,source:"cache"});c("cometTypeaheadODSLogFetchCacheEvent")&&c("cometTypeaheadODSLogFetchCacheEvent")("comet.ta.fetch",!0,1)},requestParams:b});f=f;f=f.entries;f=c("baseTypeaheadFlattenEntries")(f).length;if(!h&&f>=g)return}if(typeof d.fetchNetwork==="function"&&["all","network"].includes(a)){f={onResolvePayload:function(a){e(a,{isTraceComplete:!0,source:a.entries.length>0?"network":"network-no-results"}),c("cometTypeaheadODSLogFetchNetworkEvent")&&c("cometTypeaheadODSLogFetchNetworkEvent")("comet.ta.fetch",!0,1)},requestParams:babelHelpers["extends"]({},b,{requestFlow:m.current})};Boolean(l)?q(f):p(f)}}b!=null&&i(b);return function(){a=!0}}i(r,[b]);return[{isLoading:o}]}g["default"]=a}),98);
__d("useBaseTypeaheadDataSourceFetch",["react","react-compiler-runtime","recoverableViolation","useBaseTypeaheadDataSourceFetchResolver"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");b.useCallback;var i=b.useState;function a(a){var b,e=d("react-compiler-runtime").c(9),f=i(null),g=f[0],h=f[1];f=c("useBaseTypeaheadDataSourceFetchResolver")(a,g);a=f[0];f=a.isLoading;e[0]===Symbol["for"]("react.memo_cache_sentinel")?(a=function(a,b){b=b===void 0?"all":b;h({requestParams:a,source:b})},e[0]=a):a=e[0];var j=a;e[1]!==g?(a=function(a){a=a||{};var b=a.requestFlow;a=a.source;if(g==null){c("recoverableViolation")("Refetch cannot be called with undefined `fetchParams`","search");return}var d=g.requestParams,e=d.loggingEventTrace;d=babelHelpers.objectWithoutPropertiesLoose(d,["loggingEventTrace"]);e=babelHelpers["extends"]({loggingEventTrace:babelHelpers["extends"]({},e,{sequenceID:String(Date.now())}),requestFlow:b},d);j(e,a)},e[1]=g,e[2]=a):a=e[2];a=a;b=(b=g==null?void 0:g.source)!=null?b:"all";var k;e[3]!==f||e[4]!==b?(k={isLoading:f,source:b},e[3]=f,e[4]=b,e[5]=k):k=e[5];e[6]!==a||e[7]!==k?(f=[k,j,a],e[6]=a,e[7]=k,e[8]=f):f=e[8];return f}g["default"]=a}),98);
__d("useCometInternalTypeaheadFetch",["CometInternalTypeaheadFetchContext","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useContext;function a(){return i(c("CometInternalTypeaheadFetchContext"))}g["default"]=a}),98);
__d("useCometTypeaheadViewLabel",["fbt","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i;(i||d("react")).useMemo;function a(a){var b=d("react-compiler-runtime").c(3);a=a.activeEntries;bb0:{a=a.length;if(a===0){var c;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(c=h._(/*BTDS*/"No suggested searches."),b[0]=c):c=b[0];c=c;break bb0}var e;b[1]!==a?(e=h._(/*BTDS*/"_j{\"*\":\"{number} suggested searches\",\"_1\":\"1 suggested search\"}",[h._plural(a,"number")]),b[1]=a,b[2]=e):e=b[2];c=e}return c}g["default"]=a}),226);
__d("useCometTypeaheadLayoutContextualStrategyARIAProps",["react","react-compiler-runtime","useCometInternalTypeaheadFetch","useCometTypeaheadViewLabel"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useId;b.useMemo;function a(a){var b=d("react-compiler-runtime").c(29),e=a.activeEntries,f=a.helperText,g=a.highlightedEntry,h=a.inputLabel,j=a.isOpened,k=a.secondaryActionHighlighted;a=a.viewRole;h=h===void 0?"":h;var l=i(),m=c("useCometInternalTypeaheadFetch")();m=m.isLoading;var n=i(),o;b[0]!==e?(o={activeEntries:e},b[0]=e,b[1]=o):o=b[1];o=c("useCometTypeaheadViewLabel")(o);var p;b[2]!==g||b[3]!==k?(p=g!=null?{"aria-activedescendant":k===!0?g.key+"-secondary-action":g.key}:{},b[2]=g,b[3]=k,b[4]=p):p=b[4];g=p;b[5]!==e.length||b[6]!==j||b[7]!==l?(k=j&&e.length>0?{"aria-controls":l}:null,b[5]=e.length,b[6]=j,b[7]=l,b[8]=k):k=b[8];p=k;b[9]!==n||b[10]!==f?(k=f!=null&&String(f).length>0?{"aria-describedby":n}:null,b[9]=n,b[10]=f,b[11]=k):k=b[11];f=k;b[12]!==m||b[13]!==l||b[14]!==o||b[15]!==a?(k={"aria-busy":m,"aria-label":o,id:l,role:a},b[12]=m,b[13]=l,b[14]=o,b[15]=a,b[16]=k):k=b[16];m=k;b[17]!==n?(l={id:n},b[17]=n,b[18]=l):l=b[18];o=e.length>0&&j;b[19]!==h||b[20]!==g||b[21]!==p||b[22]!==f||b[23]!==o?(a=babelHelpers["extends"]({},g,p,f,{"aria-autocomplete":"list","aria-expanded":o,"aria-label":h,role:"combobox"}),b[19]=h,b[20]=g,b[21]=p,b[22]=f,b[23]=o,b[24]=a):a=b[24];b[25]!==m||b[26]!==a||b[27]!==l?(k={ariaDescribedByProps:l,ariaInputProps:a,ariaViewProps:m},b[25]=m,b[26]=a,b[27]=l,b[28]=k):k=b[28];n=k;return n}g["default"]=a}),98);
__d("useCometInternalTypeaheadState",["CometInternalTypeaheadStateContext","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useContext;function a(){return i(c("CometInternalTypeaheadStateContext"))}g["default"]=a}),98);
__d("CometTypeaheadViewItem.react",["CometPressable.react","CometRow.react","CometRowItem.react","emptyFunction","react","react-compiler-runtime","react-strict-dom","useCometInternalTypeaheadState"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));h.useCallback;var j={root:{borderTopStartRadius:"x1lq5wgf",borderTopEndRadius:"xgqcy7u",borderBottomEndRadius:"x30kzoy",borderBottomStartRadius:"x9jhf4c",marginBottom:"xat24cr",marginTop:"xdj266r",paddingTop:"x1y1aw1k",paddingEnd:"x1sxyh0",paddingBottom:"xwib8y2",paddingStart:"xurb0ha",$$css:!0}},k={contentRoot:{alignItems:"x6s0dn4",cursor:"x1ypdohk",display:"x78zum5",overflowX:"x6ikm8r",overflowY:"x10wlt62",position:"x1n2onr6",$$css:!0},contentRootDisabled:{bottom:"x1ey2m1c",cursor:"x1h6gzvc",left:"xu96u03",position:"x10l6tqk",right:"x3m8u43",start:null,end:null,top:"x13vifvy",$$css:!0},contentRootEmphasized:{backgroundColor:"xlhe6ec",$$css:!0},contentRootFocused:{boxShadow:"xpud6h4",outline:"x1a2a7pz xvetz19",$$css:!0},contentRootHighlighted:{backgroundColor:"x1wpzbip xugaqoy",$$css:!0},itemIcon:{borderTopStartRadius:"x14yjl9h",borderTopEndRadius:"xudhj91",borderBottomEndRadius:"x18nykt9",borderBottomStartRadius:"xww2gxu",display:"x78zum5",$$css:!0},pressable:{flexDirection:"x1q0g3np",width:"xh8yej3",$$css:!0},pressableWithAdditionalEndContent:{flexGrow:"x1iyjqo2",flexShrink:"xs83m0k",$$css:!0},root:{display:"x78zum5",width:"xh8yej3",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(53),e=a.additionalEndContentOutsideOfPressable,f=a.children,g=a.cursorDisabled_SEARCH_ONLY,h=a.entry,l=a.isActive,m=a.isEmphasized,n=a.isDisabled,o=a.itemEndContent,p=a.itemStartContent,q=a.linkProps,r=a.onPressEntry,s=a.onPressEntryIn,t=a.overlayDisabled_SEARCH_ONLY,u=a.role,v=a.testid,w=a.xstyle,x=a.debugElement,y=a.focusable;a=a.itemEndContentKeyboardFocusable;g=g===void 0?!1:g;m=m===void 0?!1:m;n=n===void 0?!1:n;t=t===void 0?!1:t;w=w===void 0?j.root:w;y=y===void 0?!1:y;a=a===void 0?!1:a;var z=c("useCometInternalTypeaheadState")();z=z.secondaryActionHighlighted;var A;b[0]!==h||b[1]!==r?(A=function(a){r&&r(h,a)},b[0]=h,b[1]=r,b[2]=A):A=b[2];A=A;var B;b[3]!==h||b[4]!==s?(B=function(a){s&&s(h,a)},b[3]=h,b[4]=s,b[5]=B):B=b[5];B=B;var C=u==="row"?"gridcell":"none",D=a===!0&&C==="gridcell"?void 0:h.key;A=n?c("emptyFunction"):A;B=n?c("emptyFunction"):B;var E=a!==!0?C:"none",F=l&&k.contentRootHighlighted;z=l&&z!==!0&&k.contentRootFocused;m=m&&k.contentRootEmphasized;var G=e==null?k.pressable:k.pressableWithAdditionalEndContent,H;b[6]!==F||b[7]!==z||b[8]!==m||b[9]!==G||b[10]!==w?(H=[k.contentRoot,F,z,m,w,G],b[6]=F,b[7]=z,b[8]=m,b[9]=G,b[10]=w,b[11]=H):H=b[11];b[12]!==p?(F=p!=null?i.jsx(c("CometRowItem.react"),{children:i.jsx(d("react-strict-dom").html.div,{style:k.itemIcon,children:p})}):null,b[12]=p,b[13]=F):F=b[13];b[14]!==C||b[15]!==f||b[16]!==h.key||b[17]!==a?(z=a===!0&&C==="gridcell"?i.jsx(d("react-strict-dom").html.div,{id:h.key,role:C,children:f}):f,b[14]=C,b[15]=f,b[16]=h.key,b[17]=a,b[18]=z):z=b[18];b[19]!==z?(m=i.jsx(c("CometRowItem.react"),{expanding:!0,children:z}),b[19]=z,b[20]=m):m=b[20];b[21]!==C||b[22]!==h.key||b[23]!==o||b[24]!==a?(G=o!=null?i.jsx(c("CometRowItem.react"),{children:a===!0&&C==="gridcell"?i.jsx(d("react-strict-dom").html.div,{id:h.key+"-secondary-action",role:C,children:o}):o}):null,b[21]=C,b[22]=h.key,b[23]=o,b[24]=a,b[25]=G):G=b[25];b[26]!==F||b[27]!==m||b[28]!==G?(w=i.jsxs(c("CometRow.react"),{expanding:!0,paddingHorizontal:0,paddingVertical:0,verticalAlign:"center",children:[F,m,G]}),b[26]=F,b[27]=m,b[28]=G,b[29]=w):w=b[29];p=n&&k.contentRootDisabled;b[30]!==p?(f=i.jsx(d("react-strict-dom").html.div,{style:p}),b[30]=p,b[31]=f):f=b[31];b[32]!==e||b[33]!==g||b[34]!==h.label||b[35]!==y||b[36]!==n||b[37]!==q||b[38]!==t||b[39]!==A||b[40]!==B||b[41]!==E||b[42]!==H||b[43]!==w||b[44]!==f?(z=i.jsxs(c("CometPressable.react"),{cursorDisabled:g,disabled:n,display:"block",expanding:!0,focusable:y,label:h.label,linkProps:q,onPress:A,onPressIn:B,overlayDisabled:t,overlayFocusRingPosition:"inset",role:E,xstyle:H,children:[w,e,f]}),b[32]=e,b[33]=g,b[34]=h.label,b[35]=y,b[36]=n,b[37]=q,b[38]=t,b[39]=A,b[40]=B,b[41]=E,b[42]=H,b[43]=w,b[44]=f,b[45]=z):z=b[45];b[46]!==x||b[47]!==l||b[48]!==u||b[49]!==D||b[50]!==z||b[51]!==v?(C=i.jsxs(d("react-strict-dom").html.li,{"aria-selected":l,"data-testid":void 0,id:D,role:u,style:k.root,children:[x,z]}),b[46]=x,b[47]=l,b[48]=u,b[49]=D,b[50]=z,b[51]=v,b[52]=C):C=b[52];return C}g["default"]=a}),98);
__d("baseTypeaheadStartsWithMatchBuilder",["escapeRegex"],(function(a,b,c,d,e,f,g){"use strict";function a(a){a=a.query;var b=new RegExp("^"+c("escapeRegex")(a),"i");return function(a){return b.test((a=a.label)!=null?a:"")}}g["default"]=a}),98);
__d("CometTypeaheadProgressGlimmer.react",["FDSProgressRingIndeterminate.react","react","react-compiler-runtime","react-strict-dom"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={root:{alignItems:"x6s0dn4",display:"x78zum5",flexGrow:"x1iyjqo2",height:"xdd8jsf",justifyContent:"xl56j7k",$$css:!0}};function a(){var a=d("react-compiler-runtime").c(1),b;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b=i.jsx(d("react-strict-dom").html.div,{style:j.root,children:i.jsx(c("FDSProgressRingIndeterminate.react"),{color:"dark",size:24})}),a[0]=b):b=a[0];return b}g["default"]=a}),98);
__d("baseTypeaheadFetchPayloadDecorate",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){b===void 0&&(b=[]);var c=a;b.forEach(function(a){c=a(c)});return c}f["default"]=a}),66);/*FB_PKG_DELIM*/
__d("ACTSanitizerApiTypes",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum")({Valid:0,UrlFailure:1,MessageTextFailure:2,CtaFailure:3});f.ACTSanitizerValidationResult=a}),66);
__d("LSIssueNewError",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[],d=[];return b.sequence([function(d){return c[0]=b.i64.of_float(Date.now()),b.db.table(6).add({errorId:void 0,taskId:a[0],errorCode:a[1],errorTitleText:a[2],errorBodyText:a[3],issuedTimestampMs:c[0],errorExtraData:a[4],presentationStyle:a[5]})},function(a){return b.resolve(d)}])}a.__sproc_name__="LSCoreIssueNewErrorStoredProcedure";a.__tables__=["user_visible_errors"];e.exports=a}),null);
__d("MAWChatJid",["FBLogger","I64","MAWJids","MAWMiActMappingTableAPI","ReQL"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(a,b){try{return d("MAWMiActMappingTableAPI").getMappingRowForIntJid(a,d("MAWJids").convertChatJidToIntJid(b)).then(function(a){return a==null?void 0:a.serverThreadKey})}catch(a){c("FBLogger")("messenger_web").catching(a).warn("Invalid chatJid: "+b);return Promise.reject(a)}}function a(a,b,d){return i(a,b).then(function(a){if(a!=null)return a;throw c("FBLogger")("messenger_web").mustfixThrow("[toThreadKey] No mapping record for chatJid, source: %s",d)})}async function b(a,b){b=await i(a,b);return b==null?void 0:d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.threads).getKeyRange(b))}function e(a,b){try{return d("MAWMiActMappingTableAPI").getMappingRowForIntJid(a,b).then(function(a){return a==null?void 0:a.serverThreadKey})}catch(a){c("FBLogger")("messenger_web").catching(a).warn("Invalid integer jid: "+(h||(h=d("I64"))).to_string(b));return Promise.reject(a)}}g.toThreadKeyMaybe=i;g.toThreadKey=a;g.toThreadMaybe=b;g.toThreadKeyMaybeForChatJidInteger=e}),98);
__d("WAStanzaUtils",[],(function(a,b,c,d,e,f){"use strict";function a(a){return a}f.toStanzaId=a}),66);
__d("MAWExternalId",["I64","Random","WAStanzaUtils"],(function(a,b,c,d,e,f,g){"use strict";var h,i=131071;function j(a){return Math.floor(c("Random").random()*a)}function a(){return d("WAStanzaUtils").toStanzaId((h||(h=d("I64"))).to_string(h.and_(h.or_(h.lsl_(h.of_float(Date.now()),22),h.and_(h.of_float(j(i)),h.of_float(i))),h.max_int)))}g.generateExternalId=a}),98);
__d("MAWThreadId",["LSMessagingThreadTypeUtil","ReQL"],(function(a,b,c,d,e,f,g){"use strict";async function h(a,b){a=await d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.threads).getKeyRange(b));return a==null?void 0:a.threadType}async function a(a,b){a=await h(a,b);return a==null?!1:d("LSMessagingThreadTypeUtil").isArmadilloSecure(a)}function b(a,b){return d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.threads).getKeyRange(b))}g.isSecureThreadKey=a;g.getThread=b}),98);
__d("WAProtoConst",[],(function(a,b,c,d,e,f){"use strict";a={REPEATED:1<<6,PACKED:1<<7,REQUIRED:1<<8};b=31;c={INT32:1,INT64:2,UINT32:3,UINT64:4,SINT32:5,SINT64:6,BOOL:7,ENUM:8,FIXED64:9,SFIXED64:10,DOUBLE:11,STRING:12,BYTES:13,MESSAGE:14,FIXED32:15,SFIXED32:16,FLOAT:17,MAP:18};d={VARINT:0,BIT64:1,BINARY:2,BIT32:5};e={ONEOF:"__oneofs__",RESERVED:"__reserved__",RESERVED_TAGS:"tags",RESERVED_FIELDS:"fields"};f.FLAGS=a;f.TYPE_MASK=b;f.TYPES=c;f.ENC=d;f.KEYS=e}),66);
__d("WACommon.pb",["WAProtoConst"],(function(a,b,c,d,e,f,g){a={EVERYONE:1,SILENT:2,AI:3,AI_IMAGINE:4};b={PROFILE:0};c={PLACEHOLDER:0,NO_PLACEHOLDER:1,IGNORE:2};e={};f={};var h={},i={},j={};e.name="MessageKey";e.internalSpec={remoteJid:[1,(d=d("WAProtoConst")).TYPES.STRING],fromMe:[2,d.TYPES.BOOL],id:[3,d.TYPES.STRING],participant:[4,d.TYPES.STRING]};f.name="Command";f.internalSpec={commandType:[1,d.TYPES.ENUM,a],offset:[2,d.TYPES.UINT32],length:[3,d.TYPES.UINT32],validationToken:[4,d.TYPES.STRING]};h.name="Mention";h.internalSpec={mentionType:[1,d.TYPES.ENUM,b],mentionedJid:[2,d.TYPES.STRING],offset:[3,d.TYPES.UINT32],length:[4,d.TYPES.UINT32]};i.name="MessageText";i.internalSpec={text:[1,d.TYPES.STRING],mentionedJid:[2,d.FLAGS.REPEATED|d.TYPES.STRING],commands:[3,d.FLAGS.REPEATED|d.TYPES.MESSAGE,f],mentions:[4,d.FLAGS.REPEATED|d.TYPES.MESSAGE,h]};j.name="SubProtocol";j.internalSpec={payload:[1,d.TYPES.BYTES],version:[2,d.TYPES.INT32]};g.COMMAND_COMMAND_TYPE=a;g.MENTION_MENTION_TYPE=b;g.FUTURE_PROOF_BEHAVIOR=c;g.MessageKeySpec=e;g.CommandSpec=f;g.MentionSpec=h;g.MessageTextSpec=i;g.SubProtocolSpec=j}),98);
__d("WAArmadilloXMA.pb",["WACommon.pb","WAProtoConst"],(function(a,b,c,d,e,f,g){var h;a={INFO:0,EYE_OFF:1,NEWS_OFF:2,WARNING:3,PRIVATE:4,NONE:5,MEDIA_LABEL:6,POST_COVER:7,POST_LABEL:8,WARNING_SCREENS:9};b={OPEN_NATIVE:11};c={SINGLE:0,HSCROLL:1,PORTRAIT:3,STANDARD_DXMA:12,LIST_DXMA:15,GRID:16};e={UNSUPPORTED:-1,IG_STORY_PHOTO_MENTION:4,IG_SINGLE_IMAGE_POST_SHARE:9,IG_MULTIPOST_SHARE:10,IG_SINGLE_VIDEO_POST_SHARE:11,IG_STORY_PHOTO_SHARE:12,IG_STORY_VIDEO_SHARE:13,IG_CLIPS_SHARE:14,IG_IGTV_SHARE:15,IG_SHOP_SHARE:16,IG_PROFILE_SHARE:19,IG_STORY_PHOTO_HIGHLIGHT_SHARE:20,IG_STORY_VIDEO_HIGHLIGHT_SHARE:21,IG_STORY_REPLY:22,IG_STORY_REACTION:23,IG_STORY_VIDEO_MENTION:24,IG_STORY_HIGHLIGHT_REPLY:25,IG_STORY_HIGHLIGHT_REACTION:26,IG_EXTERNAL_LINK:27,IG_RECEIVER_FETCH:28,FB_FEED_SHARE:1e3,FB_STORY_REPLY:1001,FB_STORY_SHARE:1002,FB_STORY_MENTION:1003,FB_FEED_VIDEO_SHARE:1004,FB_GAMING_CUSTOM_UPDATE:1005,FB_PRODUCER_STORY_REPLY:1006,FB_EVENT:1007,FB_FEED_POST_PRIVATE_REPLY:1008,FB_SHORT:1009,FB_COMMENT_MENTION_SHARE:1010,FB_POST_MENTION:1011,MSG_EXTERNAL_LINK_SHARE:2e3,MSG_P2P_PAYMENT:2001,MSG_LOCATION_SHARING:2002,MSG_LOCATION_SHARING_V2:2003,MSG_HIGHLIGHTS_TAB_FRIEND_UPDATES_REPLY:2004,MSG_HIGHLIGHTS_TAB_LOCAL_EVENT_REPLY:2005,MSG_RECEIVER_FETCH:2006,MSG_IG_MEDIA_SHARE:2007,MSG_GEN_AI_SEARCH_PLUGIN_RESPONSE:2008,MSG_REELS_LIST:2009,MSG_CONTACT:2010,MSG_THREADS_POST_SHARE:2011,MSG_FILE:2012,MSG_AVATAR_DETAILS:2013,MSG_AI_CONTACT:2014,MSG_MEMORIES_SHARE:2015,MSG_SHARED_ALBUM_REPLY:2016,MSG_SHARED_ALBUM:2017,MSG_OCCAMADILLO_XMA:2018,MSG_GEN_AI_SUBSCRIPTION:2021,MSG_GEN_AI_REMINDER:2022,MSG_GEN_AI_MEMU_ONBOARDING_RESPONSE:2023,MSG_NOTE_REPLY:2024,MSG_NOTE_MENTION:2025,RTC_AUDIO_CALL:3e3,RTC_VIDEO_CALL:3001,RTC_MISSED_AUDIO_CALL:3002,RTC_MISSED_VIDEO_CALL:3003,RTC_GROUP_AUDIO_CALL:3004,RTC_GROUP_VIDEO_CALL:3005,RTC_MISSED_GROUP_AUDIO_CALL:3006,RTC_MISSED_GROUP_VIDEO_CALL:3007,RTC_ONGOING_AUDIO_CALL:3008,RTC_ONGOING_VIDEO_CALL:3009,MSG_RECEIVER_FETCH_FALLBACK:3025,DATACLASS_SENDER_COPY:4e3};f={};var i={};f.name="ExtendedContentMessage";f.internalSpec={associatedMessage:[1,(h=d("WAProtoConst")).TYPES.MESSAGE,(d=d("WACommon.pb")).SubProtocolSpec],targetType:[2,h.TYPES.ENUM,e],targetUsername:[3,h.TYPES.STRING],targetId:[4,h.TYPES.STRING],targetExpiringAtSec:[5,h.TYPES.INT64],xmaLayoutType:[6,h.TYPES.ENUM,c],ctas:[7,h.FLAGS.REPEATED|h.TYPES.MESSAGE,i],previews:[8,h.FLAGS.REPEATED|h.TYPES.MESSAGE,d.SubProtocolSpec],titleText:[9,h.TYPES.STRING],subtitleText:[10,h.TYPES.STRING],maxTitleNumOfLines:[11,h.TYPES.UINT32],maxSubtitleNumOfLines:[12,h.TYPES.UINT32],favicon:[13,h.TYPES.MESSAGE,d.SubProtocolSpec],headerImage:[14,h.TYPES.MESSAGE,d.SubProtocolSpec],headerTitle:[15,h.TYPES.STRING],overlayIconGlyph:[16,h.TYPES.ENUM,a],overlayTitle:[17,h.TYPES.STRING],overlayDescription:[18,h.TYPES.STRING],sentWithMessageId:[19,h.TYPES.STRING],messageText:[20,h.TYPES.STRING],headerSubtitle:[21,h.TYPES.STRING],xmaDataclass:[22,h.TYPES.STRING],contentRef:[23,h.TYPES.STRING],mentionedJid:[24,h.FLAGS.REPEATED|h.TYPES.STRING],commands:[25,h.FLAGS.REPEATED|h.TYPES.MESSAGE,d.CommandSpec],mentions:[26,h.FLAGS.REPEATED|h.TYPES.MESSAGE,d.MentionSpec]};i.name="ExtendedContentMessage$CTA";i.internalSpec={buttonType:[1,h.TYPES.ENUM,b],title:[2,h.TYPES.STRING],actionUrl:[3,h.TYPES.STRING],nativeUrl:[4,h.TYPES.STRING],ctaType:[5,h.TYPES.STRING],actionContentBlob:[6,h.TYPES.STRING]};g.EXTENDED_CONTENT_MESSAGE_OVERLAY_ICON_GLYPH=a;g.EXTENDED_CONTENT_MESSAGE_CTA_BUTTON_TYPE=b;g.EXTENDED_CONTENT_MESSAGE_XMA_LAYOUT_TYPE=c;g.EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE=e;g.ExtendedContentMessageSpec=f;g.ExtendedContentMessage$CTASpec=i}),98);
__d("WAHasProperty",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){return Object.prototype.hasOwnProperty.call(a,b)}f["default"]=a}),66);
__d("WAProtoCompile",["WAProtoConst"],(function(a,b,c,d,e,f,g){"use strict";var h=function(a,b,c,d,e,f,g,h,i){this.names=a,this.fields=b,this.types=c,this.defaults=d,this.meta=e,this.oneofToFields=f,this.fieldToOneof=g,this.reservedTags=h?h.reduce(function(a,b){a[b]=!0;return a},{}):{},this.reservedFields=i?i.reduce(function(a,b){a[b]=!0;return a},{}):{}};function a(a){if(a.internalCompiledSpec)return a.internalCompiledSpec;var b=a.internalSpec;if(!b)throw new Error("Message Class "+String(a)+" does not have internalSpec");var c=a.internalDefaults||{},e=Object.keys(b).filter(function(a){return a!==d("WAProtoConst").KEYS.ONEOF}),f=new Array(e.length),g=[],j=[],k=new Array(e.length),l=b[d("WAProtoConst").KEYS.ONEOF]||{};e.sort(function(a,c){a=i(b,a);c=i(b,c);return a[0]-c[0]});for(var m=0;m<e.length;m++){var n=e[m],o=i(b,n);k[m]=c[n];var p=o[1],q=o[0];g.push(q);j.push(p);if((p&d("WAProtoConst").TYPE_MASK)===d("WAProtoConst").TYPES.MESSAGE)f[m]=o[2];else if((p&d("WAProtoConst").TYPE_MASK)===d("WAProtoConst").TYPES.ENUM){q=o[2];if(typeof q.cast==="function")f[m]=q;else{var r=!0,s=0;for(var t in q)r&&t!==s++&&(r=!1);t=void 0;if(r){t=[];for(r=0;r<s;r++)t.push(!0)}else{t={};for(r in q)t[q[r]]=!0}f[m]=t}}else if((p&d("WAProtoConst").TYPE_MASK)===d("WAProtoConst").TYPES.MAP){if(o.length!==3)throw new Error("Map field "+n+" should have exactly three elements in its internalSpec");f[m]=o[2]}else f[m]=null}var u={};s=function(a){l[a].forEach(function(b){u[b]||(u[b]=[]),u[b].push(a)})};for(r in l)s(r);q=b[d("WAProtoConst").KEYS.RESERVED]&&b[d("WAProtoConst").KEYS.RESERVED][d("WAProtoConst").KEYS.RESERVED_TAGS];t=b[d("WAProtoConst").KEYS.RESERVED]&&b[d("WAProtoConst").KEYS.RESERVED][d("WAProtoConst").KEYS.RESERVED_FIELDS];p=new h(e,g,j,k,f,l,u,q,t);a.internalCompiledSpec=p;return p}function i(a,b){a=a[b];if(a==null)throw new Error("fieldData of "+b+" is missing");return a}g.Spec=h;g.compileSpec=a}),98);
__d("WAProtoUtils",["WAProtoConst"],(function(a,b,c,d,e,f,g){"use strict";function a(a){if(a&d("WAProtoConst").FLAGS.PACKED)return d("WAProtoConst").ENC.BINARY;a=a&d("WAProtoConst").TYPE_MASK;if(a<=d("WAProtoConst").TYPES.ENUM)return d("WAProtoConst").ENC.VARINT;else if(a<=d("WAProtoConst").TYPES.DOUBLE)return d("WAProtoConst").ENC.BIT64;else if(a<=d("WAProtoConst").TYPES.MESSAGE)return d("WAProtoConst").ENC.BINARY;else if(a===d("WAProtoConst").TYPES.MAP)return d("WAProtoConst").ENC.BINARY;else return d("WAProtoConst").ENC.BIT32}g.typeToEncType=a}),98);
__d("WAProtoValidate",["WAHasProperty","WALogger","WAProtoCompile","WAProtoConst"],(function(a,b,c,d,e,f,g){"use strict";function h(){var a=babelHelpers.taggedTemplateLiteralLoose(['"','" is not an array']);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(['"','" is not ',""]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(['"','" is out of range']);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(['"','" is not a valid int']);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(['"','" is not a valid long']);l=function(){return a};return a}var m=Number.MAX_SAFE_INTEGER;function n(a,b){a=o(a,b);if(a){a.reverse();throw new TypeError("Message missing required value "+a.join("."))}}function a(a,b){n(a,b);b=u(b,a);if(b){b.path.reverse();throw new TypeError("Invalid value at "+b.path.join(".")+": "+b.error)}}function o(a,b){a=d("WAProtoCompile").compileSpec(a);var e=a.names,f=a.types;a=a.meta;var g=void 0;for(var h=0;h<f.length&&!g;h++){var i=f[h],j=e[h],k=c("WAHasProperty")(b,j)?b[j]:void 0;if(i&d("WAProtoConst").FLAGS.REQUIRED&&k==null)g=[j];else if((i&d("WAProtoConst").TYPE_MASK)===d("WAProtoConst").TYPES.MESSAGE&&i&d("WAProtoConst").FLAGS.REPEATED&&k!=null){var l=a[h],m=void 0;for(m=0;m<k.length&&!g;m++)g=o(l,k[m]);g&&g.push(j+"["+m+"]")}else(i&d("WAProtoConst").TYPE_MASK)===d("WAProtoConst").TYPES.MESSAGE&&k!=null&&(g=o(a[h],k),g&&g.push(j))}return g}function p(a,b,c){if(typeof a==="string")if(/^-?0x[0-9a-f]{16}$/i.test(a))return!1;else{d("WALogger").LOG(l(),s(a)).color("red");return{path:[],error:"value must be a hex string of the form '0x123...' or '-0x123...' where the tail is always 16 characters long"}}else return q(a,b,c)}function q(a,b,c){if(typeof a!=="number"||a!==a||Math.floor(a)!==a){d("WALogger").LOG(k(),s(a)).color("red");return{path:[],error:"value must be an int"}}else if(a<b||a>=c){d("WALogger").LOG(j(),s(a)).color("red");return{path:[],error:"value is out of range"}}else return!1}function r(a,b,c){if(a)return void 0;else{d("WALogger").LOG(i(),s(c),b).color("red");return{path:[],error:"value is invalid"}}}function s(a){if(typeof a==="string")return'"'+a+'"';else if(Array.isArray(a))return"["+a.join(", ")+"]";else return""+a}var t=[void 0,function(a){return q(a,-2147483648,2147483648)},function(a){return p(a,-m,m+1)},function(a){return q(a,0,4294967296)},function(a){return p(a,0,m+1)},function(a){return q(a,-2147483648,2147483648)},function(a){return p(a,-m,m+1)},function(a){return r(typeof a==="boolean","boolean",a)},function(a,b){return r(typeof a==="number"&&(b[a]||b.cast(a)!==void 0),"in enum",a)},function(a){return p(a,0,m+1)},function(a){return p(a,-m,m+1)},function(a){return r(typeof a==="number","number",a)},function(a){return r(typeof a==="string","string",a)},function(a){return r(a instanceof ArrayBuffer||a instanceof Uint8Array,"ArrayBuffer or Uint8Array",a)},u,function(a){return q(a,0,4294967296)},function(a){return q(a,-2147483648,2147483648)},function(a){return r(typeof a==="number","number",a)}];function u(a,b){b=d("WAProtoCompile").compileSpec(b);var c=b.names,e=b.fields,f=b.types,g=b.meta,i=b.oneofToFields,j=b.fieldToOneof,k=b.reservedTags,l=b.reservedFields,m=void 0;b=function(b){var n=c[b],o=f[b],p=a[n],q=o&d("WAProtoConst").TYPE_MASK,r=t[q],u=(o&d("WAProtoConst").TYPE_MASK)===d("WAProtoConst").TYPES.MAP;if(r===void 0&&!u)throw new Error("Can not find the validator for type "+q);if(o&(d("WAProtoConst").FLAGS.PACKED|d("WAProtoConst").FLAGS.REPEATED)&&p!=null)if(!Array.isArray(p))d("WALogger").LOG(h(),s(p)).color("red"),m={path:[n],error:"repeated field must be array"};else{q=g[b];for(o=0;o<p.length&&!m;o++)m=r(p[o],q),m&&m.path.push(n+"["+o+"]")}else if(u&&p!=null){o=g[b];q=o[0];u=o[1];o=typeof u==="object"?d("WAProtoConst").TYPES.MESSAGE:u;var v=t[q],w=t[o];if(v===void 0||w===void 0)throw new Error("Can not find the validator for Map with key type "+q+", value type "+o);for(o of p){var x=o[0],y=o[1];m=v(x,q);if(m){m.path.push(n+"'s key ["+x+"]");return{v:m}}m=w(y,u);if(m){m.path.push(n+"["+x+"]'s value");return{v:m}}}}else if(p!=null){m=r(p,g[b]);m&&m.path.push(n);y=j[n];y&&y.forEach(function(b){var c=i[b].filter(function(a){return a!==n});c.forEach(function(c){typeof a[c]!=="undefined"&&(m={path:[b],error:"oneof '"+b+"' has fields '"+n+"' and '"+c+"' set"})})});k[e[b]]&&(m={path:[n],error:"tag "+e[b]+" is reserved"});l[n]&&(m={path:[n],error:"field "+n+" is reserved"})}};for(var n=0;n<c.length&&!m;n++){var o=b(n);if(typeof o==="object")return o.v}return m}g.checkRequirements=n;g.checkValid=a}),98);
__d("encodeProtobuf",["WABinary","WAHex","WAProtoCompile","WAProtoConst","WAProtoUtils","WAProtoValidate"],(function(a,b,c,d,e,f,g){"use strict";var h=void 0,i=128;function a(a,b,c){c===void 0&&(c=new(d("WABinary").Binary)());d("WAProtoValidate").checkValid(a,b);o(c,b,a);h=void 0;return c}function b(){return h!==void 0?"Last encoded value for "+h:"No information known"}function c(a,b){a.writeVarInt(b)}function e(a,b){if(typeof b==="number"&&b<4503599627370496&&b>=-4503599627370496)a.writeVarInt(b>=0?2*b:2*-b-1);else{var c=new(d("WABinary").Binary)(),e;typeof b==="number"?(e=b<0,c.writeVarInt(e?-b:b)):(e=d("WAHex").hexLongIsNegative(b),c.writeVarIntFromHexLong(e?d("WAHex").negateHexLong(b):b));b=c.peek(function(){return c.readByteArray()});var f=b.byteLength;if(e){var g=0,h;do h=b[g],b[g]=h&i|(h&127)-1&127,g++;while(b[g-1]===255)}h=e?1:0;for(g=0;g<f;g++){e=b[g];var j=e&i|(e&63)<<1|h;h=(e&64)>>6;b[g]=j}h===1&&(b[f-1]|=i,c.writeInt8(1));a.writeBinary(c)}}function f(a,b){typeof b==="number"?a.writeVarInt(b):a.writeVarIntFromHexLong(b)}function j(a,b){a.writeVarInt(d("WABinary").numUtf8Bytes(b)),a.writeString(b)}function k(a,b){a.writeVarInt(b.byteLength),a.writeBuffer(b)}function l(a,b,c){a.writeWithVarIntLength(function(a,b){return o(a,b,c)},b)}var m=[void 0,c,f,c,f,e,e,function(a,b){a.writeVarInt(b?1:0)},c,function(a,b){typeof b==="number"?a.writeUint64(b,!0):a.writeHexLong(b,!0)},function(a,b){typeof b==="number"?a.writeInt64(b,!0):a.writeHexLong(b,!0)},function(a,b){a.writeFloat64(b,!0)},j,k,l,function(a,b){a.writeUint32(b,!0)},function(a,b){a.writeInt32(b,!0)},function(a,b){a.writeFloat32(b,!0)}];f=function(a){if(a==null)return void 0;var b=a;function c(a,c){for(var d=0;d<c.length;d++)b(a,c[d])}return function(a,b){a.writeWithVarIntLength(c,b)}};var n=m.map(f);function o(a,b,c){var e=d("WAProtoCompile").compileSpec(c),f=e.names,g=e.fields,i=e.types;e=e.meta;c=c.internalDefaults;for(var j=0;j<f.length;j++){var k=f[j],l=b[k];l==null&&c&&(l=c[k]);if(l!=null){h=k;k=g[j];var o=i[j],p=o&d("WAProtoConst").TYPE_MASK,q=e[j];k=k*8|d("WAProtoUtils").typeToEncType(o);if(o&d("WAProtoConst").FLAGS.PACKED){if(l.length>0){a.writeVarInt(k);var r=n[p];r(a,l,q)}}else if(o&d("WAProtoConst").FLAGS.REPEATED)for(r=0;r<l.length;r++){a.writeVarInt(k);o=m[p];o(a,l[r],q)}else if(p===d("WAProtoConst").TYPES.MAP)for(o of l){r=o[0];var s=o[1];a.writeVarInt(k);var t=q[0],u=q[1],v=typeof u==="object"?d("WAProtoConst").TYPES.MESSAGE:u,w=m[t],x=m[v];if(w==null||x==null)throw new Error("Invalid encoder for map key/value");var y=new(d("WABinary").Binary)(),z=1*8|d("WAProtoUtils").typeToEncType(t);y.writeVarInt(z);w(y,r,t);z=2*8|d("WAProtoUtils").typeToEncType(v);y.writeVarInt(z);x(y,s,u);a.writeVarInt(y.size());a.writeBinary(y)}else{a.writeVarInt(k);w=m[p];w(a,l,q)}}}}g.encodeProtobuf=a;g.encodeErrorInfo=b}),98);/*FB_PKG_DELIM*/
__d("VirtualizationConfig",[],(function(a,b,c,d,e,f){"use strict";a={isVisible:!0,nodeHeight:null};b=4e3;c=0;d=!1;f.DEFAULT_INIT_RENDER_CONFIG=a;f.VERTICAL_HIDEABLE_MARGIN=b;f.HORIZONTAL_HIDEABLE_MARGIN=c;f.IS_INTERSECTION_MARGIN_SUPPORTED=d}),66);
__d("VirtualizationContainerContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||c("react");b=a.createContext();g["default"]=b}),98);
__d("MutationObserver",[],(function(a,b,c,d,e,f){b=function(){function a(a){}var b=a.prototype;b.observe=function(a,b){};b.disconnect=function(){};b.takeRecords=function(){return[]};return a}();e=(d=(c=a.MutationObserver)!=null?c:a.WebKitMutationObserver)!=null?d:b;c=e;f["default"]=c}),66);
__d("useMutationObserver",["MutationObserver","react"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useCallback,j=b.useRef;function a(a,b){var d=j({observer:null,callback:a}),e=j(null),f=j({element:null,options:null,observer:null}),g=i(function(){var a=f.current,c=a.observer,g=a.element;a=a.options;var h=d.current.observer,i=e.current;(g!=i||b!=a||h!=c)&&(c&&c.disconnect(),h&&i&&h.observe(i,b),f.current={observer:h,element:i,options:b})},[b]);(d.current.observer==null||d.current.callback!==a)&&(d.current.observer!=null&&d.current.observer.disconnect(),d.current={observer:new(c("MutationObserver"))(a),callback:a});g();return i(function(a){e.current=a,g()},[g])}g["default"]=a}),98);
__d("useMutationStableChecker",["react","useMutationObserver"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useCallback,j=b.useEffect,k=b.useRef,l=b.useState;function m(a,b){var c=[];a.forEach(function(a){if(!(a instanceof HTMLElement))return;a.matches(b)&&c.push(a);c.push.apply(c,Array.from(a.querySelectorAll(b)))});return c}function n(a,b,c,d){d===void 0&&(d=!1);var e=m(b,c);return e.length===0?a:d?new Set([].concat(Array.from(a).filter(function(a){return!e.includes(a)}))):new Set([].concat(Array.from(a),e))}var o={childList:!0,subtree:!0};function a(a,b,d){var e=l(!0),f=e[0],g=e[1],h=k(),m=k(new Set()),p=c("useMutationObserver")(function(b){b.forEach(function(a){if(a.type==="childList"){var b=a.addedNodes;a=a.removedNodes;d!=null&&(m.current=n(n(m.current,b,d,!1),a,d,!0))}}),q(a)},o),q=i(function(a){h.current!=null&&window.clearTimeout(h.current),h.current=window.setTimeout(function(){m.current.size>0?q(a):(g(!0),p(null))},a)},[p]);j(function(){a>0?(p(b.current!=null?b.current:null),g(!1)):p(null);return function(){h.current!=null&&window.clearTimeout(h.current),p(null)}},[a,p,b]);return f}g["default"]=a}),98);
__d("useTimeoutStateSinceFirstMounting.react",["react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useEffect,j=b.useRef,k=b.useState;function a(a){var b=d("react-compiler-runtime").c(2),c=k(a<=0),e=c[0],f=c[1],g=j(a),h=j(!1);b[0]===Symbol["for"]("react.memo_cache_sentinel")?(c=function(){var a=window.setTimeout(function(){h.current||(h.current=!0,f(!0))},g.current);return function(){window.clearTimeout(a)}},a=[],b[0]=c,b[1]=a):(c=b[0],a=b[1]);i(c,a);return e}g["default"]=a}),98);
__d("useVirtualizationContext",["VirtualizationContext","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");b.useCallback;var i=b.useContext;b.useMemo;var j=b.useRef;function a(){var a=d("react-compiler-runtime").c(11),b=i(c("VirtualizationContext")),e=j(0),f;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(f=new Set(),a[0]=f):f=a[0];var g=j(f),h=j(!1),k=j(null);if(k.current==null){a[1]===Symbol["for"]("react.memo_cache_sentinel")?(f=new Map(),a[1]=f):f=a[1];k.current=f}a[2]===Symbol["for"]("react.memo_cache_sentinel")?(f=function(a){var b;e.current=e.current+1;var c=e.current;(b=k.current)==null?void 0:b.set(c,a);return function(){var a;(a=k.current)==null?void 0:a["delete"](c)}},a[2]=f):f=a[2];f=f;var l;a[3]===Symbol["for"]("react.memo_cache_sentinel")?(l=function(){return k.current==null?!1:k.current.size>0},a[3]=l):l=a[3];l=l;var m=j(null);if(m.current==null){var n;a[4]===Symbol["for"]("react.memo_cache_sentinel")?(n=new Map(),a[4]=n):n=a[4];m.current=n}a[5]===Symbol["for"]("react.memo_cache_sentinel")?(n=function(a,b){e.current=e.current+1;var c=e.current,d;d=null;var f=m.current;if(f!=null){var g;f.has(a)||f.set(a,new Map());d=f.get(a);(g=d)==null?void 0:g.set(c,b)}return function(){var b;(b=d)==null?void 0:b["delete"](c);((b=d)==null?void 0:b.size)===0&&(f==null?void 0:f["delete"](a))}},a[5]=n):n=a[5];n=n;var o;a[6]===Symbol["for"]("react.memo_cache_sentinel")?(o=function(a){var b;return(b=(b=m.current)==null?void 0:b.has(a))!=null?b:!1},a[6]=o):o=a[6];o=o;var p;a[7]===Symbol["for"]("react.memo_cache_sentinel")?(p=function(a){g.current.add(a);a(h.current);return function(){g.current["delete"](a)}},a[7]=p):p=a[7];p=p;var q;a[8]===Symbol["for"]("react.memo_cache_sentinel")?(q=function(a){h.current=a,g.current.forEach(function(b){b(a)})},a[8]=q):q=a[8];q=q;if(a[9]!==b){var r;r=(r=b)!=null?r:{createFlag:n,createPin:f,hasFlag:o,hasPin:l,onVirtualizationChange:q,subscribeToVirtualizationStatus:p};a[9]=b;a[10]=r}else r=a[10];n=r;f=n;return f}g["default"]=a}),98);
__d("CometVirtualization.react",["BaseView.react","HiddenSubtreeContextProvider.react","HiddenSubtreePassiveContext","VirtualizationConfig","VirtualizationContainerContext","VirtualizationContext","gkx","intersectionObserverEntryIsIntersecting","justknobx","nullIntersectionObserverEntryLogger","react","react-compiler-runtime","stylex","unrecoverableViolation","useIntersectionObserver","useMergeRefs","useMutationStableChecker","usePrevious","useTimeoutStateSinceFirstMounting.react","useVirtualizationContext"],(function(a,b,c,d,e,f,g){"use strict";var aa,h,i=h||(h=d("react"));e=h;e.useCallback;var ba=e.useContext,j=e.useEffect,k=e.useRef,l=e.useState,m=function(){var a=null;return function(){if(a===null){var b;b=(b=document)==null?void 0:b.documentElement;if(b==null)throw c("unrecoverableViolation")("Scroll anchoring feature detection called in an environment without a documentElement","comet_infra");a=b.style.overflowAnchor!=null}return a}}();function ca(a){var b=d("react-compiler-runtime").c(3);a=a===void 0?null:a;a=l(a);var c=a[0],e=a[1],f;b[0]!==c?(a=function(){c===null&&e(n)},f=[c],b[0]=c,b[1]=a,b[2]=f):(a=b[1],f=b[2]);j(a,f);return(b=c)!=null?b:!1}function n(){return m()}var da={invisible:{display:"x1s85apg",$$css:!0},resetBlockFormattingContext:{display:"x78zum5",flexDirection:"xdt5ytf",$$css:!0}},ea=c("justknobx")._("1003");function o(a){return typeof a.replace==="function"?a.replace(/\n/g," ").replace(/\s+/g," "):""}function a(){if(typeof IntersectionObserver!=="function")return!1;return typeof IntersectionObserver.toString!=="function"?!1:o(IntersectionObserver.toString()).endsWith("{ [native code] }")}var fa=a();function b(a){var b,e,f=arguments,g,h,m,n=d("react-compiler-runtime").c(58),o=a.children,ga=a.deferVirtualizationInMs,ha=a.deferVirtualizationMutationIntervalInMs,ia=a.deferVirtualizationPlaceholderSelector,ja=a.delayHeightPlaceholderMs,ka=a.disableHiding,la=a.hiddenMode,ma=a.initialRenderConfig,na=a.leftRightMargin,oa=a.mountXStyle,pa=a.pinChildrenOnInteraction,qa=a.pinChildrenWithPlayer,ra=a.ref,sa=a.scrollport,ta=a.testid,ua=a.topBottomMargin,p=a.unmountHiddenChildren,va=a.unmountXStyle,wa=a.xstyle,xa=ga===void 0?0:ga,ya=ha===void 0?0:ha,q=ja===void 0?0:ja,r=la===void 0?"legacy":la,za=ma===void 0?d("VirtualizationConfig").DEFAULT_INIT_RENDER_CONFIG:ma,s=na===void 0?d("VirtualizationConfig").HORIZONTAL_HIDEABLE_MARGIN:na,t=sa===void 0?null:sa,Aa=ta===void 0?"hideable":ta,u=ua===void 0?d("VirtualizationConfig").VERTICAL_HIDEABLE_MARGIN:ua,Ba=k(null),v=k(null),Ca=ba(c("HiddenSubtreePassiveContext")),Da=l(!1),w=Da[0],Ea=Da[1],Fa=k(!0),Ga=l(za.isVisible),x=Ga[0],Ha=Ga[1],Ia=l(za.nodeHeight),y=Ia[0],z=Ia[1],Ja=c("usePrevious")(x),Ka=c("useTimeoutStateSinceFirstMounting.react")(xa),A=c("useVirtualizationContext")(),B=ba(c("VirtualizationContainerContext")),C=k(null),La=(b=oa)!=null?b:wa,Ma=(e=va)!=null?e:wa,D;n[0]!==x||n[1]!==y?(D=function(){var a=Fa.current||y==null&&!x;v.current!=null&&a&&(z(v.current.getBoundingClientRect().height),window.clearTimeout(C.current))},n[0]=x,n[1]=y,n[2]=D):D=n[2];var E;n[3]!==x||n[4]!==y||n[5]!==Ja?(E=[x,y,Ja],n[3]=x,n[4]=y,n[5]=Ja,n[6]=E):E=n[6];j(D,E);var F=q!=null&&q>0,G;n[7]!==q||n[8]!==Ca||n[9]!==F?(G=function(a){c("nullIntersectionObserverEntryLogger")(a,"IntersectionObserverEntry is null. num_arguments="+f.length);var b=Ca.getCurrentState().hiddenOrBackgrounded_FIXME;if(c("intersectionObserverEntryIsIntersecting")(a))!F?(window.clearTimeout(C.current),z(null)):C.current=window.setTimeout(function(){z(null)},q),Ha(!0);else if(!b){b=a.target.getBoundingClientRect();a=b.height;b=b.width;a>0&&b>0&&(Ha(!1),F&&(window.clearTimeout(C.current),z(a)))}},n[7]=q,n[8]=Ca,n[9]=F,n[10]=G):G=n[10];var Na=G,Oa=c("useMutationStableChecker")(ya,v,ia),H,I;n[11]===Symbol["for"]("react.memo_cache_sentinel")?(H=function(){Fa.current&&(Fa.current=!1)},I=[],n[11]=H,n[12]=I):(H=n[11],I=n[12]);j(H,I);var J;n[13]!==s||n[14]!==u?(J={bottom:u,left:s,right:s,top:u},n[13]=s,n[14]=u,n[15]=J):J=n[15];var K=J,L;n[16]!==t||n[17]!==(B==null?void 0:B.rootElementRef)?(L=function(){var a=t!=null?t==null?void 0:t():B==null?void 0:B.rootElementRef.current;return a instanceof Element?a:null},n[16]=t,n[17]=B==null?void 0:B.rootElementRef,n[18]=L):L=n[18];var Pa=L,M;n[19]!==K?(M=babelHelpers["extends"]({},K),n[19]=K,n[20]=M):M=n[20];var N;n[21]!==K||n[22]!==M||n[23]!==Pa?(N={root:Pa,rootMargin:K,scrollMargin:M,threshold:0},n[21]=K,n[22]=M,n[23]=Pa,n[24]=N):N=n[24];var Qa=c("useIntersectionObserver")(Na,N),Ra=c("useMergeRefs")(Qa,Ba,ra),Sa;bb0:{if(!w&&y!==null&&p!==!1&&(F||!x)){var O;n[25]!==y?(O={minHeight:y},n[25]=y,n[26]=O):O=n[26];Sa=O;break bb0}Sa=void 0}var Ta=Sa,P=!x&&y!=null,Ua=ca((g=za.hasScrollAnchoring)!=null?g:null),Va=Ua?Ra:ra;if(c("gkx")("22947")){var Q;n[27]===Symbol["for"]("react.memo_cache_sentinel")?(Q={className:"x78zum5 xdt5ytf"},n[27]=Q):Q=n[27];var R;n[28]!==o?(R=i.jsx("div",babelHelpers["extends"]({},Q,{children:i.jsx(c("BaseView.react"),{children:o})})),n[28]=o,n[29]=R):R=n[29];return R}var S;n[30]!==pa?(S=function(){pa===!0&&Ea(!0)},n[30]=pa,n[31]=S):S=n[31];var T=S,Wa=((h=qa)!=null?h:!1)&&A.hasFlag("HAS_PLAYER"),U;n[32]!==Ka||n[33]!==Wa||n[34]!==P||n[35]!==Oa||n[36]!==w||n[37]!==p||n[38]!==A?(U=fa&&ea&&p===!0&&P&&!w&&!A.hasPin()&&!Wa&&Ka&&Oa,n[32]=Ka,n[33]=Wa,n[34]=P,n[35]=Oa,n[36]=w,n[37]=p,n[38]=A,n[39]=U):U=n[39];var V=U;A.onVirtualizationChange(V);var W=ea&&!((m=ka)!=null?m:!1)&&P&&r!=="none",Xa=V?Ma:La,X;n[40]!==Xa?(X=(aa||(aa=c("stylex")))(da.resetBlockFormattingContext,Xa),n[40]=Xa,n[41]=X):X=n[41];var Y;n[42]!==o||n[43]!==r||n[44]!==W||n[45]!==V?(Y=r==="legacy"?i.jsx(c("BaseView.react"),{hidden:W,ref:v,xstyle:W&&da.invisible,children:V?null:i.jsx(c("HiddenSubtreeContextProvider.react"),{isHidden:W,children:o})}):i.jsx("div",{ref:v,children:V?null:o}),n[42]=o,n[43]=r,n[44]=W,n[45]=V,n[46]=Y):Y=n[46];var Z;n[47]!==T||n[48]!==Ta||n[49]!==Va||n[50]!==V||n[51]!==X||n[52]!==Y||n[53]!==Aa?(Z=i.jsx("div",{className:X,"data-testid":void 0,"data-virtualized":V,onClickCapture:T,onFocusCapture:T,onKeyPressCapture:T,ref:Va,style:Ta,children:Y}),n[47]=T,n[48]=Ta,n[49]=Va,n[50]=V,n[51]=X,n[52]=Y,n[53]=Aa,n[54]=Z):Z=n[54];var $;n[55]!==Z||n[56]!==A?($=i.jsx(c("VirtualizationContext").Provider,{value:A,children:Z}),n[55]=Z,n[56]=A,n[57]=$):$=n[57];return $}g["default"]=b}),98);
__d("VirtualizationExperimentConfig",[],(function(a,b,c,d,e,f){"use strict";a=4e3;b=!0;c=!1;d=!1;e={polaris_feed_story_tray_item:{hiding_disabled:!1,pin_children_on_interaction:!0,surface_enabled:!0}};var g={comet_feed_unit_card:{hiding_disabled:!1,pin_children_on_interaction:!0,pin_children_with_player:!1,root_margin_top_bottom:4e3,surface_enabled:!0},marketplace_item:{surface_enabled:!1}},h={comet_feed_unit_card:{hiding_disabled:!1,pin_children_on_interaction:!0,pin_children_with_player:!0,root_margin_top_bottom:500,surface_enabled:!0},comet_profile_photos:{hiding_disabled:!1,pin_children_on_interaction:!0,pin_children_with_player:!1,root_margin_top_bottom:1e3,surface_enabled:!0},comet_tofu_stories_container:{hiding_disabled:!1,pin_children_on_interaction:!0,pin_children_with_player:!1,root_margin_top_bottom:1e3,surface_enabled:!0},comet_watch_tab:{hiding_disabled:!1,pin_children_on_interaction:!0,pin_children_with_player:!1,root_margin_top_bottom:4e3,surface_enabled:!0},marketplace_item:{hiding_disabled:!1,pin_children_on_interaction:!0,pin_children_with_player:!1,root_margin_top_bottom:1e3,surface_enabled:!0},thread_list:{hiding_disabled:!1,pin_children_on_interaction:!0,pin_children_with_player:!1,root_margin_top_bottom:500,surface_enabled:!0},thread_view:{hiding_disabled:!1,pin_children_on_interaction:!0,pin_children_with_player:!1,root_margin_top_bottom:500,surface_enabled:!0}};f.DEFAULT_TOP_BOTTOM_MARGIN=a;f.DEFAULT_PIN_CHILDREN_ON_INTERACTION=b;f.DEFAULT_PIN_CHILDREN_WITH_PLAYER=c;f.DEFAULT_DISABLE_HIDING=d;f.ROLLOUT_CONFIG=e;f.GK_HOLDOUT_CONFIG=g;f.GK_ROLLOUT_CONFIG=h}),66);
__d("VirtualizationExperimentSettings",["VirtualizationExperimentConfig","gkx","qex"],(function(a,b,c,d,e,f,g){"use strict";var h,i=c("gkx")("2548"),j=c("gkx")("221");function k(a){if(Object.prototype.hasOwnProperty.call(d("VirtualizationExperimentConfig").ROLLOUT_CONFIG,a))return d("VirtualizationExperimentConfig").ROLLOUT_CONFIG;else if(i&&Object.prototype.hasOwnProperty.call(d("VirtualizationExperimentConfig").GK_HOLDOUT_CONFIG,a))return d("VirtualizationExperimentConfig").GK_HOLDOUT_CONFIG;else if(j&&Object.prototype.hasOwnProperty.call(d("VirtualizationExperimentConfig").GK_ROLLOUT_CONFIG,a))return d("VirtualizationExperimentConfig").GK_ROLLOUT_CONFIG;return null}var l=function(a){var b=k(a);return b==null?void 0:b[a]},m=new Set(((h=c("qex")._("641"))!=null?h:"").split(",").map(function(a){return a.trim()}));function a(a){var b=new Map();return function(c){if(b.has(c))return b.get(c);var d=a(c);b.set(c,d);return d}}function b(a){if(m.has(a))return!0;a=l(a);return(a=a==null?void 0:a.surface_enabled)!=null?a:!1}h=a(b);function e(a){var b=new Map();a.split(",").forEach(function(a){a=a.trim();a=a.split(":");var c=a[0];a=a[1];c=(c=c==null?void 0:c.trim())!=null?c:"";a=parseInt((a=a==null?void 0:a.trim())!=null?a:"",10);c.length>0&&!Number.isNaN(a)&&b.set(c,a)});return b}var n=e((b=c("qex")._("628"))!=null?b:"");function f(a){if(n.has(a)){var b;return(b=n.get(a))!=null?b:d("VirtualizationExperimentConfig").DEFAULT_TOP_BOTTOM_MARGIN}b=l(a);return(a=b==null?void 0:b.root_margin_top_bottom)!=null?a:d("VirtualizationExperimentConfig").DEFAULT_TOP_BOTTOM_MARGIN}e=a(f);var o=new Set(((b=c("qex")._("642"))!=null?b:"all").split(",")),p=new Set();function q(a){if(p.has(a))return;(o.has("all")||o.has(a))&&c("qex")._("692");p.add(a)}var r=(f=c("qex")._("648"))!=null?f:d("VirtualizationExperimentConfig").DEFAULT_PIN_CHILDREN_ON_INTERACTION;function s(a){if(m.has(a)){var b;return(b=r)!=null?b:!0}b=l(a);return(a=b==null?void 0:b.pin_children_on_interaction)!=null?a:!0}b=a(s);s=(f=c("qex")._("339"))!=null?f:"default";var t=s==="disable"?!0:s==="enable"?!1:null;function u(a){if(m.has(a)){var b;return(b=t)!=null?b:d("VirtualizationExperimentConfig").DEFAULT_DISABLE_HIDING}b=l(a);return(a=b==null?void 0:b.hiding_disabled)!=null?a:d("VirtualizationExperimentConfig").DEFAULT_DISABLE_HIDING}f=a(u);var v=(s=c("qex")._("885"))!=null?s:d("VirtualizationExperimentConfig").DEFAULT_PIN_CHILDREN_WITH_PLAYER;function w(a){if(m.has(a)){var b;return(b=v)!=null?b:d("VirtualizationExperimentConfig").DEFAULT_PIN_CHILDREN_WITH_PLAYER}b=l(a);return(a=b==null?void 0:b.pin_children_with_player)!=null?a:d("VirtualizationExperimentConfig").DEFAULT_PIN_CHILDREN_WITH_PLAYER}u=a(w);var x="static",y=new Set(["static","dynamic"]);function z(a){var b=new Map();a.split(",").forEach(function(a){a=a.trim();a=a.split(":");var c=a[0];a=a[1];c=(c=c==null?void 0:c.trim())!=null?c:"";a=a==null?void 0:a.trim();a=y.has(a)?a:x;c.length>0&&b.set(c,a)});return b}var A=z((s=c("qex")._("1851"))!=null?s:"");function B(a){if(A.has(a)){var b;return(b=A.get(a))!=null?b:x}b=l(a);return(a=b==null?void 0:b.virtualization_strategy)!=null?a:x}w=a(B);g.isSurfaceEnabled=h;g.getTopBottomMargin=e;g.logQEExposureOnceWhenNecessary=q;g.getPinChildrenOnInteration=b;g.isHidingDisabled=f;g.getPinChildrenWithPlayer=u;g.getVirtualizationStrategy=w}),98);
__d("CometHideableComponentExperiment.react",["CometVirtualization.react","VirtualizationExperimentSettings","cr:10342","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useEffect;function a(a){var e=d("react-compiler-runtime").c(29),f=a.callingSurface,g=a.children,h=a.disableHiding,k=a.mountXStyle,l=a.scrollport,m=a.topBottomMarginOverride,n=a.unmountXStyle;a=a.xstyle;l=l===void 0?null:l;var o;e[0]!==f?(o=d("VirtualizationExperimentSettings").isSurfaceEnabled(f),e[0]=f,e[1]=o):o=e[1];o=o;if(e[2]!==f||e[3]!==h||e[4]!==o){var p;p=(p=h)!=null?p:d("VirtualizationExperimentSettings").isHidingDisabled(f)||!o;e[2]=f;e[3]=h;e[4]=o;e[5]=p}else p=e[5];h=p;var q;e[6]!==f?(p=function(){return d("VirtualizationExperimentSettings").logQEExposureOnceWhenNecessary(f)},q=[f],e[6]=f,e[7]=p,e[8]=q):(p=e[7],q=e[8]);j(p,q);p=d("VirtualizationExperimentSettings").getVirtualizationStrategy(f);p=p==="static"?c("CometVirtualization.react"):(q=b("cr:10342"))!=null?q:c("CometVirtualization.react");e[9]!==f||e[10]!==o?(q=o&&d("VirtualizationExperimentSettings").getPinChildrenOnInteration(f),e[9]=f,e[10]=o,e[11]=q):q=e[11];var r;e[12]!==f?(r=d("VirtualizationExperimentSettings").getPinChildrenWithPlayer(f),e[12]=f,e[13]=r):r=e[13];var s;e[14]!==f||e[15]!==m?(s=m!=null&&m>=0?m:d("VirtualizationExperimentSettings").getTopBottomMargin(f),e[14]=f,e[15]=m,e[16]=s):s=e[16];e[17]!==p||e[18]!==g||e[19]!==o||e[20]!==h||e[21]!==k||e[22]!==l||e[23]!==q||e[24]!==r||e[25]!==s||e[26]!==n||e[27]!==a?(m=i.jsx(p,{disableHiding:h,mountXStyle:k,pinChildrenOnInteraction:q,pinChildrenWithPlayer:r,scrollport:l,topBottomMargin:s,unmountHiddenChildren:o,unmountXStyle:n,xstyle:a,children:g}),e[17]=p,e[18]=g,e[19]=o,e[20]=h,e[21]=k,e[22]=l,e[23]=q,e[24]=r,e[25]=s,e[26]=n,e[27]=a,e[28]=m):m=e[28];return m}g["default"]=a}),98);
__d("getImageSourceURLFromImageish",[],(function(a,b,c,d,e,f){"use strict";function a(a){if(typeof a==="string")return a;return a!=null&&typeof a==="object"&&(!a.sprited&&a.uri&&typeof a.uri==="string")?a.uri:""}f["default"]=a}),66);
__d("mapMapToArray",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){var c=[],d=0;for(var e of a){var f=e[0],g=e[1];c.push(b(g,f,d,a));d++}return c}f["default"]=a}),66);
__d("useGroupsCometIsInCCNegativeTest",["qex"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a=c("qex")._("905")===!0;return a}function b(){var a=c("qex")._("913")===!0;return a}function d(){var a=c("qex")._("571")===!0,b=c("qex")._("914")===!0;return a||b}function e(){var a=c("qex")._("916")===!0;return a}g.useShouldDisableFeedChatPostsAttachmentsForNegativeTest=a;g.useShouldDisableGroupsTabForNegativeTest=b;g.useShouldDisableCMInCometHomeForNegativeTest=d;g.useShouldDisableBumpToInboxForNegativeTest=e}),98);/*FB_PKG_DELIM*/
__d("CometObjectFitContainer.react",["cr:964538","isStringNullOrEmpty","react","react-compiler-runtime","stylex","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k={inner:{height:"x5yr21d",position:"x1n2onr6",width:"xh8yej3",$$css:!0},innerWithAspectRatio:{bottom:"x1ey2m1c",boxSizing:"x9f619",end:"xds687c",start:"x17qophe",left:null,right:null,position:"x10l6tqk",top:"x13vifvy",$$css:!0},outer:{height:"x5yr21d",position:"x1n2onr6",width:"xh8yej3",$$css:!0},outerWithAspectRatio:{height:"xt7dq6l",$$css:!0}};function l(a){var b=d("react-compiler-runtime").c(21),e=a.children,f=a.debugRole,g=a.innerInlineStyle,i=a.innerXStyle,l=a.outerInlineStyle,m=a.outerRef,n=a.outerXStyle;a=a.testid;var o=c("isStringNullOrEmpty")(a)?void 0:a+"-outer";a=c("isStringNullOrEmpty")(a)?void 0:a+"-inner";var p;b[0]!==f?(p={},b[0]=f,b[1]=p):p=b[1];var q;b[2]!==n?(q=(h||(h=c("stylex")))(k.outer,n),b[2]=n,b[3]=q):q=b[3];b[4]!==f?(n={},b[4]=f,b[5]=n):n=b[5];b[6]!==i?(f=(h||(h=c("stylex")))(k.inner,i),b[6]=i,b[7]=f):f=b[7];b[8]!==e||b[9]!==g||b[10]!==n||b[11]!==f||b[12]!==a?(i=j.jsx("div",babelHelpers["extends"]({},n,{className:f,"data-testid":void 0,style:g,children:e})),b[8]=e,b[9]=g,b[10]=n,b[11]=f,b[12]=a,b[13]=i):i=b[13];b[14]!==l||b[15]!==m||b[16]!==p||b[17]!==q||b[18]!==i||b[19]!==o?(e=j.jsx("div",babelHelpers["extends"]({},p,{className:q,"data-testid":void 0,ref:m,style:l,children:i})),b[14]=l,b[15]=m,b[16]=p,b[17]=q,b[18]=i,b[19]=o,b[20]=e):e=b[20];return e}function a(a){var b=d("react-compiler-runtime").c(11),e=a.children,f=a.contentAspectRatio,g=a.debugRole,h=a.objectFitMode,i=a.ref;a=a.testid;h=h===void 0?"CONTAINER_SIZE":h;f=f!=null&&isFinite(f)&&f>0?f:1.7777777777777777;if(h==="CONTAINER_WIDTH_BASED_ASPECT_RATIO"){f=isFinite(f)&&f>0?100/f:100;f=f.toFixed(5)+"%";var m;b[0]!==f?(m={paddingBottom:f},b[0]=f,b[1]=m):m=b[1];f=m;b[2]!==e||b[3]!==g||b[4]!==f||b[5]!==a?(m=j.jsx(l,{children:e,debugRole:g,innerXStyle:k.innerWithAspectRatio,outerInlineStyle:f,outerRef:i,outerXStyle:k.outerWithAspectRatio,testid:void 0}),b[2]=e,b[3]=g,b[4]=f,b[5]=a,b[6]=m):m=b[6];return m}else if(h==="CONTAINER_SIZE"){b[7]!==e||b[8]!==g||b[9]!==a?(f=j.jsx(l,{children:e,debugRole:g,outerRef:i,testid:void 0}),b[7]=e,b[8]=g,b[9]=a,b[10]=f):f=b[10];return f}else throw c("unrecoverableViolation")("Unsupported objectFitMode "+h,"comet_ui")}g["default"]=a}),98);
__d("CoreVideoPlayerImplementationCallbacks",["VideoPlayerAudioAvailabilityInfo","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");b.useCallback;var i=b.useEffect,j=b.useRef;function a(a){var b=d("react-compiler-runtime").c(30),c=a.coreVideoPlayerMetaData,e=a.dimensions,f=a.instanceKey,g=a.isFullscreen,h=a.onCoreVideoStatesChanged,k=a.renderWithCoreVideoStates,l=a.videoPlayerPassiveViewabilityInfo;b[0]!==c.adClientToken||b[1]!==c.audioAvailabilityInfo||b[2]!==c.autoplayGatingResult||b[3]!==c.autoplaySetting||b[4]!==c.broadcastStatus||b[5]!==c.canAutoplay||b[6]!==c.initialTracePolicy||b[7]!==c.isNCSR||b[8]!==c.isPremiumMusicVideo||b[9]!==c.videoFBID||b[10]!==c.videoPixelsAspectRatio||b[11]!==c.volumeSetting||b[12]!==e||b[13]!==f||b[14]!==g||b[15]!==l?(a=function(a){var b,h=a.implementationController;a=a.implementationExposedState;b={adClientToken:c.adClientToken,audioAvailabilityInfo:(b=c.audioAvailabilityInfo)!=null?b:d("VideoPlayerAudioAvailabilityInfo").VideoPlayerAudioAvailabilityInfoDefault,autoplayGatingResult:c.autoplayGatingResult!=null?c.autoplayGatingResult:"unknown",autoplaySetting:c.autoplaySetting,broadcastStatus:c.broadcastStatus,canAutoplay:c.canAutoplay!=null?c.canAutoplay:"allow",controller:h,dimensions:e,duration:a.duration,initialTracePolicy:c.initialTracePolicy,instanceKey:f,isDesktopPictureInPicture:a.isDesktopPictureInPicture,isFullscreen:g,isNCSR:Boolean(c.isNCSR),isPremiumMusicVideo:Boolean(c.isPremiumMusicVideo),lastMuteReason:a.lastMuteReason,lastPauseReason:a.lastPauseReason,lastPlayReason:a.lastPlayReason,loopCount:a.loopCount,loopCurrent:a.loopCurrent,videoFBID:c.videoFBID,videoPixelsAspectRatio:c.videoPixelsAspectRatio,videoPlayerPassiveViewabilityInfo:l,videoState:a,volumeSetting:c.volumeSetting};return b},b[0]=c.adClientToken,b[1]=c.audioAvailabilityInfo,b[2]=c.autoplayGatingResult,b[3]=c.autoplaySetting,b[4]=c.broadcastStatus,b[5]=c.canAutoplay,b[6]=c.initialTracePolicy,b[7]=c.isNCSR,b[8]=c.isPremiumMusicVideo,b[9]=c.videoFBID,b[10]=c.videoPixelsAspectRatio,b[11]=c.volumeSetting,b[12]=e,b[13]=f,b[14]=g,b[15]=l,b[16]=a):a=b[16];var m=a;b[17]!==m||b[18]!==k?(a=function(a){a=m(a);return k(a)},b[17]=m,b[18]=k,b[19]=a):a=b[19];a=a;var n=j(null),o;b[20]!==m||b[21]!==h?(o=function(a){n.current=a.implementationController;if(h){a=m(a);h(a)}},b[20]=m,b[21]=h,b[22]=o):o=b[22];o=o;var p,q;b[23]!==m||b[24]!==h?(p=function(){var a=n.current;if(h&&a){a=m({implementationController:a,implementationExposedState:a.getCurrentState()});h(a)}},q=[h,m],b[23]=m,b[24]=h,b[25]=p,b[26]=q):(p=b[25],q=b[26]);i(p,q);b[27]!==o||b[28]!==a?(p={onExposedStateChanged:o,renderWithExposedState:a},b[27]=o,b[28]=a,b[29]=p):p=b[29];return p}g.useImplementationCallbacks=a}),98);
__d("VideoPlayerOnViewability.react",["DOMRectIsEqual","DOMRectReadOnly","VideoPlayerViewabilityConstants","emptyFunction","react","useIntersectionObserver","useUnsafeRef_DEPRECATED"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react"));b=i;var k=b.useCallback,l=b.useMemo,m=b.useRef,n=10,o=[.25,.75,.99,1].concat(new Array(10).fill().map(function(a,b){return b/10}));function a(a){var b=a.viewportMargins,d=m(-1),e=m(-1),f=m(c("DOMRectReadOnly").fromRect({height:0,width:0,x:0,y:0})),g=m(null),i=m(null);b=-b.top+"px "+-b.right+"px "+-b.bottom+"px "+-b.left+"px";var p=a.onVideoPlayerViewabilityInfoChange||c("emptyFunction"),q=n,r=k(function(a){if(a.time>e.current&&!c("DOMRectIsEqual")(a.boundingClientRect,f.current)){var b=a.boundingClientRect,d=b.height,h=b.width,i=b.x;b=b.y;var j=g.current;d=c("DOMRectReadOnly").fromRect({height:d,width:h,x:i,y:b});f.current=d;e.current=a.time;if(j===null||j<=0)return;if(j<=c("VideoPlayerViewabilityConstants").DEFAULT_VIEWABILITY_PERCENTAGE_FOR_PAUSE)return;p({positionToViewport:d,visiblePercentage:j})}},[f,g,p]),s=k(function(a){if(a.time>d.current&&(a.intersectionRatio!==g.current||!c("DOMRectIsEqual")(a.boundingClientRect,f.current))){var b=a.boundingClientRect,h=b.height,j=b.width,k=b.x;b=b.y;var l=a.intersectionRatio;h=c("DOMRectReadOnly").fromRect({height:h,width:j,x:k,y:b});j=i.current;k=j;b=!1;var m=Math.abs((j||0)*100-(l||0)*100);(l!==null&&m>=1||m>0&&l<(j||0))&&(k=l,i.current=l,b=!0);g.current=l;d.current=a.time;m=f.current;f.current=h;e.current=a.time;if(!b&&c("DOMRectIsEqual")(m,h))return;k!==null&&p({positionToViewport:h,visiblePercentage:k})}},[e,f,g,p,d]),t=l(function(){var a=[];for(var b=1;b<=q;b++)a.push("-"+(100-b/q*100)+"% 0% 0% 0%");return a},[q]),u=(h||(h=c("useUnsafeRef_DEPRECATED")))([]);u.current=[];for(var v=0;v<t.length;v++)u.current.push(k(c("useIntersectionObserver")(r,{root:null,rootMargin:t[v],threshold:o}),[t[v],o,c("useIntersectionObserver")]));var w=u.current.length,x=k(function(a){for(var b=0;b<w;b++)u.current[b](a)},[w,u]),y=k(c("useIntersectionObserver")(s,{root:null,rootMargin:b,threshold:o}),[s,b,o,c("useIntersectionObserver")]);v=k(function(a){y(a),x(a)},[y,x]);return j.jsx("div",babelHelpers["extends"]({className:"x5yr21d x1uhb9sk xh8yej3"},{ref:v,children:j.Children.only(a.children)}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("renderVideoPlayerImplementation",["react","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a,b){if(a.typename==="VideoPlayerEmptyImplementation")return i.jsx(a.Component,babelHelpers["extends"]({},b,a.data));else if(a.typename==="VideoPlayerOzImplementation")return i.jsx(a.Component,babelHelpers["extends"]({},b,a.data));else if(a.typename==="VideoPlayerProgressiveImplementation")return i.jsx(a.Component,babelHelpers["extends"]({},b,a.data));else if(a.typename==="VideoPlayerNextgendashImplementation")return i.jsx(a.Component,babelHelpers["extends"]({},b,a.data));else{a.typename;throw c("unrecoverableViolation")('CoreVideoPlayer: Unrecognized implementation typename "'+a.typename+'".',"comet_video_player")}}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useCreateVideoPlayerPassiveViewabilityInfo",["removeFromArray","useStable"],(function(a,b,c,d,e,f,g){"use strict";function a(){return c("useStable")(h)}function h(){var a=[],b;b=null;return{setVideoPlayerPassiveViewabilityInfo:function(c){b=c,a.forEach(i)},videoPlayerPassiveViewabilityInfo:{getCurrent:function(){return b},subscribe:function(b){a.push(b);return{remove:function(){c("removeFromArray")(a,b)}}}}}}function i(a){return a()}g["default"]=a}),98);
__d("CoreVideoPlayer.react",["CometObjectFitContainer.react","CoreVideoPlayerImplementationCallbacks","ErrorMetadata","FBLogger","VideoPlayerOnViewability.react","VideoPlayerViewabilityContexts","cr:10818","createVideoStateHook","err","getVideoShareDownstreamSignalTracking","react","react-compiler-runtime","renderVideoPlayerImplementation","useCometSize_DO_NOT_USE","useCreateVideoPlayerPassiveViewabilityInfo","useStable","videoPlayerUniqueID"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));e=h;var j=e.useCallback,k=e.useRef,l=584;function m(a){return a!=null&&isFinite(a)&&a>0?a:0}function n(a){if(a==="video_home_inline"||a==="inline")return{height:l,width:l};else return{height:1080,width:1920}}function o(a,b){var e=d("react-compiler-runtime").c(8);b=c("useCometSize_DO_NOT_USE")((b=b)!=null?b:!1);var f=b[0];b=b[1];if(e[0]!==b||e[1]!==a){var g;g=(g=b)!=null?g:n(a);e[0]=b;e[1]=a;e[2]=g}else g=e[2];b=g;e[3]!==f?(a=function(a){return i.jsx(c("CometObjectFitContainer.react"),{debugRole:null,objectFitMode:"CONTAINER_SIZE",ref:f,children:a})},e[3]=f,e[4]=a):a=e[4];e[5]!==b||e[6]!==a?(g=[b,a],e[5]=b,e[6]=a,e[7]=g):g=e[7];return g}function p(a){var b=a.implementation,e=a.accessToken,f=a.expiredVideoUrlRefreshHandler,g=a.fullscreenController,h=a.isFullscreen,l=a.onCoreVideoStatesChanged,n=a.productAttribution,p=a.renderWithCoreVideoStates,q=a.trackingDataEncrypted,r=a.trackingNodes,s=a.videoPlayerUniqueIDOverride,t=a.viewportMarginsForViewability;a=babelHelpers.objectWithoutPropertiesLoose(a,["implementation","accessToken","expiredVideoUrlRefreshHandler","fullscreenController","isFullscreen","onCoreVideoStatesChanged","productAttribution","renderWithCoreVideoStates","trackingDataEncrypted","trackingNodes","videoPlayerUniqueIDOverride","viewportMarginsForViewability"]);var u=c("useStable")(function(){return c("videoPlayerUniqueID")(s)});d("createVideoStateHook").useCleanupVideoStateHooks_INTERNAL(u);var v=k(0),w=c("useCreateVideoPlayerPassiveViewabilityInfo")(),x=w.setVideoPlayerPassiveViewabilityInfo;w=w.videoPlayerPassiveViewabilityInfo;var y=o(a.subOrigin,a.bypassUseCometSizeError),z=y[0];y=y[1];var A=j(function(a){x(a)},[x]);l=d("CoreVideoPlayerImplementationCallbacks").useImplementationCallbacks({coreVideoPlayerMetaData:a,dimensions:z,instanceKey:u,isFullscreen:h,onCoreVideoStatesChanged:l,renderWithCoreVideoStates:p,videoPlayerPassiveViewabilityInfo:w});p=l.onExposedStateChanged;l=l.renderWithExposedState;var B=d("getVideoShareDownstreamSignalTracking").getVideoShareDownstreamSignalTrackingWithNumberStartTime();e={accessToken:e,coreVideoPlayerMetaData:a,dimensions:z,downstreamShareSignalTracking:B,instanceKey:u,playerImplementationInstanceCountRef:v,productAttribution:n,trackingDataEncrypted:q,trackingNodes:r};B=a.sideLoadCaptionsExpected===!0||a.sideLoadCaptionsUrl!=null;u=a.isLiveStreaming===!0;q={VideoPlayerShakaPerformanceLoggerClass:a.VideoPlayerShakaPerformanceLoggerClass,alt:a.alt,alwaysShowCaptions:a.alwaysShowCaptions,areCaptionsAutogenerated:a.areCaptionsAutogenerated,audioOnly:a.audioOnly,broadcastLatencySensitivity:a.broadcastLatencySensitivity,bufferEndLimit:a.bufferEndLimit,captionDisplayStyle:a.captionDisplayStyle,crossOrigin_DO_NOT_USE_UNLESS_YOU_KNOW_WHAT_YOURE_DOING:a.crossOrigin_DO_NOT_USE_UNLESS_YOU_KNOW_WHAT_YOURE_DOING,dimensions:z,expiredVideoUrlRefreshHandler:f,fullscreenController:g,graphQLVideoDRMInfo:(v=a.graphQLVideoDRMInfo)!=null?v:null,graphQLVideoP2PSettings:(n=a.graphQLVideoP2PSettings)!=null?n:null,inbandCaptionsExpected:u,initialDesiredLatencyMs:a.desiredLatencyMs,initialLatencyToleranceMs:a.latencyToleranceMs,initialRepresentationIds:a.initialRepresentationIds,isClientTriggeredTraceEnabled:a.isClientTriggeredTraceEnabled,loadSequence:a.loadSequence,loggingConfig:a.loggingConfig,loggingMetaData:e,loopCount:a.loopCount,onExposedStateChanged:p,poster:a.poster,preloadForProgressiveDisabled:a.preloadForProgressiveDisabled,renderVideoPixelsFit:a.renderVideoPixelsFit,renderWithExposedState:l,seoWebCrawlerLookasideUrl:a.seoWebCrawlerLookasideUrl,seoWebCrawlerVideoTracks:a.seoWebCrawlerVideoTracks,sideLoadCaptionsExpected:B,sideLoadCaptionsUrl:a.sideLoadCaptionsUrl,startTimestamp:m(a.startTimestamp),videoFBID:a.videoFBID,videoPlayerPassiveViewabilityInfo:w,videoPlayerShakaPerformanceLoggerBuilder:a.videoPlayerShakaPerformanceLoggerBuilder,wrapVideoPixels_EXPERIMENTAL:a.wrapVideoPixels_EXPERIMENTAL};return y(i.jsx(d("VideoPlayerViewabilityContexts").VideoPlayerFullscreenContext.Provider,{value:h,children:i.jsx(c("VideoPlayerOnViewability.react"),{onVideoPlayerViewabilityInfoChange:A,viewportMargins:t,children:c("renderVideoPlayerImplementation")(b,q)})}))}p.displayName=p.name+" [from "+f.id+"]";function a(a){var e=d("react-compiler-runtime").c(6),f,g;e[0]!==a?(g=a.implementations,f=babelHelpers.objectWithoutPropertiesLoose(a,["implementations"]),e[0]=a,e[1]=f,e[2]=g):(f=e[1],g=e[2]);if(g.length===0){var h;a=c("err")("No implementations given to CoreVideoPlayer");a.name="VideoPlayerNoImplementations";a.project="comet_video_player";h=(h=a.metadata)!=null?h:new(c("ErrorMetadata"))();a.metadata=h;var j=f.videoFBID;j!=null&&h.addEntry("COMET_VIDEO","VIDEO_ID",j);throw(h=c("FBLogger")("comet_video_player").catching(a)).mustfixThrow.apply(h,[(j=a.messageFormat)!=null?j:a.message].concat(a.messageFormat!=null?(h=a.messageParams)!=null?h:[]:[]))}e[3]!==f||e[4]!==g?(j=b("cr:10818")?i.jsx(b("cr:10818"),{CoreVideoPlayerWithOneImplementation:p,coreVideoPlayerProps:f,implementations:g}):i.jsx(p,babelHelpers["extends"]({},f,{implementation:g[0]})),e[3]=f,e[4]=g,e[5]=j):j=e[5];return j}g["default"]=a}),98);
__d("DOMContainer.react",["invariant","isNode","react"],(function(a,b,c,d,e,f,g,h){var i,j=i||d("react");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.containerNode=null,c.setContainerNode=function(a){c.containerNode=a;var b=c.props.containerRef;typeof b==="function"&&b(a)},b)||babelHelpers.assertThisInitialized(c)}var d=b.prototype;d.getDOMChild=function(){var a=this.props.children;c("isNode")(a)||h(0,1533);return a};d.shouldComponentUpdate=function(a){return a.children!==this.props.children};d.componentDidMount=function(){var a=this.containerNode;a!=null&&a.appendChild(this.getDOMChild())};d.componentDidUpdate=function(a){a=this.containerNode;if(a==null)return;while(a.lastChild)a.removeChild(a.lastChild);a.appendChild(this.getDOMChild())};d.render=function(){var a=this.props,b=a.display;a=babelHelpers.objectWithoutPropertiesLoose(a,["display"]);b=b==="block"?"div":"span";return j.jsx(b,babelHelpers["extends"]({},a,{ref:this.setContainerNode,children:void 0}))};return b}(j.Component);a.defaultProps={display:"inline"};g["default"]=a}),98);
__d("CoreVideoPlayerFitParentContainer.react",["DOMContainer.react","cr:964538","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(7),c=a.ref,e=a.children,f=a.debugRole;a=a.testid;var g;b[0]!==f?(g=null,b[0]=f,b[1]=g):g=b[1];b[2]===Symbol["for"]("react.memo_cache_sentinel")?(f="x1lliihq x5yr21d x1n2onr6 xh8yej3 x1ja2u2z",b[2]=f):f=b[2];b[3]!==e||b[4]!==g||b[5]!==a?(f=i.jsx("div",babelHelpers["extends"]({},g,{className:f,"data-testid":void 0,ref:c,children:e})),b[3]=e,b[4]=g,b[5]=a,b[6]=f):f=b[6];return f}function b(a){var b=d("react-compiler-runtime").c(6),e=a.ref,f=a.debugRole;a=a.domElement;var g;b[0]!==f?(g=null,b[0]=f,b[1]=g):g=b[1];b[2]===Symbol["for"]("react.memo_cache_sentinel")?(f="x1lliihq x5yr21d x1n2onr6 xh8yej3 x1ja2u2z",b[2]=f):f=b[2];b[3]!==a||b[4]!==g?(f=i.jsx(c("DOMContainer.react"),babelHelpers["extends"]({},g,{className:f,display:"block",ref:e,children:a})),b[3]=a,b[4]=g,b[5]=f):f=b[5];return f}function e(a){a=a.debugRole;a=document.createElement("div");a.className="x1lliihq x5yr21d x1n2onr6 xh8yej3 x1ja2u2z";return a}g.CoreVideoPlayerFitParentContainer=a;g.CoreVideoPlayerFitParentDOMContainer=b;g.createFitParentContainerDiv=e}),98);
__d("GlobalVideoPortsRenderers.react",["CoreVideoPlayer.react","VideoPlayerContexts","VideoPlayerPortalingPlaceInfoProvider.react","emptyFunction","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||(h=d("react")),k=h,l=k.useEffect,m=k.useState,n=c("emptyFunction").thatReturns(null);function a(a){var b=d("react-compiler-runtime").c(14),e=a.coreVideoPlayerMetaData,f=a.currentPlaceID,g=a.currentVideoID,h=a.fullscreenController,i=a.implementations,k=a.isFullscreen,l=a.onCoreVideoStatesChanged,m=a.previousPlaceMetaData,o=a.trackingDataEncrypted,p=a.trackingNodes;a=a.viewportMarginsForViewability;var q;b[0]!==e||b[1]!==h||b[2]!==i||b[3]!==k||b[4]!==l||b[5]!==o||b[6]!==p||b[7]!==a?(q=j.jsx(c("CoreVideoPlayer.react"),babelHelpers["extends"]({},e,{fullscreenController:h,implementations:i,isFullscreen:k,onCoreVideoStatesChanged:l,renderWithCoreVideoStates:n,trackingDataEncrypted:o,trackingNodes:p,viewportMarginsForViewability:a})),b[0]=e,b[1]=h,b[2]=i,b[3]=k,b[4]=l,b[5]=o,b[6]=p,b[7]=a,b[8]=q):q=b[8];b[9]!==f||b[10]!==g||b[11]!==m||b[12]!==q?(e=j.jsx(d("VideoPlayerPortalingPlaceInfoProvider.react").VideoPlayerPortalingPlaceInfoProvider,{currentPlaceID:f,currentVideoID:g,portalingEnabled:!0,previousPlaceMetaData:m,thisPlaceID:f,children:q}),b[9]=f,b[10]=g,b[11]=m,b[12]=q,b[13]=e):e=b[13];return e}function b(a){var b=d("react-compiler-runtime").c(11),c=a.currentPlaceID,e=a.currentVideoID,f=a.previousPlaceMetaData,g=a.renderPlaceholder,h=a.thisPlaceID;a=a.videoPixelsAspectRatio;var k;b[0]!==g?(k=g!=null?g():null,b[0]=g,b[1]=k):k=b[1];b[2]!==k||b[3]!==a?(g=j.jsx((i||(i=d("VideoPlayerContexts"))).VideoPixelsAspectRatioContext.Provider,{value:a,children:k}),b[2]=k,b[3]=a,b[4]=g):g=b[4];b[5]!==c||b[6]!==e||b[7]!==f||b[8]!==g||b[9]!==h?(k=j.jsx(d("VideoPlayerPortalingPlaceInfoProvider.react").VideoPlayerPortalingPlaceInfoProvider,{currentPlaceID:c,currentVideoID:e,portalingEnabled:!0,previousPlaceMetaData:f,thisPlaceID:h,children:g}),b[5]=c,b[6]=e,b[7]=f,b[8]=g,b[9]=h,b[10]=k):k=b[10];return k}function e(a){var b=a.currentPlaceID,c=a.currentVideoID,e=a.injectCoreVideoStatesRef,f=a.previousPlaceMetaData,g=a.renderComponents;a=a.thisPlaceID;var h=m(null),i=h[0],k=h[1];h=m(null);var n=h[0],o=h[1];l(function(){e.current=function(a,b){a!=null&&o(function(){return a}),k(b)};return function(){e.current=null}},[e]);if(a===b&&i!=null){if(n!=null)throw n;return j.jsx(d("VideoPlayerPortalingPlaceInfoProvider.react").VideoPlayerPortalingPlaceInfoProvider,{currentPlaceID:b,currentVideoID:c,portalingEnabled:!0,previousPlaceMetaData:f,thisPlaceID:a,children:g(i)})}else return null}e.displayName=e.name+" [from "+f.id+"]";g.GlobalVideoPortsPlayerRenderer=a;g.GlobalVideoPortsPlaceholderRenderer=b;g.GlobalVideoPortsVideoComponentsRenderer=e}),98);/*FB_PKG_DELIM*/
__d("MAWBridgeUpdateClientMediaStatusHandler",["I64","LSIntEnum","MAWClientMediaStatusUtils","MAWMediaDownloadStatus","justknobx"],(function(a,b,c,d,e,f,g){"use strict";var h,i;async function j(a,b){var e=b.details,f=b.key,g=b.status,j=b.type;b=b.validationResult;f=f.toString();var k=await a.client_media_status.get(f),l=j==="main"?(k==null?void 0:k.mainMediaStatus)!=null&&(h||(h=d("I64"))).equal(k==null?void 0:k.mainMediaStatus,(i||(i=d("LSIntEnum"))).ofNumber(1)):(k==null?void 0:k.previewMediaStatus)!=null&&(h||(h=d("I64"))).equal(k==null?void 0:k.previewMediaStatus,(i||(i=d("LSIntEnum"))).ofNumber(1));if((g===c("MAWMediaDownloadStatus").DOWNLOADING||c("justknobx")._("4544"))&&l)return;return a.client_media_status.upsert([f],babelHelpers.extends({downloadRetryCount:(l=k==null?void 0:k.downloadRetryCount)!=null?l:(h||(h=d("I64"))).zero,id:f,mainMediaStatus:j==="main"?d("MAWClientMediaStatusUtils").getClientMediaStatusType(g):(a=k==null?void 0:k.mainMediaStatus)!=null?a:(i||(i=d("LSIntEnum"))).ofNumber(4),mainMediaStatusDetails:j==="main"?e:(l=k==null?void 0:k.mainMediaStatusDetails)!=null?l:"updated_main_without_details",previewMediaStatus:j==="preview"?d("MAWClientMediaStatusUtils").getClientMediaStatusType(g):k==null?void 0:k.previewMediaStatus,previewMediaStatusDetails:j==="preview"?e:k==null?void 0:k.previewMediaStatusDetails},d("MAWClientMediaStatusUtils").getValidationResults(b)))}async function a(a,b){await a.runInTransaction(function(a){return j(a,b)},"readwrite",void 0,void 0,f.id+":83")}g.txnHandler=j;g.call=a}),98);
__d("MAWCreateGroupThread",["fbt","FBLogger","I64","LSFactory","LSIssueNewErrorStoredProcedure","LSMessagingThreadAttributionType","MAWBridgeSendAndReceive","MAWJobDefinitions","MAWTimedJob","MWSharedS2SBaseAnnotations","WAJobOrchestratorTypes","gkx","promiseDone","sendToSentQPLLogger"],(function(a,b,c,d,e,f,g,h){"use strict";var i;async function j(a){var b=a.db,e=a.deduplicationKey,g=a.isDualSend;g=g===void 0?!1:g;var j=a.offlineThreadingId,k=a.participantIds;a=a.threadName;j=j!=null?(i||(i=d("I64"))).to_string(j):void 0;var l="msgr",m=d("sendToSentQPLLogger").markSendToSentStart();d("sendToSentQPLLogger").addSendToSentAnnotations(m,await d("MWSharedS2SBaseAnnotations").getSendToSentBaseAnnotations(d("MWSharedS2SBaseAnnotations").getMessageTypeParams({isGroupInvite:!0}),c("LSMessagingThreadAttributionType").UNKNOWN));var n;c("gkx")("1800")?n=await d("MAWBridgeSendAndReceive").sendAndReceive("backend","createGroup",{extras:{clientThreadKey:j,deduplicationKey:e,isDualSend:g,platform:l},instanceKey:m,key:j,subject:a,users:k}):n=await d("MAWTimedJob").TimedUIJobStarters.waitUntilCompleted(d("MAWJobDefinitions").createStartJobInfo("createGroup",{extras:{clientThreadKey:j,deduplicationKey:e,isDualSend:g,platform:l},key:j,s2sInstanceKey:m,scheduleConfig:{priority:d("WAJobOrchestratorTypes").JOB_PRIORITY.UI_ACTION},subject:a,uniqKey:j,users:k}));e=n.error;a=n.value;if(e==null&&a!=null&&a.type===l){d("sendToSentQPLLogger").markSendToSentSuccess(m);return{created:!0,jid:a.chatJid}}if(!g){var o=h._(/*BTDS*/"Couldn't create group").toString();c("promiseDone")(b.runInTransaction(function(a){return c("LSIssueNewErrorStoredProcedure")(c("LSFactory")(a),{errorBodyText:o,errorTitleText:o})},"readwrite",void 0,void 0,f.id+":124"))}d("sendToSentQPLLogger").markSendToSentFail(m,"failed_to_send_group_invite");throw c("FBLogger")("maw_threads").mustfixThrow("Unable to create group")}async function a(a){var b=a.deduplicationKey;if(b==null)return j(a);b=await d("MAWBridgeSendAndReceive").sendAndReceive("backend","getThreadIdByDeduplicationKey",{deduplicationKey:b});return b!=null?{created:!1,jid:b.jid}:j(a)}g.default=a}),226);
__d("MAWLoadThreadFromMI",["LSAuthorityLevel","LSFactory","LSIntEnum","MAWThreadMappingQPL","MAWVerifyThreadExistsUtils"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b,e,f,g){var i=c("LSAuthorityLevel").AUTHORITATIVE;f!=null&&d("MAWThreadMappingQPL").addAnnotations({"int":{sprocAuthLevel:i,sprocThreadType:e}},f);return d("MAWThreadMappingQPL").measurePerformanceForNullableInstanceKey("verify_thread_exists",f,function(){return d("MAWVerifyThreadExistsUtils").runVerifyThreadExistsSproc(c("LSFactory")(a),{authorityLevel:(h||(h=d("LSIntEnum"))).ofNumber(i),threadKey:b,threadType:h.ofNumber(e)},g).then(function(a){a=a[0];return a})})}g["default"]=a}),98);
__d("MAWMiActBulkCreateThreadInActWithMiData",["ExecutionEnvironment","FBLogger","I64","LSDatabaseSingleton","MAWActThreadMapping","MAWBridgeFireAndForget","MAWBridgeSendAndReceive","MAWJids","MAWLoggerDeferred","MAWMIC","MAWThreadMappingQPL","MAWThreadUpdateMiddlewareGatingUtil","MAWTrackPendingOccamadilloThreads","MWCookieUtil","ODS","WABridgedAPI","WAJids","cr:19969","gkx","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k;function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["[Occamadillo] queryGroups failed in bulkCreateThread. ",", groupJid: ",""]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["[Occamadillo] Querying WA server for group: ",""]);m=function(){return a};return a}async function a(a,e,f,g){e=o(e);var j=e.map(function(a){var b=a.fbid,c=a.forceLoadMessages;c=c===void 0?!1:c;var e=a.instanceKey,f=a.isGroupThread,g=a.jid,h=a.lastActivityTimestampMs;a=a.lastReadWatermarkTimestampMs;g=(k||(k=d("I64"))).to_string(g);f=f?d("WAJids").toGroupJid(g):d("MAWJids").toUserJid(g);return{authoritativeThreadKey:k.to_string(b),chatJid:f,forceLoadMessages:c,instanceKey:e,lastActivityTimestampMs:k.to_float(h),lastReadWatermarkTimestampMs:k.to_float(a),numOfMsgsToLoad:n({fbid:b})}});e=e.map(function(a){var b=a.instanceKey;a=a.jid;return b!=null?{instanceKey:b,intJid:a}:null}).filter(Boolean);if((h||(h=c("ExecutionEnvironment"))).isInWorker){var q=j.map(function(a){return{status:"fulfilled",value:{chatJid:a.chatJid,isCreated:!1,shouldQueryForGroup:!1}}});return Promise.resolve(q)}else if((h||(h=c("ExecutionEnvironment"))).isInBrowser&&(b("cr:19969")!=null&&d("MAWThreadUpdateMiddlewareGatingUtil").isMAWCacheServiceEnabled())){q=j.map(function(a){return a.chatJid});c("promiseDone")(b("cr:19969").getMAWUICacheServices().checkExistingCacheOrGetFromScratchAndNotifyListenersFor("snippets",q))}(i||(i=d("ODS"))).bumpEntityKey(3303,"maw_thread_mapping","bulk_create_thread."+f);q=await p(a,j,e,f,g);f==="init_sync"&&d("MAWMIC").addPoint("thread_mapping_received");await Promise.all(q.map(async function(a){if(a.status==="rejected")throw a.reason;var b=a.value.chatJid,e=d("WAJids").interpretAsGroupJid(b)!=null;if(e){e=d("WAJids").toGroupJid(b);if(a.value.isCreated||a.value.shouldQueryForGroup){c("promiseDone")(d("MAWLoggerDeferred").DEV(m(),e));try{await c("WABridgedAPI").queryGroups({groups:[e],type:"array"})}catch(b){a=b instanceof Error?b.message:"unknown";c("FBLogger")("messenger_web").warn("[Occamadillo] queryGroups failed in bulkCreateThread. %s",a);c("promiseDone")(d("MAWLoggerDeferred").WARN(l(),a,e));a=b instanceof Error&&b.message.includes('"errorCode":403');if(!a)throw b}d("MAWBridgeFireAndForget").fireAndForget("backend","checkIfGroupParticipant",{threadJid:b})}else d("MAWBridgeFireAndForget").fireAndForget("backend","updateLSThreadFromGroupInfo",{groupJid:e})}c("promiseDone")(d("MAWTrackPendingOccamadilloThreads").removePendingThread(b))}));if(c("gkx")("14068")){a=j.map(function(a){return a.forceLoadMessages===!0&&a.numOfMsgsToLoad!=null?{jid:a.chatJid,numOfMsgsToLoad:a.numOfMsgsToLoad}:null}).filter(Boolean);a.length>0&&d("MAWBridgeFireAndForget").fireAndForget("backend","bulkLoadMessagesForThread",{threads:a})}return q}function n(a){a=a.fbid;var b=1,e=10,f=20,g=d("MWCookieUtil").getAutoChatTabFromCookie();g=g?(k||(k=d("I64"))).equal(g.threadKey,a):!1;g=g?e:b;e=location.pathname.split("/");c("gkx")("2316")&&e.indexOf((k||(k=d("I64"))).to_string(a))>-1&&(g=f);return g}function o(a){var b=new Set(),e=Array.from(a.reduce(function(a,e){var f=a.get((k||(k=d("I64"))).to_string(e.fbid));if(f==null)a.set((k||(k=d("I64"))).to_string(e.fbid),e);else{e.instanceKey!=null&&b.add(e.instanceKey);f=f.lastActivityTimestampMs===e.lastActivityTimestampMs&&f.lastReadWatermarkTimestampMs===e.lastReadWatermarkTimestampMs;c("FBLogger")("messenger_web").mustfix("MAWMiActBulkCreateThreadInActWithMiData is called with duplicated threads. Data consistency: %s",f?"true":"false")}return a},new Map()).values());a.forEach(function(b){b=b.instanceKey;return b!=null&&d("MAWThreadMappingQPL").addAnnotations({int:{mawBulkCreateThreads:a.length,mawBulkCreateUniqueThreads:e.length}},b)});b.forEach(function(a){d("MAWThreadMappingQPL").endCancel("thread_not_unique_in_maw_bulk_create",a)});return e}async function p(a,e,f,g,h){var i=new Map();f.forEach(function(a){var b=a.instanceKey;a=a.intJid;i.set(a,b);d("MAWThreadMappingQPL").addPoint("create_in_maw_start",b)});d("MAWMIC").addPoint("thread_mapping_request_sent_to_worker");g={reason:g,s2sInstanceKey:h,threads:e,withoutSnippetRecalculation:b("cr:19969")!=null&&d("MAWThreadUpdateMiddlewareGatingUtil").isMAWCacheServiceEnabled()};h=c("gkx")("14153")?r(a,g):q(g);e=await h;var j=e.reduce(function(a,b){if(b.status==="fulfilled"){var c=d("WAJids").threadIdForChatJid(b.value.chatJid);a.set(c,b.value.isCreated)}return a},new Map());f.forEach(function(a){var b=a.instanceKey;a=a.intJid;a=j.get((k||(k=d("I64"))).to_string(a));a==null?d("MAWThreadMappingQPL").endFailure("create_in_maw_failed",b):(d("MAWThreadMappingQPL").addAnnotations({bool:{isMawThreadCreated:a}},b),d("MAWThreadMappingQPL").addPoint("create_in_maw_success",b))});return e}function q(a){return d("MAWBridgeSendAndReceive").sendAndReceive("backend","bulkCreateThread",a)}async function r(a,b){a=a!=null?Promise.resolve(a):(j||(j=d("LSDatabaseSingleton"))).LSDatabaseSingleton;a=await a.then(function(a){return d("MAWActThreadMapping").bulkVerifyThreadExistsInWorker(a,b)});return a.map(function(a){if(a.status==="rejected")return a;a=a.value;var b=a.chatJid,c=a.isCreated;a=a.shouldQueryForGroup;return{status:"fulfilled",value:{chatJid:b,isCreated:c,shouldQueryForGroup:a}}})}g.miActBulkCreateThreadInActWithMiData=a;g.getNumberOfMessagesToLoad=n;g.deduplicateThreadData=o}),98);
__d("MAWMiActMaybeCreateActThread",["CurrentMessengerUser","FBLogger","I64","LSIntEnum","LSMessagingThreadTypeUtil","MAWActThreadMapping","MAWBridgeOccamadilloVerifyThreadExistsHandler","MAWCreateGroupThread","MAWCreateOneToOneThread","MAWJids","MAWLoadThreadFromMI","MAWMiActBulkCreateThreadInActWithMiData","MAWMiActGetThreadLifecycleState","MAWMiActThreadLifecycleState","MAWThreadMappingQPL","MAWThreadMappingState","ReQL","WAJids","WATagsLogger","WATimeUtils","gkx","sendToSentQPLLogger"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["Duplicated thread creation for ",""]);j=function(){return a};return a}function k(a,b,e,f,g){d("MAWThreadMappingQPL").addPoint("upgrade_optimistic_to_act_thread",g);var j=e.actorId,k=e.participantIds;e=k.filter(function(a){return a!==(h||(h=d("I64"))).to_string(j)});var l=b.threadKey;b=b.threadType;if(d("LSMessagingThreadTypeUtil").isOneToOne(b)){var m=e.length===1?e:k;return d("MAWThreadMappingQPL").measurePerformance("maw_create_1-1_thread",g,function(){return d("MAWCreateOneToOneThread").call(a,(h||(h=d("I64"))).of_string(m[0]),h.to_string(l),f,void 0,g)})}else if(d("LSMessagingThreadTypeUtil").isGroup(b)&&e.length>1)return d("MAWThreadMappingQPL").measurePerformance("maw_create_group_thread",g,function(){return c("MAWCreateGroupThread")({db:a,offlineThreadingId:l,participantIds:k})}).then(async function(b){await d("MAWThreadMappingQPL").end({instanceKey:g,intJid:null,tables:a.tables,threadKey:l});return b});d("MAWThreadMappingQPL").addPoint("upgrade_optimistic_to_act_thread_fail",g);throw c("FBLogger")("messenger_web").mustfixThrow("[MiActMapping] Did not know which type of optimistic thread to create for threadKey: %s, participantsCount: %s, threadType: %s",(h||(h=d("I64"))).to_string(l),k.length,(i||(i=d("LSIntEnum"))).toNumber(b))}async function l(a,b,e,f,g){d("MAWThreadMappingQPL").addPoint("act_thread_creation_start",f);e={description:e,fbid:b.serverThreadKey,instanceKey:f,isGroupThread:d("LSMessagingThreadTypeUtil").isGroup(b.thread.threadType),jid:b.jidInt64,lastActivityTimestampMs:b.thread.lastActivityTimestampMs,lastReadWatermarkTimestampMs:b.thread.lastReadWatermarkTimestampMs};a=d("MAWMiActBulkCreateThreadInActWithMiData").miActBulkCreateThreadInActWithMiData(a,[e],"create_thread",g);e=await a;g=e[0];if(g.status==="rejected"){d("MAWThreadMappingQPL").addAnnotations({string:{retryActThreadCreationError:g.reason}},f);d("MAWThreadMappingQPL").endFailure("act_thread_creation_fail",f);throw c("FBLogger")("messenger_web").mustfixThrow("[MiActMapping] Failed to create ACT thread for threadKey: %s, error: %s",(h||(h=d("I64"))).to_string(b.serverThreadKey),g.reason)}else d("MAWThreadMappingQPL").addPoint("act_thread_creation_end",f);return{created:g.value.isCreated,jid:g.value.chatJid}}function m(a,b,c){if(!d("LSMessagingThreadTypeUtil").isOneToOne(a.thread.threadType)){d("MAWThreadMappingQPL").addPoint("convert_missing_mapping_not_supported_groups",c);return null}d("MAWThreadMappingQPL").addPoint("convert_missing_mapping_start",c);var e=b.actorId;b=b.participantIds;b=b.filter(function(a){return a!==(h||(h=d("I64"))).to_string(e)});if(b.length!==1){d("MAWThreadMappingQPL").addPoint("convert_missing_mapping_fail",c);return null}b=b[0];d("MAWThreadMappingQPL").addPoint("convert_missing_mapping_end",c);return{jid:d("MAWJids").toUserJid(b),jidInt64:(h||(h=d("I64"))).of_string(b),serverThreadKey:a.thread.threadKey,thread:a.thread,type:"AUTHORITATIVE_THREAD_ONLY"}}var n=new Map(),o=new Set();async function a(a,b,e,g){var r,s=await d("MAWMiActGetThreadLifecycleState").getThreadLifecycleStateAndMappingRowAndThread(a.tables,b,e),t=s.mappingRow,u=s.miActThreadState;s=s.thread;g!=null&&d("sendToSentQPLLogger").addSendToSentAnnotations(g,{string:{miActThreadState:u.type.toString()}});r=(r=u.serverThreadKey)!=null?r:b;var v=d("MAWThreadMappingQPL").getInstanceKeyForThreadKey(r),w=d("MAWThreadMappingState").getMappingStateForDbRows(s,t),x=w.actState;w=w.miState;var y=u.jid;if(c("gkx")("11539")&&y!=null){if(x===d("MAWThreadMappingState").ActState.READY){var z;d("MAWActThreadMapping").executePromisesBlockedOnActThreadMapping({authoritativeThreadKey:(h||(h=d("I64"))).to_string(r),description:"MAWMiActMaybeCreateActThread_"+e,instanceKey:null,jid:y,optimisticThreadKey:((z=s)==null?void 0:z.clientThreadKey)!=null?(h||(h=d("I64"))).to_string((z=s)==null?void 0:z.clientThreadKey):null})}if(d("MAWThreadMappingState").isReady({actState:x,miState:w})&&s!=null){var A=s;await a.runInTransaction(function(a){return d("MAWBridgeOccamadilloVerifyThreadExistsHandler").genUpdatesForAuthoritativeThread(a,A.threadKey,{clientThreadKey:A.clientThreadKey!=null?(h||(h=d("I64"))).to_string(A.clientThreadKey):null,instanceKey:null,isGroup:d("WAJids").switchOnMsgrChatJidType(y,{group:function(a){return!0},user:function(a){return!1}}),lastActivityTs:d("WATimeUtils").castToMillisTime((h||(h=d("I64"))).to_float(A.lastActivityTimestampMs))})},"readwrite",void 0,void 0,f.id+":266");d("sendToSentQPLLogger").markSendToSentPoint(g,"thread_mapping_ready");return{created:!1,jid:y}}}d("MAWThreadMappingQPL").start({instanceKey:v,jid:y,s2sInstanceKey:g,threadKey:r,threadState:u.type,trigger:"maybeCreateActThread_in_"+e});var B=s==null?15:(i||(i=d("LSIntEnum"))).unwrapIntEnum(s.threadType);if(w===d("MAWThreadMappingState").MiState.PARTIAL||w===d("MAWThreadMappingState").MiState.MISSING){z=await p(a,b,v,e,B);t=z.mappingRow;u=z.miActThreadState;s=z.thread}g!=null&&d("sendToSentQPLLogger").addSendToSentAnnotations(g,{string:{miActThreadState:u.type.toString()}});switch(u.type){case d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.AUTHORITATIVE_THREAD_MISSING_MAPPING_ROW:t=await q(a,r);z=m(u,t,v);if(z!=null){o.has(z.jid)&&d("WATagsLogger").TAGS(["occamadillo","retry_create_thread"]).LOG(j(),z.jid);o.add(z.jid);return l(a,z,e,v)}else{d("MAWThreadMappingQPL").endFailure("auth_thread_missing_mapping",v);throw c("FBLogger")("messenger_web").mustfixThrow("[MiActMapping] MI inserted the thread but mapping row was not written or deleted for threadKey: %s",(h||(h=d("I64"))).to_string(b))}case d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.OPTIMISTIC_THREAD_NO_ACT:s=(h||(h=d("I64"))).to_string(b);t=n.get(s);if(t!=null){d("MAWThreadMappingQPL").endCancel("thread_creation_in_progress",v);return t}d("sendToSentQPLLogger").markSendToSentPoint(g,"create_act_thread_start");z=await q(a,r);d("sendToSentQPLLogger").markSendToSentPoint(g,"create_act_thread_end");t=k(a,u.thread,z,e,v);n.set(s,t);return t;case d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.CLIENT_PARTIAL_MI_THREAD_WITH_ACT:await a.runInTransaction(function(a){return c("MAWLoadThreadFromMI")(a,b,B,v,e)},"readwrite",void 0,void 0,f.id+":371");await d("MAWThreadMappingQPL").end({instanceKey:v,intJid:d("MAWJids").convertChatJidToIntJid(u.jid),tables:a.tables,threadKey:r});return{created:!1,jid:u.jid};case d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.AUTHORITATIVE_THREAD_ONLY:return l(a,u,e,v,g);case d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.OPTIMISTIC_THREAD_WITH_ACT:case d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.MI_AND_ACT_THREAD_COMPLETE:c("gkx")("13549")?d("MAWThreadMappingQPL").endForThreadState(v,{actState:x,miState:w}):await d("MAWThreadMappingQPL").endForThreadState(v,{actState:x,miState:w});return{created:!1,jid:u.jid};case d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.CLIENT_PARTIAL_MI_THREAD:case d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.SERVER_PARTIAL_MI_THREAD:case d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.JID_MISSING_MI_THREAD:case d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.THREAD_KEY_ONLY:case d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.JID_MISSING_MAPPING_ROW:d("MAWThreadMappingQPL").endFailure("unhandled_thread_state",v);throw c("FBLogger")("messenger_web").mustfixThrow("[MiActMapping] Unhandled thread state for threadKey: %s, threadState: %s",(h||(h=d("I64"))).to_string(b),u.type);default:u.type;throw c("FBLogger")("messenger_web").mustfixThrow("[MiActMapping] Unreachable miActThreadState.type: %s",u.type)}}async function p(a,b,e,g,h){await a.runInTransaction(function(a){return c("MAWLoadThreadFromMI")(a,b,h,e,g)},"readwrite",void 0,void 0,f.id+":449");return d("MAWMiActGetThreadLifecycleState").getThreadLifecycleStateAndMappingRowAndThread(a.tables,b,g)}async function q(a,b){a=await d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(a.tables.participants,["contactId"]).getKeyRange(b).map(function(a){return(h||(h=d("I64"))).to_string(a.contactId)}));b=[d("CurrentMessengerUser").getID(),d("CurrentMessengerUser").getPageMessagingMailboxId()];var c=b[0];b=b[1];return{actorId:(h||(h=d("I64"))).of_string(b!=="0"?b:c),participantIds:a}}g.default=a}),98);
__d("combineLatestWith",["relay-runtime"],(function(a,b,c,d,e,f,g){"use strict";function a(){for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];return d("relay-runtime").Observable.create(function(a){var c=new Set(b),d=new Set(b),e=b.map(function(){return void 0}),f=b.map(function(b,f){return b.subscribe({complete:function(){d["delete"](b),d.size===0&&a.complete()},error:a.error,next:function(d){e[f]=d,c["delete"](b),c.size===0&&a.next(e)}})});return function(){f.forEach(function(a){return a.unsubscribe()})}})}g["default"]=a}),98);
__d("useMAWOfflineQueueLoadingIndicator",["Int64Hooks","MAWLoadingStateOutstandingOfflineQueueSelector","MAWStateContext.react","react-compiler-runtime","useCometRouterState","useMAWOfflineQueueLoadingIndicatorThreadJid"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,e){var f=d("react-compiler-runtime").c(4);a=a===void 0?!1:a;var g=e===void 0?d("MAWLoadingStateOutstandingOfflineQueueSelector").outstandingOfflineQueueSelector:e,h=c("useMAWOfflineQueueLoadingIndicatorThreadJid")(b==null?void 0:b.threadKey,b==null?void 0:b.threadType);e=c("useCometRouterState")();var i;f[0]!==g||f[1]!==h?(b=function(){return g(h)},i=[g,h],f[0]=g,f[1]=h,f[2]=b,f[3]=i):(b=f[2],i=f[3]);f=d("Int64Hooks").useMemoInt64(b,i);b=d("MAWStateContext.react").useMAWSelector(f);i=e==null?void 0:e.main.route.tabKey;return b&&(i==="messenger"||!a)}g["default"]=a}),98);
__d("useMAWOfflineQueueLoadingIndicatorV2",["MAWSharedProtocolQueueConst","useMAWOfflineQueueLoadingIndicatorShown","useMAWOfflineQueueLoadingIndicatorThreadJid","useMAWOfflineQueueState"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,e){a=a===void 0?!1:a;e===void 0?h:e;e=c("useMAWOfflineQueueLoadingIndicatorShown")(a);a=c("useMAWOfflineQueueLoadingIndicatorThreadJid")(b.threadKey,b.threadType);b=d("useMAWOfflineQueueState").useMAWOfflineQueueState();if(a!=null&&Object.keys(b.offlineQueueThreadStatus).length>0){return e&&b.offlineQueueThreadStatus[a]!=null&&((a=b.offlineQueueThreadStatus[a])==null?void 0:a.chatStatus)!==d("MAWSharedProtocolQueueConst").OfflineConsumerStatus.Complete}return e&&b.offlineQueueCount>0&&b.offlineQueueSyncState!==d("MAWSharedProtocolQueueConst").OfflineConsumerStatus.Complete}function h(){return i}function i(){return!0}g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("CometFeedAggregatedStoriesContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b=a.createContext({hasAggregateParent:!1});g["default"]=b}),98);
__d("CometFeedStoryContextSectionMatchRenderer_story.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[{kind:"RootArgument",name:"renderLocation"}],kind:"Fragment",metadata:null,name:"CometFeedStoryContextSectionMatchRenderer_story",selections:[{alias:null,args:[{kind:"Variable",name:"location",variableName:"renderLocation"}],concreteType:"CometStorySections",kind:"LinkedField",name:"comet_sections",plural:!1,selections:[{alias:null,args:[{kind:"Literal",name:"supported",value:"13MmTP"}],concreteType:null,kind:"LinkedField",name:"context_layout",plural:!1,selections:[{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryContextSectionMatchRenderer_story",fragmentName:"CometFeedStoryGroupConflictAlertContextLayoutStrategy_contextLayout",fragmentPropName:"contextLayout",kind:"ModuleImport"}],type:"CometFeedStoryGroupConflictAlertContextLayoutStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryContextSectionMatchRenderer_story",fragmentName:"CometFeedStoryGroupAdminAutonomyContextLayoutStrategy_contextLayout",fragmentPropName:"contextLayout",kind:"ModuleImport"}],type:"CometFeedStoryGroupAdminAutonomyContextLayoutStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryContextSectionMatchRenderer_story",fragmentName:"CometFeedStoryGroupPendingPostContextLayoutStrategy_contextLayout",fragmentPropName:"contextLayout",kind:"ModuleImport"}],type:"CometFeedStoryGroupPendingPostContextLayoutStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryContextSectionMatchRenderer_story",fragmentName:"CometFeedStoryThreadedStoryContextLayoutStrategy_contextLayout",fragmentPropName:"contextLayout",kind:"ModuleImport"}],type:"CometFeedStoryThreadedStoryContextLayoutStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryContextSectionMatchRenderer_story",fragmentName:"CometFeedStoryAggregatedContextLayoutStrategy_contextLayout",fragmentPropName:"contextLayout",kind:"ModuleImport"}],type:"CometFeedStoryAggregatedContextLayoutStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryContextSectionMatchRenderer_story",fragmentName:"GeminiFeedStoryDefaultContextLayoutStrategy_contextLayout",fragmentPropName:"contextLayout",kind:"ModuleImport"}],type:"GeminiFeedStoryDefaultContextLayoutStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryContextSectionMatchRenderer_story",fragmentName:"GeminiFeedStoryPluginContextLayoutStrategy_contextLayout",fragmentPropName:"contextLayout",kind:"ModuleImport"}],type:"GeminiFeedStoryPluginContextLayoutStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryContextSectionMatchRenderer_story",fragmentName:"CometFeedStoryDefaultContextLayoutStrategy_contextLayout",fragmentPropName:"contextLayout",kind:"ModuleImport"}],type:"CometFeedStoryDefaultContextLayoutStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryContextSectionMatchRenderer_story",fragmentName:"CometFeedStorySocialLearningModuleContextLayoutStrategy_contextLayout",fragmentPropName:"contextLayout",kind:"ModuleImport"}],type:"CometFeedStorySocialLearningModuleContextLayoutStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryContextSectionMatchRenderer_story",fragmentName:"GeminiFeedStoryKeyUpdateFeedUnitContextLayoutStrategy_contextLayout",fragmentPropName:"contextLayout",kind:"ModuleImport"}],type:"GeminiFeedStoryKeyUpdateFeedUnitContextLayoutStrategy",abstractKey:null}],storageKey:'context_layout(supported:"13MmTP")'}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"encrypted_tracking",storageKey:null}],type:"Story",abstractKey:null};e.exports=a}),null);
__d("CometFeedStoryContextSectionMatchRenderer.react",["CometFeedMatchRenderer.react","CometFeedStoryContextSectionMatchRenderer_story.graphql","CometRelay","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react");function a(a){var e,f=d("react-compiler-runtime").c(8),g=a.feedLocation,i=a.story,k=a.storyDebugInfo;a=a.variables;i=d("CometRelay").useFragment(h!==void 0?h:h=b("CometFeedStoryContextSectionMatchRenderer_story.graphql"),i);e=i==null?void 0:(e=i.comet_sections)==null?void 0:e.context_layout;var l;f[0]!==g||f[1]!==k||f[2]!==a?(l={feedLocation:g,storyDebugInfo:k,variables:a},f[0]=g,f[1]=k,f[2]=a,f[3]=l):l=f[3];g=i==null?void 0:i.encrypted_tracking;f[4]!==e||f[5]!==l||f[6]!==g?(k=j.jsx(c("CometFeedMatchRenderer.react"),{match:e,matchRequired:!0,props:l,section:"context_layout",trackingData:g}),f[4]=e,f[5]=l,f[6]=g,f[7]=k):k=f[7];return k}g["default"]=a}),98);
__d("CometFeedStoryContextSection_story.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[{kind:"RootArgument",name:"renderLocation"}],kind:"Fragment",metadata:null,name:"CometFeedStoryContextSection_story",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:[{kind:"Variable",name:"location",variableName:"renderLocation"}],kind:"ScalarField",name:"should_host_actor_link_in_watch",storageKey:null},{args:null,kind:"FragmentSpread",name:"CometFeedStoryContextSectionMatchRenderer_story"}],type:"Story",abstractKey:null};e.exports=a}),null);
__d("CometFeedStoryContextSection.react",["CometFeedStoryContextSectionMatchRenderer.react","CometFeedStoryContextSection_story.graphql","CometFeedStoryRenderLocationContext","CometRelay","CometTrackingNodeProvider.react","PagesCometLinkContext","react","react-compiler-runtime","react-strict-dom"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react"));i.useMemo;function a(a){var e=d("react-compiler-runtime").c(18),f=a.feedLocation,g=a.story,i=a.storyDebugInfo;a=a.variables;g=d("CometRelay").useFragment(h!==void 0?h:h=b("CometFeedStoryContextSection_story.graphql"),g);var k=a==null?void 0:a.renderLocation,l;e[0]!==k?(l={storyRenderLocation:k},e[0]=k,e[1]=l):l=e[1];k=l;l=k;k=!!g.should_host_actor_link_in_watch;var m;e[2]!==k?(m={shouldHostInWatch:k},e[2]=k,e[3]=m):m=e[3];k=m;m=k;k="CometFeedStoryContextSection CometFeedStoryContextSection-"+((k=g==null?void 0:g.id)!=null?k:"");var n;e[4]!==f||e[5]!==g||e[6]!==i||e[7]!==a?(n=j.jsx(c("CometFeedStoryContextSectionMatchRenderer.react"),{feedLocation:f,story:g,storyDebugInfo:i,variables:a}),e[4]=f,e[5]=g,e[6]=i,e[7]=a,e[8]=n):n=e[8];e[9]!==m||e[10]!==n?(f=j.jsx(c("PagesCometLinkContext").Provider,{displayName:"PagesCometLinkContext",value:m,children:n}),e[9]=m,e[10]=n,e[11]=f):f=e[11];e[12]!==l||e[13]!==f?(g=j.jsx(c("CometTrackingNodeProvider.react"),{trackingNode:230,children:j.jsx(c("CometFeedStoryRenderLocationContext").Provider,{displayName:"CometFeedStoryRenderLocationContext",value:l,children:f})}),e[12]=l,e[13]=f,e[14]=g):g=e[14];e[15]!==k||e[16]!==g?(i=j.jsx(d("react-strict-dom").html.div,{"data-testid":void 0,children:g}),e[15]=k,e[16]=g,e[17]=i):i=e[17];return i}g["default"]=a}),98);
__d("CometStoryAttachmentFooter.react",["BaseRow.react","BaseRowItem.react","CometEmojiTransform","CometFeedGating","CometPressable.react","CometTextWithEntities.react","FDSText.react","FDSTextPairing.react","FDSTextWithBadge.react","react","react-compiler-runtime","react-strict-dom"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));h.useMemo;var j={body:{marginBottom:"x4vbgl9",marginTop:"x1rdy4ex",overflowX:"x6ikm8r",overflowY:"x10wlt62",paddingBottom:"xjkvuk6",paddingTop:"x1iorvi4",$$css:!0},container:{marginEnd:"xykv574",marginStart:"xbmpl8g",paddingBottom:"xsag5q8",paddingEnd:"x1pi30zi",paddingStart:"x1swvt13",paddingTop:"xz9dl7a",$$css:!0},hasBody:{boxSizing:"x9f619",fontSize:"x1lkfr7t",marginBottom:"x4vbgl9",marginTop:"x1rdy4ex",paddingBottom:"xjkvuk6",paddingTop:"x1iorvi4",$$css:!0},hasBodyLineLimit1:{maxHeight:"xd183bf",$$css:!0},item:{paddingEnd:"xsyo7zv",paddingStart:"x16hj40l",$$css:!0},meta:{marginBottom:"x1e56ztr",textTransform:"xtvhhri",$$css:!0},pressable:{display:"x1lliihq",$$css:!0},root:{backgroundColor:"xmjcpbm",position:"x1n2onr6",":hover_textDecoration":"x1lku1pv",$$css:!0},rootDivider:{borderBottomColor:"x80vd3b",borderBottomStyle:"x1q0q8m5",borderBottomWidth:"xso031l",$$css:!0}},k=d("CometFeedGating").shouldEnableFeedUFIUIModernization(),l=[c("CometEmojiTransform")({size:18})],m=[c("CometEmojiTransform")()];function a(a){var b=d("react-compiler-runtime").c(53),e=a.addOn,f=a.body,g=a.bodyLineLimit,h=a.centerAlignAddOn,n=a.cta,o=a.headline,p=a.headlineBadge,q=a.headlineLineLimit,r=a.href,s=a.meta,t=a.metaColor,u=a.onPress,v=a.passthroughProps;a=a.xstyle;g=g===void 0?1:g;var w;b[0]!==r||b[1]!==v?(w={passthroughProps:v,url:r},b[0]=r,b[1]=v,b[2]=w):w=b[2];v=w;w=v;b[3]!==f?(v=f!=null?f.toString().trim():null,b[3]=f,b[4]=v):v=b[4];v=v;var x;b[5]!==s?(x=s!=null?s.toString():null,b[5]=s,b[6]=x):x=b[6];s=x;b[7]!==a?(x=[j.root,a,!k&&j.rootDivider],b[7]=a,b[8]=x):x=b[8];b[9]!==e||b[10]!==h?(a=e!=null?i.jsx(c("BaseRowItem.react"),{verticalAlign:h!=null?"center":"top",xstyle:j.item,children:e}):null,b[9]=e,b[10]=h,b[11]=a):a=b[11];b[12]!==t||b[13]!==s?(e=s!=null&&s.length>0?i.jsx(d("react-strict-dom").html.div,{"data-ad-rendering-role":"meta","data-testid":void 0,style:[j.meta],children:i.jsx(c("FDSText.react"),{color:t,numberOfLines:1,type:"meta3",children:s})}):null,b[12]=t,b[13]=s,b[14]=e):e=b[14];h=f!=null&&j.hasBody;t=f!=null&&g===1&&j.hasBodyLineLimit1;b[15]!==t||b[16]!==h?(s=[j.body,h,t],b[15]=t,b[16]=h,b[17]=s):s=b[17];b[18]!==v?(f=v!=null&&v.length>0?i.jsx(d("react-strict-dom").html.span,{"data-ad-rendering-role":"description","data-testid":void 0,children:i.jsx(c("CometTextWithEntities.react"),{text:v,transforms:m})}):null,b[18]=v,b[19]=f):f=b[19];b[20]!==o?(t=o.toString(),b[20]=o,b[21]=t):t=b[21];b[22]!==t?(h=i.jsx(c("CometTextWithEntities.react"),{text:t,transforms:l}),b[22]=t,b[23]=h):h=b[23];b[24]!==p||b[25]!==h?(v=i.jsx(d("react-strict-dom").html.span,{"data-ad-rendering-role":"title","data-testid":void 0,children:i.jsx(c("FDSTextWithBadge.react"),{badgeAfter:p,children:h})}),b[24]=p,b[25]=h,b[26]=v):v=b[26];p=(t=q)!=null?t:2;b[27]!==g||b[28]!==f||b[29]!==v||b[30]!==p?(h=i.jsx(c("FDSTextPairing.react"),{body:f,bodyColor:"secondary",bodyLineLimit:g,headline:v,headlineLineLimit:p,level:3}),b[27]=g,b[28]=f,b[29]=v,b[30]=p,b[31]=h):h=b[31];b[32]!==s||b[33]!==h?(q=i.jsx(d("react-strict-dom").html.div,{style:s,children:h}),b[32]=s,b[33]=h,b[34]=q):q=b[34];b[35]!==q||b[36]!==e?(t=i.jsxs(c("BaseRowItem.react"),{expanding:!0,useDeprecatedStyles:!0,xstyle:j.item,children:[e,q]}),b[35]=q,b[36]=e,b[37]=t):t=b[37];b[38]!==n?(g=n!=null?i.jsx(c("BaseRowItem.react"),{xstyle:j.item,children:n}):null,b[38]=n,b[39]=g):g=b[39];b[40]!==t||b[41]!==g||b[42]!==a?(f=i.jsxs(c("BaseRow.react"),{verticalAlign:"center",xstyle:j.container,children:[a,t,g]}),b[40]=t,b[41]=g,b[42]=a,b[43]=f):f=b[43];b[44]!==f||b[45]!==x?(v=i.jsx(d("react-strict-dom").html.div,{style:x,children:f}),b[44]=f,b[45]=x,b[46]=v):v=b[46];p=v;b[47]!==p||b[48]!==o||b[49]!==r||b[50]!==w||b[51]!==u?(s=r!=null?i.jsx(c("CometPressable.react"),{display:"block",label:o,linkProps:w,onPress:u,overlayDisabled:!0,testid:void 0,xstyle:j.pressable,children:p}):p,b[47]=p,b[48]=o,b[49]=r,b[50]=w,b[51]=u,b[52]=s):s=b[52];return s}g["default"]=a}),98);
__d("NavChainContentProvider",["NavChainContentContext","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(3),e=a.children;a=a.content_id;var f;b[0]!==e||b[1]!==a?(f=i.jsx(c("NavChainContentContext").Provider,{value:a,children:e}),b[0]=e,b[1]=a,b[2]=f):f=b[2];return f}b=i.memo(a);g["default"]=b}),98);
__d("StoryAttachmentContext_story.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}];return{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"StoryAttachmentContext_story",selections:[{alias:null,args:null,kind:"ScalarField",name:"post_id",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"actors",plural:!0,selections:a,storageKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"message",plural:!1,selections:a,storageKey:null}],type:"Story",abstractKey:null}}();e.exports=a}),null);
__d("StoryAttachmentContext",["CometRelay","StoryAttachmentContext_story.graphql","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react"));e=i;var k=e.useContext;e.useMemo;var l=j.createContext({postId:null,storyActor:null,storyMessage:null});function a(a){var c,e,f=d("react-compiler-runtime").c(7),g=a.children;a=a.story;a=d("CometRelay").useFragment(h!==void 0?h:h=b("StoryAttachmentContext_story.graphql"),a);c=(c=a==null?void 0:a.post_id)!=null?c:null;e=(e=a==null?void 0:(e=a.actors)==null?void 0:e[0])!=null?e:null;a=(a=a==null?void 0:a.message)!=null?a:null;var i;f[0]!==c||f[1]!==e||f[2]!==a?(i={postId:c,storyActor:e,storyMessage:a},f[0]=c,f[1]=e,f[2]=a,f[3]=i):i=f[3];c=i;e=c;f[4]!==g||f[5]!==e?(a=j.jsx(l.Provider,{value:e,children:g}),f[4]=g,f[5]=e,f[6]=a):a=f[6];return a}function c(){return k(l)}g.StoryAttachmentContextProvider=a;g.useStoryAttachmentContext=c}),98);
__d("react-relay/relay-hooks/legacy/useFragmentNode",["react","react-relay/relay-hooks/legacy/FragmentResource","react-relay/relay-hooks/useRelayEnvironment","react-relay/relay-hooks/useUnsafeRef_DEPRECATED","relay-runtime","warning"],(function(a,b,c,d,e,f){"use strict";var g,h=b("react-relay/relay-hooks/legacy/FragmentResource").getFragmentResourceForEnvironment;c=g||(g=b("react"));var i=c.useEffect,j=c.useState,k=b("relay-runtime").RelayFeatureFlags,l=b("relay-runtime").getFragmentIdentifier;function a(a,c,d){var e=b("react-relay/relay-hooks/useRelayEnvironment")(),f=h(e),g=b("react-relay/relay-hooks/useUnsafeRef_DEPRECATED")(!1),m=j(0),n=m[1];m=l(a,c);var o=f.readWithIdentifier(a,c,m,d),p=b("react-relay/relay-hooks/useUnsafeRef_DEPRECATED")(!0);function q(){p.current=!0;var a=f.checkMissedUpdates(o)[0];a&&s()}function r(){p.current=!1}function s(){if(g.current===!1||p.current===!1)return;n(function(a){return a+1})}i(function(){g.current=!0;var a=f.subscribe(o,s);return function(){g.current=!1,a.dispose()}},[e,m]);(k.LOG_MISSING_RECORDS_IN_PROD||0)&&(c!=null&&(o.data===void 0||Array.isArray(o.data)&&o.data.length>0&&o.data.every(function(a){return a===void 0}))&&b("warning")(!1,"Relay: Expected to have been able to read non-null data for fragment `%s` declared in `%s`, since fragment reference was non-null. Make sure that that `%s`'s parent isn't holding on to and/or passing a fragment reference for data that has been deleted.",a.name,d,d));return{data:o.data,disableStoreUpdates:r,enableStoreUpdates:q}}e.exports=a}),null);
__d("react-relay/relay-hooks/legacy/useRefetchableFragmentNode",["invariant","react","react-compiler-runtime","react-relay/relay-hooks/ProfilerContext","react-relay/relay-hooks/QueryResource","react-relay/relay-hooks/legacy/FragmentResource","react-relay/relay-hooks/legacy/useFragmentNode","react-relay/relay-hooks/useIsMountedRef","react-relay/relay-hooks/useQueryLoader","react-relay/relay-hooks/useRelayEnvironment","relay-runtime","warning"],(function(a,b,c,d,e,f,g,h){"use strict";var i;c=i||b("react");var j=c.useCallback,k=c.useContext,l=c.useReducer;function m(a,b){switch(b.type){case"refetch":var c;return babelHelpers["extends"]({},a,{fetchPolicy:b.fetchPolicy,mirroredEnvironment:(c=b.refetchEnvironment)!=null?c:a.mirroredEnvironment,onComplete:b.onComplete,refetchEnvironment:b.refetchEnvironment,refetchQuery:b.refetchQuery,renderPolicy:b.renderPolicy});case"reset":return{fetchPolicy:void 0,mirroredEnvironment:b.environment,mirroredFragmentIdentifier:b.fragmentIdentifier,onComplete:void 0,refetchQuery:null,renderPolicy:void 0};default:b.type;throw new Error("useRefetchableFragmentNode: Unexpected action type")}}function a(a,c,e){var f=d("react-compiler-runtime").c(15),g=b("react-relay/relay-hooks/useRelayEnvironment")(),i;f[0]!==e||f[1]!==a?(i=b("relay-runtime").getRefetchMetadata(a,e),f[0]=e,f[1]=a,f[2]=i):i=f[2];i=i;var j=i.refetchableRequest;i=i.fragmentRefPathInResponse;var o=b("relay-runtime").getFragmentIdentifier(a,c),p=l(m,{fetchPolicy:void 0,mirroredEnvironment:g,mirroredFragmentIdentifier:o,onComplete:void 0,refetchEnvironment:null,refetchQuery:null,renderPolicy:void 0}),q=p[0];p=p[1];var r=q.fetchPolicy,s=q.mirroredEnvironment,t=q.mirroredFragmentIdentifier,u=q.onComplete,v=q.refetchEnvironment,w=q.refetchQuery,x=q.renderPolicy;v=(q=v)!=null?q:g;var y=b("react-relay/relay-hooks/QueryResource").getQueryResourceForEnvironment(v);q=b("react-relay/relay-hooks/legacy/FragmentResource").getFragmentResourceForEnvironment(v);var z=k(b("react-relay/relay-hooks/ProfilerContext"));g=v!==s||o!==t;s=b("react-relay/relay-hooks/useQueryLoader")(j);var A=s[0];t=s[1];s=s[2];var B=c,C=b("relay-runtime").getRefetchMetadata(a,e);C=C.identifierInfo;if(g)p({type:"reset",environment:v,fragmentIdentifier:o}),s();else if(w!=null&&A!=null){var D;f[3]!==u?(g=function(a){u&&u((a=a)!=null?a:null)},f[3]=u,f[4]=g):g=f[4];var E=g;f[5]!==v||f[6]!==A.source||f[7]!==w?(g=A.source!=null?A.source:b("relay-runtime").__internal.fetchQuery(v,w),f[5]=v,f[6]=A.source,f[7]=w,f[8]=g):g=f[8];var F=g;v=z.wrapPrepareQueryResource(function(){return y.prepare(w,F,r,x,{error:E,complete:function(){E()}},A.fetchKey,z)});g=q.read(v.fragmentNode,v.fragmentRef,e).data;g!=null||h(0,13942);q=b("relay-runtime").getValueAtPath(g,i);B=q}v=b("react-relay/relay-hooks/legacy/useFragmentNode")(a,B,e);g=v.data;q=v.disableStoreUpdates;v=v.enableStoreUpdates;e=n(e,p,s,g,o,a,i,C,t,c,j);f[9]!==q||f[10]!==v||f[11]!==g||f[12]!==B||f[13]!==e?(p={fragmentData:g,fragmentRef:B,refetch:e,disableStoreUpdates:q,enableStoreUpdates:v},f[9]=q,f[10]=v,f[11]=g,f[12]=B,f[13]=e,f[14]=p):p=f[14];return p}function n(a,c,e,f,g,h,i,k,l,m,n){i=d("react-compiler-runtime").c(17);var p=b("react-relay/relay-hooks/useIsMountedRef")(),q=(k==null?void 0:k.identifierField)!=null&&f!=null&&typeof f==="object"?f[k.identifierField]:null;i[0]!==a||i[1]!==c||i[2]!==e||i[3]!==h||i[4]!==k||i[5]!==q||i[6]!==p.current||i[7]!==l||i[8]!==m||i[9]!==n?(f=function(d,f){if(p.current!==!0){b("warning")(!1,"Relay: Unexpected call to `refetch` on unmounted component for fragment `%s` in `%s`. It looks like some instances of your component are still trying to fetch data but they already unmounted. Please make sure you clear all timers, intervals, async calls, etc that may trigger a fetch.",h.name,a);return{dispose:o}}m==null&&b("warning")(!1,"Relay: Unexpected call to `refetch` while using a null fragment ref for fragment `%s` in `%s`. When calling `refetch`, we expect initial fragment data to be non-null. Please make sure you're passing a valid fragment ref to `%s` before calling `refetch`, or make sure you pass all required variables to `refetch`.",h.name,a,a);var g=f==null?void 0:f.__environment,i=f==null?void 0:f.fetchPolicy,j=f==null?void 0:f.UNSTABLE_renderPolicy;f=f==null?void 0:f.onComplete;var r=b("relay-runtime").getSelector(h,m),s,t;if(r==null)s={},t={};else if(r.kind==="PluralReaderSelector"){var u;s=(u=(u=r.selectors[0])==null?void 0:u.owner.variables)!=null?u:{};t=(u=(u=r.selectors[0])==null?void 0:u.variables)!=null?u:{}}else s=r.owner.variables,t=r.variables;u=babelHelpers["extends"]({},s,t,d);k!=null&&!Object.prototype.hasOwnProperty.call(d,k.identifierQueryVariableName)&&(typeof q!=="string"&&b("warning")(!1,"Relay: Expected result to have a string  `%s` in order to refetch, got `%s`.",k.identifierField,q),u[k.identifierQueryVariableName]=q);r=b("relay-runtime").createOperationDescriptor(n,u,{force:!0});l(r.request.variables,{fetchPolicy:i,__environment:g,__nameForWarning:"refetch"});c({type:"refetch",fetchPolicy:i,onComplete:f,refetchEnvironment:g,refetchQuery:r,renderPolicy:j});return{dispose:e}},i[0]=a,i[1]=c,i[2]=e,i[3]=h,i[4]=k,i[5]=q,i[6]=p.current,i[7]=l,i[8]=m,i[9]=n,i[10]=f):f=i[10];var r;i[11]!==c||i[12]!==e||i[13]!==g||i[14]!==q||i[15]!==l?(r=[g,c,e,q,l],i[11]=c,i[12]=e,i[13]=g,i[14]=q,i[15]=l,i[16]=r):r=i[16];return j(f,r)}function o(){}var p;f.exports=a}),34);