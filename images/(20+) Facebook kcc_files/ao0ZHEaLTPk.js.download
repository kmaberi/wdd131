;/*FB_PKG_DELIM*/

__d("CometFeedFocusImage.react",["CometFeedFocusMedia.react","CometImage.react","react","react-compiler-runtime","react-strict-dom"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={border:{borderBottomColor:"x1nb4dca",borderBottomStyle:"x1q0q8m5",borderBottomWidth:"xso031l",borderTopColor:"x1exxf4d",borderTopStyle:"x13fuv20",borderTopWidth:"x178xt8z",bottom:"x1ey2m1c",boxSizing:"x9f619",end:"xds687c",pointerEvents:"x47corl",position:"x10l6tqk",start:"x17qophe",left:null,right:null,top:"x13vifvy",$$css:!0},root:{overflowX:"x6ikm8r",overflowY:"x10wlt62",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(13),e=a.alt,f=a.focusX,g=a.focusY,h=a.imageHeight,k=a.imageWidth,l=a.src;a=a.viewportAspectRatio;var m;b[0]!==e||b[1]!==l?(m=function(a){return i.jsx(c("CometImage.react"),{alt:e,src:l,xstyle:a})},b[0]=e,b[1]=l,b[2]=m):m=b[2];var n;b[3]!==f||b[4]!==g||b[5]!==h||b[6]!==k||b[7]!==m||b[8]!==a?(n=i.jsx(c("CometFeedFocusMedia.react"),{focusX:f,focusY:g,mediaHeight:h,mediaWidth:k,viewportAspectRatio:a,children:m}),b[3]=f,b[4]=g,b[5]=h,b[6]=k,b[7]=m,b[8]=a,b[9]=n):n=b[9];b[10]===Symbol["for"]("react.memo_cache_sentinel")?(f=i.jsx(d("react-strict-dom").html.div,{style:j.border}),b[10]=f):f=b[10];b[11]!==n?(g=i.jsxs(d("react-strict-dom").html.div,{style:j.root,children:[n,f]}),b[11]=n,b[12]=g):g=b[12];return g}b=i.memo(a);g["default"]=b}),98);
__d("FDSPhotoAddFilled16Icon",["cr:13886"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:13886")}),98);
__d("FDSPhotoAddFilled16PNGIcon.react",["ix","fbicon"],(function(a,b,c,d,e,f,g,h){"use strict";a=d("fbicon")._(h("481773"),16);b=a;g["default"]=b}),98);
__d("ReactComposerMediaAspect",[],(function(a,b,c,d,e,f){"use strict";function a(a){return g(a.w(),a.h())}function b(a){return g(a[0],a[1])}function g(a,b){if(a>b)return"landscape";else if(a<b)return"portrait";else return"square"}f.fromRect=a;f.fromDimensions=b;f._fromWidthAndHeight=g}),66);
__d("ReactComposerCollageLayoutModel",["ReactComposerMediaAspect"],(function(a,b,c,d,e,f,g){"use strict";function* h(a,b){while(!0){var c=a.next(),d=b.next();if(c.done||d.done)break;yield [c.value,d.value]}}function* i(a){for(a of a)yield a}a=function(){function a(a,b){this.$1=!!(a&1),this.$2=!!(a&2),this.$3=[],b&&this.addPhotoLayouts(b)}var b=a.prototype;b.addPhotoLayout=function(a){this.$3.push(a);return this};b.addPhotoLayouts=function(a){var b=this;a.forEach(function(a){return b.$3.push(a)});return this};b.getNumPhotoLayouts=function(){return this.$3.length};b.getPhotoLayouts=function(){return this.$3};b.getIsValidForPages=function(){return this.$2};b.getIsValidForUsers=function(){return this.$1};b.getIsValidFor=function(a){switch(a){case 1:return this.getIsValidForUsers();case 2:return this.getIsValidForPages()}return!1};b.hasMatchingCollagePhotoLayoutType=function(a){var b=d("ReactComposerMediaAspect").fromRect(this.$3[0]);a=d("ReactComposerMediaAspect").fromDimensions(a);return b===a};b.score=function(a){var b=0;for(a of h(i(this.getPhotoLayouts()),a.values())){var c=a[0],d=a[1];if(!d)continue;var e=c.w();c=c.h();var f=d[0];d=d[1];var g=0;if(f===0||d===0)g=0;else if(e*d/f>=c){var j=e*d/f;g=(j-c)/j}else if(c*f/d>e){j=c*f/d;g=(j-e)/j}b-=g*100;d===f?b-=g*5:e>c?f>d?b+=g*25:b-=g*25:e<c?f<d?b+=g*25:b-=g*25:e===c&&(b-=g*5)}b+=200*this.getNumPhotoLayouts();return b};return a}();g["default"]=a}),98);
__d("ReactComposerCollageRect",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a,b,c,d){this.t=a,this.r=b,this.b=c,this.l=d}var b=a.prototype;b.w=function(){return this.r-this.l};b.h=function(){return this.b-this.t};b.getWidth=function(){return this.w()};b.getHeight=function(){return this.h()};b.getTop=function(){return this.t};b.getRight=function(){return this.r};b.getBottom=function(){return this.b};b.getLeft=function(){return this.l};return a}();f["default"]=a}),66);
__d("ReactComposerJSONCollageLayoutData",[],(function(a,b,c,d,e,f){a=Object.freeze({1:[{validActors:3,photoLayouts:[[0,1,1,0]]}],2:[{validActors:3,photoLayouts:[[0,3,3,0],[0,6,3,3]]},{validActors:3,photoLayouts:[[0,6,3,0],[3,6,6,0]]},{validActors:3,photoLayouts:[[0,3,6,0],[0,6,6,3]]},{validActors:1,photoLayouts:[[0,6,2,0],[2,6,4,0]]}],3:[{validActors:3,photoLayouts:[[0,6,3,0],[3,3,6,0],[3,6,6,3]]},{validActors:3,photoLayouts:[[0,3,6,0],[0,6,3,3],[3,6,6,3]]},{validActors:2,photoLayouts:[[0,2,2,0],[0,4,2,2],[0,6,2,4]]},{validActors:1,photoLayouts:[[0,6,4,0],[4,3,6,0],[4,6,6,3]]},{validActors:1,photoLayouts:[[0,4,6,0],[0,6,3,4],[3,6,6,4]]},{validActors:1,photoLayouts:[[0,6,2,0],[2,6,4,0],[4,6,6,0]]},{validActors:1,photoLayouts:[[0,2,6,0],[0,4,6,2],[0,6,6,4]]}],4:[{validActors:3,photoLayouts:[[0,3,3,0],[0,6,3,3],[3,3,6,0],[3,6,6,3]]},{validActors:3,photoLayouts:[[0,6,4,0],[4,2,6,0],[4,4,6,2],[4,6,6,4]]},{validActors:3,photoLayouts:[[0,4,6,0],[0,6,2,4],[2,6,4,4],[4,6,6,4]]}],5:[{validActors:1,photoLayouts:[[0,3,3,0],[3,3,6,0],[0,6,2,3],[2,6,4,3],[4,6,6,3]]},{validActors:1,photoLayouts:[[0,3,3,0],[0,6,3,3],[3,2,5,0],[3,4,5,2],[3,6,5,4]]}]});f["default"]=a}),66);
__d("ReactComposerCollageLayoutData",["ReactComposerCollageLayoutModel","ReactComposerCollageRect","ReactComposerJSONCollageLayoutData"],(function(a,b,c,d,e,f,g){"use strict";var h=[];Object.keys(c("ReactComposerJSONCollageLayoutData")).forEach(function(a){c("ReactComposerJSONCollageLayoutData")[a].forEach(function(a){h.push(new(c("ReactComposerCollageLayoutModel"))(a.validActors,a.photoLayouts.map(function(a){return new(c("ReactComposerCollageRect"))(a[0],a[1],a[2],a[3])})))})});a=h;g["default"]=a}),98);
__d("ReactComposerCollageLayoutSelection",["FBLogger","ReactComposerCollageLayoutData"],(function(a,b,c,d,e,f,g){"use strict";d=6;e=6;function h(a){return c("ReactComposerCollageLayoutData").filter(function(b){return b.getIsValidFor(a)})}function a(){return Math.max.apply(Math,c("ReactComposerCollageLayoutData").map(function(a){return a.getNumPhotoLayouts()}))}function i(a){return Math.max.apply(Math,h(a).map(function(a){return a.getNumPhotoLayouts()}))}function b(a,b){if(a.size===0)return new Map();b=b===!0&&a.size>1;return b?j(a):k(a)}function j(a){if(a.size===0)return new Map();var b=a.values().next().value;if(b==null)throw c("FBLogger")("comet_feed").mustfixThrow("no dimensions for first media in collage");var d=Math.min(i(2),a.size),e=h(2).filter(function(a){return a.getNumPhotoLayouts()===d});if(!e.length)throw c("FBLogger")("comet_feed").mustfixThrow("no valid layout for these media");e=e.filter(function(a){return a.hasMatchingCollagePhotoLayoutType(b)});if(!e.length)throw c("FBLogger")("comet_feed").mustfixThrow("no valid layout for these media starts with a suitable aspect");e=e[0];var f=new Map(),g=0;e=e.getPhotoLayouts();for(a of a.keys()){var j=e[g++];j&&f.set(a,j)}return f}function k(a){var b=h(1).filter(function(b){return b.getNumPhotoLayouts()<=a.size});if(!b.length)throw c("FBLogger")("comet_feed").mustfixThrow("no valid layout for these media");b=l(b,a);if(!b)throw c("FBLogger")("comet_feed").mustfixThrow("no best layout? Should not happen!");var d=new Map(),e=0;b=b.getPhotoLayouts();for(var f of a.keys()){var g=b[e++];g&&d.set(f,g)}return d}function l(a,b){a=a.map(function(a){return[a,a.score(b)]});a=a.reduce(function(a,b){var c=a[0];a=a[1];var d=b[0];b=b[1];return a===null||b>a?[d,b]:[c,a]},[null,null]);a=a[0];return a}g.MAX_NUM_COLS=d;g.MAX_NUM_ROWS=e;g._getCollageLayoutsFor=h;g.getMaxPhotosSupported=a;g.getMaxPhotosSupportedFor=i;g.getCollageLayout=b;g.getBestPageCollageLayout=j;g.getBestUserCollageLayout=k;g._bestLayoutByScore=l}),98);
__d("useMediaCollage",["CometComposerStylingConstants","CometFeedStoryMediaLayoutConstants","ReactComposerCollageLayoutSelection"],(function(a,b,c,d,e,f,g){"use strict";var h=6,i=2;function a(a){var b=a.collageWidth,c=a.manualWidth,e=a.mediaAttachments;a=a.usePageCollageLayout;a=a===void 0?!1:a;var f=d("CometFeedStoryMediaLayoutConstants").DEFAULT_MIN_ASPECT_RATIO,g=e.reduce(function(a,b,c){b.width!=null&&b.height!=null?(e.length===1&&(f=Math.max(b.width/b.height,f)),a.set(c,[b.width,b.height])):a.set(c,[0,0]);return a},new Map());g=d("ReactComposerCollageLayoutSelection").getCollageLayout(g,a);a=Array.from(g.entries()).map(function(a){a=a[1];return{columnSpan:a.getWidth(),columnStart:a.getLeft(),rowSpan:a.getHeight(),rowStart:a.getTop()}});var j=a.reduce(function(a,b){return Math.max(a,b.columnStart+b.columnSpan)},0),k=a.reduce(function(a,b){return Math.max(a,b.rowStart+b.rowSpan)},0);g=c!=null?c-d("CometComposerStylingConstants").COMPOSER_PADDING_SIDE*2-d("CometComposerStylingConstants").COMPOSER_ATTACHMENT_AREA_BORDER*2:b;c=g*(k/h);e.length===1&&(c=g/f);b=a.map(function(a){var b=a.columnSpan,c=a.columnStart,d=a.rowSpan;a=a.rowStart;var e=i/2+.01;return{bottom:"calc(("+(k-(a+d))*100+"% / "+k+") + "+(a+d<k?e:0)+"px)",left:"calc(("+c*100+"% / "+j+") + "+(c>0?e:0)+"px)",right:"calc(("+(j-(c+b))*100+"% / "+j+") + "+(c+b<j?e:0)+"px)",top:"calc(("+a*100+"% / "+k+") + "+(a>0?e:0)+"px)"}});g=(e||[]).length-a.length;return{height:c,itemStyleInfos:b,numItemsNotShown:g}}g["default"]=a}),98);