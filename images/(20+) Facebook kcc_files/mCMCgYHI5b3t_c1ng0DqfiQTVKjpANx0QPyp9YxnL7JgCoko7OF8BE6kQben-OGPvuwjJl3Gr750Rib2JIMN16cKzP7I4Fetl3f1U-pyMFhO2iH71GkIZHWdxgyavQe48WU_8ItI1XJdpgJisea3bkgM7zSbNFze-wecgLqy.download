;/*FB_PKG_DELIM*/

__d("E2EEBackupSecretRegisterModule",["E2EEBackupCommon","QuickPerformanceLogger","VestaClient","VestaClientError","qpl"],(function(a,b,c,d,e,f,g){"use strict";var h,i=c("qpl")._(235865454,"167");function a(a,b,d){(h||(h=c("QuickPerformanceLogger"))).markerStart(i);h.markerAnnotate(i,{string:{product_use_case:b.productUseCase,registration_mode:"regular_mode"}});return j(a,b,!1,d)}function b(a,b,d){(h||(h=c("QuickPerformanceLogger"))).markerStart(i);h.markerAnnotate(i,{string:{product_use_case:b.productUseCase,registration_mode:"re-register_mode"}});return j(a,b,!0,d)}async function j(a,b,e,f){try{var g=await a.initRegister({clientId:b.clientId,productUseCase:b.productUseCase},f),j=g.isRegistered,k=g.islandEd25519Pub,l=g.islandEd25519PubSig,m=g.islandRsaPub;g=g.islandRsaPubSig;(h||(h=c("QuickPerformanceLogger"))).markerPoint(i,"init_register_network_call");if(j&&!e){(h||(h=c("QuickPerformanceLogger"))).markerAnnotate(i,{string:{failure_reason:"ALREADY_REGISTERED"}});h.markerEnd(i,3376);throw new(d("E2EEBackupCommon").BackupError)(d("E2EEBackupCommon").BackupErrorType.ALREADY_REGISTERED)}j=await Promise.all([d("VestaClient").validateHsmKey(m,g),d("VestaClient").validateHsmKey(k,l)]);e=j[0];g=j[1];if(!e){(h||(h=c("QuickPerformanceLogger"))).markerAnnotate(i,{string:{failure_reason:"ISLAND_PUB_RSA_KEY_INVALID"}});h.markerEnd(i,3);throw new(d("E2EEBackupCommon").BackupError)(d("E2EEBackupCommon").BackupErrorType.ISLAND_PUB_RSA_KEY_INVALID)}if(!g){(h||(h=c("QuickPerformanceLogger"))).markerAnnotate(i,{string:{failure_reason:"ISLAND_PUB_ED25519_KEY_INVALID"}});h.markerEnd(i,3);throw new(d("E2EEBackupCommon").BackupError)(d("E2EEBackupCommon").BackupErrorType.ISLAND_PUB_ED25519_KEY_INVALID)}h.markerPoint(i,"verify_island_rsa_key");h.markerPoint(i,"verify_island_ed25519_key");l=b.vestaAccountPin;if(l==null)throw new(d("E2EEBackupCommon").BackupError)(d("E2EEBackupCommon").BackupErrorType.MISSING_PIN_INPUT);else{j=new TextEncoder();e=await d("VestaClient").beginRegister(j.encode(l));g=e.clientState;j=e.r1Message;(h||(h=c("QuickPerformanceLogger"))).markerPoint(i,"begin_register_vesta_client");l=await a.beginRegister({clientId:b.clientId,productUseCase:b.productUseCase,opaqueR1:j},f);e=l.opaqueChallenge;var n=l.opaqueR2;l=l.opaqueR2Sig;h.markerPoint(i,"begin_register_network_call");j=await d("VestaClient").finishRegister(j,n,l,k,g,b.secret,e,m);n=j.registerPayload;h.markerPoint(i,"finish_register_vesta_client");l=await a.finishRegister({clientId:b.clientId,productUseCase:b.productUseCase,encRegPayload:n},f);k=l.registerSuccess;h.markerPoint(i,"finish_register_network_call");if(!k){(h||(h=c("QuickPerformanceLogger"))).markerAnnotate(i,{string:{failure_reason:"VESTA_SERVER_ERROR"}});h.markerEnd(i,3);throw new(d("E2EEBackupCommon").BackupError)(d("E2EEBackupCommon").BackupErrorType.VESTA_SERVER_ERROR)}h.markerEnd(i,2)}}catch(a){if(a instanceof d("E2EEBackupCommon").BackupError)throw a;else if(a instanceof c("VestaClientError")){(h||(h=c("QuickPerformanceLogger"))).markerAnnotate(i,{string:{failure_reason:"VestaClientException: "+a.name}});h.markerEnd(i,3);throw new(d("E2EEBackupCommon").BackupError)(d("E2EEBackupCommon").BackupErrorType.VESTA_CLIENT_ERROR,a)}else{(h||(h=c("QuickPerformanceLogger"))).markerAnnotate(i,{string:{failure_reason:a.message}});h.markerEnd(i,3);throw new(d("E2EEBackupCommon").BackupError)(d("E2EEBackupCommon").BackupErrorType.NETWORK_PROVIDER_ERROR,a)}}}g.registerBackupSecret=a;g.reRegisterBackupSecret=b}),98);
__d("LSCreateExtraVirtualDevice",["LSAppendDataTraceAddon","LSArrayGetObjectAt","LSBase64Encode.nop","LSCreateDebugToken.nop","LSCreateDerivedKeys.nop","LSCreateEncryptionKeyPair.nop","LSCreateSignatureKeyPair.nop","LSCreateSignatureWithArmadilloKey.nop","LSCreateSignature_v2.nop","LSGetArmadilloPublicKey.nop","LSGetBlobFromString.nop","LSGetOpenEpochKeys","LSGetViewerFBID","LSHandleCreateVirtualDeviceFailure","LSHmac_v2.nop","LSIsEncryptionVersionSecure","LSIsMobileClient","LSIssueNewEbTaskAndGetTaskIDV2","LSLogMebClientEvent.nop","LSOcmfClientEvolve_v2.nop","LSParseRecoveryCode_v2.nop","LSSymmetricEncryptionCreateEncryptedString.nop","justknobx"],(function(a,b,c,d,e,f,g){function a(){var a=arguments,d=a[a.length-1],e=[],f=[];return d.sequence([function(g){return d.sequence([function(c){return e[0]=d.i64.of_float(Date.now()),function(a){d.logger(a).info(a)}("[EncryptedBackups][LSEncryptedBackupsCreateExtraVirtualDeviceStoredProcedure] Beginning execution."),d.i64.eq(a[0],d.i64.cast([0,1]))?d.sequence([function(a){return void 0!==void 0?d.storedProcedure(b("LSAppendDataTraceAddon"),void 0,d.i64.cast([0,1429]),d.i64.cast([0,2]),void 0,["50012"].join("")):d.resolve()},function(a){return d.storedProcedure(b("LSIsMobileClient")).then(function(a){return a=a,e[27]=a[0],a})},function(a){return e[27]?e[28]=!0:e[28]=!1,e[28]&&!0?(function(a){d.logger(a).mustfix(a)}("[EncryptedBackups][MEBTraceUtils] LSDataTraceMciTraceLog native op not supported"),e[30]="LSDataTraceMciTraceLog native op not supported",function(a){d.logger(a).mustfix(a)}(["[EncryptedBackups][MEBTraceUtils] ","",e[30]].join("")),e[29]=d.createArray(),void 0!==void 0?e[31]=(e[29].push(void 0),e[29]):0,d.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBTraceUtils",e[30],e[29],d.i64.cast([0,3]))):d.resolve()}]):d.i64.eq(a[0],d.i64.cast([0,2]))?d.sequence([function(a){return void 0!==void 0?d.storedProcedure(b("LSAppendDataTraceAddon"),void 0,d.i64.cast([0,1429]),d.i64.cast([0,2]),void 0,["50013"].join("")):d.resolve()},function(a){return d.storedProcedure(b("LSIsMobileClient")).then(function(a){return a=a,e[27]=a[0],a})},function(a){return e[27]?e[28]=!0:e[28]=!1,e[28]&&!0?(function(a){d.logger(a).mustfix(a)}("[EncryptedBackups][MEBTraceUtils] LSDataTraceMciTraceLog native op not supported"),e[30]="LSDataTraceMciTraceLog native op not supported",function(a){d.logger(a).mustfix(a)}(["[EncryptedBackups][MEBTraceUtils] ","",e[30]].join("")),e[29]=d.createArray(),void 0!==void 0?e[31]=(e[29].push(void 0),e[29]):0,d.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBTraceUtils",e[30],e[29],d.i64.cast([0,3]))):d.resolve()}]):d.sequence([function(a){return void 0!==void 0?d.storedProcedure(b("LSAppendDataTraceAddon"),void 0,d.i64.cast([0,1429]),d.i64.cast([0,2]),void 0,void 0):d.resolve()},function(a){return d.storedProcedure(b("LSIsMobileClient")).then(function(a){return a=a,e[27]=a[0],a})},function(a){return e[27]?e[28]=!0:e[28]=!1,e[28]&&!0?(function(a){d.logger(a).mustfix(a)}("[EncryptedBackups][MEBTraceUtils] LSDataTraceMciTraceLog native op not supported"),e[30]="LSDataTraceMciTraceLog native op not supported",function(a){d.logger(a).mustfix(a)}(["[EncryptedBackups][MEBTraceUtils] ","",e[30]].join("")),e[29]=d.createArray(),void 0!==void 0?e[31]=(e[29].push(void 0),e[29]):0,d.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBTraceUtils",e[30],e[29],d.i64.cast([0,3]))):d.resolve()}])},function(a){return d.islc(d.filter(d.db.table(168).fetch(),function(a){return d.i64.eq(a.authorityLevel,d.i64.cast([0,80]))}),0,d.i64.to_float(d.i64.cast([0,1]))).next().then(function(a,c){var f=a.done;a=a.value;return f?(f=[void 0,void 0,void 0,void 0,void 0,void 0,void 0,d.i64.cast([0,1]),void 0,void 0,void 0,void 0,void 0,void 0,void 0,d.i64.cast([0,20]),void 0,void 0],e[1]=f[0],e[2]=f[1],e[3]=f[2],e[4]=f[3],e[5]=f[4],e[6]=f[5],e[7]=f[6],e[8]=f[7],e[9]=f[8],e[10]=f[9],e[11]=f[10],e[12]=f[11],e[13]=f[12],e[14]=f[13],e[15]=f[14],e[16]=f[15],e[17]=f[16],e[18]=f[17],f):(c=a.item,d.sequence([function(a){return e[32]=c.backupTenancy,e[31]=c.encryptionVersion,e[27]=void 0,d.i64.neq(e[27],void 0)?d.resolve(e[28]=e[27]):d.sequence([function(a){return e[33]=d.createArray(),d.storedProcedure(b("LSIsEncryptionVersionSecure"),d.i64.cast([0,0])).then(function(a){return a=a,e[34]=a[0],a})},function(a){return e[34]?e[43]=(e[33].push(d.i64.cast([0,0])),e[33]):0,d.storedProcedure(b("LSIsEncryptionVersionSecure"),d.i64.cast([0,2])).then(function(a){return a=a,e[35]=a[0],a})},function(a){return e[35]?e[43]=(e[33].push(d.i64.cast([0,2])),e[33]):0,d.storedProcedure(b("LSIsEncryptionVersionSecure"),d.i64.cast([0,3])).then(function(a){return a=a,e[36]=a[0],a})},function(a){return e[36]?e[43]=(e[33].push(d.i64.cast([0,3])),e[33]):0,d.storedProcedure(b("LSIsEncryptionVersionSecure"),d.i64.cast([0,4])).then(function(a){return a=a,e[37]=a[0],a})},function(a){return e[37]?e[43]=(e[33].push(d.i64.cast([0,4])),e[33]):0,e[38]=d.createArray(),e[39]=d.i64.of_int32(e[33].length),d.i64.gt(e[39],d.i64.cast([0,0]))?d.loopAsync(e[39],function(a){return e[43]=a,d.sequence([function(a){return d.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),e[33],e[43]).then(function(a){return a=a,e[44]=a[0],e[45]=a[1],a})},function(a){return e[46]=(e[38].push(e[44]),e[38])}])}):d.resolve()},function(a){return d.sequence([function(a){return e[43]=d.createArray(),e[44]=d.i64.of_int32(e[38].length),d.i64.gt(e[44],d.i64.cast([0,0]))?d.loopAsync(e[44],function(a){return e[46]=a,d.sequence([function(a){return d.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),e[38],e[46]).then(function(a){return a=a,e[47]=a[0],e[48]=a[1],a})},function(a){return e[49]=(e[43].push(d.i64.to_string(e[47])),e[43])}])}):d.resolve()},function(a){return e[45]=e[43].join(","),e[40]=e[45]}])},function(a){return e[38].some(function(a){return d.i64.eq(e[31],a)})?e[41]=e[31]:e[41]=void 0,d.i64.neq(e[41],void 0)?e[42]=e[41]:e[42]=void 0,e[28]=e[42]}])},function(a){return d.i64.neq(e[28],void 0)?e[29]=e[28]:e[29]=d.i64.cast([0,0]),d.i64.neq(e[32],void 0)?e[30]=e[32]:e[30]=d.i64.cast([0,1]),a=[c.backupId,c.deviceId,c.mailboxRootKeyBlob,c.ocmfClientStateBlob,void 0,void 0,e[29],e[30],c.epochAuthPublicKeyBlob,c.epochAuthPrivateKeyBlob,c.devicePublicKeyBlob,c.devicePrivateKeyBlob,c.epochStoragePublicKeyBlob,c.epochStoragePrivateKeyBlob,c.obliviousValidationTokenBlob,c.authorityLevel,void 0,void 0],e[1]=a[0],e[2]=a[1],e[3]=a[2],e[4]=a[3],e[5]=a[4],e[6]=a[5],e[7]=a[6],e[8]=a[7],e[9]=a[8],e[10]=a[9],e[11]=a[10],e[12]=a[11],e[13]=a[12],e[14]=a[13],e[15]=a[14],e[16]=a[15],e[17]=a[16],e[18]=a[17],a}]))})},function(f){return d.i64.neq(e[1],void 0)?d.sequence([function(f){return d.db.table(174).fetch([[[d.i64.cast([0,1])]]]).next().then(function(f,g){var h=f.done;f=f.value;return h?d.sequence([function(a){return d.db.table(178).put({pk:d.i64.cast([0,1]),recoveryCodeStatus:d.i64.cast([0,3])})},function(a){return e[29]="Recovery code not created, will not create extra virtual device",e[29]!==void 0?(function(a){d.logger(a).mustfix(a)}(["[EncryptedBackups][LSEncryptedBackupsCreateExtraVirtualDeviceStoredProcedure] ","",e[29]].join("")),e[30]=d.createArray(),void 0!==void 0?e[31]=(e[30].push(void 0),e[30]):0,d.nativeOperation(b("LSLogMebClientEvent.nop"),"LSEncryptedBackupsCreateExtraVirtualDeviceStoredProcedure",e[29],e[30],d.i64.cast([0,3]))):d.resolve()},function(a){return e[27]=d.i64.cast([0,1])}]):(g=f.item,d.sequence([function(a){return e[31]=g.recoveryCode,e[32]=g.virtualDeviceType,e[33]=g.cloudServiceAccount,e[34]=g.hsmPinNormalizationStatus,d.db.table(178).put({pk:d.i64.cast([0,1]),recoveryCodeStatus:d.i64.cast([0,1])})},function(a){return d.db.table(168).fetch().next().then(function(b,c){var a=b.done;b=b.value;return a?e[29]=d.i64.cast([0,1]):(c=b.item,e[36]=c.backupTenancy,d.i64.neq(e[36],void 0)?e[35]=e[36]:e[35]=d.i64.cast([0,1]),e[29]=e[35])})},function(f){return d.i64.eq(e[29],d.i64.cast([0,1]))&&e[31]==="1SHADOWTESTINGRECOVERYCODE00000000000000"?(function(a){d.logger(a).mustfix(a)}("[EncryptedBackups][LSEncryptedBackupsCreateVirtualDeviceV2StoredProcedure] Invalid Recovery Code Used."),e[36]="Invalid Recovery Code Used.",function(a){d.logger(a).mustfix(a)}(["[EncryptedBackups][LSEncryptedBackupsCreateVirtualDeviceV2StoredProcedure] ","",e[36]].join("")),e[35]=d.createArray(),void 0!==void 0?e[37]=(e[35].push(void 0),e[35]):0,d.nativeOperation(b("LSLogMebClientEvent.nop"),"LSEncryptedBackupsCreateVirtualDeviceV2StoredProcedure",e[36],e[35],d.i64.cast([0,3]))):d.sequence([function(a){return e[35]=d.createArray(),d.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,e[36]=a[0],a})},function(a){return d.nativeOperation(b("LSParseRecoveryCode_v2.nop"),e[31],void 0==null?d.i64.to_string(e[36]):void 0,e[35]).then(function(a){return a=a,e[37]=a[0],e[38]=a[1],a})},function(f){return d.blobs.neq(e[38],void 0)?d.blobs.neq(e[37],void 0)?d.sequence([function(a){return d.storedProcedure(b("LSGetOpenEpochKeys"),!1).then(function(a){return a=a,e[39]=a[0],a})},function(f){return e[39]!==void 0?d.sequence([function(a){return e[106]=c("justknobx")._("1310"),void 0!==void 0?e[106]?d.sequence([function(a){return void 0!==void 0?d.storedProcedure(b("LSAppendDataTraceAddon"),void 0,d.i64.cast([0,2866]),d.i64.cast([0,2]),void 0,void 0):d.resolve()},function(a){return d.storedProcedure(b("LSIsMobileClient")).then(function(a){return a=a,e[116]=a[0],a})},function(a){return e[116]?e[117]=!0:e[117]=!1,e[117]&&!0?(function(a){d.logger(a).mustfix(a)}("[EncryptedBackups][MEBTraceUtils] LSDataTraceMciTraceLog native op not supported"),e[119]="LSDataTraceMciTraceLog native op not supported",function(a){d.logger(a).mustfix(a)}(["[EncryptedBackups][MEBTraceUtils] ","",e[119]].join("")),e[118]=d.createArray(),void 0!==void 0?e[120]=(e[118].push(void 0),e[118]):0,d.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBTraceUtils",e[119],e[118],d.i64.cast([0,3]))):d.resolve()}]):d.sequence([function(a){return void 0!==void 0?d.storedProcedure(b("LSAppendDataTraceAddon"),void 0,d.i64.cast([0,2867]),d.i64.cast([0,2]),void 0,void 0):d.resolve()},function(a){return d.storedProcedure(b("LSIsMobileClient")).then(function(a){return a=a,e[116]=a[0],a})},function(a){return e[116]?e[117]=!0:e[117]=!1,e[117]&&!0?(function(a){d.logger(a).mustfix(a)}("[EncryptedBackups][MEBTraceUtils] LSDataTraceMciTraceLog native op not supported"),e[119]="LSDataTraceMciTraceLog native op not supported",function(a){d.logger(a).mustfix(a)}(["[EncryptedBackups][MEBTraceUtils] ","",e[119]].join("")),e[118]=d.createArray(),void 0!==void 0?e[120]=(e[118].push(void 0),e[118]):0,d.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBTraceUtils",e[119],e[118],d.i64.cast([0,3]))):d.resolve()}]):d.resolve()},function(a){return e[106]?d.resolve():d.sequence([function(a){return d.count(d.db.table(169).fetch()).then(function(a){return e[116]=a})},function(a){return d.i64.gt(e[116],d.i64.cast([0,1]))?(function(a){d.logger(a).mustfix(a)}("[EncryptedBackups][LSEncryptedBackupsCreateVirtualDeviceV2StoredProcedure] Multiple rows in $epoch_tables."),e[118]="Multiple rows in $epoch_tables.",function(a){d.logger(a).mustfix(a)}(["[EncryptedBackups][LSEncryptedBackupsCreateVirtualDeviceV2StoredProcedure] ","",e[118]].join("")),e[117]=d.createArray(),void 0!==void 0?e[119]=(e[117].push(void 0),e[117]):0,d.nativeOperation(b("LSLogMebClientEvent.nop"),"LSEncryptedBackupsCreateVirtualDeviceV2StoredProcedure",e[118],e[117],d.i64.cast([0,3]))):d.resolve()}])},function(a){return d.nativeOperation(b("LSCreateSignatureKeyPair.nop")).then(function(a){return a=a,e[40]=a[0],e[41]=a[1],a})},function(a){return d.nativeOperation(b("LSCreateEncryptionKeyPair.nop")).then(function(a){return a=a,e[42]=a[0],e[43]=a[1],a})},function(a){return d.nativeOperation(b("LSCreateSignature_v2.nop"),e[40],d.blob("MA=="),e[43]).then(function(a){return a=a,e[44]=a[0],a})},function(a){return e[107]=d.blob(""),e[108]=d.blob(""),e[109]=d.blob(""),d.db.table(168).fetch([[[e[1]]]]).next().then(function(c,f){var a=c.done;c=c.value;return a?d.sequence([function(a){return function(a){d.logger(a).mustfix(a)}("[EncryptedBackups][LSEncryptedBackupsCreateVirtualDeviceV2StoredProcedure] Row with backupid not found in client state table"),e[117]="Row with backupid not found in client state table",function(a){d.logger(a).mustfix(a)}(["[EncryptedBackups][LSEncryptedBackupsCreateVirtualDeviceV2StoredProcedure] ","",e[117]].join("")),e[116]=d.createArray(),void 0!==void 0?e[118]=(e[116].push(void 0),e[116]):0,d.nativeOperation(b("LSLogMebClientEvent.nop"),"LSEncryptedBackupsCreateVirtualDeviceV2StoredProcedure",e[117],e[116],d.i64.cast([0,3]))},function(a){return a=[e[107],e[108],void 0,e[109]],e[45]=a[0],e[46]=a[1],e[47]=a[2],e[48]=a[3],a}]):(f=c.item,a=[f.obliviousValidationTokenBlob,f.mailboxRootKeyBlob,f.deviceId,f.ocmfClientStateBlob],e[45]=a[0],e[46]=a[1],e[47]=a[2],e[48]=a[3],a)})},function(a){return d.blobs.eq(e[45],e[107])?(function(a){d.logger(a).mustfix(a)}("[EncryptedBackups][LSEncryptedBackupsCreateVirtualDeviceV2StoredProcedure] oblivious_token is empty!"),e[117]="oblivious_token is empty!",function(a){d.logger(a).mustfix(a)}(["[EncryptedBackups][LSEncryptedBackupsCreateVirtualDeviceV2StoredProcedure] ","",e[117]].join("")),e[116]=d.createArray(),void 0!==void 0?e[118]=(e[116].push(void 0),e[116]):0,d.nativeOperation(b("LSLogMebClientEvent.nop"),"LSEncryptedBackupsCreateVirtualDeviceV2StoredProcedure",e[117],e[116],d.i64.cast([0,3]))):d.resolve()},function(a){return d.blobs.eq(e[46],e[108])?(function(a){d.logger(a).mustfix(a)}("[EncryptedBackups][LSEncryptedBackupsCreateVirtualDeviceV2StoredProcedure] mailbox_root_key is empty!"),e[117]="mailbox_root_key is empty!",function(a){d.logger(a).mustfix(a)}(["[EncryptedBackups][LSEncryptedBackupsCreateVirtualDeviceV2StoredProcedure] ","",e[117]].join("")),e[116]=d.createArray(),void 0!==void 0?e[118]=(e[116].push(void 0),e[116]):0,d.nativeOperation(b("LSLogMebClientEvent.nop"),"LSEncryptedBackupsCreateVirtualDeviceV2StoredProcedure",e[117],e[116],d.i64.cast([0,3]))):d.resolve()},function(a){return d.blobs.eq(e[48],e[109])?(function(a){d.logger(a).mustfix(a)}("[EncryptedBackups][LSEncryptedBackupsCreateVirtualDeviceV2StoredProcedure] ocmf_client_state is empty!"),e[117]="ocmf_client_state is empty!",function(a){d.logger(a).mustfix(a)}(["[EncryptedBackups][LSEncryptedBackupsCreateVirtualDeviceV2StoredProcedure] ","",e[117]].join("")),e[116]=d.createArray(),void 0!==void 0?e[118]=(e[116].push(void 0),e[116]):0,d.nativeOperation(b("LSLogMebClientEvent.nop"),"LSEncryptedBackupsCreateVirtualDeviceV2StoredProcedure",e[117],e[116],d.i64.cast([0,3]))):d.resolve()},function(a){return e[50]=e[39].get("epoch_anon_id"),e[51]=e[39].get("epoch_root_key"),e[52]=d.createArray(),e[116]=(e[52].push(d.i64.cast([0,32])),e[52]),d.nativeOperation(b("LSBase64Encode.nop"),e[50]).then(function(a){return a=a,e[53]=a[0],a})},function(a){return e[53]!==void 0?d.sequence([function(a){return d.nativeOperation(b("LSCreateDerivedKeys.nop"),d.blobs.of_string(["epoch_devices","_",e[53]].join("")),void 0,e[51],e[52]).then(function(a){return a=a,e[116]=a[0],a})},function(a){return e[116]?e[117]=!1:e[117]=!0,e[117]?d.sequence([function(a){return function(a){d.logger(a).mustfix(a)}("[EncryptedBackups][MEBCryptoEpochUtils] THIS IS NOT EXPECTED. Found null keys while deriving keys for epoch. Returning empty blobish"),e[120]="THIS IS NOT EXPECTED. Found null keys while deriving keys for epoch. Returning empty blobish",function(a){d.logger(a).mustfix(a)}(["[EncryptedBackups][MEBCryptoEpochUtils] ","",e[120]].join("")),e[119]=d.createArray(),void 0!==void 0?e[122]=(e[119].push(void 0),e[119]):0,d.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBCryptoEpochUtils",e[120],e[119],d.i64.cast([0,3]))},function(a){return d.nativeOperation(b("LSGetBlobFromString.nop"),"").then(function(a){return a=a,e[121]=a[0],a})},function(a){return e[118]=e[121]}]):d.sequence([function(a){return d.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),e[116],d.i64.cast([0,0])).then(function(a){return a=a,e[119]=a[0],e[120]=a[1],a})},function(a){return e[118]=e[119]}])},function(a){return e[54]=e[118]}]):d.sequence([function(a){return function(a){d.logger(a).mustfix(a)}("[EncryptedBackups][MEBCryptoEpochUtils] THIS IS NOT EXPECTED. Failed to base64 encode epoch anon id. Returning empty blobish"),e[117]="THIS IS NOT EXPECTED. Failed to base64 encode epoch anon id. Returning empty blobish",function(a){d.logger(a).mustfix(a)}(["[EncryptedBackups][MEBCryptoEpochUtils] ","",e[117]].join("")),e[116]=d.createArray(),void 0!==void 0?e[119]=(e[116].push(void 0),e[116]):0,d.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBCryptoEpochUtils",e[117],e[116],d.i64.cast([0,3]))},function(a){return d.nativeOperation(b("LSGetBlobFromString.nop"),"").then(function(a){return a=a,e[118]=a[0],a})},function(a){return e[54]=e[118]}])},function(a){return d.nativeOperation(b("LSHmac_v2.nop"),e[54],e[41]).then(function(a){return a=a,e[55]=a[0],a})},function(a){return d.blobs.neq(e[55],void 0)?d.resolve(e[56]=e[55]):d.sequence([function(a){return function(a){d.logger(a).mustfix(a)}("[EncryptedBackups][LSEncryptedBackupsCreateVirtualDeviceV2StoredProcedure] device_epoch_hmac is null!"),e[117]="device_epoch_hmac is null!",function(a){d.logger(a).mustfix(a)}(["[EncryptedBackups][LSEncryptedBackupsCreateVirtualDeviceV2StoredProcedure] ","",e[117]].join("")),e[116]=d.createArray(),void 0!==void 0?e[119]=(e[116].push(void 0),e[116]):0,d.nativeOperation(b("LSLogMebClientEvent.nop"),"LSEncryptedBackupsCreateVirtualDeviceV2StoredProcedure",e[117],e[116],d.i64.cast([0,3]))},function(a){return d.nativeOperation(b("LSGetBlobFromString.nop"),"").then(function(a){return a=a,e[118]=a[0],a})},function(a){return e[56]=e[118]}])},function(a){return e[57]=e[39].get("epoch_root_key"),d.blobs.neq(e[57],void 0)?d.sequence([function(a){return e[116]=d.createArray(),e[122]=(e[116].push(d.i64.cast([0,18])),e[116]),d.nativeOperation(b("LSCreateDerivedKeys.nop"),d.blob("bWViL2RlYnVnL2ZpbmdlcnByaW50L01FQkVwb2NoUm9vdEtleQ=="),void 0,e[57],e[116]).then(function(a){return a=a,e[117]=a[0],a})},function(a){return e[117]!==void 0?d.sequence([function(a){return e[122]=d.i64.of_int32(e[117].length),d.i64.ge(e[122],d.i64.cast([0,1]))?d.sequence([function(a){return d.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),e[117],d.i64.cast([0,0])).then(function(a){return a=a,e[124]=a[0],e[125]=a[1],a})},function(a){return e[123]=e[124]}]):d.sequence([function(a){return function(a){d.logger(a).mustfix(a)}("[EncryptedBackups][MEBFingerprint] CreateDerivedKeys returned an empty list of keys. This should never happen; aborting dasm VM."),e[125]="CreateDerivedKeys returned an empty list of keys. This should never happen; aborting dasm VM.",function(a){d.logger(a).mustfix(a)}(["[EncryptedBackups][MEBFingerprint] ","",e[125]].join("")),e[124]=d.createArray(),void 0!==void 0?e[126]=(e[124].push(void 0),e[124]):0,d.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBFingerprint",e[125],e[124],d.i64.cast([0,3]))},function(a){return e[123]=void 0}])},function(a){return e[118]=e[123]}]):d.sequence([function(a){return function(a){d.logger(a).mustfix(a)}("[EncryptedBackups][MEBFingerprint] CreateDerivedKeys returned null. This should never happen; aborting dasm VM."),e[123]="CreateDerivedKeys returned null. This should never happen; aborting dasm VM.",function(a){d.logger(a).mustfix(a)}(["[EncryptedBackups][MEBFingerprint] ","",e[123]].join("")),e[122]=d.createArray(),void 0!==void 0?e[124]=(e[122].push(void 0),e[122]):0,d.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBFingerprint",e[123],e[122],d.i64.cast([0,3]))},function(a){return e[118]=void 0}])},function(a){return d.blobs.neq(e[118],void 0)?e[119]=!0:e[119]=!1,e[119]?0:(function(a){d.logger(a).mustfix(a)}("LS::assert is failed. Attempting to coerce a null value to nonnull."),d["throw"]("LS::assert is failed. Attempting to coerce a null value to nonnull.")),d.nativeOperation(b("LSBase64Encode.nop"),e[118]).then(function(a){return a=a,e[120]=a[0],a})},function(a){return e[120]!==void 0?e[121]=e[120]:e[121]="encodingfailed",e[58]=e[121]}]):d.resolve(e[58]="null")},function(a){return d.nativeOperation(b("LSOcmfClientEvolve_v2.nop"),e[48]).then(function(a){return a=a,e[59]=a[0],e[60]=a[1],a})},function(a){return d.blobs.neq(void 0,void 0)?d.sequence([function(a){return d.nativeOperation(b("LSOcmfClientEvolve_v2.nop"),void 0).then(function(a){return a=a,e[116]=a[0],e[117]=a[1],a})},function(a){return a=[e[59],e[60],e[116],e[117]],e[61]=a[0],e[62]=a[1],e[63]=a[2],e[64]=a[3],a}]):d.resolve((a=[e[59],e[60],void 0,void 0],e[61]=a[0],e[62]=a[1],e[63]=a[2],e[64]=a[3],a))},function(a){return d.nativeOperation(b("LSBase64Encode.nop"),e[40]).then(function(a){return a=a,e[65]=a[0],a})},function(a){return d.nativeOperation(b("LSSymmetricEncryptionCreateEncryptedString.nop"),e[38],d.blob("dmlydHVhbF9kZXZpY2U6dmlydHVhbF9kZXZpY2VfcHJpdmF0ZV9rZXk="),e[65]==null?"":e[65]).then(function(a){return a=a,e[66]=a[0],a})},function(a){return e[66]!==void 0?e[67]=e[66]:e[67]="",e[67]===""?(function(a){d.logger(a).mustfix(a)}("[EncryptedBackups][LSEncryptedBackupsCreateVirtualDeviceV2StoredProcedure] encrypted_device_private_key is empty!"),e[117]="encrypted_device_private_key is empty!",function(a){d.logger(a).mustfix(a)}(["[EncryptedBackups][LSEncryptedBackupsCreateVirtualDeviceV2StoredProcedure] ","",e[117]].join("")),e[116]=d.createArray(),void 0!==void 0?e[118]=(e[116].push(void 0),e[116]):0,d.nativeOperation(b("LSLogMebClientEvent.nop"),"LSEncryptedBackupsCreateVirtualDeviceV2StoredProcedure",e[117],e[116],d.i64.cast([0,3]))):d.resolve()},function(a){return d.nativeOperation(b("LSBase64Encode.nop"),e[42]).then(function(a){return a=a,e[68]=a[0],a})},function(a){return d.nativeOperation(b("LSSymmetricEncryptionCreateEncryptedString.nop"),e[38],d.blob("dmlydHVhbF9kZXZpY2U6ZXBvY2hfc3RvcmFnZV9wcml2YXRlX2tleQ=="),e[68]==null?"":e[68]).then(function(a){return a=a,e[69]=a[0],a})},function(a){return e[69]!==void 0?e[70]=e[69]:e[70]="",e[70]===""?(function(a){d.logger(a).mustfix(a)}("[EncryptedBackups][LSEncryptedBackupsCreateVirtualDeviceV2StoredProcedure] encrypted_epoch_storage_private_key is empty!"),e[117]="encrypted_epoch_storage_private_key is empty!",function(a){d.logger(a).mustfix(a)}(["[EncryptedBackups][LSEncryptedBackupsCreateVirtualDeviceV2StoredProcedure] ","",e[117]].join("")),e[116]=d.createArray(),void 0!==void 0?e[118]=(e[116].push(void 0),e[116]):0,d.nativeOperation(b("LSLogMebClientEvent.nop"),"LSEncryptedBackupsCreateVirtualDeviceV2StoredProcedure",e[117],e[116],d.i64.cast([0,3]))):d.resolve()},function(a){return d.nativeOperation(b("LSBase64Encode.nop"),e[61]).then(function(a){return a=a,e[71]=a[0],a})},function(a){return d.nativeOperation(b("LSSymmetricEncryptionCreateEncryptedString.nop"),e[38],d.blob("dmlydHVhbF9kZXZpY2U6b2NtZl9jbGllbnRfc3RhdGU="),e[71]==null?"":e[71]).then(function(a){return a=a,e[72]=a[0],a})},function(a){return e[72]!==void 0?e[73]=e[72]:e[73]="",e[73]===""?(function(a){d.logger(a).mustfix(a)}("[EncryptedBackups][LSEncryptedBackupsCreateVirtualDeviceV2StoredProcedure] encrypted_orf_client_state_v1_shape is empty!"),e[117]="encrypted_orf_client_state_v1_shape is empty!",function(a){d.logger(a).mustfix(a)}(["[EncryptedBackups][LSEncryptedBackupsCreateVirtualDeviceV2StoredProcedure] ","",e[117]].join("")),e[116]=d.createArray(),void 0!==void 0?e[118]=(e[116].push(void 0),e[116]):0,d.nativeOperation(b("LSLogMebClientEvent.nop"),"LSEncryptedBackupsCreateVirtualDeviceV2StoredProcedure",e[117],e[116],d.i64.cast([0,3]))):d.resolve()},function(a){return d.nativeOperation(b("LSBase64Encode.nop"),e[45]).then(function(a){return a=a,e[74]=a[0],a})},function(a){return d.nativeOperation(b("LSSymmetricEncryptionCreateEncryptedString.nop"),e[38],d.blob("dmlydHVhbF9kZXZpY2U6b2JsaXZpb3VzX3ZhbGlkYXRpb25fdG9rZW4="),e[74]==null?"":e[74]).then(function(a){return a=a,e[75]=a[0],a})},function(a){return e[75]!==void 0?e[76]=e[75]:e[76]="",e[76]===""?(function(a){d.logger(a).mustfix(a)}("[EncryptedBackups][LSEncryptedBackupsCreateVirtualDeviceV2StoredProcedure] encrypted_oblivious_validation_token is empty!"),e[117]="encrypted_oblivious_validation_token is empty!",function(a){d.logger(a).mustfix(a)}(["[EncryptedBackups][LSEncryptedBackupsCreateVirtualDeviceV2StoredProcedure] ","",e[117]].join("")),e[116]=d.createArray(),void 0!==void 0?e[118]=(e[116].push(void 0),e[116]):0,d.nativeOperation(b("LSLogMebClientEvent.nop"),"LSEncryptedBackupsCreateVirtualDeviceV2StoredProcedure",e[117],e[116],d.i64.cast([0,3]))):d.resolve()},function(a){return d.nativeOperation(b("LSBase64Encode.nop"),e[46]).then(function(a){return a=a,e[77]=a[0],a})},function(a){return d.nativeOperation(b("LSSymmetricEncryptionCreateEncryptedString.nop"),e[38],d.blob("dmlydHVhbF9kZXZpY2U6bWFpbGJveF9yb290X2tleQ=="),e[77]==null?"":e[77]).then(function(a){return a=a,e[78]=a[0],a})},function(a){return e[78]!==void 0?e[79]=e[78]:e[79]="",e[79]===""?(function(a){d.logger(a).mustfix(a)}("[EncryptedBackups][LSEncryptedBackupsCreateVirtualDeviceV2StoredProcedure] encrypted_mailbox_root_key is empty!"),e[117]="encrypted_mailbox_root_key is empty!",function(a){d.logger(a).mustfix(a)}(["[EncryptedBackups][LSEncryptedBackupsCreateVirtualDeviceV2StoredProcedure] ","",e[117]].join("")),e[116]=d.createArray(),void 0!==void 0?e[118]=(e[116].push(void 0),e[116]):0,d.nativeOperation(b("LSLogMebClientEvent.nop"),"LSEncryptedBackupsCreateVirtualDeviceV2StoredProcedure",e[117],e[116],d.i64.cast([0,3]))):d.resolve()},function(a){return e[80]=e[39].get("epoch_anon_id"),d.nativeOperation(b("LSBase64Encode.nop"),e[80]).then(function(a){return a=a,e[81]=a[0],a})},function(a){return d.nativeOperation(b("LSSymmetricEncryptionCreateEncryptedString.nop"),e[38],d.blob("dmlydHVhbF9kZXZpY2U6ZXBvY2hfYW5vbl9pZA=="),e[81]==null?"":e[81]).then(function(a){return a=a,e[82]=a[0],a})},function(a){return e[82]!==void 0?e[83]=e[82]:e[83]="",e[83]===""?(function(a){d.logger(a).mustfix(a)}("[EncryptedBackups][LSEncryptedBackupsCreateVirtualDeviceV2StoredProcedure] encrypted_epoch_anon_id is empty!"),e[117]="encrypted_epoch_anon_id is empty!",function(a){d.logger(a).mustfix(a)}(["[EncryptedBackups][LSEncryptedBackupsCreateVirtualDeviceV2StoredProcedure] ","",e[117]].join("")),e[116]=d.createArray(),void 0!==void 0?e[118]=(e[116].push(void 0),e[116]):0,d.nativeOperation(b("LSLogMebClientEvent.nop"),"LSEncryptedBackupsCreateVirtualDeviceV2StoredProcedure",e[117],e[116],d.i64.cast([0,3]))):d.resolve()},function(a){return e[84]=e[39].get("epoch_root_key"),d.nativeOperation(b("LSBase64Encode.nop"),e[84]).then(function(a){return a=a,e[85]=a[0],a})},function(a){return d.nativeOperation(b("LSSymmetricEncryptionCreateEncryptedString.nop"),e[38],d.blob("dmlydHVhbF9kZXZpY2U6ZXBvY2hfcm9vdF9rZXk="),e[85]==null?"":e[85]).then(function(a){return a=a,e[86]=a[0],a})},function(a){return e[86]!==void 0?e[87]=e[86]:e[87]="",e[87]===""?(function(a){d.logger(a).mustfix(a)}("[EncryptedBackups][LSEncryptedBackupsCreateVirtualDeviceV2StoredProcedure] encrypted_epoch_root_key is empty!"),e[117]="encrypted_epoch_root_key is empty!",function(a){d.logger(a).mustfix(a)}(["[EncryptedBackups][LSEncryptedBackupsCreateVirtualDeviceV2StoredProcedure] ","",e[117]].join("")),e[116]=d.createArray(),void 0!==void 0?e[118]=(e[116].push(void 0),e[116]):0,d.nativeOperation(b("LSLogMebClientEvent.nop"),"LSEncryptedBackupsCreateVirtualDeviceV2StoredProcedure",e[117],e[116],d.i64.cast([0,3]))):d.resolve()},function(a){return e[88]=new d.Map(),e[88].set("encrypted_device_private_key",e[67]),e[88].set("encrypted_epoch_storage_private_key",e[70]),e[88].set("encrypted_ocmf_client_state",e[73]),e[88].set("encrypted_orf_client_state_v2",void 0),e[88].set("encrypted_oblivious_validation_token_blob",e[76]),e[88].set("encrypted_mailbox_root_key_blob",e[79]),e[88].set("encrypted_epoch_anon_id",e[83]),e[88].set("encrypted_epoch_root_key",e[87]),d.nativeOperation(b("LSBase64Encode.nop"),e[37]).then(function(a){return a=a,e[89]=a[0],a})},function(a){return e[110]=e[89]==null?"":e[89],d.nativeOperation(b("LSBase64Encode.nop"),e[41]).then(function(a){return a=a,e[90]=a[0],a})},function(a){return e[111]=e[90]==null?"":e[90],d.nativeOperation(b("LSBase64Encode.nop"),e[43]).then(function(a){return a=a,e[91]=a[0],a})},function(a){return e[112]=e[91]==null?"":e[91],d.nativeOperation(b("LSBase64Encode.nop"),e[44]==null?d.blob("bnVsbA=="):e[44]).then(function(a){return a=a,e[92]=a[0],a})},function(a){return e[113]=e[92]==null?"":e[92],d.nativeOperation(b("LSBase64Encode.nop"),e[56]).then(function(a){return a=a,e[93]=a[0],a})},function(a){return e[114]=e[93]==null?"":e[93],d.nativeOperation(b("LSBase64Encode.nop"),e[62]).then(function(a){return a=a,e[94]=a[0],a})},function(a){return e[115]=e[94]==null?"":e[94],d.nativeOperation(b("LSGetBlobFromString.nop"),e[31]).then(function(a){return a=a,e[95]=a[0],a})},function(a){return d.blobs.neq(e[46],void 0)?d.sequence([function(a){return e[116]=new d.Map(),d.nativeOperation(b("LSCreateDebugToken.nop"),e[46],"private_key",e[40],d.i64.cast([0,1]),e[116]).then(function(a){return a=a,e[117]=a[0],a})},function(a){return d.blobs.neq(e[117],void 0)?e[118]=e[117]:e[118]=void 0,e[96]=e[118]}]):d.resolve(e[96]=void 0)},function(a){return d.blobs.neq(e[96],void 0)?d.sequence([function(a){return d.nativeOperation(b("LSBase64Encode.nop"),e[96]).then(function(a){return a=a,e[116]=a[0],a})},function(a){return e[97]=e[116]}]):d.resolve(e[97]=void 0)},function(a){return d.blobs.neq(e[46],void 0)?d.sequence([function(a){return e[116]=new d.Map(),d.nativeOperation(b("LSCreateDebugToken.nop"),e[46],"ocmf_client_state",e[61],d.i64.cast([0,1]),e[116]).then(function(a){return a=a,e[117]=a[0],a})},function(a){return d.blobs.neq(e[117],void 0)?e[118]=e[117]:e[118]=void 0,e[98]=e[118]}]):d.resolve(e[98]=void 0)},function(a){return d.blobs.neq(e[98],void 0)?d.sequence([function(a){return d.nativeOperation(b("LSBase64Encode.nop"),e[98]).then(function(a){return a=a,e[116]=a[0],a})},function(a){return e[99]=e[116]}]):d.resolve(e[99]=void 0)},function(a){return d.blobs.neq(e[46],void 0)?d.sequence([function(a){return e[116]=new d.Map(),d.nativeOperation(b("LSCreateDebugToken.nop"),e[46],"epoch_storage_private_key",e[42],d.i64.cast([0,1]),e[116]).then(function(a){return a=a,e[117]=a[0],a})},function(a){return d.blobs.neq(e[117],void 0)?e[118]=e[117]:e[118]=void 0,e[100]=e[118]}]):d.resolve(e[100]=void 0)},function(a){return d.blobs.neq(e[100],void 0)?d.sequence([function(a){return d.nativeOperation(b("LSBase64Encode.nop"),e[100]).then(function(a){return a=a,e[116]=a[0],a})},function(a){return e[101]=e[116]}]):d.resolve(e[101]=void 0)},function(a){return d.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,e[102]=a[0],a})},function(a){return d.nativeOperation(b("LSGetBlobFromString.nop"),d.i64.to_string(e[102])).then(function(a){return a=a,e[103]=a[0],a})},function(a){return d.blobs.neq(e[103],void 0)?d.sequence([function(a){return e[116]=new d.Map(),d.nativeOperation(b("LSCreateDebugToken.nop"),e[103],"recovery_code",e[95],d.i64.cast([0,1]),e[116]).then(function(a){return a=a,e[117]=a[0],a})},function(a){return d.blobs.neq(e[117],void 0)?e[118]=e[117]:e[118]=void 0,e[104]=e[118]}]):d.resolve(e[104]=void 0)},function(a){return d.blobs.neq(e[104],void 0)?d.sequence([function(a){return d.nativeOperation(b("LSBase64Encode.nop"),e[104]).then(function(a){return a=a,e[116]=a[0],a})},function(a){return e[105]=e[116]}]):d.resolve(e[105]=void 0)},function(c){return d.i64.neq(e[47],void 0)?d.sequence([function(a){return e[116]=e[39].get("epoch_id"),d.db.table(168).fetch().next().then(function(b,c){var a=b.done;b=b.value;return a?e[117]=d.i64.cast([0,1]):(c=b.item,e[122]=c.backupTenancy,d.i64.neq(e[122],void 0)?e[121]=e[122]:e[121]=d.i64.cast([0,1]),e[117]=e[121])})},function(a){return d.i64.eq(e[117],d.i64.cast([0,2]))?d.resolve(e[119]=void 0):d.sequence([function(a){return d.nativeOperation(b("LSGetArmadilloPublicKey.nop")).then(function(a){return a=a,e[121]=a[0],a})},function(a){return e[119]=e[121]}])},function(a){return d.blobs.neq(e[119],void 0)?d.sequence([function(a){return d.nativeOperation(b("LSCreateSignatureWithArmadilloKey.nop"),e[41]).then(function(a){return a=a,e[121]=a[0],a})},function(a){return d.blobs.neq(e[121],void 0)?d.resolve(e[122]=e[121]):d.sequence([function(a){return function(a){d.logger(a).mustfix(a)}("[EncryptedBackups][MEBCryptoKeySigningUtils] Failed to create labyrinth signature"),e[127]="Failed to create labyrinth signature",function(a){d.logger(a).mustfix(a)}(["[EncryptedBackups][MEBCryptoKeySigningUtils] ","",e[127]].join("")),e[126]=d.createArray(),void 0!==void 0?e[128]=(e[126].push(void 0),e[126]):0,d.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBCryptoKeySigningUtils",e[127],e[126],d.i64.cast([0,3]))},function(a){return e[122]=void 0}])},function(a){return d.nativeOperation(b("LSCreateSignature_v2.nop"),e[40],d.blob("Mw=="),e[119]).then(function(a){return a=a,e[123]=a[0],a})},function(a){return d.blobs.neq(e[123],void 0)?d.resolve(e[124]=e[123]):d.sequence([function(a){return function(a){d.logger(a).mustfix(a)}("[EncryptedBackups][MEBCryptoKeySigningUtils] Failed to create armadillo signature"),e[127]="Failed to create armadillo signature",function(a){d.logger(a).mustfix(a)}(["[EncryptedBackups][MEBCryptoKeySigningUtils] ","",e[127]].join("")),e[126]=d.createArray(),void 0!==void 0?e[128]=(e[126].push(void 0),e[126]):0,d.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBCryptoKeySigningUtils",e[127],e[126],d.i64.cast([0,3]))},function(a){return e[124]=void 0}])},function(a){return d.blobs.neq(e[124],void 0)?(d.blobs.neq(e[122],void 0)?(e[127]=new d.Map(),e[127].set("armadillo_public_key",e[119]),e[127].set("armadillo_key_signature",e[124]),e[127].set("labyrinth_key_signature",e[122]),e[126]=e[127]):e[126]=void 0,e[125]=e[126]):e[125]=void 0,e[120]=e[125]}]):d.resolve(e[120]=void 0)},function(c){return e[120]!==void 0?d.sequence([function(a){return e[121]=e[120].get("armadillo_public_key"),d.nativeOperation(b("LSBase64Encode.nop"),e[121]).then(function(a){return a=a,e[122]=a[0],a})},function(a){return e[123]=e[120].get("armadillo_key_signature"),d.nativeOperation(b("LSBase64Encode.nop"),e[123]).then(function(a){return a=a,e[124]=a[0],a})},function(a){return e[125]=e[120].get("labyrinth_key_signature"),d.nativeOperation(b("LSBase64Encode.nop"),e[125]).then(function(a){return a=a,e[126]=a[0],a})},function(c){return e[127]=new d.Map(),e[127].set("backup_id",e[1]),e[127].set("request_device_id",e[47]),e[127].set("virtual_device_id",e[110]),e[127].set("encrypted_secret_values",e[88]),e[127].set("public_key",e[111]),e[127].set("epoch_storage_pubkey",e[112]),e[127].set("epoch_storage_pubkey_sig",e[113]),e[127].set("device_epoch_hmac",e[114]),e[127].set("epoch_root_key_fingerprint",e[58]),e[127].set("ocmf_rotation_token",e[115]),e[127].set("is_init",!1),e[127].set("epoch_id",e[116]),e[127].set("virtual_device_type",e[32]),e[127].set("action_type",a[0]),e[127].set("private_key_debug_token",e[97]),e[127].set("ocmf_client_state_debug_token",e[99]),e[127].set("epoch_storage_pvtkey_debug_token",e[101]),e[127].set("recovery_code_debug_token",e[105]),e[127].set("trace_id",void 0),e[127].set("cloud_service_account",e[33]),e[127].set("hsm_pin_normalization_status",e[34]),e[127].set("security_question_type",void 0),e[127].set("trusted_contact_id",void 0),e[127].set("armadillo_public_key",e[122]==null?"":e[122]),e[127].set("armadillo_key_signature",e[124]==null?"":e[124]),e[127].set("labyrinth_key_signature",e[126]==null?"":e[126]),e[128]=d.toJSON(e[127]),d.storedProcedure(b("LSIssueNewEbTaskAndGetTaskIDV2"),"encrypted_backups_setup",d.i64.cast([0,50004]),e[128],d.i64.cast([0,0]),d.i64.cast([0,93]),d.i64.cast([0,0]),void 0,d.i64.cast([0,0])).then(function(a){return a=a,e[129]=a[0],a})}]):(function(a){d.logger(a).info(a)}("[EncryptedBackups][LSEncryptedBackupsCreateVirtualDeviceV2StoredProcedure] failed to get armadillo key and device signatures"),e[121]=new d.Map(),e[121].set("backup_id",e[1]),e[121].set("request_device_id",e[47]),e[121].set("virtual_device_id",e[110]),e[121].set("encrypted_secret_values",e[88]),e[121].set("public_key",e[111]),e[121].set("epoch_storage_pubkey",e[112]),e[121].set("epoch_storage_pubkey_sig",e[113]),e[121].set("device_epoch_hmac",e[114]),e[121].set("epoch_root_key_fingerprint",e[58]),e[121].set("ocmf_rotation_token",e[115]),e[121].set("is_init",!1),e[121].set("epoch_id",e[116]),e[121].set("virtual_device_type",e[32]),e[121].set("action_type",a[0]),e[121].set("private_key_debug_token",e[97]),e[121].set("ocmf_client_state_debug_token",e[99]),e[121].set("epoch_storage_pvtkey_debug_token",e[101]),e[121].set("recovery_code_debug_token",e[105]),e[121].set("trace_id",void 0),e[121].set("cloud_service_account",e[33]),e[121].set("hsm_pin_normalization_status",e[34]),e[121].set("security_question_type",void 0),e[121].set("trusted_contact_id",void 0),e[122]=d.toJSON(e[121]),d.storedProcedure(b("LSIssueNewEbTaskAndGetTaskIDV2"),"encrypted_backups_setup",d.i64.cast([0,50004]),e[122],d.i64.cast([0,0]),d.i64.cast([0,93]),d.i64.cast([0,0]),void 0,d.i64.cast([0,0])).then(function(a){return a=a,e[123]=a[0],a}))}]):d.storedProcedure(b("LSHandleCreateVirtualDeviceFailure"),e[1],!1,void 0)}]):d.sequence([function(a){return function(a){d.logger(a).mustfix(a)}("[EncryptedBackups][LSEncryptedBackupsCreateVirtualDeviceV2StoredProcedure] Epoch keys are unavailable."),e[41]="Epoch keys are unavailable.",function(a){d.logger(a).mustfix(a)}(["[EncryptedBackups][LSEncryptedBackupsCreateVirtualDeviceV2StoredProcedure] ","",e[41]].join("")),e[40]=d.createArray(),void 0!==void 0?e[42]=(e[40].push(void 0),e[40]):0,d.nativeOperation(b("LSLogMebClientEvent.nop"),"LSEncryptedBackupsCreateVirtualDeviceV2StoredProcedure",e[41],e[40],d.i64.cast([0,3]))},function(a){return d.storedProcedure(b("LSHandleCreateVirtualDeviceFailure"),e[1],!1,void 0)}])}]):d.sequence([function(a){return function(a){d.logger(a).mustfix(a)}("[EncryptedBackups][LSEncryptedBackupsCreateVirtualDeviceV2StoredProcedure] Invalid Recovery Code Provided"),e[40]="Invalid Recovery Code Provided",function(a){d.logger(a).mustfix(a)}(["[EncryptedBackups][LSEncryptedBackupsCreateVirtualDeviceV2StoredProcedure] ","",e[40]].join("")),e[39]=d.createArray(),void 0!==void 0?e[41]=(e[39].push(void 0),e[39]):0,d.nativeOperation(b("LSLogMebClientEvent.nop"),"LSEncryptedBackupsCreateVirtualDeviceV2StoredProcedure",e[40],e[39],d.i64.cast([0,3]))},function(a){return d.storedProcedure(b("LSHandleCreateVirtualDeviceFailure"),e[1],!1,void 0)}]):d.sequence([function(a){return function(a){d.logger(a).mustfix(a)}("[EncryptedBackups][LSEncryptedBackupsCreateVirtualDeviceV2StoredProcedure] Invalid Recovery Code Provided"),e[40]="Invalid Recovery Code Provided",function(a){d.logger(a).mustfix(a)}(["[EncryptedBackups][LSEncryptedBackupsCreateVirtualDeviceV2StoredProcedure] ","",e[40]].join("")),e[39]=d.createArray(),void 0!==void 0?e[41]=(e[39].push(void 0),e[39]):0,d.nativeOperation(b("LSLogMebClientEvent.nop"),"LSEncryptedBackupsCreateVirtualDeviceV2StoredProcedure",e[40],e[39],d.i64.cast([0,3]))},function(a){return d.storedProcedure(b("LSHandleCreateVirtualDeviceFailure"),e[1],!1,void 0)}])}])},function(a){return e[27]=d.i64.cast([0,0])}]))})},function(a){return e[20]=e[27]}]):d.sequence([function(a){return d.db.table(178).put({pk:d.i64.cast([0,1]),recoveryCodeStatus:d.i64.cast([0,3])})},function(a){return e[27]="Backup is not initalized",e[27]!==void 0?(function(a){d.logger(a).mustfix(a)}(["[EncryptedBackups][LSEncryptedBackupsCreateExtraVirtualDeviceStoredProcedure] ","",e[27]].join("")),e[28]=d.createArray(),void 0!==void 0?e[29]=(e[28].push(void 0),e[28]):0,d.nativeOperation(b("LSLogMebClientEvent.nop"),"LSEncryptedBackupsCreateExtraVirtualDeviceStoredProcedure",e[27],e[28],d.i64.cast([0,3]))):d.resolve()},function(a){return d.forEach(d.db.table(174).fetch(),function(a){return a["delete"]()})},function(a){return e[20]=d.i64.cast([0,1])}])},function(a){return e[21]=d.i64.of_float(Date.now()),e[22]=d.i64.random(),e[24]="Finishing execution. Execution time: ",e[25]=d.i64.to_string(d.i64.sub(e[21],e[0])),e[26]=" ms",e[23]="",function(a){d.logger(a).info(a)}(["[EncryptedBackups][LSEncryptedBackupsCreateExtraVirtualDeviceStoredProcedure] ",e[23],e[24],e[23],e[25],e[23],e[26]].join("")),d.i64.eq(d.i64.mod_(e[22],d.i64.cast([0,1e3])),d.i64.cast([0,0]))?(e[27]=",",e[28]=d.createArray(),void 0!==void 0?e[29]=(e[28].push(void 0),e[28]):0,d.nativeOperation(b("LSLogMebClientEvent.nop"),"LSEncryptedBackupsCreateExtraVirtualDeviceStoredProcedure",[e[24],e[27],e[25],e[27],e[26]].join(""),e[28],d.i64.cast([0,4]))):d.resolve()},function(a){return f[0]=e[20]}])},function(a){return d.resolve(f)}])}a.__sproc_name__="LSEncryptedBackupsCreateExtraVirtualDeviceStoredProcedure";a.__tables__=["secure_encrypted_backups_client_state","secure_encrypted_backups_generated_recovery_code","secure_encrypted_backups_recovery_code_status","secure_encrypted_backups_epochs"];d=a;g["default"]=d}),98);
__d("LSCreateExtraVirtualDeviceStoredProcedure",["LSCreateExtraVirtualDevice","LSSynchronousPromise","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSCreateExtraVirtualDevice"),e.actionType,e.traceId);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("MWEncryptedBackupsCreateExtraVirtualDevice",["LSCreateExtraVirtualDeviceStoredProcedure","LSFactory"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){return a.runInTransaction(function(a){return c("LSCreateExtraVirtualDeviceStoredProcedure")(c("LSFactory")(a),{actionType:b})},"readwrite",void 0,void 0,f.id+":24")}g.initializeCreateExtraVirtualDeviceStoredProcedure=a}),98);
__d("VestaDeleteAccountMutation_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="23902987852620802"}),null);
__d("VestaDeleteAccountMutation.graphql",["VestaDeleteAccountMutation_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input"}],c=[{kind:"Variable",name:"delete_account_request",variableName:"input"}],d={alias:null,args:null,kind:"ScalarField",name:"client_generated_id",storageKey:null};return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"VestaDeleteAccountMutation",selections:[{alias:null,args:c,concreteType:"VestaDeleteAccountResponse",kind:"LinkedField",name:"fbid_based_auth_layer_vesta_delete_account",plural:!1,selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,concreteType:"MessengerDefaultEncryptedBackup",kind:"LinkedField",name:"messenger_default_encrypted_backup",plural:!1,selections:[{alias:null,args:null,concreteType:"XFBEBVirtualDevice",kind:"LinkedField",name:"hsm_virtual_device",plural:!1,selections:[d],storageKey:null},{alias:null,args:null,concreteType:"VestaGetUserInfoResponse",kind:"LinkedField",name:"vesta_user_info",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"useMWChatEncryptedBackupsVestaUserInfo_vestaGetUserInfoResponse"}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"VestaDeleteAccountMutation",selections:[{alias:null,args:c,concreteType:"VestaDeleteAccountResponse",kind:"LinkedField",name:"fbid_based_auth_layer_vesta_delete_account",plural:!1,selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,concreteType:"MessengerDefaultEncryptedBackup",kind:"LinkedField",name:"messenger_default_encrypted_backup",plural:!1,selections:[{alias:null,args:null,concreteType:"XFBEBVirtualDevice",kind:"LinkedField",name:"hsm_virtual_device",plural:!1,selections:[d,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"VestaGetUserInfoResponse",kind:"LinkedField",name:"vesta_user_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"attempts_remaining",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_registered",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"login_timeout_remaining_secs",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}]},params:{id:b("VestaDeleteAccountMutation_facebookRelayOperation"),metadata:{},name:"VestaDeleteAccountMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("VestaDeleteAccount",["CometRelay","VestaDeleteAccountMutation.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){var c=a.clientId,e=a.environment,f=a.optimisticUpdater,g=a.productUseCase;a=a.updater;var i=h!==void 0?h:h=b("VestaDeleteAccountMutation.graphql");return d("CometRelay").commitMutation(e,{mutation:i,optimisticUpdater:f,updater:a,variables:{input:{fbid:c,product_use_case:g,vesta_client_api_version:6}}})}g.vestaDeleteAccount=a}),98);
__d("VestaServerGraphQLRegisterProviderBeginRegisterMutation_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="9596958053703216"}),null);
__d("VestaServerGraphQLRegisterProviderBeginRegisterMutation.graphql",["VestaServerGraphQLRegisterProviderBeginRegisterMutation_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input"}],c=[{alias:null,args:[{kind:"Variable",name:"begin_register_request",variableName:"input"}],concreteType:"VestaBeginRegisterResponse",kind:"LinkedField",name:"fbid_based_auth_layer_vesta_begin_register",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"base64url_encoded_opaque_r2",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"base64url_encoded_opaque_challenge",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"base64url_encoded_opaque_r2_sig",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"VestaServerGraphQLRegisterProviderBeginRegisterMutation",selections:c,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"VestaServerGraphQLRegisterProviderBeginRegisterMutation",selections:c},params:{id:b("VestaServerGraphQLRegisterProviderBeginRegisterMutation_facebookRelayOperation"),metadata:{},name:"VestaServerGraphQLRegisterProviderBeginRegisterMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("VestaServerGraphQLRegisterProviderFinishRegisterMutation_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="9551173398333326"}),null);
__d("VestaServerGraphQLRegisterProviderFinishRegisterMutation.graphql",["VestaServerGraphQLRegisterProviderFinishRegisterMutation_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input"}],c=[{kind:"Variable",name:"finish_register_request",variableName:"input"}],d={alias:null,args:null,kind:"ScalarField",name:"register_success",storageKey:null},e={alias:null,args:null,kind:"ScalarField",name:"client_generated_id",storageKey:null};return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"VestaServerGraphQLRegisterProviderFinishRegisterMutation",selections:[{alias:null,args:c,concreteType:"VestaFinishRegisterResponse",kind:"LinkedField",name:"fbid_based_auth_layer_vesta_finish_register",plural:!1,selections:[d,{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,concreteType:"MessengerDefaultEncryptedBackup",kind:"LinkedField",name:"messenger_default_encrypted_backup",plural:!1,selections:[{alias:null,args:null,concreteType:"XFBEBVirtualDevice",kind:"LinkedField",name:"hsm_virtual_device",plural:!1,selections:[e],storageKey:null},{alias:null,args:null,concreteType:"VestaGetUserInfoResponse",kind:"LinkedField",name:"vesta_user_info",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"useMWChatEncryptedBackupsVestaUserInfo_vestaGetUserInfoResponse"}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"VestaServerGraphQLRegisterProviderFinishRegisterMutation",selections:[{alias:null,args:c,concreteType:"VestaFinishRegisterResponse",kind:"LinkedField",name:"fbid_based_auth_layer_vesta_finish_register",plural:!1,selections:[d,{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,concreteType:"MessengerDefaultEncryptedBackup",kind:"LinkedField",name:"messenger_default_encrypted_backup",plural:!1,selections:[{alias:null,args:null,concreteType:"XFBEBVirtualDevice",kind:"LinkedField",name:"hsm_virtual_device",plural:!1,selections:[e,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"VestaGetUserInfoResponse",kind:"LinkedField",name:"vesta_user_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"attempts_remaining",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_registered",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"login_timeout_remaining_secs",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}]},params:{id:b("VestaServerGraphQLRegisterProviderFinishRegisterMutation_facebookRelayOperation"),metadata:{},name:"VestaServerGraphQLRegisterProviderFinishRegisterMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("VestaServerGraphQLRegisterProviderInitQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="10088892487810238"}),null);
__d("VestaServerGraphQLRegisterProviderInitQuery.graphql",["VestaServerGraphQLRegisterProviderInitQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"request"}],c=[{alias:null,args:[{kind:"Variable",name:"vesta_init_request",variableName:"request"}],concreteType:"VestaInitIqResponse",kind:"LinkedField",name:"fbid_based_auth_layer_vesta_register_init",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"base64url_encoded_island_rsa_pub",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"base64url_encoded_island_rsa_pub_signature",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"base64url_encoded_opaque_pub",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"base64url_encoded_opaque_pub_signature",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"base64url_encoded_island_ed25519_pub",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"base64url_encoded_island_ed25519_pub_signature",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_registered",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"attempts_remaining",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"VestaServerGraphQLRegisterProviderInitQuery",selections:c,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"VestaServerGraphQLRegisterProviderInitQuery",selections:c},params:{id:b("VestaServerGraphQLRegisterProviderInitQuery_facebookRelayOperation"),metadata:{},name:"VestaServerGraphQLRegisterProviderInitQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("VestaServerGraphQLRegisterProvider",["E2EEBackupUtil","RelayHooks","RelayModern","VestaServerGraphQLRegisterProviderBeginRegisterMutation.graphql","VestaServerGraphQLRegisterProviderFinishRegisterMutation.graphql","VestaServerGraphQLRegisterProviderInitQuery.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;async function a(a,c){c=c.environment;c=await d("RelayHooks").fetchQuery(c,h!==void 0?h:h=b("VestaServerGraphQLRegisterProviderInitQuery.graphql"),{request:{fbid:a.clientId,product_use_case:a.productUseCase,vesta_client_api_version:6}}).toPromise();a=c==null?void 0:c.fbid_based_auth_layer_vesta_register_init;c=a==null?void 0:a.base64url_encoded_island_rsa_pub;var e=a==null?void 0:a.base64url_encoded_island_rsa_pub_signature,f=a==null?void 0:a.base64url_encoded_opaque_pub,g=a==null?void 0:a.base64url_encoded_opaque_pub_signature,i=a==null?void 0:a.base64url_encoded_island_ed25519_pub,j=a==null?void 0:a.base64url_encoded_island_ed25519_pub_signature,k=a==null?void 0:a.is_registered;a=a==null?void 0:a.attempts_remaining;if(c!=null&&e!=null&&f!=null&&g!=null&&i!=null&&j!=null&&k!=null){var l;return{islandRsaPub:(l=d("E2EEBackupUtil")).decodeBase64Url(c),islandRsaPubSig:l.decodeBase64Url(e),opaquePub:l.decodeBase64Url(f),opaquePubSig:l.decodeBase64Url(g),islandEd25519Pub:l.decodeBase64Url(i),islandEd25519PubSig:l.decodeBase64Url(j),isRegistered:k,loginAttemptsRemaining:a}}throw new Error("GraphQL Response is Null")}function c(a,c){var e=c.environment,f=i!==void 0?i:i=b("VestaServerGraphQLRegisterProviderBeginRegisterMutation.graphql"),g={input:{base64url_encoded_opaque_r1:d("E2EEBackupUtil").encodeBase64Url(a.opaqueR1),fbid:a.clientId,product_use_case:a.productUseCase,vesta_client_api_version:6}};return new Promise(function(a,b){d("RelayModern").commitMutation(e,{mutation:f,variables:g,onCompleted:function(c){c=c.fbid_based_auth_layer_vesta_begin_register;var e=c==null?void 0:c.base64url_encoded_opaque_r2,f=c==null?void 0:c.base64url_encoded_opaque_challenge;c=c==null?void 0:c.base64url_encoded_opaque_r2_sig;if(e!=null&&f!=null&&c!=null){a({opaqueR2:d("E2EEBackupUtil").decodeBase64Url(e),opaqueChallenge:d("E2EEBackupUtil").decodeBase64Url(f),opaqueR2Sig:d("E2EEBackupUtil").decodeBase64Url(c)});return}b(new Error("GraphQL Response is Null"))},onError:function(a){b(a)}})})}function e(a,c){var e=c.environment,f=c.updater;return new Promise(function(c,g){d("RelayModern").commitMutation(e,{mutation:j!==void 0?j:j=b("VestaServerGraphQLRegisterProviderFinishRegisterMutation.graphql"),variables:{input:{base64url_encoded_enc_reg_payload:d("E2EEBackupUtil").encodeBase64Url(a.encRegPayload),fbid:a.clientId,product_use_case:a.productUseCase,vesta_client_api_version:6}},onCompleted:function(a){a=(a=a.fbid_based_auth_layer_vesta_finish_register)==null?void 0:a.register_success;if(a!=null){c({registerSuccess:a});return}g(new Error("GraphQL Response is Null"))},onError:function(a){g(a)},updater:f})})}g.initRegister=a;g.beginRegister=c;g.finishRegister=e}),98);/*FB_PKG_DELIM*/
/**
 * License: https://www.facebook.com/legal/license/t3hOLs8wlXy/
 */
__d("file-saver-2.0.2",[],(function(a,b,c,d,e,f){"use strict";var g={},h={exports:g};function i(){(function(a,b){"undefined"!=typeof g?b():(b(),a.FileSaver={exports:{}}.exports)})(this,function(){function b(b,a){return"undefined"==typeof a?a={autoBom:!1}:"object"!=typeof a&&(!1,a={autoBom:!a}),a.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(b.type)?new Blob(["\ufeff",b],{type:b.type}):b}function c(a,b,c){var d=new XMLHttpRequest;d.open("GET",a),d.responseType="blob",d.onload=function(){g(d.response,b,c)},d.onerror=function(){},d.send()}function d(b){var a=new XMLHttpRequest;a.open("HEAD",b,!1);try{a.send()}catch(a){}return 200<=a.status&&299>=a.status}function e(b){try{b.dispatchEvent(new MouseEvent("click"))}catch(c){var a=document.createEvent("MouseEvents");a.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),b.dispatchEvent(a)}}var f="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof a&&a.global===a?a:void 0,g=f.saveAs||("object"!=typeof window||window!==f?function(){}:"download"in HTMLAnchorElement.prototype?function(a,b,g){var h=f.URL||f.webkitURL,i=document.createElement("a");b=b||a.name||"download",i.download=b,i.rel="noopener","string"==typeof a?(i.href=a,i.origin===location.origin?e(i):d(i.href)?c(a,b,g):e(i,i.target="_blank")):(i.href=h.createObjectURL(a),setTimeout(function(){h.revokeObjectURL(i.href)},4e4),setTimeout(function(){e(i)},0))}:"msSaveOrOpenBlob"in navigator?function(a,f,g){if(f=f||a.name||"download","string"!=typeof a)navigator.msSaveOrOpenBlob(b(a,g),f);else if(d(a))c(a,f,g);else{var h=document.createElement("a");h.href=a,h.target="_blank",setTimeout(function(){e(h)})}}:function(e,a,b,d){if(d=d||open("","_blank"),d&&(d.document.title=d.document.body.innerText="downloading..."),"string"==typeof e)return c(e,a,b);a="application/octet-stream"===e.type;b=/constructor/i.test(f.HTMLElement)||f.safari;var g=/CriOS\/[\d]+/.test(navigator.userAgent);if((g||a&&b)&&"object"==typeof FileReader){var h=new FileReader;h.onloadend=function(){var a=h.result;a=g?a:a.replace(/^data:[^;]*;/,"data:attachment/file;"),d?d.location.href=a:location=a,d=null},h.readAsDataURL(e)}else{var i=f.URL||f.webkitURL,j=i.createObjectURL(e);d?d.location=j:location.href=j,d=null,setTimeout(function(){i.revokeObjectURL(j)},4e4)}});f.saveAs=g.saveAs=g,"undefined"!=typeof h&&(h.exports=g)})}var j=!1;function k(){j||(j=!0,i());return h.exports}function b(a){switch(a){case void 0:return k()}}e.exports=b}),null);
__d("file-saver",["file-saver-2.0.2"],(function(a,b,c,d,e,f){e.exports=b("file-saver-2.0.2")()}),null);
/**
 * License: https://www.facebook.com/legal/license/PAEKTkKqR_S/
 */
__d("msgpack-msgpack-2.8.0",[],(function(a,b,c,d,e,f){"use strict";var g={},h={exports:g};function i(){Object.defineProperty(g,"__esModule",{value:!0});g.getUint64=g.getInt64=g.setInt64=g.setUint64=g.UINT32_MAX=void 0;g.UINT32_MAX=4294967295;function a(a,b,c){var d=c/4294967296;c=c;a.setUint32(b,d);a.setUint32(b+4,c)}g.setUint64=a;function b(a,b,c){var d=Math.floor(c/4294967296);c=c;a.setUint32(b,d);a.setUint32(b+4,c)}g.setInt64=b;function c(a,b){var c=a.getInt32(b);a=a.getUint32(b+4);return c*4294967296+a}g.getInt64=c;function d(a,b){var c=a.getUint32(b);a=a.getUint32(b+4);return c*4294967296+a}g.getUint64=d}var j=!1;function k(){j||(j=!0,i());return h.exports}var l={},m={exports:l};function n(){var a;Object.defineProperty(l,"__esModule",{value:!0});l.utf8DecodeTD=l.TEXT_DECODER_THRESHOLD=l.utf8DecodeJs=l.utf8EncodeTE=l.TEXT_ENCODER_THRESHOLD=l.utf8EncodeJs=l.utf8Count=void 0;var b=k();a=(typeof process==="undefined"||((a=process===null||process===void 0?void 0:process.env)===null||a===void 0?void 0:a.TEXT_ENCODING)!=="never")&&typeof TextEncoder!=="undefined"&&typeof TextDecoder!=="undefined";function c(a){var b=a.length,c=0,d=0;while(d<b){var e=a.charCodeAt(d++);if((e&4294967168)===0){c++;continue}else if((e&4294965248)===0)c+=2;else{if(e>=55296&&e<=56319&&d<b){var f=a.charCodeAt(d);(f&64512)===56320&&(++d,e=((e&1023)<<10)+(f&1023)+65536)}(e&4294901760)===0?c+=3:c+=4}}return c}l.utf8Count=c;function d(a,b,c){var d=a.length;c=c;var e=0;while(e<d){var f=a.charCodeAt(e++);if((f&4294967168)===0){b[c++]=f;continue}else if((f&4294965248)===0)b[c++]=f>>6&31|192;else{if(f>=55296&&f<=56319&&e<d){var g=a.charCodeAt(e);(g&64512)===56320&&(++e,f=((f&1023)<<10)+(g&1023)+65536)}(f&4294901760)===0?(b[c++]=f>>12&15|224,b[c++]=f>>6&63|128):(b[c++]=f>>18&7|240,b[c++]=f>>12&63|128,b[c++]=f>>6&63|128)}b[c++]=f&63|128}}l.utf8EncodeJs=d;var e=a?new TextEncoder():void 0;l.TEXT_ENCODER_THRESHOLD=a?typeof process!=="undefined"&&((c=process===null||process===void 0?void 0:process.env)===null||c===void 0?void 0:c.TEXT_ENCODING)!=="force"?200:0:b.UINT32_MAX;function f(a,b,c){b.set(e.encode(a),c)}function g(a,b,c){e.encodeInto(a,b.subarray(c))}l.utf8EncodeTE=(e===null||e===void 0?void 0:e.encodeInto)?g:f;var h=4096;function i(a,b,c){b=b;c=b+c;var d=[],e="";while(b<c){var f=a[b++];if((f&128)===0)d.push(f);else if((f&224)===192){var g=a[b++]&63;d.push((f&31)<<6|g)}else if((f&240)===224){g=a[b++]&63;var i=a[b++]&63;d.push((f&31)<<12|g<<6|i)}else if((f&248)===240){g=a[b++]&63;i=a[b++]&63;var j=a[b++]&63;g=(f&7)<<18|g<<12|i<<6|j;g>65535&&(g-=65536,d.push(g>>>10&1023|55296),g=56320|g&1023);d.push(g)}else d.push(f);d.length>=h&&(e+=String.fromCharCode.apply(String,d),d.length=0)}d.length>0&&(e+=String.fromCharCode.apply(String,d));return e}l.utf8DecodeJs=i;var j=a?new TextDecoder():null;l.TEXT_DECODER_THRESHOLD=a?typeof process!=="undefined"&&((d=process===null||process===void 0?void 0:process.env)===null||d===void 0?void 0:d.TEXT_DECODER)!=="force"?200:0:b.UINT32_MAX;function m(a,b,c){a=a.subarray(b,b+c);return j.decode(a)}l.utf8DecodeTD=m}var o=!1;function p(){o||(o=!0,n());return m.exports}var q={},r={exports:q};function aa(){Object.defineProperty(q,"__esModule",{value:!0});q.ExtData=void 0;var a=function(a,b){this.type=a,this.data=b};q.ExtData=a}var s=!1;function t(){s||(s=!0,aa());return r.exports}var u={},ba={exports:u};function ca(){Object.defineProperty(u,"__esModule",{value:!0});u.DecodeError=void 0;var a=function(b){babelHelpers.inheritsLoose(a,b);function a(c){c=b.call(this,c)||this;var d=Object.create(a.prototype);Object.setPrototypeOf(babelHelpers.assertThisInitialized(c),d);Object.defineProperty(babelHelpers.assertThisInitialized(c),"name",{configurable:!0,enumerable:!1,value:a.name});return c}return a}(babelHelpers.wrapNativeSuper(Error));u.DecodeError=a}var v=!1;function w(){v||(v=!0,ca());return ba.exports}var x={},da={exports:x};function ea(){Object.defineProperty(x,"__esModule",{value:!0});x.timestampExtension=x.decodeTimestampExtension=x.decodeTimestampToTimeSpec=x.encodeTimestampExtension=x.encodeDateToTimeSpec=x.encodeTimeSpecToTimestamp=x.EXT_TIMESTAMP=void 0;var a=w(),b=k();x.EXT_TIMESTAMP=-1;var c=4294967296-1,d=17179869184-1;function e(a){var e=a.sec;a=a.nsec;if(e>=0&&a>=0&&e<=d)if(a===0&&e<=c){var f=new Uint8Array(4),g=new DataView(f.buffer);g.setUint32(0,e);return f}else{g=e/4294967296;f=e&4294967295;var h=new Uint8Array(8),i=new DataView(h.buffer);i.setUint32(0,a<<2|g&3);i.setUint32(4,f);return h}else{g=new Uint8Array(12);i=new DataView(g.buffer);i.setUint32(0,a);b.setInt64(i,4,e);return g}}x.encodeTimeSpecToTimestamp=e;function f(a){a=a.getTime();var b=Math.floor(a/1e3);a=(a-b*1e3)*1e6;var c=Math.floor(a/1e9);return{sec:b+c,nsec:a-c*1e9}}x.encodeDateToTimeSpec=f;function g(a){if(a instanceof Date){a=f(a);return e(a)}else return null}x.encodeTimestampExtension=g;function h(c){var d=new DataView(c.buffer,c.byteOffset,c.byteLength);switch(c.byteLength){case 4:var e=d.getUint32(0),f=0;return{sec:e,nsec:f};case 8:e=d.getUint32(0);f=d.getUint32(4);f=(e&3)*4294967296+f;e=e>>>2;return{sec:f,nsec:e};case 12:f=b.getInt64(d,4);e=d.getUint32(0);return{sec:f,nsec:e};default:throw new a.DecodeError("Unrecognized data size for timestamp (expected 4, 8, or 12): "+c.length)}}x.decodeTimestampToTimeSpec=h;function i(a){a=h(a);return new Date(a.sec*1e3+a.nsec/1e6)}x.decodeTimestampExtension=i;x.timestampExtension={type:x.EXT_TIMESTAMP,encode:g,decode:i}}var y=!1;function z(){y||(y=!0,ea());return da.exports}var A={},fa={exports:A};function ga(){Object.defineProperty(A,"__esModule",{value:!0});A.ExtensionCodec=void 0;var a=t(),b=z(),c=function(){function c(){this.builtInEncoders=[],this.builtInDecoders=[],this.encoders=[],this.decoders=[],this.register(b.timestampExtension)}var d=c.prototype;d.register=function(a){var b=a.type,c=a.encode;a=a.decode;if(b>=0)this.encoders[b]=c,this.decoders[b]=a;else{b=1+b;this.builtInEncoders[b]=c;this.builtInDecoders[b]=a}};d.tryToEncode=function(b,c){for(var d=0;d<this.builtInEncoders.length;d++){var e=this.builtInEncoders[d];if(e!=null){e=e(b,c);if(e!=null){var f=-1-d;return new a.ExtData(f,e)}}}for(f=0;f<this.encoders.length;f++){e=this.encoders[f];if(e!=null){d=e(b,c);if(d!=null){e=f;return new a.ExtData(e,d)}}}return b instanceof a.ExtData?b:null};d.decode=function(b,c,d){var e=c<0?this.builtInDecoders[-1-c]:this.decoders[c];if(e)return e(b,c,d);else return new a.ExtData(c,b)};return c}();A.ExtensionCodec=c;c.defaultCodec=new c()}var B=!1;function C(){B||(B=!0,ga());return fa.exports}var D={},ha={exports:D};function ia(){Object.defineProperty(D,"__esModule",{value:!0});D.createDataView=D.ensureUint8Array=void 0;function a(a){if(a instanceof Uint8Array)return a;else if(ArrayBuffer.isView(a))return new Uint8Array(a.buffer,a.byteOffset,a.byteLength);else if(a instanceof ArrayBuffer)return new Uint8Array(a);else return Uint8Array.from(a)}D.ensureUint8Array=a;function b(b){if(b instanceof ArrayBuffer)return new DataView(b);b=a(b);return new DataView(b.buffer,b.byteOffset,b.byteLength)}D.createDataView=b}var E=!1;function F(){E||(E=!0,ia());return ha.exports}var G={},ja={exports:G};function ka(){Object.defineProperty(G,"__esModule",{value:!0});G.Encoder=G.DEFAULT_INITIAL_BUFFER_SIZE=G.DEFAULT_MAX_DEPTH=void 0;var a=p(),b=C(),c=k(),d=F();G.DEFAULT_MAX_DEPTH=100;G.DEFAULT_INITIAL_BUFFER_SIZE=2048;var e=function(){function e(a,c,d,e,f,g,h,i){a===void 0&&(a=b.ExtensionCodec.defaultCodec),c===void 0&&(c=void 0),d===void 0&&(d=G.DEFAULT_MAX_DEPTH),e===void 0&&(e=G.DEFAULT_INITIAL_BUFFER_SIZE),f===void 0&&(f=!1),g===void 0&&(g=!1),h===void 0&&(h=!1),i===void 0&&(i=!1),this.extensionCodec=a,this.context=c,this.maxDepth=d,this.initialBufferSize=e,this.sortKeys=f,this.forceFloat32=g,this.ignoreUndefined=h,this.forceIntegerToFloat=i,this.pos=0,this.view=new DataView(new ArrayBuffer(this.initialBufferSize)),this.bytes=new Uint8Array(this.view.buffer)}var f=e.prototype;f.reinitializeState=function(){this.pos=0};f.encodeSharedRef=function(a){this.reinitializeState();this.doEncode(a,1);return this.bytes.subarray(0,this.pos)};f.encode=function(a){this.reinitializeState();this.doEncode(a,1);return this.bytes.slice(0,this.pos)};f.doEncode=function(a,b){if(b>this.maxDepth)throw new Error("Too deep objects in depth "+b);a==null?this.encodeNil():typeof a==="boolean"?this.encodeBoolean(a):typeof a==="number"?this.encodeNumber(a):typeof a==="string"?this.encodeString(a):this.encodeObject(a,b)};f.ensureBufferSizeToWrite=function(a){a=this.pos+a;this.view.byteLength<a&&this.resizeBuffer(a*2)};f.resizeBuffer=function(a){a=new ArrayBuffer(a);var b=new Uint8Array(a);a=new DataView(a);b.set(this.bytes);this.view=a;this.bytes=b};f.encodeNil=function(){this.writeU8(192)};f.encodeBoolean=function(a){a===!1?this.writeU8(194):this.writeU8(195)};f.encodeNumber=function(a){Number.isSafeInteger(a)&&!this.forceIntegerToFloat?a>=0?a<128?this.writeU8(a):a<256?(this.writeU8(204),this.writeU8(a)):a<65536?(this.writeU8(205),this.writeU16(a)):a<4294967296?(this.writeU8(206),this.writeU32(a)):(this.writeU8(207),this.writeU64(a)):a>=-32?this.writeU8(224|a+32):a>=-128?(this.writeU8(208),this.writeI8(a)):a>=-32768?(this.writeU8(209),this.writeI16(a)):a>=-2147483648?(this.writeU8(210),this.writeI32(a)):(this.writeU8(211),this.writeI64(a)):this.forceFloat32?(this.writeU8(202),this.writeF32(a)):(this.writeU8(203),this.writeF64(a))};f.writeStringHeader=function(a){if(a<32)this.writeU8(160+a);else if(a<256)this.writeU8(217),this.writeU8(a);else if(a<65536)this.writeU8(218),this.writeU16(a);else if(a<4294967296)this.writeU8(219),this.writeU32(a);else throw new Error("Too long string: "+a+" bytes in UTF-8")};f.encodeString=function(b){var c=1+4,d=b.length;if(d>a.TEXT_ENCODER_THRESHOLD){d=a.utf8Count(b);this.ensureBufferSizeToWrite(c+d);this.writeStringHeader(d);a.utf8EncodeTE(b,this.bytes,this.pos);this.pos+=d}else{d=a.utf8Count(b);this.ensureBufferSizeToWrite(c+d);this.writeStringHeader(d);a.utf8EncodeJs(b,this.bytes,this.pos);this.pos+=d}};f.encodeObject=function(a,b){var c=this.extensionCodec.tryToEncode(a,this.context);if(c!=null)this.encodeExtension(c);else if(Array.isArray(a))this.encodeArray(a,b);else if(ArrayBuffer.isView(a))this.encodeBinary(a);else if(typeof a==="object")this.encodeMap(a,b);else throw new Error("Unrecognized object: "+Object.prototype.toString.apply(a))};f.encodeBinary=function(a){var b=a.byteLength;if(b<256)this.writeU8(196),this.writeU8(b);else if(b<65536)this.writeU8(197),this.writeU16(b);else if(b<4294967296)this.writeU8(198),this.writeU32(b);else throw new Error("Too large binary: "+b);b=d.ensureUint8Array(a);this.writeU8a(b)};f.encodeArray=function(a,b){var c=a.length;if(c<16)this.writeU8(144+c);else if(c<65536)this.writeU8(220),this.writeU16(c);else if(c<4294967296)this.writeU8(221),this.writeU32(c);else throw new Error("Too large array: "+c);for(c of a)this.doEncode(c,b+1)};f.countWithoutUndefined=function(a,b){var c=0;for(b of b)a[b]!==void 0&&c++;return c};f.encodeMap=function(a,b){var c=Object.keys(a);this.sortKeys&&c.sort();var d=this.ignoreUndefined?this.countWithoutUndefined(a,c):c.length;if(d<16)this.writeU8(128+d);else if(d<65536)this.writeU8(222),this.writeU16(d);else if(d<4294967296)this.writeU8(223),this.writeU32(d);else throw new Error("Too large map object: "+d);for(d of c){c=a[d];this.ignoreUndefined&&c===void 0||(this.encodeString(d),this.doEncode(c,b+1))}};f.encodeExtension=function(a){var b=a.data.length;if(b===1)this.writeU8(212);else if(b===2)this.writeU8(213);else if(b===4)this.writeU8(214);else if(b===8)this.writeU8(215);else if(b===16)this.writeU8(216);else if(b<256)this.writeU8(199),this.writeU8(b);else if(b<65536)this.writeU8(200),this.writeU16(b);else if(b<4294967296)this.writeU8(201),this.writeU32(b);else throw new Error("Too large extension object: "+b);this.writeI8(a.type);this.writeU8a(a.data)};f.writeU8=function(a){this.ensureBufferSizeToWrite(1),this.view.setUint8(this.pos,a),this.pos++};f.writeU8a=function(a){var b=a.length;this.ensureBufferSizeToWrite(b);this.bytes.set(a,this.pos);this.pos+=b};f.writeI8=function(a){this.ensureBufferSizeToWrite(1),this.view.setInt8(this.pos,a),this.pos++};f.writeU16=function(a){this.ensureBufferSizeToWrite(2),this.view.setUint16(this.pos,a),this.pos+=2};f.writeI16=function(a){this.ensureBufferSizeToWrite(2),this.view.setInt16(this.pos,a),this.pos+=2};f.writeU32=function(a){this.ensureBufferSizeToWrite(4),this.view.setUint32(this.pos,a),this.pos+=4};f.writeI32=function(a){this.ensureBufferSizeToWrite(4),this.view.setInt32(this.pos,a),this.pos+=4};f.writeF32=function(a){this.ensureBufferSizeToWrite(4),this.view.setFloat32(this.pos,a),this.pos+=4};f.writeF64=function(a){this.ensureBufferSizeToWrite(8),this.view.setFloat64(this.pos,a),this.pos+=8};f.writeU64=function(a){this.ensureBufferSizeToWrite(8),c.setUint64(this.view,this.pos,a),this.pos+=8};f.writeI64=function(a){this.ensureBufferSizeToWrite(8),c.setInt64(this.view,this.pos,a),this.pos+=8};return e}();G.Encoder=e}var H=!1;function I(){H||(H=!0,ka());return ja.exports}var J={},la={exports:J};function ma(){Object.defineProperty(J,"__esModule",{value:!0});J.encode=void 0;var a=I(),b={};function c(c,d){d===void 0&&(d=b);d=new a.Encoder(d.extensionCodec,d.context,d.maxDepth,d.initialBufferSize,d.sortKeys,d.forceFloat32,d.ignoreUndefined,d.forceIntegerToFloat);return d.encodeSharedRef(c)}J.encode=c}var K=!1;function na(){K||(K=!0,ma());return la.exports}var L={},oa={exports:L};function pa(){Object.defineProperty(L,"__esModule",{value:!0});L.prettyByte=void 0;function a(a){return(a<0?"-":"")+"0x"+Math.abs(a).toString(16).padStart(2,"0")}L.prettyByte=a}var M=!1;function qa(){M||(M=!0,pa());return oa.exports}var N={},ra={exports:N};function sa(){Object.defineProperty(N,"__esModule",{value:!0});N.CachedKeyDecoder=void 0;var a=p(),b=16,c=16,d=function(){function d(a,d){a===void 0&&(a=b);d===void 0&&(d=c);this.maxKeyLength=a;this.maxLengthPerKey=d;this.hit=0;this.miss=0;this.caches=[];for(a=0;a<this.maxKeyLength;a++)this.caches.push([])}var e=d.prototype;e.canBeCached=function(a){return a>0&&a<=this.maxKeyLength};e.find=function(a,b,c){var d=this.caches[c-1];FIND_CHUNK:for(d of d){var e=d.bytes;for(var f=0;f<c;f++)if(e[f]!==a[b+f])continue FIND_CHUNK;return d.str}return null};e.store=function(a,b){var c=this.caches[a.length-1];a={bytes:a,str:b};c.length>=this.maxLengthPerKey?c[Math.random()*c.length|0]=a:c.push(a)};e.decode=function(b,c,d){var e=this.find(b,c,d);if(e!=null){this.hit++;return e}this.miss++;e=a.utf8DecodeJs(b,c,d);b=Uint8Array.prototype.slice.call(b,c,c+d);this.store(b,e);return e};return d}();N.CachedKeyDecoder=d}var O=!1;function ta(){O||(O=!0,sa());return ra.exports}var P={},ua={exports:P};function va(){Object.defineProperty(P,"__esModule",{value:!0});P.Decoder=P.DataViewIndexOutOfBoundsError=void 0;var a=qa(),b=C(),c=k(),d=p(),e=F(),f=ta(),g=w(),h=function(a){a=typeof a;return a==="string"||a==="number"},i=-1,j=new DataView(new ArrayBuffer(0)),l=new Uint8Array(j.buffer);P.DataViewIndexOutOfBoundsError=function(){try{j.getInt8(0)}catch(a){return a.constructor}throw new Error("never reached")}();var m=new P.DataViewIndexOutOfBoundsError("Insufficient data"),n=new f.CachedKeyDecoder();f=function(){function f(a,d,e,f,g,h,k,m){a===void 0&&(a=b.ExtensionCodec.defaultCodec),d===void 0&&(d=void 0),e===void 0&&(e=c.UINT32_MAX),f===void 0&&(f=c.UINT32_MAX),g===void 0&&(g=c.UINT32_MAX),h===void 0&&(h=c.UINT32_MAX),k===void 0&&(k=c.UINT32_MAX),m===void 0&&(m=n),this.extensionCodec=a,this.context=d,this.maxStrLength=e,this.maxBinLength=f,this.maxArrayLength=g,this.maxMapLength=h,this.maxExtLength=k,this.keyDecoder=m,this.totalPos=0,this.pos=0,this.view=j,this.bytes=l,this.headByte=i,this.stack=[]}var k=f.prototype;k.reinitializeState=function(){this.totalPos=0,this.headByte=i,this.stack.length=0};k.setBuffer=function(a){this.bytes=e.ensureUint8Array(a),this.view=e.createDataView(this.bytes),this.pos=0};k.appendBuffer=function(a){if(this.headByte===i&&!this.hasRemaining(1))this.setBuffer(a);else{var b=this.bytes.subarray(this.pos);a=e.ensureUint8Array(a);var c=new Uint8Array(b.length+a.length);c.set(b);c.set(a,b.length);this.setBuffer(c)}};k.hasRemaining=function(a){return this.view.byteLength-this.pos>=a};k.createExtraByteError=function(a){var b=this.view,c=this.pos;return new RangeError("Extra "+(b.byteLength-c)+" of "+b.byteLength+" byte(s) found at buffer["+a+"]")};k.decode=function(a){this.reinitializeState();this.setBuffer(a);a=this.doDecodeSync();if(this.hasRemaining(1))throw this.createExtraByteError(this.pos);return a};k.decodeMulti=function*(a){this.reinitializeState();this.setBuffer(a);while(this.hasRemaining(1))yield this.doDecodeSync()};k.decodeAsync=async function(b){var c=!1,d,e=!0,f=!1,g;try{for(var h=babelHelpers.asyncIterator(b),b,b;b=await h.next(),e=b.done,b=await b.value,!e;e=!0){b=b;if(c)throw this.createExtraByteError(this.totalPos);this.appendBuffer(b);try{d=this.doDecodeSync(),c=!0}catch(a){if(!(a instanceof P.DataViewIndexOutOfBoundsError))throw a}this.totalPos+=this.pos}}catch(a){f=!0,g=a}finally{try{!e&&h.return!=null&&await h.return()}finally{if(f)throw g}}if(c){if(this.hasRemaining(1))throw this.createExtraByteError(this.totalPos);return d}b=this.headByte;e=this.pos;f=this.totalPos;throw new RangeError("Insufficient data in parsing "+a.prettyByte(b)+" at "+f+" ("+e+" in the current buffer)")};k.decodeArrayStream=function(a){return this.decodeMultiAsync(a,!0)};k.decodeStream=function(a){return this.decodeMultiAsync(a,!1)};k.decodeMultiAsync=function(){var a=babelHelpers.wrapAsyncGenerator(function*(a,b){var c=b,d=-1,e=!0,f=!1,g;try{for(var h=babelHelpers.asyncIterator(a),a,a;a=(yield babelHelpers.awaitAsyncGenerator(h.next())),e=a.done,a=(yield babelHelpers.awaitAsyncGenerator(a.value)),!e;e=!0){a=a;if(b&&d===0)throw this.createExtraByteError(this.totalPos);this.appendBuffer(a);c&&(d=this.readArraySize(),c=!1,this.complete());try{while(!0){yield this.doDecodeSync();if(--d===0)break}}catch(a){if(!(a instanceof P.DataViewIndexOutOfBoundsError))throw a}this.totalPos+=this.pos}}catch(a){f=!0,g=a}finally{try{!e&&h.return!=null&&(yield babelHelpers.awaitAsyncGenerator(h.return()))}finally{if(f)throw g}}});function b(b,c){return a.apply(this,arguments)}return b}();k.doDecodeSync=function(){DECODE:while(!0){var b=this.readHeadByte(),c=void 0;if(b>=224)c=b-256;else if(b<192)if(b<128)c=b;else if(b<144){var d=b-128;if(d!==0){this.pushMapState(d);this.complete();continue DECODE}else c={}}else if(b<160){d=b-144;if(d!==0){this.pushArrayState(d);this.complete();continue DECODE}else c=[]}else{d=b-160;c=this.decodeUtf8String(d,0)}else if(b===192)c=null;else if(b===194)c=!1;else if(b===195)c=!0;else if(b===202)c=this.readF32();else if(b===203)c=this.readF64();else if(b===204)c=this.readU8();else if(b===205)c=this.readU16();else if(b===206)c=this.readU32();else if(b===207)c=this.readU64();else if(b===208)c=this.readI8();else if(b===209)c=this.readI16();else if(b===210)c=this.readI32();else if(b===211)c=this.readI64();else if(b===217){d=this.lookU8();c=this.decodeUtf8String(d,1)}else if(b===218){d=this.lookU16();c=this.decodeUtf8String(d,2)}else if(b===219){d=this.lookU32();c=this.decodeUtf8String(d,4)}else if(b===220){d=this.readU16();if(d!==0){this.pushArrayState(d);this.complete();continue DECODE}else c=[]}else if(b===221){d=this.readU32();if(d!==0){this.pushArrayState(d);this.complete();continue DECODE}else c=[]}else if(b===222){d=this.readU16();if(d!==0){this.pushMapState(d);this.complete();continue DECODE}else c={}}else if(b===223){d=this.readU32();if(d!==0){this.pushMapState(d);this.complete();continue DECODE}else c={}}else if(b===196){d=this.lookU8();c=this.decodeBinary(d,1)}else if(b===197){d=this.lookU16();c=this.decodeBinary(d,2)}else if(b===198){d=this.lookU32();c=this.decodeBinary(d,4)}else if(b===212)c=this.decodeExtension(1,0);else if(b===213)c=this.decodeExtension(2,0);else if(b===214)c=this.decodeExtension(4,0);else if(b===215)c=this.decodeExtension(8,0);else if(b===216)c=this.decodeExtension(16,0);else if(b===199){d=this.lookU8();c=this.decodeExtension(d,1)}else if(b===200){d=this.lookU16();c=this.decodeExtension(d,2)}else if(b===201){d=this.lookU32();c=this.decodeExtension(d,4)}else throw new g.DecodeError("Unrecognized type byte: "+a.prettyByte(b));this.complete();d=this.stack;while(d.length>0){b=d[d.length-1];if(b.type===0){b.array[b.position]=c;b.position++;if(b.position===b.size)d.pop(),c=b.array;else continue DECODE}else if(b.type===1){if(!h(c))throw new g.DecodeError("The type of key must be string or number but "+typeof c);if(c==="__proto__")throw new g.DecodeError("The key __proto__ is not allowed");b.key=c;b.type=2;continue DECODE}else{b.map[b.key]=c;b.readCount++;if(b.readCount===b.size)d.pop(),c=b.map;else{b.key=null;b.type=1;continue DECODE}}}return c}};k.readHeadByte=function(){this.headByte===i&&(this.headByte=this.readU8());return this.headByte};k.complete=function(){this.headByte=i};k.readArraySize=function(){var b=this.readHeadByte();switch(b){case 220:return this.readU16();case 221:return this.readU32();default:if(b<160)return b-144;else throw new g.DecodeError("Unrecognized array type byte: "+a.prettyByte(b))}};k.pushMapState=function(a){if(a>this.maxMapLength)throw new g.DecodeError("Max length exceeded: map length ("+a+") > maxMapLengthLength ("+this.maxMapLength+")");this.stack.push({type:1,size:a,key:null,readCount:0,map:{}})};k.pushArrayState=function(a){if(a>this.maxArrayLength)throw new g.DecodeError("Max length exceeded: array length ("+a+") > maxArrayLength ("+this.maxArrayLength+")");this.stack.push({type:0,size:a,array:new Array(a),position:0})};k.decodeUtf8String=function(a,b){var c;if(a>this.maxStrLength)throw new g.DecodeError("Max length exceeded: UTF-8 byte length ("+a+") > maxStrLength ("+this.maxStrLength+")");if(this.bytes.byteLength<this.pos+b+a)throw m;var e=this.pos+b;this.stateIsMapKey()&&((c=this.keyDecoder)===null||c===void 0?void 0:c.canBeCached(a))?c=this.keyDecoder.decode(this.bytes,e,a):a>d.TEXT_DECODER_THRESHOLD?c=d.utf8DecodeTD(this.bytes,e,a):c=d.utf8DecodeJs(this.bytes,e,a);this.pos+=b+a;return c};k.stateIsMapKey=function(){if(this.stack.length>0){var a=this.stack[this.stack.length-1];return a.type===1}return!1};k.decodeBinary=function(a,b){if(a>this.maxBinLength)throw new g.DecodeError("Max length exceeded: bin length ("+a+") > maxBinLength ("+this.maxBinLength+")");if(!this.hasRemaining(a+b))throw m;var c=this.pos+b;c=this.bytes.subarray(c,c+a);this.pos+=b+a;return c};k.decodeExtension=function(a,b){if(a>this.maxExtLength)throw new g.DecodeError("Max length exceeded: ext length ("+a+") > maxExtLength ("+this.maxExtLength+")");var c=this.view.getInt8(this.pos+b);a=this.decodeBinary(a,b+1);return this.extensionCodec.decode(a,c,this.context)};k.lookU8=function(){return this.view.getUint8(this.pos)};k.lookU16=function(){return this.view.getUint16(this.pos)};k.lookU32=function(){return this.view.getUint32(this.pos)};k.readU8=function(){var a=this.view.getUint8(this.pos);this.pos++;return a};k.readI8=function(){var a=this.view.getInt8(this.pos);this.pos++;return a};k.readU16=function(){var a=this.view.getUint16(this.pos);this.pos+=2;return a};k.readI16=function(){var a=this.view.getInt16(this.pos);this.pos+=2;return a};k.readU32=function(){var a=this.view.getUint32(this.pos);this.pos+=4;return a};k.readI32=function(){var a=this.view.getInt32(this.pos);this.pos+=4;return a};k.readU64=function(){var a=c.getUint64(this.view,this.pos);this.pos+=8;return a};k.readI64=function(){var a=c.getInt64(this.view,this.pos);this.pos+=8;return a};k.readF32=function(){var a=this.view.getFloat32(this.pos);this.pos+=4;return a};k.readF64=function(){var a=this.view.getFloat64(this.pos);this.pos+=8;return a};return f}();P.Decoder=f}var Q=!1;function R(){Q||(Q=!0,va());return ua.exports}var S={},wa={exports:S};function xa(){Object.defineProperty(S,"__esModule",{value:!0});S.decodeMulti=S.decode=S.defaultDecodeOptions=void 0;var a=R();S.defaultDecodeOptions={};function b(b,c){c===void 0&&(c=S.defaultDecodeOptions);c=new a.Decoder(c.extensionCodec,c.context,c.maxStrLength,c.maxBinLength,c.maxArrayLength,c.maxMapLength,c.maxExtLength);return c.decode(b)}S.decode=b;function c(b,c){c===void 0&&(c=S.defaultDecodeOptions);c=new a.Decoder(c.extensionCodec,c.context,c.maxStrLength,c.maxBinLength,c.maxArrayLength,c.maxMapLength,c.maxExtLength);return c.decodeMulti(b)}S.decodeMulti=c}var T=!1;function U(){T||(T=!0,xa());return wa.exports}var V={},ya={exports:V};function za(){Object.defineProperty(V,"__esModule",{value:!0});V.ensureAsyncIterable=V.asyncIterableFromStream=V.isAsyncIterable=void 0;function a(a){return a[typeof Symbol==="function"?Symbol.asyncIterator:"@@asyncIterator"]!=null}V.isAsyncIterable=a;function b(a){if(a==null)throw new Error("Assertion Failure: value must not be null nor undefined")}function c(a){return d.apply(this,arguments)}function d(){d=babelHelpers.wrapAsyncGenerator(function*(a){a=a.getReader();try{while(!0){var c=(yield babelHelpers.awaitAsyncGenerator(a.read())),d=c.done;c=c.value;if(d)return;b(c);yield c}}finally{a.releaseLock()}});return d.apply(this,arguments)}V.asyncIterableFromStream=c;function e(b){if(a(b))return b;else return c(b)}V.ensureAsyncIterable=e}var W=!1;function Aa(){W||(W=!0,za());return ya.exports}var X={},Ba={exports:X};function Ca(){Object.defineProperty(X,"__esModule",{value:!0});X.decodeStream=X.decodeMultiStream=X.decodeArrayStream=X.decodeAsync=void 0;var a=R(),b=Aa(),c=U();async function d(d,e){e===void 0&&(e=c.defaultDecodeOptions);d=b.ensureAsyncIterable(d);e=new a.Decoder(e.extensionCodec,e.context,e.maxStrLength,e.maxBinLength,e.maxArrayLength,e.maxMapLength,e.maxExtLength);return e.decodeAsync(d)}X.decodeAsync=d;function e(d,e){e===void 0&&(e=c.defaultDecodeOptions);d=b.ensureAsyncIterable(d);e=new a.Decoder(e.extensionCodec,e.context,e.maxStrLength,e.maxBinLength,e.maxArrayLength,e.maxMapLength,e.maxExtLength);return e.decodeArrayStream(d)}X.decodeArrayStream=e;function f(d,e){e===void 0&&(e=c.defaultDecodeOptions);d=b.ensureAsyncIterable(d);e=new a.Decoder(e.extensionCodec,e.context,e.maxStrLength,e.maxBinLength,e.maxArrayLength,e.maxMapLength,e.maxExtLength);return e.decodeStream(d)}X.decodeMultiStream=f;function g(a,b){b===void 0&&(b=c.defaultDecodeOptions);return f(a,b)}X.decodeStream=g}var Y=!1;function Da(){Y||(Y=!0,Ca());return Ba.exports}var Z={},Ea={exports:Z};function Fa(){Object.defineProperty(Z,"__esModule",{value:!0});Z.decodeTimestampExtension=Z.encodeTimestampExtension=Z.decodeTimestampToTimeSpec=Z.encodeTimeSpecToTimestamp=Z.encodeDateToTimeSpec=Z.EXT_TIMESTAMP=Z.ExtData=Z.ExtensionCodec=Z.Encoder=Z.DataViewIndexOutOfBoundsError=Z.DecodeError=Z.Decoder=Z.decodeStream=Z.decodeMultiStream=Z.decodeArrayStream=Z.decodeAsync=Z.decodeMulti=Z.decode=Z.encode=void 0;var a=na();Object.defineProperty(Z,"encode",{enumerable:!0,get:function(){return a.encode}});var b=U();Object.defineProperty(Z,"decode",{enumerable:!0,get:function(){return b.decode}});Object.defineProperty(Z,"decodeMulti",{enumerable:!0,get:function(){return b.decodeMulti}});var c=Da();Object.defineProperty(Z,"decodeAsync",{enumerable:!0,get:function(){return c.decodeAsync}});Object.defineProperty(Z,"decodeArrayStream",{enumerable:!0,get:function(){return c.decodeArrayStream}});Object.defineProperty(Z,"decodeMultiStream",{enumerable:!0,get:function(){return c.decodeMultiStream}});Object.defineProperty(Z,"decodeStream",{enumerable:!0,get:function(){return c.decodeStream}});var d=R();Object.defineProperty(Z,"Decoder",{enumerable:!0,get:function(){return d.Decoder}});Object.defineProperty(Z,"DataViewIndexOutOfBoundsError",{enumerable:!0,get:function(){return d.DataViewIndexOutOfBoundsError}});var e=w();Object.defineProperty(Z,"DecodeError",{enumerable:!0,get:function(){return e.DecodeError}});var f=I();Object.defineProperty(Z,"Encoder",{enumerable:!0,get:function(){return f.Encoder}});var g=C();Object.defineProperty(Z,"ExtensionCodec",{enumerable:!0,get:function(){return g.ExtensionCodec}});var h=t();Object.defineProperty(Z,"ExtData",{enumerable:!0,get:function(){return h.ExtData}});var i=z();Object.defineProperty(Z,"EXT_TIMESTAMP",{enumerable:!0,get:function(){return i.EXT_TIMESTAMP}});Object.defineProperty(Z,"encodeDateToTimeSpec",{enumerable:!0,get:function(){return i.encodeDateToTimeSpec}});Object.defineProperty(Z,"encodeTimeSpecToTimestamp",{enumerable:!0,get:function(){return i.encodeTimeSpecToTimestamp}});Object.defineProperty(Z,"decodeTimestampToTimeSpec",{enumerable:!0,get:function(){return i.decodeTimestampToTimeSpec}});Object.defineProperty(Z,"encodeTimestampExtension",{enumerable:!0,get:function(){return i.encodeTimestampExtension}});Object.defineProperty(Z,"decodeTimestampExtension",{enumerable:!0,get:function(){return i.decodeTimestampExtension}})}var $=!1;function Ga(){$||($=!0,Fa());return Ea.exports}function a(a){switch(a){case void 0:return Ga()}}e.exports=a}),null);
__d("msgpack-msgpack",["msgpack-msgpack-2.8.0"],(function(a,b,c,d,e,f){e.exports=b("msgpack-msgpack-2.8.0")()}),null);/*FB_PKG_DELIM*/
__d("RelayFBConsoleLog",["cr:1121434"],(function(a,b,c,d,e,f,g){"use strict";a=b("cr:1121434")!=null?b("cr:1121434")():null;c=a;g["default"]=c}),98);
__d("RelayFBScheduler",[],(function(a,b,c,d,e,f){"use strict";a={cancel:function(){},schedule:function(a){a();return""}};b=a;f["default"]=b}),66);
__d("liveQueryFetchWithWWWInitialWrapper",["JSResource","RelayRuntime","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,e,f){return e.config_id!=null?d("RelayRuntime").Observable.create(function(d){var g;c("promiseDone")(c("JSResource")("liveQueryFetchWithWWWInitial").__setRef("liveQueryFetchWithWWWInitialWrapper").load().then(function(c){c=c(a,b,e,f);g=c.subscribe(d)})["catch"](function(a){return d.error(a)}));return function(){g&&g.unsubscribe()}}):f}g["default"]=a}),98);
__d("RelayFBEnvironmentDefinitions",["RelayFBConsoleLog","RelayFBEnvironmentActorID","RelayFBGCScheduler","RelayFBHandlerProvider","RelayFBOperationLoader","RelayFBScheduler","RelayFieldLogger","createRelayFBNetwork","createRelayFBNetworkFetch","createRelayFBSubscribeFunction","getRelayFBMissingFieldHandlers","liveQueryFetchWithWWWInitialWrapper","relay-runtime","relayFBGetDataID"],(function(a,b,c,d,e,f){"use strict";var g=b("RelayFBEnvironmentActorID").getActorID,h=(c=b("relay-runtime")).Environment,i=c.QueryResponseCache,j=c.RecordSource,k=c.Store;function l(a){var c,d,e=a.actorID,f=a.handlerProvider;f=f===void 0?b("RelayFBHandlerProvider"):f;var g=a.log;c=g===void 0?(c=a.log)!=null?c:b("RelayFBConsoleLog"):g;g=a.missingFieldHandlers;g=g===void 0?b("getRelayFBMissingFieldHandlers")():g;var l=a.operationLoader;l=l===void 0?b("RelayFBOperationLoader"):l;var m=a.store;d=m===void 0?new k(new j(),{getDataID:(d=a.getDataID)!=null?d:b("relayFBGetDataID"),gcReleaseBufferSize:10,gcScheduler:b("RelayFBGCScheduler"),operationLoader:b("RelayFBOperationLoader"),queryCacheExpirationTime:5*60*1e3,log:c}):m;m=a.relayFieldLogger;m=m===void 0?b("RelayFieldLogger").create():m;var n=a.scheduler;n=n===void 0?b("RelayFBScheduler"):n;var o=a.getDataID;o=o===void 0?b("relayFBGetDataID"):o;a=babelHelpers.objectWithoutPropertiesLoose(a,["actorID","handlerProvider","log","missingFieldHandlers","operationLoader","store","relayFieldLogger","scheduler","getDataID"]);var p={actorID:e};if(a.network)return new h(babelHelpers["extends"]({},a,{handlerProvider:f,log:c,missingFieldHandlers:g,operationLoader:l,store:d,options:p,relayFieldLogger:m,scheduler:n,getDataID:o}));else{var q,r,s=a.networkConfig;a=babelHelpers.objectWithoutPropertiesLoose(a,["networkConfig"]);q=(q=s==null?void 0:s.queryResponseCache)!=null?q:new i({size:10,ttl:5*60*1e3});r=(r=s==null?void 0:s.liveQueryFetchWithWWWInitialFn)!=null?r:b("liveQueryFetchWithWWWInitialWrapper");s=b("createRelayFBNetwork")(b("createRelayFBNetworkFetch")(babelHelpers["extends"]({},s,{liveQueryFetchWithWWWInitialFn:r,queryResponseCache:q,actorID:e})),b("createRelayFBSubscribeFunction")({queryResponseCache:q,actorID:e}));return new h(babelHelpers["extends"]({},a,{handlerProvider:f,log:c,missingFieldHandlers:g,operationLoader:l,store:d,network:s,options:p,relayFieldLogger:m,scheduler:n,getDataID:o}))}}function a(a){var b=new Map();return{getForActorID:function(c,d){var e;e=c+((e=d)!=null?e:"");var f=b.get(e);f||(f=l(a(c,d)),b.set(e,f));return f},commitLocalUpdateForEachEnvironment:function(a){var c=function(b){var c=b[1];c.commitUpdate(function(b){a(g(c),c,b)})};for(var d of b)c(d)}}}e.exports={createEnvironment:l,createEnvironmentFactory:a}}),null);
__d("RelayFBEnvironmentFactory",["RelayFBEnvironmentDefinitions"],(function(a,b,c,d,e,f){"use strict";a=b("RelayFBEnvironmentDefinitions").createEnvironmentFactory;e.exports=a(function(a){return{configName:"RelayFBEnvironment",actorID:a}})}),null);
__d("react-relay/ReactRelayContainerUtils",[],(function(a,b,c,d,e,f){"use strict";function g(a){return a.displayName||a.name||"Component"}function a(a){return"Relay("+g(a)+")"}e.exports={getComponentName:g,getContainerName:a}}),null);
__d("react-relay/isRelayEnvironment",[],(function(a,b,c,d,e,f){"use strict";function a(a){return typeof a==="object"&&a!==null&&typeof a.check==="function"&&typeof a.lookup==="function"&&typeof a.retain==="function"&&typeof a.execute==="function"&&typeof a.subscribe==="function"}e.exports=a}),null);
__d("react-relay/RelayContext",["invariant","react-relay/isRelayEnvironment"],(function(a,b,c,d,e,f,g){"use strict";function a(a){h(a)||g(0,6172,a);return a}function h(a){return typeof a==="object"&&a!==null&&!Array.isArray(a)&&b("react-relay/isRelayEnvironment")(a.environment)}e.exports={assertRelayContext:a,isRelayContext:h}}),null);
__d("react-relay/ReactRelayQueryRendererContext",["react"],(function(a,b,c,d,e,f){"use strict";var g;a=g||b("react");e.exports=a.createContext({rootIsQueryRenderer:!1})}),null);
__d("react-relay/buildReactRelayContainer",["invariant","react","react-relay/ReactRelayContainerUtils","react-relay/ReactRelayContext","react-relay/ReactRelayQueryRendererContext","react-relay/assertFragmentMap","relay-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=b("react-relay/ReactRelayContainerUtils").getComponentName,j=b("react-relay/ReactRelayContainerUtils").getContainerName,k=h||(h=b("react")),l=b("relay-runtime").getFragment,m=k.useContext;function a(a,c,d){var f=j(a);b("react-relay/assertFragmentMap")(i(a),c);var h={};for(var n in c)h[n]=l(c[n]);var o=d(a,h);o.displayName=f;function p(a,c){var d=m(b("react-relay/ReactRelayContext"));d!=null||g(0,18241,f,f);var e=m(b("react-relay/ReactRelayQueryRendererContext"));return k.jsx(o,babelHelpers["extends"]({},a,{__relayContext:d,__rootIsQueryRenderer:(d=e==null?void 0:e.rootIsQueryRenderer)!=null?d:!1,componentRef:a.componentRef||c}))}p.displayName=p.name+" [from "+e.id+"]";p.displayName=f;c=k.forwardRef(p);return c}e.exports=a}),null);
__d("react-relay/ReactRelayFragmentContainer",["areEqual","react","react-relay/ReactRelayContainerUtils","react-relay/RelayContext","react-relay/buildReactRelayContainer","relay-runtime"],(function(a,b,c,d,e,f){"use strict";var g,h,i=b("react-relay/ReactRelayContainerUtils").getContainerName,j=b("react-relay/RelayContext").assertRelayContext,k=g||(g=b("react")),l=b("relay-runtime").createFragmentSpecResolver,m=b("relay-runtime").getDataIDsFromObject,n=b("relay-runtime").isScalarAndEqual;function o(a,c){var d,e,f=i(a);return e=d=function(d){babelHelpers.inheritsLoose(e,d);function e(a){var b,e;e=d.call(this,a)||this;e.$3=function(){var a=e.state.resolver;e.setState(function(b){return a===b.resolver?{data:b.resolver.resolve(),relayProp:p(b.relayProp.environment)}:null})};var g=j(a.__relayContext);b=(b=a.__rootIsQueryRenderer)!=null?b:!1;b=l(g,f,c,a,b);e.state={data:b.resolve(),prevProps:a,prevPropsContext:g,relayProp:p(g.environment),resolver:b};return e}e.getDerivedStateFromProps=function(a,d){var e,g=d.prevProps,i=j(a.__relayContext);e=(e=a.__rootIsQueryRenderer)!=null?e:!1;g=m(c,g);var k=m(c,a),n=d.resolver;if(d.prevPropsContext.environment!==i.environment||!(h||(h=b("areEqual")))(g,k)){n=l(i,f,c,a,e);return{data:n.resolve(),prevPropsContext:i,prevProps:a,relayProp:p(i.environment),resolver:n}}else{n.setProps(a);g=n.resolve();if(g!==d.data)return{data:g,prevProps:a,prevPropsContext:i,relayProp:p(i.environment)}}return null};var g=e.prototype;g.componentDidMount=function(){this.$1()};g.componentDidUpdate=function(a,b){this.state.resolver!==b.resolver?(b.resolver.dispose(),this.$1()):this.$2()};g.componentWillUnmount=function(){this.state.resolver.dispose()};g.shouldComponentUpdate=function(a,b){if(b.data!==this.state.data)return!0;var d=Object.keys(a);for(var e=0;e<d.length;e++){var f=d[e];if(f==="__relayContext"){if(b.prevPropsContext.environment!==this.state.prevPropsContext.environment)return!0}else if(!Object.prototype.hasOwnProperty.call(c,f)&&!n(a[f],this.props[f]))return!0}return!1};g.$2=function(){var a=this.state,b=a.data;a=a.resolver;a=a.resolve();b!==a&&this.setState({data:a})};g.$1=function(){var a=this.state,b=a.data;a=a.resolver;var c=a.resolve();a.setCallback(this.props,this.$3);b!==c&&this.setState({data:c})};g.render=function(){var b=this.props,c=b.componentRef;b.__relayContext;b.__rootIsQueryRenderer;b=babelHelpers.objectWithoutPropertiesLoose(b,["componentRef","__relayContext","__rootIsQueryRenderer"]);return k.jsx(a,babelHelpers["extends"]({},b,this.state.data,{ref:c,relay:this.state.relayProp}))};return e}(k.Component),d.displayName=f,e}function p(a){return{environment:a}}function a(a,c){return b("react-relay/buildReactRelayContainer")(a,c,o)}e.exports={createContainer:a}}),null);
__d("react-relay/ReactRelayLocalQueryRenderer",["areEqual","react","react-relay/ReactRelayContext","react-relay/ReactRelayQueryRendererContext","relay-runtime"],(function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react"),j=b("relay-runtime").createOperationDescriptor;c=b("relay-runtime").deepFreeze;var k=b("relay-runtime").getRequest,l=i.useLayoutEffect,m=i.useState,n=i.useRef,o=i.useMemo,p={rootIsQueryRenderer:!0};function q(a){var c=i.useRef(a);(h||(h=b("areEqual")))(c.current,a)||(c.current=a);return c.current}function a(a){var c=a.environment,d=a.query,e=a.variables;a=a.render;var f=q(e),g=o(function(){var a=k(d);return j(a,f)},[d,f]);e=o(function(){return{environment:c}},[c]);var h=n(null),r=m(null),s=r[1],t=n(null);r=o(function(){c.check(g);var a=c.lookup(g.fragment);h.current=a.data;var b=c.retain(g),d=c.subscribe(a,function(a){h.current=a.data,s(h.current)}),e=!1;function f(){e||(e=!0,t.current=null,b.dispose(),d.dispose())}t.current&&t.current();t.current=f;return a},[c,g]);l(function(){var a=t.current;return function(){a&&a()}},[r]);return i.jsx(b("react-relay/ReactRelayContext").Provider,{value:e,children:i.jsx(b("react-relay/ReactRelayQueryRendererContext").Provider,{value:p,children:a({props:h.current})})})}a.displayName=a.name+" [from "+e.id+"]";e.exports=a}),null);
__d("react-relay/ReactRelayQueryFetcher",["invariant","relay-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h=b("relay-runtime").__internal.fetchQuery,i=b("relay-runtime").createOperationDescriptor,j=b("relay-runtime").isRelayModernEnvironment;a=function(){function a(a){this.$4=[],this.$8=!1,a!=null&&(this.$7=a.cacheSelectionReference,this.$4=a.selectionReferences)}var b=a.prototype;b.getSelectionReferences=function(){return{cacheSelectionReference:this.$7,selectionReferences:this.$4}};b.lookupInStore=function(a,b,c){if((c==="store-and-network"||c==="store-or-network")&&a.check(b).status==="available"){this.$9(a,b);return a.lookup(b.fragment)}return null};b.getFetchResult=function(){if(this.$8){if(this.$6!=null)return{error:this.$6};else if(this.$5!=null)return{snapshot:this.$5}}else return null};b.execute=function(a){var b=this,c=a.environment,d=a.operation;a=a.preservePreviousReferences;var e=a===void 0?!1:a,f=c.retain(d);a=function(){b.$4=b.$4.concat(f)};var g=function(){e||b.disposeSelectionReferences(),b.$4=b.$4.concat(f)},i=function(){b.$4=b.$4.concat(f)};return!j(c)?c.execute({operation:d})["do"]({error:a,complete:g,unsubscribe:i}):h(c,d)["do"]({error:a,complete:g,unsubscribe:i})};b.setOnDataChange=function(a){this.$1||g(0,4542),typeof a==="function"&&(this.$1.onDataChangeCallbacks=this.$1.onDataChangeCallbacks||[],this.$1.onDataChangeCallbacks.push(a),this.$8&&(this.$6!=null?a({error:this.$6}):this.$5!=null&&a({snapshot:this.$5})))};b.fetch=function(a,b){var c=this,d=a.environment,e=a.operation;a=a.onDataChange;var f=!1,g;this.disposeRequest();var h=this.$1&&this.$1.onDataChangeCallbacks;this.$1={environment:d,onDataChangeCallbacks:h||[],operation:e};a&&this.$1.onDataChangeCallbacks.indexOf(a)===-1&&this.$1.onDataChangeCallbacks.push(a);h=b?i(e.request.node,e.request.variables,b):e;var j=this.execute({environment:d,operation:h})["finally"](function(){c.$2=null}).subscribe({next:function(){c.$8=!0,c.$6=null,c.$10({notifyFirstResult:f})},error:function(a){c.$8=!0;c.$6=a;c.$5=null;var b=c.$1&&c.$1.onDataChangeCallbacks;f?b&&b.forEach(function(b){b({error:a})}):g=a}});this.$2={dispose:function(){j.unsubscribe()}};f=!0;if(g)throw g;return this.$5};b.retry=function(a){this.$1||g(0,4543);return this.fetch({environment:this.$1.environment,operation:this.$1.operation,onDataChange:null},a)};b.dispose=function(){this.disposeRequest(),this.disposeSelectionReferences()};b.disposeRequest=function(){this.$6=null,this.$5=null,this.$2&&this.$2.dispose(),this.$3&&(this.$3.dispose(),this.$3=null)};b.$9=function(a,b){this.$11(),this.$7=a.retain(b)};b.$11=function(){this.$7&&this.$7.dispose(),this.$7=null};b.disposeSelectionReferences=function(){this.$11(),this.$4.forEach(function(a){return a.dispose()}),this.$4=[]};b.$10=function(a){var b=this;a=a.notifyFirstResult;this.$1||g(0,4544);var c=this.$1,d=c.environment,e=c.onDataChangeCallbacks;c=c.operation;if(this.$5)return;this.$5=d.lookup(c.fragment);this.$3=d.subscribe(this.$5,function(a){if(b.$1!=null){var c=b.$1.onDataChangeCallbacks;Array.isArray(c)&&c.forEach(function(b){return b({snapshot:a})})}});if(this.$5&&a&&Array.isArray(e)){var f=this.$5;e.forEach(function(a){return a({snapshot:f})})}};return a}();e.exports=a}),null);
__d("react-relay/getRootVariablesForFragments",["relay-runtime"],(function(a,b,c,d,e,f){"use strict";var g=b("relay-runtime").getSelector;function a(a,b){var c={};Object.keys(a).forEach(function(d){var e=a[d];d=b[d];e=g(e,d);e=e!=null&&e.kind==="PluralReaderSelector"?(d=(d=e.selectors[0])==null?void 0:d.owner.variables)!=null?d:{}:(d=e==null?void 0:e.owner.variables)!=null?d:{};c=babelHelpers["extends"]({},c,e)});return c}e.exports=a}),null);
__d("react-relay/ReactRelayPaginationContainer",["invariant","areEqual","react","react-relay/ReactRelayContainerUtils","react-relay/ReactRelayContext","react-relay/ReactRelayQueryFetcher","react-relay/RelayContext","react-relay/buildReactRelayContainer","react-relay/getRootVariablesForFragments","relay-runtime","warning"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=b("react-relay/ReactRelayContainerUtils").getComponentName,k=b("react-relay/ReactRelayContainerUtils").getContainerName,l=b("react-relay/RelayContext").assertRelayContext,m=h||(h=b("react")),n=b("relay-runtime").ConnectionInterface,o=b("relay-runtime").Observable,p=b("relay-runtime").RelayFeatureFlags,q=b("relay-runtime").createFragmentSpecResolver,r=b("relay-runtime").createOperationDescriptor,s=b("relay-runtime").getDataIDsFromObject,t=b("relay-runtime").getRequest,u=b("relay-runtime").getVariablesFromObject,v=b("relay-runtime").isScalarAndEqual,w="forward";function x(a){var b=a.path;b||g(0,1219);return function(c){c=c[a.fragmentName];for(var d=0;d<b.length;d++){if(!c||typeof c!=="object")return null;c=c[b[d]]}return c}}function y(a){var b=a.count;b||g(0,1220);return function(a,c){return babelHelpers["extends"]({},a,(a={},a[b]=c,a))}}function z(a){var b=null,c=!1;for(var d in a){var e=a[d],f=e.metadata&&e.metadata.connection;e.metadata!==void 0&&(c=!0);f&&(f.length===1||g(0,1221,d,f.length),b&&g(0,1222),b=babelHelpers["extends"]({},f[0],{fragmentName:d}))}!c||b!==null||g(0,1223);return b||{}}function A(a){return typeof a==="function"?{error:a,complete:a,unsubscribe:function(b){typeof a==="function"&&a()}}:a||{}}function B(a,c,d){var e,f=j(a),h=k(a),B=z(c),C=d.getConnectionFromProps||x(B),D=d.direction||B.direction;D||g(0,1224);var E=d.getFragmentVariables||y(B);return e=B=function(e){babelHelpers.inheritsLoose(j,e);function j(a){var d,f;f=e.call(this,a)||this;f.$8=function(){f.setState({data:f.$4.resolve()})};f.$13=function(){var a=f.$17();return!!(a&&a.hasMore&&a.cursor)};f.$14=function(){return!!f.$2};f.$16=function(a,b,c){if(!f.$18("refetchConnection"))return{dispose:function(){}};f.$3=c;c={count:a,cursor:null,totalCount:a};a=f.$19(c,A(b),{force:!0});return{dispose:a.unsubscribe}};f.$15=function(a,c,d){if(!f.$18("loadMore"))return{dispose:function(){}};var e=A(c),g=f.$17();if(!g){o.create(function(a){return a.complete()}).subscribe(e);return null}var h=g.edgeCount+a;if(d&&d.force)return f.$16(h,c);c=n.get();var i=c.END_CURSOR;c=c.START_CURSOR;g=g.cursor;b("warning")(g!=null&&g!=="","ReactRelayPaginationContainer: Cannot `loadMore` without valid `%s` (got `%s`)",D===w?i:c,g);i={count:a,cursor:g,totalCount:h};c=f.$19(i,e,d);return{dispose:c.unsubscribe}};var g=l(a.__relayContext);d=(d=a.__rootIsQueryRenderer)!=null?d:!1;f.$1=!1;f.$2=null;f.$3=null;p.ENABLE_CONTAINERS_SUBSCRIBE_ON_COMMIT===!0?f.$4=q(g,h,c,a,d):f.$4=q(g,h,c,a,d,f.$8);f.state={data:f.$4.resolve(),prevContext:g,contextForChildren:g,relayProp:f.$9(g),resolverGeneration:0};f.$6=!1;f.$7=!1;return f}var k=j.prototype;k.componentDidMount=function(){this.$6=!1,p.ENABLE_CONTAINERS_SUBSCRIBE_ON_COMMIT===!0&&this.$10()};k.componentDidUpdate=function(a,b){p.ENABLE_CONTAINERS_SUBSCRIBE_ON_COMMIT===!0&&(b.resolverGeneration!==this.state.resolverGeneration?this.$10():this.$11())};k.UNSAFE_componentWillReceiveProps=function(a){var d,e=this,f=l(a.__relayContext);d=(d=a.__rootIsQueryRenderer)!=null?d:!1;var g=s(c,this.props),j=s(c,a),k=b("react-relay/getRootVariablesForFragments")(c,this.props),m=b("react-relay/getRootVariablesForFragments")(c,a);f.environment!==this.state.prevContext.environment||!(i||(i=b("areEqual")))(k,m)||!(i||(i=b("areEqual")))(g,j)?(this.$12(),p.ENABLE_CONTAINERS_SUBSCRIBE_ON_COMMIT===!0?this.$4=q(f,h,c,a,d):this.$4=q(f,h,c,a,d,this.$8),this.setState(function(a){return{prevContext:f,contextForChildren:f,relayProp:e.$9(f),resolverGeneration:a.resolverGeneration+1}})):this.$7||this.$4.setProps(a);k=this.$4.resolve();k!==this.state.data&&this.setState({data:k})};k.componentWillUnmount=function(){this.$6=!0,this.$12()};k.shouldComponentUpdate=function(a,b){if(b.data!==this.state.data||b.relayProp!==this.state.relayProp||b.resolverGeneration!==this.state.resolverGeneration)return!0;var d=Object.keys(a);for(var e=0;e<d.length;e++){var f=d[e];if(f==="__relayContext"){if(b.prevContext.environment!==this.state.prevContext.environment)return!0}else if(!Object.prototype.hasOwnProperty.call(c,f)&&!v(a[f],this.props[f]))return!0}return!1};k.$9=function(a){return{hasMore:this.$13,isLoading:this.$14,loadMore:this.$15,refetchConnection:this.$16,environment:a.environment}};k.$11=function(){var a=this.state.data,b=this.$4.resolve();a!==b&&this.setState({data:b})};k.$10=function(){var a=this.state.data,b=this.$4.resolve();this.$4.setCallback(this.props,this.$8);a!==b&&this.setState({data:b})};k.$17=function(){var a=this.props;a.componentRef;a=babelHelpers.objectWithoutPropertiesLoose(a,["componentRef"]);a=babelHelpers["extends"]({},a,this.state.data);a=C(a);if(a==null)return null;var c=n.get(),d=c.EDGES,e=c.PAGE_INFO,h=c.HAS_NEXT_PAGE,i=c.HAS_PREV_PAGE,j=c.END_CURSOR;c=c.START_CURSOR;typeof a==="object"||g(0,1225,f,d,e,a);var k=a[d];a=a[e];if(k==null||a==null)return null;Array.isArray(k)||g(0,1226,f,d,k);typeof a==="object"||g(0,1227,f,e,a);d=D===w?a[h]:a[i];a=D===w?a[j]:a[c];if(typeof d!=="boolean"||k.length!==0&&typeof a==="undefined"){b("warning")(!1,"ReactRelayPaginationContainer: Cannot paginate without %s fields in `%s`. Be sure to fetch %s (got `%s`) and %s (got `%s`).",e,f,D===w?h:i,d,D===w?j:c,a);return null}return{cursor:a,edgeCount:k.length,hasMore:d}};k.$20=function(){this.$5||(this.$5=new(b("react-relay/ReactRelayQueryFetcher"))());return this.$5};k.$18=function(a){if(this.$6){b("warning")(!1,"ReactRelayPaginationContainer: Unexpected call of `%s` on unmounted container `%s`. It looks like some instances of your container still trying to fetch data but they already unmounted. Please make sure you clear all timers, intervals, async calls, etc that may trigger `%s` call.",a,h,a);return!1}return!0};k.$19=function(a,e,h){var j=this,k=l(this.props.__relayContext);k=k.environment;var m=this.props;m.componentRef;m.__relayContext;m.__rootIsQueryRenderer;m=babelHelpers.objectWithoutPropertiesLoose(m,["componentRef","__relayContext","__rootIsQueryRenderer"]);var n=babelHelpers["extends"]({},m,this.state.data),p,q=b("react-relay/getRootVariablesForFragments")(c,m);p=u(c,m);p=babelHelpers["extends"]({},q,p,this.$3);m=d.getVariables(n,{count:a.count,cursor:a.cursor},p);typeof m==="object"&&m!==null||g(0,1228,m,f);m=babelHelpers["extends"]({},m,this.$3);p=babelHelpers["extends"]({},m,p);q=h?{force:!!h.force}:void 0;q!=null&&(h==null?void 0:h.metadata)!=null&&(q.metadata=h==null?void 0:h.metadata);n=t(d.query);var s=r(n,m,q),v=null;this.$2&&this.$2.unsubscribe();this.$7=!0;var w=function(c,d){c=j.$4.resolve();j.$4.setVariables(E(p,a.totalCount),s.request.node);var e=j.$4.resolve();!(i||(i=b("areEqual")))(c,e)?j.setState({data:e,contextForChildren:{environment:j.props.__relayContext.environment}},d):d()};h=function(){j.$2===v&&(j.$2=null,j.$1=!1)};this.$1=!0;v=this.$20().execute({environment:k,operation:s,preservePreviousReferences:!0}).mergeMap(function(a){return o.create(function(b){w(a,function(){b.next(),b.complete()})})})["do"]({error:h,complete:h,unsubscribe:h}).subscribe(e||{});this.$2=this.$1?v:null;return v};k.$12=function(){this.$4.dispose(),this.$3=null,this.$7=!1,this.$2&&(this.$2.unsubscribe(),this.$2=null,this.$1=!1),this.$5&&this.$5.dispose()};k.render=function(){var c=this.props,d=c.componentRef;c.__relayContext;c.__rootIsQueryRenderer;c=babelHelpers.objectWithoutPropertiesLoose(c,["componentRef","__relayContext","__rootIsQueryRenderer"]);return m.jsx(b("react-relay/ReactRelayContext").Provider,{value:this.state.contextForChildren,children:m.jsx(a,babelHelpers["extends"]({},c,this.state.data,{ref:d,relay:this.state.relayProp}))})};return j}(m.Component),B.displayName=h,e}function a(a,c,d){return b("react-relay/buildReactRelayContainer")(a,c,function(a,b){return B(a,b,d)})}e.exports={createContainer:a}}),null);
__d("react-relay/ReactRelayQueryRenderer",["areEqual","react","react-relay/ReactRelayContext","react-relay/ReactRelayQueryFetcher","react-relay/ReactRelayQueryRendererContext","relay-runtime"],(function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react"),j=b("relay-runtime").createOperationDescriptor;a=b("relay-runtime").deepFreeze;var k=b("relay-runtime").getRequest,l={},m={rootIsQueryRenderer:!0};c=function(a){babelHelpers.inheritsLoose(c,a);function c(c){var d;d=a.call(this,c)||this;d.$2=function(a){var b=a.error==null?null:a.error,c=a.snapshot==null?null:a.snapshot;d.setState(function(a){var d=a.requestCacheKey;d&&delete l[d];return c===a.snapshot&&b===a.error?null:{renderProps:p(b,c,a.queryFetcher,a.retryCallbacks),snapshot:c,requestCacheKey:null}})};var e={handleDataChange:null,handleRetryAfterError:null},f;if(c.query){var g=c.query;g=k(g);f=q(g.params,c.variables);g=l[f]?l[f].queryFetcher:new(b("react-relay/ReactRelayQueryFetcher"))()}else g=new(b("react-relay/ReactRelayQueryFetcher"))();d.$1=!1;d.state=babelHelpers["extends"]({prevPropsEnvironment:c.environment,prevPropsVariables:c.variables,prevQuery:c.query,queryFetcher:g,retryCallbacks:e},s(c,g,e,f));return d}c.getDerivedStateFromProps=function(a,c){return c.prevQuery!==a.query||c.prevPropsEnvironment!==a.environment||!(h||(h=b("areEqual")))(c.prevPropsVariables,a.variables)?r(a,c):null};var d=c.prototype;d.componentDidMount=function(){var a=this;if(this.$1===!0){this.$1=!1;this.setState(function(c){c=r(a.props,c);var d=c.requestCacheKey,b=c.queryFetcher;d!=null&&l[d]!=null&&b.setOnDataChange(a.$2);return c});return}var b=this.state,c=b.retryCallbacks,d=b.queryFetcher;b=b.requestCacheKey;b&&delete l[b];c.handleDataChange=this.$2;c.handleRetryAfterError=function(b){return a.setState(function(a){a=a.requestCacheKey;a&&delete l[a];return{renderProps:n(),requestCacheKey:null}})};this.props.query&&d.setOnDataChange(this.$2)};d.componentDidUpdate=function(a,b){a=this.state;var c=a.queryFetcher;a=a.requestCacheKey;a&&(delete l[a],delete this.state.requestCacheKey);this.props.query&&c!==b.queryFetcher&&c.setOnDataChange(this.$2)};d.componentWillUnmount=function(){this.state.queryFetcher.dispose(),this.$1=!0};d.shouldComponentUpdate=function(a,b){return a.render!==this.props.render||b.renderProps!==this.state.renderProps};d.render=function(){var a=this.state,c=a.renderProps;a=a.relayContext;return i.jsx(b("react-relay/ReactRelayContext").Provider,{value:a,children:i.jsx(b("react-relay/ReactRelayQueryRendererContext").Provider,{value:m,children:this.props.render(c)})})};return c}(i.Component);function n(){return{error:null,props:null,retry:null}}function o(){return{error:null,props:{},retry:null}}function p(a,b,c,d){return{error:a?a:null,props:b?b.data:null,retry:function(b){b=c.retry(b);b&&typeof d.handleDataChange==="function"?d.handleDataChange({snapshot:b}):a&&typeof d.handleRetryAfterError==="function"&&d.handleRetryAfterError(a)}}}function q(a,b){return JSON.stringify({id:a.cacheID?a.cacheID:a.id,variables:b})}function r(a,c){var d=a.query,e=c.queryFetcher.getSelectionReferences();c.queryFetcher.disposeRequest();if(d){d=k(d);d=q(d.params,a.variables);d=l[d]?l[d].queryFetcher:new(b("react-relay/ReactRelayQueryFetcher"))(e)}else d=new(b("react-relay/ReactRelayQueryFetcher"))(e);return babelHelpers["extends"]({prevQuery:a.query,prevPropsEnvironment:a.environment,prevPropsVariables:a.variables,queryFetcher:d},s(a,d,c.retryCallbacks))}function s(a,b,c,d){var e=a.environment,f=a.query,g=a.variables,h=a.cacheConfig;e=e;if(f){f=k(f);g=j(f,g,h);h={environment:e};if(typeof d==="string"&&l[d]){var i=l[d].snapshot;if(i)return{error:null,relayContext:h,renderProps:p(null,i,b,c),snapshot:i,requestCacheKey:d};else return{error:null,relayContext:h,renderProps:n(),snapshot:null,requestCacheKey:d}}try{i=b.lookupInStore(e,g,a.fetchPolicy);g=b.fetch({environment:e,onDataChange:null,operation:g});g=g||i;d=d||q(f.params,a.variables);l[d]={queryFetcher:b,snapshot:g};return!g?{error:null,relayContext:h,renderProps:n(),snapshot:null,requestCacheKey:d}:{error:null,relayContext:h,renderProps:p(null,g,b,c),snapshot:g,requestCacheKey:d}}catch(a){return{error:a,relayContext:h,renderProps:p(a,null,b,c),snapshot:null,requestCacheKey:d}}}else{b.dispose();i={environment:e};return{error:null,relayContext:i,renderProps:o(),requestCacheKey:null}}}e.exports=c}),null);
__d("react-relay/ReactRelayRefetchContainer",["areEqual","react","react-relay/ReactRelayContainerUtils","react-relay/ReactRelayContext","react-relay/ReactRelayQueryFetcher","react-relay/RelayContext","react-relay/buildReactRelayContainer","react-relay/getRootVariablesForFragments","relay-runtime","warning"],(function(a,b,c,d,e,f){"use strict";var g,h,i=b("react-relay/ReactRelayContainerUtils").getContainerName,j=b("react-relay/RelayContext").assertRelayContext,k=g||(g=b("react")),l=b("relay-runtime").Observable,m=b("relay-runtime").createFragmentSpecResolver,n=b("relay-runtime").createOperationDescriptor,o=b("relay-runtime").getDataIDsFromObject,p=b("relay-runtime").getRequest,q=b("relay-runtime").getVariablesFromObject,r=b("relay-runtime").isScalarAndEqual;function s(a,c,d){var e,f,g=i(a);return f=e=function(e){babelHelpers.inheritsLoose(f,e);function f(a){var f,h;h=e.call(this,a)||this;h.$7=function(){var a=h.state.resolver;h.setState(function(b){return a===b.resolver?{data:b.resolver.resolve()}:null})};h.$4=function(a,e,f,i){if(h.$3){b("warning")(!1,"ReactRelayRefetchContainer: Unexpected call of `refetch` on unmounted container `%s`. It looks like some instances of your container still trying to refetch the data but they already unmounted. Please make sure you clear all timers, intervals, async calls, etc that may trigger `refetch`.",g);return{dispose:function(){}}}var k=j(h.props.__relayContext);k=k.environment;var m=b("react-relay/getRootVariablesForFragments")(c,h.props);a=typeof a==="function"?a(h.$8()):a;a=babelHelpers["extends"]({},m,a);var o=e?babelHelpers["extends"]({},a,e):a;m=i?{force:!!i.force}:void 0;m!=null&&(i==null?void 0:i.metadata)!=null&&(m.metadata=i==null?void 0:i.metadata);var q=typeof f==="function"?{next:f,error:f}:f||{};e=p(d);var r=n(e,a,m);h.state.localVariables=a;h.$1&&h.$1.unsubscribe();var s;f=h.$9().lookupInStore(k,r,i==null?void 0:i.fetchPolicy);if(f!=null){h.state.resolver.setVariables(o,r.request.node);h.setState(function(a){return{data:a.resolver.resolve(),contextForChildren:{environment:h.props.__relayContext.environment}}},function(){q.next&&q.next(),q.complete&&q.complete()});return{dispose:function(){}}}h.$9().execute({environment:k,operation:r,preservePreviousReferences:!0}).mergeMap(function(a){h.state.resolver.setVariables(o,r.request.node);return l.create(function(a){return h.setState(function(a){return{data:a.resolver.resolve(),contextForChildren:{environment:h.props.__relayContext.environment}}},function(){a.next(),a.complete()})})})["finally"](function(){h.$1===s&&(h.$1=null)}).subscribe(babelHelpers["extends"]({},q,{start:function(a){h.$1=s=a,q.start&&q.start(a)}}));return{dispose:function(){s&&s.unsubscribe()}}};var i=j(a.__relayContext);f=(f=a.__rootIsQueryRenderer)!=null?f:!1;h.$1=null;f=m(i,g,c,a,f);h.state={data:f.resolve(),localVariables:null,prevProps:a,prevPropsContext:i,contextForChildren:i,relayProp:t(i.environment,h.$4),resolver:f};h.$3=!1;return h}var i=f.prototype;i.componentDidMount=function(){this.$3=!1,this.$5()};i.componentDidUpdate=function(a,b){this.state.resolver!==b.resolver?(b.resolver.dispose(),this.$2&&this.$2.dispose(),this.$1&&this.$1.unsubscribe(),this.$5()):this.$6()};f.getDerivedStateFromProps=function(a,d){var e,f=d.prevProps,i=j(a.__relayContext);e=(e=a.__rootIsQueryRenderer)!=null?e:!1;var k=o(c,f),l=o(c,a);f=b("react-relay/getRootVariablesForFragments")(c,f);var n=b("react-relay/getRootVariablesForFragments")(c,a),p=d.resolver;if(d.prevPropsContext.environment!==i.environment||!(h||(h=b("areEqual")))(f,n)||!(h||(h=b("areEqual")))(k,l)){p=m(i,g,c,a,e);return{data:p.resolve(),localVariables:null,prevProps:a,prevPropsContext:i,contextForChildren:i,relayProp:t(i.environment,d.relayProp.refetch),resolver:p}}else d.localVariables||p.setProps(a);f=p.resolve();return f!==d.data?{data:f,prevProps:a}:null};i.componentWillUnmount=function(){this.$3=!0,this.state.resolver.dispose(),this.$2&&this.$2.dispose(),this.$1&&this.$1.unsubscribe()};i.shouldComponentUpdate=function(a,b){if(b.data!==this.state.data||b.relayProp!==this.state.relayProp)return!0;var d=Object.keys(a);for(var e=0;e<d.length;e++){var f=d[e];if(f==="__relayContext"){if(this.state.prevPropsContext.environment!==b.prevPropsContext.environment)return!0}else if(!Object.prototype.hasOwnProperty.call(c,f)&&!r(a[f],this.props[f]))return!0}return!1};i.$6=function(){var a=this.state,b=a.data;a=a.resolver;a=a.resolve();b!==a&&this.setState({data:a})};i.$5=function(){var a=this.state,b=a.data;a=a.resolver;var c=a.resolve();a.setCallback(this.props,this.$7);b!==c&&this.setState({data:c})};i.$8=function(){return q(c,this.props)};i.$9=function(){this.$2||(this.$2=new(b("react-relay/ReactRelayQueryFetcher"))());return this.$2};i.render=function(){var c=this.props,d=c.componentRef;c.__relayContext;c.__rootIsQueryRenderer;c=babelHelpers.objectWithoutPropertiesLoose(c,["componentRef","__relayContext","__rootIsQueryRenderer"]);var e=this.state,f=e.relayProp;e=e.contextForChildren;return k.jsx(b("react-relay/ReactRelayContext").Provider,{value:e,children:k.jsx(a,babelHelpers["extends"]({},c,this.state.data,{ref:d,relay:f}))})};return f}(k.Component),e.displayName=g,f}function t(a,b){return{environment:a,refetch:b}}function a(a,c,d){return b("react-relay/buildReactRelayContainer")(a,c,function(a,b){return s(a,b,d)})}e.exports={createContainer:a}}),null);
__d("RelayModern",["RelayFBEnvironmentDefinitions","RelayFBMutations","RelayFBSubscription","configureRelayForWWW","enqueueMutation","react-relay/ReactRelayContext","react-relay/ReactRelayFragmentContainer","react-relay/ReactRelayLocalQueryRenderer","react-relay/ReactRelayPaginationContainer","react-relay/ReactRelayQueryRenderer","react-relay/ReactRelayRefetchContainer","relay-runtime"],(function(a,b,c,d,e,f){"use strict";a=b("RelayFBEnvironmentDefinitions").createEnvironment;c=b("RelayFBEnvironmentDefinitions").createEnvironmentFactory;d=b("enqueueMutation").enqueueMutation;var g=(f=b("relay-runtime")).fetchQuery_DEPRECATED;b("configureRelayForWWW")();var h=b("RelayFBSubscription").addFBisms(f.requestSubscription);e.exports={ConnectionHandler:f.ConnectionHandler,QueryRenderer:b("react-relay/ReactRelayQueryRenderer"),LocalQueryRenderer:b("react-relay/ReactRelayLocalQueryRenderer"),MutationTypes:f.MutationTypes,RangeOperations:f.RangeOperations,ReactRelayContext:b("react-relay/ReactRelayContext"),applyOptimisticMutation:f.applyOptimisticMutation,commitLocalUpdate:f.commitLocalUpdate,createFragmentContainer:b("react-relay/ReactRelayFragmentContainer").createContainer,createPaginationContainer:b("react-relay/ReactRelayPaginationContainer").createContainer,createRefetchContainer:b("react-relay/ReactRelayRefetchContainer").createContainer,fetchQuery_DEPRECATED:f.fetchQuery_DEPRECATED,graphql:f.graphql,readInlineData:f.readInlineData,commitMutation:b("RelayFBMutations").addFBisms(f.commitMutation),enqueueMutation:b("RelayFBMutations").addFBisms(d),requestSubscription:h,createEnvironment:a,createEnvironmentFactory:c,fetchQuery:g}}),null);
__d("getByPath",[],(function(a,b,c,d,e,f){"use strict";function a(a,b,c){a=a;for(var d=0;d<b.length;d++){var e=b[d];if(a&&typeof a!=="string"&&typeof a!=="number"&&e in a)a=a[e];else return c}return a}f["default"]=a}),66);
__d("react-relay",["react-relay/ReactRelayContext","react-relay/ReactRelayFragmentContainer","react-relay/ReactRelayLocalQueryRenderer","react-relay/ReactRelayPaginationContainer","react-relay/ReactRelayQueryRenderer","react-relay/ReactRelayRefetchContainer","react-relay/relay-hooks/EntryPointContainer.react","react-relay/relay-hooks/ProfilerContext","react-relay/relay-hooks/RelayEnvironmentProvider","react-relay/relay-hooks/loadEntryPoint","react-relay/relay-hooks/loadQuery","react-relay/relay-hooks/useClientQuery","react-relay/relay-hooks/useEntryPointLoader","react-relay/relay-hooks/useFragment","react-relay/relay-hooks/useLazyLoadQuery","react-relay/relay-hooks/useMutation","react-relay/relay-hooks/usePaginationFragment","react-relay/relay-hooks/usePrefetchableForwardPaginationFragment","react-relay/relay-hooks/usePreloadedQuery","react-relay/relay-hooks/useQueryLoader","react-relay/relay-hooks/useRefetchableFragment","react-relay/relay-hooks/useRelayEnvironment","react-relay/relay-hooks/useSubscribeToInvalidationState","react-relay/relay-hooks/useSubscription","relay-runtime"],(function(a,b,c,d,e,f){"use strict";a=b("react-relay/relay-hooks/loadQuery").loadQuery;e.exports={ConnectionHandler:(c=b("relay-runtime")).ConnectionHandler,QueryRenderer:b("react-relay/ReactRelayQueryRenderer"),LocalQueryRenderer:b("react-relay/ReactRelayLocalQueryRenderer"),MutationTypes:c.MutationTypes,RangeOperations:c.RangeOperations,ReactRelayContext:b("react-relay/ReactRelayContext"),applyOptimisticMutation:c.applyOptimisticMutation,commitLocalUpdate:c.commitLocalUpdate,commitMutation:c.commitMutation,createFragmentContainer:b("react-relay/ReactRelayFragmentContainer").createContainer,createPaginationContainer:b("react-relay/ReactRelayPaginationContainer").createContainer,createRefetchContainer:b("react-relay/ReactRelayRefetchContainer").createContainer,fetchQuery_DEPRECATED:c.fetchQuery_DEPRECATED,graphql:c.graphql,readInlineData:c.readInlineData,requestSubscription:c.requestSubscription,EntryPointContainer:b("react-relay/relay-hooks/EntryPointContainer.react"),RelayEnvironmentProvider:b("react-relay/relay-hooks/RelayEnvironmentProvider"),ProfilerContext:b("react-relay/relay-hooks/ProfilerContext"),fetchQuery:c.fetchQuery,loadQuery:a,loadEntryPoint:b("react-relay/relay-hooks/loadEntryPoint"),useClientQuery:b("react-relay/relay-hooks/useClientQuery"),useFragment:b("react-relay/relay-hooks/useFragment"),useLazyLoadQuery:b("react-relay/relay-hooks/useLazyLoadQuery"),useEntryPointLoader:b("react-relay/relay-hooks/useEntryPointLoader"),useQueryLoader:b("react-relay/relay-hooks/useQueryLoader"),useMutation:b("react-relay/relay-hooks/useMutation"),usePaginationFragment:b("react-relay/relay-hooks/usePaginationFragment"),usePreloadedQuery:b("react-relay/relay-hooks/usePreloadedQuery"),useRefetchableFragment:b("react-relay/relay-hooks/useRefetchableFragment"),usePrefetchableForwardPaginationFragment:b("react-relay/relay-hooks/usePrefetchableForwardPaginationFragment"),useRelayEnvironment:b("react-relay/relay-hooks/useRelayEnvironment"),useSubscribeToInvalidationState:b("react-relay/relay-hooks/useSubscribeToInvalidationState"),useSubscription:b("react-relay/relay-hooks/useSubscription")}}),null);/*FB_PKG_DELIM*/
__d("LSDeleteMessage",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.forEach(b.filter(b.db.table(12).fetch([[[a[1]]],"messageId"]),function(c){return c.messageId===a[1]&&b.i64.eq(c.threadKey,a[0])}),function(a){return a["delete"]()})},function(a){return b.resolve(c)}])}a.__sproc_name__="LSMailboxDeleteMessageStoredProcedure";a.__tables__=["messages"];e.exports=a}),null);
__d("LSFeatureLimitsType",[],(function(a,b,c,d,e,f){a=Object.freeze({READ_ONLY:1,GENERIC_READ_ONLY_BLOCK:2,MESSAGE_SEND:4,MESSENGER_ONLY_ACCOUNTS_READ_ONLY_BLOCK:8,MESSAGE_SEND_PRIVATE:16,MESSAGE_SEND_PUBLIC:32,MESSAGE_SEND_FROM_PAGE:64,COMMERCE_MESSAGE_SEND:128,PAGE_MESSAGING:256,APPEALABLE_MESSAGE_SEND:512,SCREEN_CAPTURE_VIDEO_CALL:1024});f["default"]=a}),66);
__d("LSInsertOptimisticAttachment",["LSSetMessageDisplayedContentTypes"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[];return c.sequence([function(d){return c.sequence([function(b){return c.forEach(c.filter(c.db.table(16).fetch([[[a[0],a[2],a[4]]]]),function(b){return c.i64.eq(b.threadKey,a[0])&&c.i64.eq(c.i64.cast([0,0]),c.i64.cast([0,0]))&&b.messageId===a[2]&&b.attachmentFbid===a[4]&&c.i64.lt(b.authorityLevel,c.i64.cast([0,20]))}),function(a){return a["delete"]()})},function(b){return c.db.table(16).add({threadKey:a[0],messageId:a[2],attachmentFbid:a[4],timestampMs:a[1],offlineAttachmentId:a[3],attachmentType:a[5],filename:a[6],attributionAppId:a[7],hasMedia:a[8],isSharable:!1,hasXma:a[9],authorityLevel:c.i64.cast([0,20])})},function(d){return c.storedProcedure(b("LSSetMessageDisplayedContentTypes"),a[0],a[2],a[1],void 0,!1,c.i64.eq(a[5],c.i64.cast([0,1]))||c.i64.eq(a[5],c.i64.cast([0,15])))}])},function(a){return c.resolve(d)}])}a.__sproc_name__="LSMailboxInsertOptimisticAttachmentStoredProcedure";a.__tables__=["attachments"];e.exports=a}),null);
__d("LSIssueNewTaskWithExtraOperationsAndGetTaskID",["LSIssueNewTaskAndGetTaskID","LSMailboxTaskCompletionApiOnTaskInsertion"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(f){return c.sequence([function(e){return c.storedProcedure(b("LSIssueNewTaskAndGetTaskID"),a[0],a[1],a[2],a[3],a[4],a[5],a[6],a[7],a[8],a[9],a[11]).then(function(a){return a=a,d[0]=a[0],a})},function(a){return c.storedProcedure(b("LSMailboxTaskCompletionApiOnTaskInsertion"),d[0])},function(a){return e[0]=d[0]}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSCoreIssueNewTaskWithExtraOperationsAndGetTaskIDStoredProcedure";a.__tables__=[];e.exports=a}),null);
__d("LSMessagingInitiatingSource",[],(function(a,b,c,d,e,f){a=Object.freeze({FACEBOOK_CHAT:0,FACEBOOK_INBOX:1,ROOMS_SIDE_CHAT:2,FACEBOOK_FULLSCREEN:3,NONE:4,CREATOR_MESSAGING_BIIM:5,CREATOR_MESSAGING_FBM:6,CREATOR_MESSAGING_MBS_WEB:7});f["default"]=a}),66);
__d("LSPredefineTraceForTask",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[],d=[];return b.sequence([function(d){return b.sequence([function(d){return c[0]=b.i64.of_float(Date.now()),b.forEach(b.db.table(2).fetch([[[a[1]]]]),function(b){var d=b.update;b.item;return d({dataTraceId:a[0],initTraceTimestampMs:c[0]})})},function(d){return b.db.table(153).add({traceId:a[0],initTimestampMs:c[0],foregroundTimestampMs:b.i64.cast([0,0]),traceType:b.i64.cast([0,1]),shouldFlush:!1,contextOne:a[2],contextTwo:b.i64.to_string(a[1]),predefinedId:a[3]})}])},function(a){return b.resolve(d)}])}a.__sproc_name__="LSDataTracePredefineTraceForTaskStoredProcedure";a.__tables__=["pending_tasks","data_trace_meta"];e.exports=a}),null);
__d("LSSetPinnedMessage",["LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.sequence([function(e){return d[0]=new c.Map(),d[0].set("thread_key",a[0]),d[0].set("message_id",a[1]),d[0].set("pinned_message_state",a[3]),d[1]=c.toJSON(d[0]),c.storedProcedure(b("LSIssueNewTask"),"set_pinned_message_search",c.i64.cast([0,751]),d[1],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]))},function(b){return c.i64.eq(a[3],c.i64.cast([0,1]))?c.sequence([function(b){return c.forEach(c.db.table(205).fetch([[[a[0],a[1]]]]),function(a){return a["delete"]()})},function(b){return c.forEach(c.filter(c.db.table(205).fetch([[[a[0],a[1],a[2]]]]),function(b){return c.i64.eq(b.threadKey,a[0])&&b.messageId===a[1]&&c.i64.eq(b.pinnedTimestampMs,a[2])&&c.i64.lt(b.authorityLevel,c.i64.cast([0,80]))}),function(a){return a["delete"]()})},function(b){return c.db.table(205).add({threadKey:a[0],messageId:a[1],pinnedTimestampMs:a[2],authorityLevel:c.i64.cast([0,80])})}]):c.forEach(c.db.table(205).fetch([[[a[0],a[1]]]]),function(a){return a["delete"]()})}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSMailboxSetPinnedMessageStoredProcedure";a.__tables__=["msg_pinned_messages_v2"];e.exports=a}),null);
__d("LSShimThreadPinMessage.nop",["FBLogger","I64","ReQL"],(function(a,b,c,d,e,f,g){"use strict";var h;a=async function(a,b,e,f,g){if(g==null){c("FBLogger")("messenger_web_pinned_messages").warn("threadKey is null in LSShimThreadPinMessage");return}b=await d("ReQL").toArrayAsync(d("ReQL").fromTableDescending(a.client_web_pinned_messages).getKeyRange(g,e));await Promise.all(b.map(function(b){return a.client_web_pinned_messages.delete(b.threadKey,b.offlineThreadingId,b.pinnedTimestampMs)}));await a.client_web_pinned_messages.put({offlineThreadingId:e,pinnedTimestampMs:f!=null?f:(h||(h=d("I64"))).of_float(Date.now()),threadKey:g})};a.__nop_name__="LSShimThreadPinMessage";g.default=a}),98);
__d("LSShimThreadUnpinMessage.nop",["FBLogger","ReQL"],(function(a,b,c,d,e,f,g){"use strict";a=async function(a,b,e,f){if(f==null){c("FBLogger")("messenger_web_pinned_messages").warn("threadKey is null in LSShimThreadUnpinMessage");return}b=await d("ReQL").toArrayAsync(d("ReQL").fromTableDescending(a.client_web_pinned_messages).getKeyRange(f,e));await Promise.all(b.map(function(b){return a.client_web_pinned_messages.delete(b.threadKey,b.offlineThreadingId,b.pinnedTimestampMs)}))};a.__nop_name__="LSShimThreadUnpinMessage";g.default=a}),98);
__d("LsMessageClickFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1743853");b=d("FalcoLoggerInternal").create("ls_message_click",a);e=b;g["default"]=e}),98);
__d("MAWDownloadMediaInWorker",["I64","LSAuthorityLevel","LSIntEnum","LSXmaContentType","MAWBridgeFireAndForget","MAWBridgeSendAndReceive","MAWDbMedia","MAWDbXMA","MAWMediaDownloadStatus","WAHashUtils","cr:17329","justknobx","nullthrows"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a){var b=a.attachment,d=a.dbPromise,e=a.dispatch,f=a.downloadType,g=a.mediaRenderQpl;a=a.triggerUIView;if(n(b))return;k({attachment:c("nullthrows")(b),dbPromise:d,dispatch:e,downloadType:f,mediaRenderQpl:g,triggerUIView:a})}function e(a){var b=a.attachment,c=a.dbPromise,d=a.dispatch,e=a.downloadType,f=a.mediaRenderQpl,g=a.plaintextHash,h=a.triggerUIView;a=a.xmaMediaType;if(n(b)||g==null)return;j({dbPromise:c,dispatch:d,downloadType:e,mediaRenderQpl:f,plaintextHash:g,triggerUIView:h,xmaMediaType:a})}function j(a){var d=a.dbPromise,e=a.dispatch,f=a.downloadType,g=a.mediaRenderQpl,h=a.plaintextHash,i=a.triggerUIView;a=a.xmaMediaType;g==null?void 0:g.addPoint("download_media_in_worker_start",{bool:{using_plaintext_hash:!0}});b("cr:17329")==null?e({tag:"SetMediaDownloadStatusState",value:{key:h,newMediaDownloadState:null}}):b("cr:17329").call(d,h,{mainMediaStatus:c("MAWMediaDownloadStatus").RETRYING,mainMediaStatusDetails:"download-media-in-worker-with-plaintext-hash",previewMediaStatus:c("MAWMediaDownloadStatus").RETRYING,previewMediaStatusDetails:"download-media-in-worker-with-plaintext-hash"});e={downloadType:f,plaintextHash:h,triggerUIView:i,type:"plaintextHash",xmaMediaType:a};l(e,g)}function k(a){var e=a.attachment,f=a.dbPromise,g=a.dispatch,h=a.downloadType,i=a.mediaRenderQpl;a=a.triggerUIView;i==null?void 0:i.addPoint("download_media_in_worker_start");var j=isNaN(e.attachmentFbid)?d("WAHashUtils").stringToPlaintextHash(e.attachmentFbid):d("MAWDbMedia").convertNumberToMediaId(parseInt(e.attachmentFbid,10));b("cr:17329")==null?g({tag:"SetMediaDownloadStatusState",value:{key:j,newMediaDownloadState:null}}):b("cr:17329").call(f,j.toString(),{mainMediaStatus:c("MAWMediaDownloadStatus").RETRYING,mainMediaStatusDetails:"download-media-in-worker",previewMediaStatus:c("MAWMediaDownloadStatus").RETRYING,previewMediaStatusDetails:"download-media-in-worker"});g=o(e,a,h);l(g,i)}function l(a,b){c("justknobx")._("3243")?void d("MAWBridgeFireAndForget").fireAndForget("backend","downloadMediaForUI",a):void d("MAWBridgeSendAndReceive").sendAndReceive("backend","downloadMediaForUI",a).then(function(a){if(a.success){b==null?void 0:b.addPoint("download_media_in_worker_end");return}b==null?void 0:b.addPoint("download_media_in_worker_fail",{string:{download_media_in_worker_fail_reason:(a=a.error)!=null?a:"unknown"}})})["catch"](function(a){b==null?void 0:b.addPoint("download_media_in_worker_fail",{string:{download_media_in_worker_fail_reason:(a=a.name)!=null?a:"unknown"}})})}function f(a){var b=a.attachmentsWithQpl,c=a.dbPromise,d=a.dispatch,e=a.downloadType;a=a.triggerUIView;b=b.filter(function(a){return!n(a.attachment)});m({attachmentsWithQpl:b,dbPromise:c,dispatch:d,downloadType:e,triggerUIView:a})}function m(a){var e=a.attachmentsWithQpl,f=a.dbPromise,g=a.dispatch,h=a.downloadType,i=a.triggerUIView;a=e.map(function(a){var e=a.attachment;a=a.mediaRenderQpl;a==null?void 0:a.addPoint("download_media_in_worker_start");a=isNaN(e.attachmentFbid)?d("WAHashUtils").stringToPlaintextHash(e.attachmentFbid):d("MAWDbMedia").convertNumberToMediaId(parseInt(e.attachmentFbid,10));b("cr:17329")==null?g({tag:"SetMediaDownloadStatusState",value:{key:a,newMediaDownloadState:null}}):b("cr:17329").call(f,a.toString(),{mainMediaStatus:c("MAWMediaDownloadStatus").RETRYING,mainMediaStatusDetails:"bulk-download-media-in-worker",previewMediaStatus:c("MAWMediaDownloadStatus").RETRYING,previewMediaStatusDetails:"bulnk-download-media-in-worker"});return o(e,i,h)});if(c("justknobx")._("3243"))void d("MAWBridgeFireAndForget").fireAndForget("backend","bulkDownloadMediaForUI",{media:a});else{var j=new Map(e.map(function(a){var b=a.attachment;a=a.mediaRenderQpl;return[b.attachmentFbid,a]}));void d("MAWBridgeSendAndReceive").sendAndReceive("backend","bulkDownloadMediaForUI",{media:a}).then(function(a){a.forEach(function(a){var b=a.arg;a=a.result;b=b.type==="xmaId"?String(b.xmaId):b.type==="mediaId"?String(b.mediaId):b.plaintextHash;b=j.get(b);if(a.success){b==null?void 0:b.addPoint("download_media_in_worker_end");return}b==null?void 0:b.addPoint("download_media_in_worker_fail",{string:{download_media_in_worker_fail_reason:(b=a.error)!=null?b:"unknown"}})})})["catch"](function(a){e.forEach(function(b){(b=b.mediaRenderQpl)==null?void 0:b.addPoint("download_media_in_worker_fail",{string:{download_media_in_worker_fail_reason:(b=a.name)!=null?b:"unknown"}})})})}}function n(a){return a==null||(h||(h=d("I64"))).equal(a.authorityLevel,(i||(i=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").OPTIMISTIC))||(a==null?void 0:a.hasXma)===!0&&(a==null?void 0:a.xmaContentType)!=null&&(h||(h=d("I64"))).equal(a.xmaContentType,(i||(i=d("LSIntEnum"))).ofNumber(c("LSXmaContentType").MSG_RECEIVER_FETCH))||(a==null?void 0:a.hasXma)===!0&&(a==null?void 0:a.hasXmaPreview)!==!0||a.receiverFetchId!=null}function o(a,b,c){var e=a.attachmentFbid,f=a.hasXma;return f?{triggerUIView:b,type:"xmaId",xmaId:d("MAWDbXMA").convertNumberToXMAId(Number.parseInt(a.attachmentFbid,10))}:{downloadType:c,plaintextHash:d("WAHashUtils").stringToPlaintextHash(e),triggerUIView:b,type:"plaintextHash"}}g.maybeDownloadMediaInWorker=a;g.maybeDownloadMediaInWorkerWithPlaintextHash=e;g.downloadMediaInWorkerWithPlaintextHash=j;g.downloadMediaInWorker=k;g.maybeBulkDownloadMediaInWorker=f}),98);
__d("MWChatForwardDialogQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="29676447045302300"}),null);
__d("MWChatMessageBothOrientationFocusGroup.react",["fbt","CometComponentWithKeyCommands.react","CometKeys","FocusGroup.react","emptyFunction","focusScopeQueries","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");b=d("FocusGroup.react").createFocusGroup(d("focusScopeQueries").tabbableScopeQuery);e=b[0];f=b[1];b={key:c("CometKeys").UP};var k={key:c("CometKeys").DOWN},l={key:c("CometKeys").LEFT},m={key:c("CometKeys").RIGHT},n=[{command:b,description:h._(/*BTDS*/"Previous item"),handler:c("emptyFunction")},{command:k,description:h._(/*BTDS*/"Next item"),handler:c("emptyFunction")},{command:l,description:h._(/*BTDS*/"Next item"),handler:c("emptyFunction")},{command:m,description:h._(/*BTDS*/"Previous item"),handler:c("emptyFunction")}];function a(a){var b=d("react-compiler-runtime").c(2);a=a.children;var e;b[0]!==a?(e=j.jsx(c("CometComponentWithKeyCommands.react"),{commandConfigs:n,xstyle:!1,children:a}),b[0]=a,b[1]=e):e=b[1];return e}b=a;g.FocusGroup=e;g.FocusGroupItem=f;g.keyCommands=b}),226);
__d("MWChatMessageId",["I64"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){if(a.type==="sent")return a.value.messageId}function b(a){if(a.type==="sent")return a.value.threadId}function c(a){if(a.type==="sent")return a.value.timestamp}function e(a,b,c){return{type:"sent",value:{messageId:b,threadId:(h||(h=d("I64"))).of_string(a),timestamp:h.of_string(c)}}}function f(a){return{type:"sent",value:{messageId:a,threadId:(h||(h=d("I64"))).zero,timestamp:h.zero}}}var i={type:"sent",value:{messageId:"",threadId:(h||(h=d("I64"))).zero,timestamp:h.zero}};g.getMessageId=a;g.getThreadId=b;g.getTimestamp=c;g.makeSent=e;g.emptyForExamplesWithId=f;g.emptyForExamples=i}),98);
__d("MlsMessageActionFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1401");b=d("FalcoLoggerInternal").create("mls_message_action",a);e=b;g["default"]=e}),98);
__d("MWLogMessageAction",["I64","MWLSContactTypeExactUtils","MlsMessageActionFalcoEvent","ReQL","coerceMessagingThreadTypeToLSThreadType"],(function(a,b,c,d,e,f,g){"use strict";var h;async function a(a,b,e,f,g,i,j,k,l,m,n){var o,p=await (o=d("ReQL")).firstAsync(o.fromTableAscending(a.tables.threads).getKeyRange(e)),q=await o.toArrayAsync(o.fromTableAscending(a.tables.participants).getKeyRange(e)),r=await o.firstAsync(o.mergeJoin(o.fromTableAscending(a.tables.participants).getKeyRange(e),o.fromTableAscending(a.tables.contacts)).filter(function(a){a[0];a=a[1].contactTypeExact;return d("MWLSContactTypeExactUtils").isIgContact(a)}))!=null;p!=null&&c("MlsMessageActionFalcoEvent").log(function(){var a;return{action:g,browser_window_height:window.innerHeight,browser_window_width:window.innerWidth,device_screen_height:window.screen.height,device_screen_width:window.screen.width,error_text:j,extra:i,group_size:String(q.length),is_xac_thread:r,ls_thread_type:c("coerceMessagingThreadTypeToLSThreadType")(p.threadType),message_type:(a=m)!=null?a:"text",mid:b,reaction:k,recipient_id:l!=null?(h||(h=d("I64"))).to_string(l):void 0,sender_id:(h||(h=d("I64"))).to_string(n),source:f,thread_id:h.to_string(e)}})}b={log:a};g.default=b}),98);
__d("MWPFeatureLimitedData",["I64","Int64Hooks","LSFeatureLimitsType","LSIntEnum","LSMessagingThreadTypeUtil","ReQL","ReQLSuspense","ServerTime","gkx","react-compiler-runtime","useReStore","useServerTime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=[(i||(i=d("LSIntEnum"))).ofNumber(c("LSFeatureLimitsType").READ_ONLY),i.ofNumber(c("LSFeatureLimitsType").GENERIC_READ_ONLY_BLOCK),i.ofNumber(c("LSFeatureLimitsType").MESSAGE_SEND)];function l(a){for(var b of k)if((j||(j=d("I64"))).equal(b,a.type_))return!0;return!1}function m(a,b){return(j||(j=d("I64"))).equal((i||(i=d("LSIntEnum"))).ofNumber(c("LSFeatureLimitsType").MESSAGE_SEND_PUBLIC),a.type_)&&d("LSMessagingThreadTypeUtil").isPublicCMThread(b)&&c("gkx")("26351")}function n(a,b){return(j||(j=d("I64"))).equal((i||(i=d("LSIntEnum"))).ofNumber(c("LSFeatureLimitsType").MESSAGE_SEND_PRIVATE),a.type_)&&d("LSMessagingThreadTypeUtil").isPrivateThread(b)}var o=function(a){var b=(j||(j=d("I64"))).of_float(d("ServerTime").getMillis()/1e3);return d("ReQL").fromTableAscending(a.tables.feature_limits).filter(function(a){return l(a)&&(j||(j=d("I64"))).gt(a.expirationTimestampSeconds,b)})};function p(a,b){var e=d("react-compiler-runtime").c(8),f=(j||(j=d("I64"))).of_float(c("useServerTime")().valueOf()/1e3),g;e[0]!==f||e[1]!==a.tables.feature_limits||e[2]!==b?(g=function(){return d("ReQL").fromTableAscending(a.tables.feature_limits).filter(function(a){return(b!=null?l(a)||m(a,b)||n(a,b):l(a))&&(j||(j=d("I64"))).gt(a.expirationTimestampSeconds,f)})},e[0]=f,e[1]=a.tables.feature_limits,e[2]=b,e[3]=g):g=e[3];var h;e[4]!==f||e[5]!==a||e[6]!==b?(h=[f,a,b],e[4]=f,e[5]=a,e[6]=b,e[7]=h):h=e[7];return d("Int64Hooks").useMemoInt64(g,h)}function a(){var a=d("react-compiler-runtime").c(3),b=(h||(h=c("useReStore")))(),e,g;a[0]!==b?(e=function(){return o(b)},g=[b],a[0]=b,a[1]=e,a[2]=g):(e=a[1],g=a[2]);return d("ReQLSuspense").useFirst(e,g,f.id+":127")}function b(a){var b=d("react-compiler-runtime").c(3),e=(h||(h=c("useReStore")))(),g=p(e,a);b[0]!==g?(e=function(){return g},a=[g],b[0]=g,b[1]=e,b[2]=a):(e=b[1],a=b[2]);return d("ReQLSuspense").useFirst(e,a,f.id+":136")}g.readonlyFeatureLimitQuery=o;g.useReadOnlyFeatureLimitData=a;g.useReadOnlyFeatureLimitDataWithThreadType=b}),98);
__d("MWV2LogMessageClick",["I64","LSMessagingThreadTypeUtil","Promise","ReQL","UserAgentData","promiseDone","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=c("requireDeferred")("LsMessageClickFalcoEvent").__setRef("MWV2LogMessageClick");function a(a,e,f,g){var k=e.threadKey;c("promiseDone")(d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.tables.threads).getKeyRange(k)).then(function(a){a!=null&&!d("LSMessagingThreadTypeUtil").isArmadilloSecure(a.threadType)&&j.onReady(function(a){a.log(function(){var a;return{click:{category:2},click_target:{type:f},extra:JSON.stringify({action:(a=g)!=null?a:void 0,browserName:c("UserAgentData").browserName}),message:{id:e.messageId,sender_id:void 0,sent_time:(i||(i=d("I64"))).to_float(e.timestampMs)},thread:{id:i.to_string(e.threadKey),key:void 0,type:void 0},xma:void 0}})});return(h||(h=b("Promise"))).resolve()}))}g.log=a}),98);
__d("MWV2MessageRowIsRowFocusedContext.react",["emptyFunction","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));e=h;f=e.createContext;var j=e.useContext;e={isDialogOpened:!1,setFocused:c("emptyFunction"),setIsDialogOpened:c("emptyFunction")};var k=f(e);function a(){return j(k)}function b(a){var b=d("react-compiler-runtime").c(3),c=a.children;a=a.value;var e=k.Provider;b[0]!==c||b[1]!==a?(e=i.jsx(e,{value:a,children:c}),b[0]=c,b[1]=a,b[2]=e):e=b[2];return e}g.context=k;g.useMWV2MessageRowIsRowFocusedContext=a;g.MWV2MessageRowIsRowFocusedContextProvider=b}),98);
__d("MessageRequestsBulkActionConfirmedFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("256");b=d("FalcoLoggerInternal").create("message_requests_bulk_action_confirmed",a);e=b;g["default"]=e}),98);
__d("MessageRequestsBulkActionEditFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("2614");b=d("FalcoLoggerInternal").create("message_requests_bulk_action_edit",a);e=b;g["default"]=e}),98);
__d("MessageRequestsBulkActionTappedFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("257");b=d("FalcoLoggerInternal").create("message_requests_bulk_action_tapped",a);e=b;g["default"]=e}),98);
__d("MessageRequestsInfoBannerShownFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("258");b=d("FalcoLoggerInternal").create("message_requests_info_banner_shown",a);e=b;g["default"]=e}),98);
__d("MessageRequestsThreadActionConfirmedFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("259");b=d("FalcoLoggerInternal").create("message_requests_thread_action_confirmed",a);e=b;g["default"]=e}),98);
__d("MessageRequestsThreadActionTappedFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("260");b=d("FalcoLoggerInternal").create("message_requests_thread_action_tapped",a);e=b;g["default"]=e}),98);
__d("MessageRequestsThreadDenialOptionsTappedFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("261");b=d("FalcoLoggerInternal").create("message_requests_thread_denial_options_tapped",a);e=b;g["default"]=e}),98);
__d("MessageRequestsViewThreadlistFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("263");b=d("FalcoLoggerInternal").create("message_requests_view_threadlist",a);e=b;g["default"]=e}),98);
__d("MessengerDiscoverableChatClientEventsFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1254");b=d("FalcoLoggerInternal").create("messenger_discoverable_chat_client_events",a);e=b;g["default"]=e}),98);
__d("MetaBrandExclamationTriangleFilled24.svg.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs("svg",babelHelpers["extends"]({viewBox:"0 0 24 24",fill:"currentColor",width:"1em",height:"1em"},a,{children:[a.title!=null&&i.jsx("title",{children:a.title}),a.children!=null&&i.jsx("defs",{children:a.children}),i.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.203 2.088a2.028 2.028 0 0 1 3.594 0l8.956 16.86C23.486 20.326 22.5 22 20.956 22H3.044c-1.545 0-2.53-1.673-1.797-3.053l8.956-16.859zm3.048 14.91c0 .6-.417 1-1.25 1-.834 0-1.25-.4-1.25-1s.416-1 1.25-1c.833 0 1.25.4 1.25 1zm-.375-8.125a.875.875 0 0 0-1.75 0v4.975a.875.875 0 1 0 1.75 0V8.873z"})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;b=a;g["default"]=b}),98);
__d("MwbCmInformTreatmentEventFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("6736");b=d("FalcoLoggerInternal").create("mwb_cm_inform_treatment_event",a);e=b;g["default"]=e}),98);
__d("MwbInformTreatmentShownImpressionFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("6735");b=d("FalcoLoggerInternal").create("mwb_inform_treatment_shown_impression",a);e=b;g["default"]=e}),98);
__d("OfflineThreadingId",["I64","XPlatReactCrypto"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("I64"))).of_string("4194303");function a(){return(h||(h=d("I64"))).to_string(j())}function j(){var a=d("XPlatReactCrypto").getRandomValues(new Uint8Array(8));a=new DataView(a.buffer);a=(h||(h=d("I64"))).add(h.lsl_(h.of_int32(a.getUint32(0)),32),h.of_int32(a.getUint32(4)));return k(Date.now(),a)}function k(a,b){return(h||(h=d("I64"))).and_(h.or_(h.lsl_(h.of_float(a),22),h.and_(b,i)),h.max_int)}function b(a){var b=j(),c=[];for(var e=0;e<a.length;e++)c.push([a[e],(h||(h=d("I64"))).to_string(b)]),b=l(b);return c}function l(a,b){b===void 0&&(b=(h||(h=d("I64"))).one);var c=m(a);a=n(a);return k(c,(h||(h=d("I64"))).add(a,b))}function m(a){return(h||(h=d("I64"))).to_float(h.lsr_(a,22))}function n(a){return(h||(h=d("I64"))).and_(a,i)}g.createOfflineThreadingID=a;g.createForItemsInOrder=b;g.extractTimestamp=m}),98);
__d("ZenonUserActionLoggerCommon",["ZenonUserActionLogger"],(function(a,b,c,d,e,f,g){"use strict";g.logClick=c("ZenonUserActionLogger").logClick,g.logImpression=c("ZenonUserActionLogger").logImpression}),98);
__d("cdsPushToast",["BaseToasterStateManager","CDSIcon.react","MetaBrandExclamationTriangleFilled24.svg.react","basePushToast","deferredLoadComponent","getToastDurationFromTextLength","react","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j=c("BaseToasterStateManager").getInstance(),k=c("deferredLoadComponent")(c("requireDeferred")("CDSToast.react").__setRef("cdsPushToast"));function l(a,b){var e=(b=b)!=null?b:j;if(d("basePushToast").passesNewToastAPIGK())if(d("basePushToast").isInteractiveToast(a)){var f=d("basePushToast").pushPersistentToast(i.jsx(k,babelHelpers["extends"]({},a,{loadImmediately:!0,onDismiss:function(){return e.expire(f)}})),e);return f}else{a.action;b=babelHelpers.objectWithoutPropertiesLoose(a,["action"]);b=babelHelpers["extends"]({withoutCloseButton:!0},b);var g=d("basePushToast").pushAlertToast(babelHelpers["extends"]({},b),i.jsx(k,babelHelpers["extends"]({},b,{loadImmediately:!0,onDismiss:function(){return e.expire(g)}})),e);return g}else{b=c("getToastDurationFromTextLength")(a.message.toString());var h=e.push(i.jsx(k,babelHelpers["extends"]({},a,{loadImmediately:!0,onDismiss:function(){return e.expire(h)}})),b);return h}}function a(a){return l({message:a})}function b(a,b){return l(babelHelpers["extends"]({},a,{addOnStart:i.jsx(c("CDSIcon.react"),{icon:c("MetaBrandExclamationTriangleFilled24.svg.react"),size:24})}),b)}function e(a,b){var c=(b=b)!=null?b:j,d=c.push(i.jsx(k,babelHelpers["extends"]({},a,{loadImmediately:!0,onDismiss:function(){return c.expire(d)}})),Infinity);return d}g.pushToast=l;g.pushSimpleToast=a;g.pushErrorToast=b;g.pushPersistentToast=e}),98);
__d("genArrayBufferFromFile",["Promise"],(function(a,b,c,d,e,f){"use strict";var g;function a(a){return"arrayBuffer"in a&&typeof a.arrayBuffer==="function"?a.arrayBuffer():new(g||(g=b("Promise")))(function(b,c){var d=new FileReader();d.onload=function(){var a=d.result;a instanceof ArrayBuffer?b(a):c()};d.onerror=function(){c(d.error)};d.readAsArrayBuffer(a)})}f["default"]=a}),66);
__d("genIsNonAnimatedWebPFile",["genArrayBufferFromFile"],(function(a,b,c,d,e,f,g){"use strict";var h=8;function a(a){return c("genArrayBufferFromFile")(a).then(function(a){a=new Uint8Array(a);var b=a.slice(12,16).reduce(function(a,b,c){return a+String.fromCharCode(b)},"");if(b==="VP8X"){b=a[20];b=b.toString(2).padStart(8,"0");if(b[6]==="1")return!i(a)}return!0})}function i(a){var b=12,c=0;while(c<2&&b+h<a.length){var d=j(a,b);d==="ANMF"&&c++;d=k(a,b+4);var e=d%2;d=h+d+e;b+=d}return c>1}function j(a,b){return a.slice(b,b+4).reduce(function(a,b,c){return a+String.fromCharCode(b)},"")}function k(a,b){return parseInt(a.slice(b,b+4).reduce(function(a,b,c){return b.toString(2).padStart(8,"0")+a},""),2)}g["default"]=a}),98);
__d("getFBTSafeGenderFromGenderConst",["GenderConst","IntlVariations"],(function(a,b,c,d,e,f,g){"use strict";function a(a){switch(a){case c("GenderConst").MALE_SINGULAR:return c("IntlVariations").GENDER_MALE;case c("GenderConst").FEMALE_SINGULAR:return c("IntlVariations").GENDER_FEMALE;default:return c("IntlVariations").GENDER_UNKNOWN}}g["default"]=a}),98);
__d("handleMWV2NoMessageOrTurn",["FBLogger"],(function(a,b,c,d,e,f,g){"use strict";function a(){c("FBLogger")("gen_ai_feedback_actions").mustfix("Either message or turn must be provided")}g["default"]=a}),98);
__d("isEbEnabledWithIGDEligibilityCheck",["EBIsEbEnabled","Promise","gkx"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){return!c("gkx")("23914")?(h||(h=b("Promise"))).resolve(!1):d("EBIsEbEnabled").isEbEnabledLS(a.tables)}g.isEbEnabledWithIGDEligibilityCheck=a}),98);
__d("isFeatureLimitEnabled",["qex"],(function(a,b,c,d,e,f,g){"use strict";function a(){return c("qex")._("588")===!0}g["default"]=a}),98);
__d("useGenAiFeedbackSubmittedToast",["fbt","cdsPushToast","handleMWV2NoMessageOrTurn","react","react-compiler-runtime","useMWXPushToast"],(function(a,b,c,d,e,f,g,h){"use strict";var i;(i||d("react")).useCallback;function a(a,b){var e=d("react-compiler-runtime").c(2),f=c("useMWXPushToast")(),g=j,i;a?i=f:b?i=g:c("handleMWV2NoMessageOrTurn")();e[0]!==i?(a=function(){i&&i({title:h._(/*BTDS*/"Feedback has been submitted")})},e[0]=i,e[1]=a):a=e[1];i;return a}function j(a){a=a.title;d("cdsPushToast").pushToast({message:a})}g["default"]=a}),226);
__d("useIsMultiReactionEnabled",["LSMessagingThreadTypeUtil","LSThreadBitOffset","MWLSThread","ReQL","ReQLSuspense","isUnjoinedCMThread","mwCMIsAnyCMThread","react-compiler-runtime","useIsChatPreviewsEnabled","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){var b=d("react-compiler-runtime").c(4),e=(h||(h=c("useReStore")))(),g=d("MWLSThread").useThread(a,i),j,k;b[0]!==e||b[1]!==g?(j=function(){return g!=null?d("ReQL").fromTableAscending(e.tables.community_folders).getKeyRange(g):d("ReQL").empty()},k=[e,g],b[0]=e,b[1]=g,b[2]=j,b[3]=k):(j=b[2],k=b[3]);var l=d("ReQLSuspense").useFirst(j,k,f.id+":28");return(b=d("MWLSThread").useThread(a,function(a){if(d("isUnjoinedCMThread").isUnjoinedCMThread(a.threadType))return d("useIsChatPreviewsEnabled").isChatPreviewsEnabled(a,l==null?void 0:l.communityType);if(!d("LSThreadBitOffset").has(156,a))return!1;if(c("mwCMIsAnyCMThread")(a.threadType))return!0;if(d("LSMessagingThreadTypeUtil").isDiscoverableChannel(a.threadType))return!0}))!=null?b:!1}function i(a){return a.parentThreadKey}g.useIsMultiReactEnabled=a}),98);
__d("useIsReactionsV2Enabled",["LSMessagingThreadTypeUtil","LSThreadBitOffset","MWCMThreadTypes.react","MWLSThread","ReQL","ReQLSuspense","react-compiler-runtime","useIsChatPreviewsEnabled","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){var b=d("react-compiler-runtime").c(4),e=(h||(h=c("useReStore")))(),g=d("MWLSThread").useThread(a,i),k,l;b[0]!==e||b[1]!==g?(k=function(){return g!=null?d("ReQL").fromTableAscending(e.tables.community_folders).getKeyRange(g):d("ReQL").empty()},l=[e,g],b[0]=e,b[1]=g,b[2]=k,b[3]=l):(k=b[2],l=b[3]);var m=d("ReQLSuspense").useFirst(k,l,f.id+":34");return(b=d("MWLSThread").useThread(a,function(a){return j(a,m==null?void 0:m.communityType)}))!=null?b:!1}function i(a){return a.parentThreadKey}function j(a,b){if(d("LSMessagingThreadTypeUtil").isOpenFnFThread(a)&&!d("MWCMThreadTypes.react").isIGBroadcastChannelThread(a.threadSubtype))return!1;if(d("LSThreadBitOffset").has(139,a))return!0;a=d("useIsChatPreviewsEnabled").isChatPreviewsEnabled(a,b);return a?!0:!1}function b(a,b){var c=d("LSMessagingThreadTypeUtil").isUnjoinedDiscoverablePublicBroadcastChannel(a.threadType)||d("LSMessagingThreadTypeUtil").isSocialChannelUnjoined(a.threadType);a=d("useIsChatPreviewsEnabled").isChatPreviewsEnabled(a,b);return c||a}g.useIsReactionsV2Enabled=a;g.isReactionsV2Enabled=j;g.isReactionsV2ReadOnly=b}),98);
__d("useIsReadOnlyFeatureLimitedWithThreadType",["MWPFeatureLimitedData","gkx"],(function(a,b,c,d,e,f,g){"use strict";function a(a){a=d("MWPFeatureLimitedData").useReadOnlyFeatureLimitDataWithThreadType(a);if(a!=null)return c("gkx")("24070");else return!1}g["default"]=a}),98);
__d("useMAWMediaDownloadStatusUIState",["react","react-compiler-runtime","useMAWBulkMediaDownloadStatusUIState"],(function(a,b,c,d,e,f,g){"use strict";var h;(h||d("react")).useMemo;function a(a,b,e){var f=d("react-compiler-runtime").c(4);if(f[0]!==a||f[1]!==e||f[2]!==b){var g;g=a!=null?[{attachment:a,mediaRenderQpl:b,statusKey:(g=e)!=null?g:a.attachmentFbid}]:[];f[0]=a;f[1]=e;f[2]=b;f[3]=g}else g=f[3];a=g;e=a;b=c("useMAWBulkMediaDownloadStatusUIState")(e);return b.length>0?b[0]:null}g["default"]=a}),98);
__d("useMAWMediaStatusUIState",["react-compiler-runtime","useMAWMediaDownloadStatusUIState","useMAWMediaValidationResultState"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,e){var f=d("react-compiler-runtime").c(3),g=c("useMAWMediaDownloadStatusUIState")(a,b,e);a=c("useMAWMediaValidationResultState")(a,b,e);f[0]!==g||f[1]!==a?(b={downloadStatus:g,validationResult:a},f[0]=g,f[1]=a,f[2]=b):b=f[2];return b}g["default"]=a}),98);
__d("useMWGetOtherUserContact",["I64","LSMessagingThreadTypeUtil","MWPActor.react","ReQL","ReQLSuspense","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=(j||d("react")).useMemo;function a(a,b,e){var g=(h||(h=c("useReStore")))(),j=d("MWPActor.react").useActor(),l=(i||(i=d("I64"))).equal(j,a),m=k(function(){return e},[].concat(e));return d("ReQLSuspense").useFirst(function(){return!d("LSMessagingThreadTypeUtil").isOneToOne(b)?d("ReQL").empty():d("ReQL").mergeJoin(d("ReQL").fromTableAscending(g.tables.participants,["contactId"]).getKeyRange(a),d("ReQL").fromTableAscending(g.tables.contacts,e)).filter(function(a){var b=a[0];a[1];return l||!(i||(i=d("I64"))).equal(b.contactId,j)}).map(function(a){a[0];a=a[1];return a})},[b,g,a,l,j,m],f.id+":35")}g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("MpsErrors",[],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b,c){b=a.call(this,b)||this;b.name=c+"Error";b.processorName=c;return b}return b}(babelHelpers.wrapNativeSuper(Error));f.ProcessorError=a}),66);
__d("MpsLogger",["FBLogger"],(function(a,b,c,d,e,f,g){"use strict";a=c("FBLogger")("mps");g.MpsLogger=a}),98);
__d("MpsLogProcessorErrors",["MpsLogger"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,c,e){if(a.size===0)return;a.forEach(function(a,f){d("MpsLogger").MpsLogger.catching(a).mustfix(b+" %s failed for message %s (source %s)",a.processorName,f,c);e.metric.addAnnotations({string:(f={},f[b.toLowerCase()+".name"]=a.processorName,f)})})}g.MpsLogProcessorErrors=a}),98);
__d("WebMpsReverbWrites",[],(function(a,b,c,d,e,f){"use strict";function a(a,b,c,d,e,f,g){var h=[e,d,c];return g(async function(g){var i=await g.stores.supplemental.getByIndex("[threadId+topLevelMessageId+supplementalKey]",h);if(((i=i==null?void 0:i.timestampMs)!=null?i:0)>=f)return;i={messageId:a,payload:b,supplementalKey:c,threadId:e,timestampMs:f,topLevelMessageId:d};await g.stores.supplemental.bulkUpsert("[threadId+topLevelMessageId+supplementalKey]",[{item:i,selector:h}])})}function b(a,b,c){var d=a.messageId,e=a.threadId;return c(async function(c){var f,g=await c.stores.message.getByIndex("[threadId+messageId]",[e,d]);if(g!=null&&!g.isTransportErrorPlaceholder)return;var h=await c.stores.deleted.getByIndex("[threadId+deletedMessageId]",[a.threadId,a.messageId]),i=babelHelpers.extends({},a,{debugFlags:b.debugFlags,expiryTimestampMs:b.expiryTimestampMs,isLocalOnlyMessage:b.isLocalOnly,isTransportErrorPlaceholder:b.isTransportErrorPlaceholder,timestampMs:(f=g==null?void 0:g.timestampMs)!=null?f:a.timestampMs});if(!h){f=await c.stores.message.bulkUpsert("[threadId+messageId]",[{item:i,selector:[e,d]}]);var j=f[0];f=await c.stores.tags.readIndexRange("[threadId+messageId+tag]",{only:[e,d]});f.length>0&&await c.stores.tags.bulkDelete(f.map(function(a){return a.pk}));b.tags.length>0&&await c.stores.tags.bulkAdd(b.tags.map(function(a){return{messageId:i.messageId,messagePk:j,tag:a,threadId:i.threadId,timestampMs:i.timestampMs}}))}else h.payload=i.payload,await c.stores.deleted.bulkPut([h]),g!=null&&(g.timestampMs=a.timestampMs,await c.stores.message.bulkPut([g]))})}f.upsertSupplementalToReverb=a;f.upsertTopLevelToReverb=b}),66);
__d("WormMemoryDriver",["WAResolvable","WormStoreFunctions","err"],(function(a,b,c,d,e,f,g){"use strict";var h=0;function i(){h+=1;return h}function a(){h=0}b=function(){function a(a){this.$1={};this.$2={};this.$3=Promise.resolve();this.$1=a;for(a of Object.keys(a))this.$2[a]=new Map()}var b=a.prototype;b.getSchema=function(){return this.$1};b.runInTransaction=function(a,b,c,e){var f=this,g=new(d("WAResolvable").Resolvable)();this.$3=this.$3.then(async function(){var d={};for(var e of Object.keys(f.$1))d[e]=new Map(f.$2[e]);e=a.reduce(function(a,b){return babelHelpers.extends({},a,(a={},a[b]=new j(b,d[b],f.$1[b]),a))},{});e={abort:function(){},commit:function(){return g.promise.then(function(){})},stores:e};e=await c(e);b==="readwrite"&&(f.$2=d);g.resolve(e)}).catch(function(a){g.reject(a)});return g.promise};b.close=function(){};b.init=function(a){return Promise.resolve()};return a}();var j=function(){function a(a,b,d){var e=this;this.readIndexRange=function(a,b,d){var f=e.$3.indexes;if(f==null)throw c("err")("No indexes found");f=f[a];if(f==null)throw c("err")("Index not found");var g=Array.from(e.$1.values());if(b!=null){var h;g=l(g,(h=(h=b.lessThan)!=null?h:b.lessThanOrEqual)!=null?h:b.only,b.lessThanOrEqual!=null||b.only!=null,(h=(h=b.greaterThan)!=null?h:b.greaterThanOrEqual)!=null?h:b.only,b.greaterThanOrEqual!=null||b.only!=null,f)}return Promise.resolve(e.$5(g,d,a))};this.$1=b;this.$2=a;this.$3=d}var b=a.prototype;b.bulkAdd=function(a){var b=this;for(var d of a){this.$3.autoIncrement===!0&&d[this.$3.primaryKey]===void 0&&(d[this.$3.primaryKey]=i());if(this.$1.has(d[this.$3.primaryKey]))throw c("err")("Item with key already exists");this.$4(d);this.$1.set(d[this.$3.primaryKey],d)}return Promise.resolve(a.map(function(a){return a[b.$3.primaryKey]}))};b.bulkPut=function(a){for(a of a)this.$4(a),this.$1.set(a[this.$3.primaryKey],a);return Promise.resolve()};b.$4=function(a){var b=this,d=this.$3.indexes;if(d==null)return;for(d of Object.values(d)){if(typeof d!=="object"||d==null)continue;var e=d.fields,f=d.unique;if(f===!1)continue;if(!Array.isArray(e))return;var g=e.map(function(b){return a[b]}).join(":");f=function(d){if(d[b.$3.primaryKey]===a[b.$3.primaryKey])return"continue";var f=e.map(function(a){return d[a]}).join(":");if(g===f)throw c("err")("ConstraintError")};for(var h of this.$1.values()){var i=f(h);if(i==="continue")continue}}};b.bulkGet=function(a){var b=this;return Promise.resolve(a.map(function(a){return b.$1.get(a)}))};b.get=function(a){return Promise.resolve(this.$1.get(a))};b.getByIndex=function(a,b,c){return d("WormStoreFunctions").getByIndex(this,a,b,c)};b.readByKeyRange=function(a,b){var c;c=k(Array.from(this.$1.values()),(c=a.lessThan)!=null?c:a.lessThanOrEqual,a.lessThanOrEqual!=null,(c=a.greaterThan)!=null?c:a.greaterThanOrEqual,a.greaterThanOrEqual!=null,this.$3.primaryKey);return Promise.resolve(this.$5(c,b))};b.bulkDelete=function(a){for(a of a)this.$1.delete(a);return Promise.resolve()};b.delete=function(a){this.$1.delete(a);return Promise.resolve()};b.bulkUpsert=function(a,b){return d("WormStoreFunctions").bulkUpsert(this,this.$3,a,b)};b.readKeysByIndexRange=function(a,b,c){var d=this;return this.readIndexRange(a,b,c).then(function(a){return a.map(function(a){return a[d.$3.primaryKey]})})};b.getIndexRangeIterator=function(a,b,c,e){return d("WormStoreFunctions").getIndexRangeIterator(this.readIndexRange,this.$3,a,b,c,e)};b.$5=function(a,b,c){a=a;(b==null?void 0:b.filter)!=null&&(a=a.filter(b.filter));(b==null?void 0:b.order)!=null&&c!=null&&(a=a.sort(function(a,d){a=a[c];d=d[c];if(a===d)return 0;if(b.order==="desc")return d>a?1:-1;else return a>d?1:-1}));(b==null?void 0:b.limit)!=null&&(a=a.slice(0,b.limit));return a};b.readIndex=function(a,b,d){var e=this.$3.indexes;if(e==null)throw c("err")("No indexes found");var f=e[a];if(f==null)throw c("err")("Index not found");e=Array.from(this.$1.values());b!=null&&(e=e.filter(function(a){for(var c=0;c<f.fields.length;c++)if(a[f.fields[c]]!==b[c])return!1;return!0}));return Promise.resolve(this.$5(e,d,a))};b.readIndexKeys=function(a,b,c){var d=this;return this.readIndex(a,b,c).then(function(a){return a.map(function(a){return a[d.$3.primaryKey]})})};b.readAll=function(a){var b=this,c=Array.from(this.$1.values());(a==null?void 0:a.filter)!=null&&(c=c.filter(a.filter));(a==null?void 0:a.order)!=null&&(c=c.sort(function(c,d){c=c[b.$3.primaryKey];d=d[b.$3.primaryKey];if(c===d)return 0;if(a.order==="desc")return d>c?1:-1;else return c>d?1:-1}));(a==null?void 0:a.limit)!=null&&(c=c.slice(0,a.limit));return Promise.resolve(c)};b.readKeys=function(a){var b=this;return this.readAll(a).then(function(a){return a.map(function(a){return a[b.$3.primaryKey]})})};b.clear=function(){this.$1.clear();return Promise.resolve()};b.count=function(){return Promise.resolve(this.$1.size)};return a}();function k(a,b,c,d,e,f){return a.filter(function(a){if(d!=null&&d>a[f])return!1;if(b!=null&&b<a[f])return!1;if(b!=null&&c===!1&&a[f]===b)return!1;return d!=null&&e===!1&&a[f]===d?!1:!0})}function l(a,b,c,d,e,f){return a.filter(function(a){for(var g=0;g<f.fields.length;g++){if(d!=null&&d[g]>a[f.fields[g]])return!1;if(b!=null&&b[g]<a[f.fields[g]])return!1;if(g===f.fields.length-1){if(b!=null&&c===!1&&a[f.fields[g]]===b[g])return!1;if(d!=null&&e===!1&&a[f.fields[g]]===d[g])return!1}}return!0})}g.TEST_ONLY_resetPK=a;g.WormMemoryDriver=b;g.WormMemoryStore=j}),98);
__d("WebReverbSchema",["FBLogger","MAWWormOdsLogger","WAHex","Worm","WormEAR","WormIDbDriver","WormMemoryDriver"],(function(a,b,c,d,e,f,g){"use strict";e={autoIncrement:!0,indexes:{"[threadId+messageId]":{fields:["threadId","messageId"],unique:!0},"[threadId+timestampMs+messageId]":{fields:["threadId","timestampMs","messageId"],unique:!1},expiryTimestampMs:{fields:["expiryTimestampMs"],unique:!1},messageId:{fields:["messageId"],unique:!1},timestampMs:{fields:["timestampMs"],unique:!1}},nonEncryptedFields:new Set(["timestampMs","expiryTimestampMs","messageId","debugFlags"]),primaryKey:"pk",secure:!0};f={autoIncrement:!0,indexes:{"[threadId+topLevelMessageId+supplementalKey]":{fields:["threadId","topLevelMessageId","supplementalKey"],unique:!0}},nonEncryptedFields:new Set(["topLevelMessageId"]),primaryKey:"pk",secure:!0};var h={autoIncrement:!0,indexes:{"[threadId+deletedMessageId]":{fields:["threadId","deletedMessageId"],unique:!0},"[threadId+topLevelMessageId+supplementalKey]":{fields:["threadId","topLevelMessageId","supplementalKey"],unique:!1},deletionTimestampMs:{fields:["deletionTimestampMs"],unique:!1}},nonEncryptedFields:new Set(["topLevelMessageId","deletionTimestampMs"]),primaryKey:"pk",secure:!0},i={autoIncrement:!0,indexes:{"[threadId+messageId+tag]":{fields:["threadId","messageId","tag"],unique:!0},"[threadId+tag+timestampMs]":{fields:["threadId","tag","timestampMs"],unique:!1}},nonEncryptedFields:new Set(["messageId","timestampMs","messagePk","tag"]),primaryKey:"pk",secure:!0},j={primaryKey:"pk",secure:!0},k={dbMetadata:j,deleted:h,message:e,supplemental:f,tags:i};function a(a,b,e,f,g){b=d("WAHex").parseHex(b);b=new(d("WormEAR").WormEAR)(k,b);var h=new(d("Worm").WormDatabase)(new(d("WormIDbDriver").WormIDbDriver)(a,"reverb",k,b,d("MAWWormOdsLogger").wormOdsWorkerLogger,{blockingErrorThreshold:e,onBlockingError:f,onTransactionError:function(a){if(a instanceof d("WormEAR").DecryptionError){var b=a;c("FBLogger")("mps").mustfix("EAR decryption error in store: %s. Dropping corrupted entity %s",b.store,b.maybeHashedPk);void h.runInTransaction([b.store],"readwrite",function(a){a=a.stores[b.store];return b.maybeHashedPk!=null?a["delete"](b.maybeHashedPk):a.clear()},"delete-corrupted-entity")}}}),g);return h}function b(a){return new(d("Worm").WormDatabase)(new(d("WormMemoryDriver").WormMemoryDriver)(k),a)}g.makeWebReverbSchema=a;g.makeInMemoryReverbSchema_TEST_ONLY=b}),98);
__d("WebReverbDB",["MpsLogger","WAResolvable","WebReverbSchema","err","getErrorSafe"],(function(a,b,c,d,e,f,g){"use strict";var h,i=new(d("WAResolvable").Resolvable)();async function a(a,b,e,f,g){try{a=d("WebReverbSchema").makeWebReverbSchema(a,b,e,f,g);h=a;await a.init();i.resolve(a);return a}catch(a){d("MpsLogger").MpsLogger.catching(c("getErrorSafe")(a)).mustfix("Error performing WebReverb init");throw a}}function b(){if(h==null)throw c("err")("Reverb DB is not initialized");return h}function e(){return i.promise}function f(a){return"WebReverb - "+a}g.makeWebReverb=a;g.getWebReverbDB=b;g.getDbPromise=e;g.mpsOp=f}),98);
__d("WebMpsInsertionFlow",["MpsLogger","MpsTypes","WebMpsReverbWrites","WebReverbDB","err","justknobx","nullthrows"],(function(a,b,c,d,e,f,g){"use strict";async function a(a){if(c("justknobx")._("4336"))try{await d("WebReverbDB").getWebReverbDB().runInTransaction(["message","supplemental","deleted","tags"],"readwrite",async function(b){for(var c of a)await i(c,function(a){return a(b)})},"mps-insertion-flow-shared");return new Map()}catch(a){d("MpsLogger").MpsLogger.catching(a).mustfix("Failed to persist messages")}return h(a)}async function h(a){var b=new Map(),c=async function(a){await i(a,function(a){return d("WebReverbDB").getWebReverbDB().runInTransaction(["message","supplemental","deleted","tags"],"readwrite",function(b){return a(b)},"mps-insertion-flow-separate")}).catch(function(c){b.set(a.message.messageId,c)})};for(a of a)await c(a);return b}function i(a,b){switch(a.directive.actionType){case d("MpsTypes").ActionType.UpsertTopLevel:return j(a,b);case d("MpsTypes").ActionType.UpsertSupplemental:return k(a,b);case d("MpsTypes").ActionType.DeleteTopLevel:return l(a,b);case d("MpsTypes").ActionType.DeleteTopLevelWithPlaceholder:return m(a,b);case d("MpsTypes").ActionType.DeleteSupplemental:return n(a,b);case d("MpsTypes").ActionType.DeleteThread:return o(a,b);case d("MpsTypes").ActionType.Noop:return Promise.resolve();case d("MpsTypes").ActionType.Unknown:case d("MpsTypes").ActionType.Preprocess:return Promise.reject(c("err")("this should not happen"))}}async function j(a,b){var c=a.directive;a=a.message;await d("WebMpsReverbWrites").upsertTopLevelToReverb(a,c,b)}async function k(a,b){var e=a.directive;a=a.message;var f=c("nullthrows")(e.supplementalKey);await d("WebMpsReverbWrites").upsertSupplementalToReverb(a.messageId,a.payload,f,e.targetMessageId,a.threadId,a.timestampMs,b)}function l(a,b){var c=a.message,d=a.directive.targetMessageId,e=[c.threadId,d];return b(async function(a){var b=await a.stores.message.getByIndex("[threadId+messageId]",e),f=await a.stores.deleted.getByIndex("[threadId+deletedMessageId]",e);if(((f=f==null?void 0:f.deletionTimestampMs)!=null?f:0)>=c.timestampMs)return;f={deletedMessageId:d,deletionMessageId:c.messageId,deletionMessagePayload:c.payload,deletionTimestampMs:c.timestampMs,isLocalOnlyMessage:!1,payload:b==null?void 0:b.payload,threadId:c.threadId,timestampMs:b==null?void 0:b.timestampMs};await a.stores.deleted.bulkUpsert("[threadId+deletedMessageId]",[{item:f,selector:e}]);b&&await a.stores.message.bulkDelete([b.pk])})}function m(a,b){var c=a.directive;a=a.message;return d("WebMpsReverbWrites").upsertTopLevelToReverb(a,c,b)}function n(a,b){var d=a.message,e=c("nullthrows")(a.directive.supplementalKey),f=a.directive.targetMessageId,g=[d.threadId,f,e];return b(async function(b){var c=await b.stores.supplemental.getByIndex("[threadId+topLevelMessageId+supplementalKey]",g);if(c==null)return;var h=await b.stores.deleted.getByIndex("[threadId+topLevelMessageId+supplementalKey]",g,{filter:function(a){return a.deletionTimestampMs>=d.timestampMs}});if(h)return;h={deletedMessageId:c.messageId,deletionMessageId:d.messageId,deletionMessagePayload:d.payload,deletionTimestampMs:d.timestampMs,isLocalOnlyMessage:a.directive.isLocalOnly,payload:c.payload,supplementalKey:e,threadId:d.threadId,timestampMs:c.timestampMs,topLevelMessageId:f};await b.stores.deleted.bulkUpsert("[threadId+topLevelMessageId+supplementalKey]",[{item:h,selector:g}]);await b.stores.supplemental.bulkDelete([c.pk])})}function o(a,b){var c=a.message;return b(async function(a){var b=await a.stores.supplemental.readKeysByIndexRange("[threadId+topLevelMessageId+supplementalKey]",{only:[c.threadId]});await a.stores.supplemental.bulkDelete(b);b=await a.stores.message.readIndexRange("[threadId+messageId]",{only:[c.threadId]});await a.stores.message.bulkDelete(b.map(function(a){return a.pk}));var d=await a.stores.tags.readKeysByIndexRange("[threadId+messageId+tag]",{only:[c.threadId]});await a.stores.tags.bulkDelete(d);d=await a.stores.deleted.readKeysByIndexRange("[threadId+deletedMessageId]",{only:[c.threadId]});await a.stores.message.bulkDelete(d);await a.stores.deleted.bulkAdd(b.map(function(a){return{deletedMessageId:a.messageId,deletionMessageId:c.messageId,deletionMessagePayload:c.payload,deletionTimestampMs:c.timestampMs,isLocalOnlyMessage:a.isLocalOnlyMessage,payload:a.payload,threadId:a.threadId,timestampMs:a.timestampMs}}))})}g.persistNewMessages=a}),98);
__d("WebMpsGetDistinctSupplementals",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){var c=new Map(a),d=new Map();b.forEach(function(a,b){var e=c.get(b);if(e==null)c.set(b,a),d.set(b,a);else{e=e.timestampMs;var f=a.timestampMs;f>e&&(c.set(b,a),d.set(b,a))}});return{supplementals:c,supplementalsToWriteToReverb:d}}f.getDistinctSupplementals=a}),66);
__d("WebMpsGetDistinctMessages",["WebMpsGetDistinctSupplementals"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){var c=new Map(),e=new Map();a.forEach(function(a){var b=a.reverbTopLevel;b.debugFlags;var d=b.expiryTimestampMs;b.isLocalOnlyMessage;b.isTransportErrorPlaceholder;b.pk;b=babelHelpers.objectWithoutPropertiesLoose(b,["debugFlags","expiryTimestampMs","isLocalOnlyMessage","isTransportErrorPlaceholder","pk"]);e.set(a.reverbTopLevel.messageId,a);c.set(a.reverbTopLevel.messageId,{expiryTimestampMs:d,supplementalProtobufs:a.supplementalProtobufs,tags:a.tags,toplevelProtobuf:b})});var f=new Map(),g=new Map(),h=new Map();b.forEach(function(a){var b=a.supplementalProtobufs,i=a.tags,j=a.toplevelProtobuf,k=j.messageId,l=e.get(k);if(l==null||l.reverbTopLevel.isTransportErrorPlaceholder===!0)c.set(k,a),f.set(k,j),g.set(k,new Map(b)),h.set(k,i);else{a=l.supplementalProtobufs;j=d("WebMpsGetDistinctSupplementals").getDistinctSupplementals(a,b);i=j.supplementals;a=j.supplementalsToWriteToReverb;b=l.reverbTopLevel;b.debugFlags;j=b.expiryTimestampMs;b.isLocalOnlyMessage;b.isTransportErrorPlaceholder;b.pk;b=babelHelpers.objectWithoutPropertiesLoose(b,["debugFlags","expiryTimestampMs","isLocalOnlyMessage","isTransportErrorPlaceholder","pk"]);c.set(k,{expiryTimestampMs:j,supplementalProtobufs:i,tags:l.tags,toplevelProtobuf:b});a.size>0&&g.set(k,new Map(a))}});return{messages:Array.from(c.values()),supplementalMessagesToWriteToReverb:g,tagsToWriteToReverb:h,topLevelMessagesToWriteToReverb:f}}g.getDistinctMessages=a}),98);
__d("WebMpsPersistMessagesFromEb",["MpsLogger","MpsTypes","WebMpsReverbWrites","WebReverbDB"],(function(a,b,c,d,e,f,g){"use strict";async function a(a,b,c,e){if(a.size===0&&b.size===0)return;try{await d("WebReverbDB").getWebReverbDB().runInTransaction(["message","supplemental","deleted","tags"],"readwrite",function(d){return h(a,b,c,e,function(a){return a(d)})},"mps-persist-messages-from-eb")}catch(a){d("MpsLogger").MpsLogger.catching(a).mustfix("Runtime error performing persistMessagesFromEB");throw a}}function h(a,b,c,e,f){var g=[];a.forEach(function(a,b){g.push(d("WebMpsReverbWrites").upsertTopLevelToReverb(a,{actionType:d("MpsTypes").ActionType.UpsertTopLevel,debugFlags:["EB"],isLocalOnly:!1,isTransportErrorPlaceholder:!1,tags:(a=c.get(b))!=null?a:[],targetMessageId:b},f))});b.forEach(function(a,b){a.forEach(function(a,c){g.push(d("WebMpsReverbWrites").upsertSupplementalToReverb(a.messageId,a.payload,c,b,e,a.timestampMs,f))})});return Promise.all(g).then(function(){})}g.persistMessagesFromEB=a}),98);
__d("WebMpsLoadMessage",["MpsLogger","WAJids","WAResultOrError","WebMpsGetDistinctMessages","WebMpsPersistMessagesFromEb","WebReverbDB","err","getErrorSafe","nullthrows"],(function(a,b,c,d,e,f,g){"use strict";async function h(a,b,c,e,f){try{f.metric.addPoint("load-message-from-reverb_start");var g=d("WebReverbDB").getWebReverbDB();g=await g.runInTransaction(["message","supplemental","tags"],"readonly",function(d){var f=d.stores.message.readIndex("[threadId+messageId]",[a,b],{limit:1}),g=e?d.stores.tags.readIndexRange("[threadId+messageId+tag]",{only:[a,b]}):[];d=c?d.stores.supplemental.readIndexRange("[threadId+topLevelMessageId+supplementalKey]",{only:[a,b]}):[];return Promise.all([f,d,g])},"mps-load-message");var h=g[0];h=h[0];var i=g[1];g=g[2];f.metric.addPoint("load-message-from-reverb_end");if(h==null)return d("WAResultOrError").makeResult(null);var j=new Map();i.forEach(function(a){a.pk;var b=a.supplementalKey;a.threadId;a.topLevelMessageId;a=babelHelpers.objectWithoutPropertiesLoose(a,["pk","supplementalKey","threadId","topLevelMessageId"]);j.set(b,a)});i=g.map(function(a){a=a.tag;return a});return d("WAResultOrError").makeResult({reverbTopLevel:h,supplementalProtobufs:j,tags:i})}catch(a){f.metric.addPoint("load-message-from-reverb_fail");d("MpsLogger").MpsLogger.catching(a).mustfix("Runtime error performing loadMessageFromReverb");return d("WAResultOrError").makeError("runtime-error")}}async function i(a,b,e,f){try{e=e.messagePointQuery;var g=d("WAJids").validateChatJid(a);g=c("nullthrows")(g,"invalid threadId passed to validateThreadId: "+a);e=await e({chatJid:g,messageId:b});if(e.success&&e.value.messages!=null){g=f(e.value.messages,a);b=g[0];return b}return null}catch(a){d("MpsLogger").MpsLogger.catching(a).mustfix("Runtime error performing loadMessageFromEB");throw a}}async function a(a,b,e,f,g){var j=e.decodeAndParseEbProtobufs,k=e.eb;e=f.shouldFetchSupplementals;var l=f.shouldFetchTags;f=f.strategy;try{g.metric.addPoint("load-message_start");e=h(a,b,e,l,g);l=async function(){try{g.metric.addPoint("load-message-from-eb-check_start");var e=await k.isEbEnabled();g.metric.addPoint("load-message-from-eb-check_end",{bool:{ebEnabled:e}});if(!e)return d("WAResultOrError").makeError("eb-not-enabled");g.metric.addPoint("load-message-from-eb_start");e=await i(a,b,k,j);g.metric.addPoint("load-message-from-eb_end");return d("WAResultOrError").makeResult(e)}catch(a){g.metric.addPoint("load-message-from-eb_fail");d("MpsLogger").MpsLogger.catching(c("getErrorSafe")(a)).mustfix("Error fetching from EB");return d("WAResultOrError").makeError("eb-fetch")}};var m,n;switch(f){case"local-first":m=await e;m.success===!0&&m.value!=null?n=d("WAResultOrError").makeError("canceled"):n=await l();break;case"full-fetch":l=await Promise.all([e,l()]);m=l[0];n=l[1];break;case"local-only":m=await e;n=d("WAResultOrError").makeError("canceled");break;default:f;throw c("err")("empty strategy")}if(!m.success&&!n.success)return d("WAResultOrError").DEPRECATED_makeError("data-fetching-error",c("err")("Error fetching from reverb: %s and EB: %s",m.error,n.error));if(n.value==null&&m.value==null)return d("WAResultOrError").makeResult();l=d("WebMpsGetDistinctMessages").getDistinctMessages([m.value].filter(Boolean),[n.value].filter(Boolean));e=l.messages;f=l.supplementalMessagesToWriteToReverb;var o=l.tagsToWriteToReverb;l=l.topLevelMessagesToWriteToReverb;void d("WebMpsPersistMessagesFromEb").persistMessagesFromEB(l,f,o,a);g.metric.addPoint("load-message_end");return d("WAResultOrError").makeResult(e[0])}catch(a){g.metric.addPoint("load-message_fail");d("MpsLogger").MpsLogger.catching(a).mustfix("Runtime error performing loadMessage");return d("WAResultOrError").DEPRECATED_makeError("runtime-error",a)}}g.loadMessage=a}),98);
__d("WebMpsLoadMessages",["MpsLogger","MpsTypes","WAJids","WAResultOrError","WebMpsGetDistinctMessages","WebMpsPersistMessagesFromEb","WebReverbDB","err","first","getErrorSafe","last","nullthrows"],(function(a,b,c,d,e,f,g){"use strict";function h(a,b,c,e,f,g,h,i){var j=b[0],k=b[1];try{i.metric.addPoint("reverb_fetch_start");b=d("WebReverbDB").getWebReverbDB();return b.runInTransaction(["message","supplemental","tags"],"readonly",async function(b){var d=b.stores.message.getIndexRangeIterator("[threadId+timestampMs+messageId]",c,{greaterThanOrEqual:[a],lessThanOrEqual:[a]},h?function(a){return a.isLocalOnlyMessage===!1}:void 0),l=k==null?[a,j]:[a,j,k];d=await d.read(l,e);l=d.cursorInfo;d=d.data;d=await Promise.all(d.map(async function(c){var d=f?await b.stores.supplemental.readIndexRange("[threadId+topLevelMessageId+supplementalKey]",{only:[a,c.messageId]}):[],e=new Map();d.forEach(function(a){a.pk;var b=a.supplementalKey;a.threadId;a.topLevelMessageId;a=babelHelpers.objectWithoutPropertiesLoose(a,["pk","supplementalKey","threadId","topLevelMessageId"]);e.set(b,a)});d=g?await b.stores.tags.readIndexRange("[threadId+messageId+tag]",{only:[a,c.messageId]}):[];d=d.map(function(a){a=a.tag;return a});return{reverbTopLevel:c,supplementalProtobufs:e,tags:d}}));i.metric.addPoint("reverb_fetch_end");return{cursorInfo:{endCursor:l.endCursor!=null?[l.endCursor[1],l.endCursor[2]]:null,hasNext:l.hasNext,hasPrevious:l.hasPrevious,startCursor:l.startCursor!=null?[l.startCursor[1],l.startCursor[2]]:null},messages:d}},"mps-load-messages")}catch(a){d("MpsLogger").MpsLogger.catching(a).mustfix("Runtime error performing loadMessagesFromReverb");i.metric.addPoint("reverb_fetch_fail");throw a}}async function i(a,b,e,f,g,h,i){try{i.metric.addPoint("eb_fetch_start");g=g.messageRangeQuery;var j=d("WAJids").validateChatJid(a);j=c("nullthrows")(j,"invalid threadId passed to validateThreadId: "+a);var k=Date.now()+6e4;b=Math.max(0,Math.min(b[0],k));k=await g({after:[""+b,void 0],chatJid:j,direction:e==="asc"?"after":"before",numMessages:f});if(k.success===!0){g=k.value;b=g.cursorInfo;j=b.endCursor;e=b.hasNext;f=b.hasPrevious;b=b.startCursor;g=g.messages;h=g!=null?h(g,a):[];i.metric.addPoint("eb_fetch_end");return d("WAResultOrError").makeResult({cursorInfo:{endCursor:j!=null?[Number(j[0]),d("MpsTypes").toMessageId(j[1])]:void 0,hasNext:e,hasPrevious:f,startCursor:b!=null?[Number(b[0]),d("MpsTypes").toMessageId(b[1])]:void 0},messages:h})}d("MpsLogger").MpsLogger.warn("EB Fetch Failed: %s",k.error);i.metric.addPoint("eb_fetch_fail");return d("WAResultOrError").makeError("eb-fetch")}catch(a){d("MpsLogger").MpsLogger.catching(c("getErrorSafe")(a)).mustfix("Runtime error performing loadMessageFromEB");i.metric.addPoint("eb_fetch_fail");return d("WAResultOrError").makeError("eb-fetch")}}async function a(a,b,e,f,g,j,k){var l=g.decodeAndParseEbProtobufs,m=g.eb;g=j.shouldFetchSupplementals;var n=j.shouldFetchTags,o=j.shouldIgnoreLocalOnly;j=j.strategy;try{k.metric.addPoint("mps_fetch_start");g=h(a,b,e,f,g,n,o,k);n=async function(){try{k.metric.addPoint("load-messages-from-eb-check_start");var g=await m.isEbEnabled();k.metric.addPoint("load-messages-from-eb-check_end",{bool:{ebEnabled:g}});if(!g)return d("WAResultOrError").makeError("eb-not-enabled");k.metric.addPoint("load-messages-from-eb_start");g=await i(a,b,e,f,m,l,k);g.success===!1?k.metric.addPoint("load-messages-from-eb_fail"):k.metric.addPoint("load-messages-from-eb_end");return g}catch(a){k.metric.addPoint("load-messages-from-eb_fail");d("MpsLogger").MpsLogger.catching(c("getErrorSafe")(a)).mustfix("Error fetching from EB");return d("WAResultOrError").makeError("eb-fetch")}};var p,q;switch(j){case"full-fetch":o=await Promise.all([g,n()]);p=o[0];q=o[1];break;case"local-only":p=await g;q=d("WAResultOrError").makeError("canceled");break;default:j;throw c("err")("empty strategy")}o=d("WebMpsGetDistinctMessages").getDistinctMessages((o=(n=p)==null?void 0:n.messages)!=null?o:[],(n=(g=q)==null?void 0:(j=g.value)==null?void 0:j.messages)!=null?n:[]);g=o.messages;j=o.supplementalMessagesToWriteToReverb;n=o.tagsToWriteToReverb;o=o.topLevelMessagesToWriteToReverb;void d("WebMpsPersistMessagesFromEb").persistMessagesFromEB(o,j,n,a);if(p==null||q.success===!1||q.value==null){o=p!=null?babelHelpers.extends({},p,{messages:p.messages.map(function(a){var b=a.reverbTopLevel;a=a.supplementalProtobufs;b.debugFlags;var c=b.expiryTimestampMs;b.isLocalOnlyMessage;b.isTransportErrorPlaceholder;b.pk;b=babelHelpers.objectWithoutPropertiesLoose(b,["debugFlags","expiryTimestampMs","isLocalOnlyMessage","isTransportErrorPlaceholder","pk"]);return{expiryTimestampMs:c,supplementalProtobufs:a,tags:[],toplevelProtobuf:b}})}):q.value;return o==null?d("WAResultOrError").makeError("data-fetching-error"):d("WAResultOrError").makeResult(o)}j=q.value;n=[].concat(g).sort(function(a,b){return e==="asc"?a.toplevelProtobuf.timestampMs-b.toplevelProtobuf.timestampMs:b.toplevelProtobuf.timestampMs-a.toplevelProtobuf.timestampMs});o=n.slice(0,f);g=c("first")(o);n=c("last")(o);g=g!=null?[g.toplevelProtobuf.timestampMs,g.toplevelProtobuf.messageId]:void 0;n=n!=null?[n.toplevelProtobuf.timestampMs,n.toplevelProtobuf.messageId]:void 0;var r=n!=null?j.cursorInfo.hasNext||p.cursorInfo.hasNext:!1;j=g!=null?j.cursorInfo.hasPrevious||p.cursorInfo.hasPrevious:!1;return d("WAResultOrError").makeResult({cursorInfo:{endCursor:n,hasNext:r,hasPrevious:j,startCursor:g},messages:o})}catch(a){n=c("getErrorSafe")(a);d("MpsLogger").MpsLogger.catching(n).mustfix("Runtime error performing loadMessages");return d("WAResultOrError").DEPRECATED_makeError("runtime-error",n)}}g.loadMessages=a}),98);
__d("WebMpsPostprocess",["MpsErrors","MpsLogger"],(function(a,b,c,d,e,f,g){"use strict";async function a(a,b){var c=a,e=new Map();a=async function(a){var b=await a.process(c);b.size>0&&(b.forEach(function(b,c){e.set(c,new(d("MpsErrors").ProcessorError)(b.message,a.name))}),c=c.filter(function(a){return!b.has(a.message.messageId)}))};for(b of b)await a(b);return{errors:e,msgs:c}}async function b(a,b){await Promise.all(b.map(async function(b){b=await b.process(a).catch(function(a){d("MpsLogger").MpsLogger.catching(a).mustfix("PostProcessor Runtime failure")});b!=null&&b.size>0&&b.forEach(function(a){d("MpsLogger").MpsLogger.catching(a).mustfix("PostProcessor fails")})}))}g.runCriticalPostprocessor=a;g.runNonCriticalPostprocessor=b}),98);
__d("WebMpsPreprocess",["MpsErrors"],(function(a,b,c,d,e,f,g){"use strict";async function a(a,b){var c=a,e=new Map();a=async function(a){var b=a.process!=null?a.process(c):await a.processAsync(c);c=b.payload;b.errors.forEach(function(b,c){e.set(c,new(d("MpsErrors").ProcessorError)(b.message,a.name))})};for(b of b)await a(b);return{errors:e,msgs:c}}g.preprocess=a}),98);
__d("WebMpsPurgeDeletions",["DateConsts","QPLUserFlow","WebReverbDB","qpl"],(function(a,b,c,d,e,f,g){"use strict";var h=30*d("DateConsts").MS_PER_DAY;function a(){var a=c("qpl")._(521474688,"2714"),b={instanceKey:Date.now()};c("QPLUserFlow").start(a,b);try{return d("WebReverbDB").getWebReverbDB().runInTransaction(["deleted","supplemental","tags","message"],"readwrite",async function(d){var e=Date.now()-h;e=await d.stores.deleted.readIndexRange("deletionTimestampMs",{lessThanOrEqual:[e]});var f=e.map(function(a){return[a.threadId,a.deletedMessageId]});c("QPLUserFlow").addAnnotations(a,{int:{num_deletions:e.length}},b);var g=Promise.all(f.map(function(a){return d.stores.supplemental.readKeysByIndexRange("[threadId+topLevelMessageId+supplementalKey]",{only:a})})).then(function(a){return a.flat()}).then(function(a){return d.stores.supplemental.bulkDelete(a)});f=Promise.all(f.map(function(a){return d.stores.tags.readKeysByIndexRange("[threadId+messageId+tag]",{only:a})})).then(function(a){return a.flat()}).then(function(a){return d.stores.tags.bulkDelete(a)});e=d.stores.deleted.bulkDelete(e.map(function(a){return a.pk}));await Promise.all([g,f,e]);c("QPLUserFlow").endSuccess(a,b)},"web-mps-purge-deletions")}catch(d){c("QPLUserFlow").endFailure(a,d,b);throw d}}g.purgeDeletions=a}),98);
__d("WebMpsPurgeExpiredMessages",["QPLUserFlow","WebReverbDB","qpl"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a=c("qpl")._(521484777,"2715"),b={instanceKey:Date.now()};c("QPLUserFlow").start(a,b);try{return d("WebReverbDB").getWebReverbDB().runInTransaction(["message","deleted"],"readwrite",async function(d){var e=Date.now(),f=await d.stores.message.readIndexRange("expiryTimestampMs",{lessThanOrEqual:[e]});c("QPLUserFlow").addAnnotations(a,{int:{num_expired_messages:f.length}},b);var g=await Promise.all(f.map(async function(a){var b=a.messageId;if(b!=null){a=await d.stores.deleted.getByIndex("[threadId+deletedMessageId]",[a.threadId,b]);return a==null?void 0:a.pk}return null})).then(function(a){return a.filter(Boolean)});await d.stores.deleted.bulkDelete(g);g=f.map(function(a){return{deletedMessageId:a.messageId,deletionMessageId:a.messageId,deletionMessagePayload:a.payload,deletionTimestampMs:e,isLocalOnlyMessage:!0,payload:a.payload,threadId:a.threadId,timestampMs:a.timestampMs}});await d.stores.deleted.bulkAdd(g);await d.stores.message.bulkDelete(f.map(function(a){return a.pk}));c("QPLUserFlow").endSuccess(a,b)},"web-mps-purge-deletions")}catch(d){c("QPLUserFlow").endFailure(a,d,b);throw d}}g.purgeExpiredMessages=a}),98);
__d("WebMpsScheduler",["WorkerScheduler","justknobx"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(){if(h==null){var a;h=d("WorkerScheduler").makeScheduler("MPS",{concurrency:(a=c("justknobx"))._("4338"),defaultSamplingRate:a._("4540"),maxConcurrency:a._("4338"),maxThrottleMs:a._("4339"),timeToStuckMs:a._("4337")})}return h}g.mpsScheduler=a}),98);
__d("schedulePeriodicTask",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){var c=async function c(){try{await a()}finally{globalThis.setTimeout(c,b)}};globalThis.setTimeout(c,0)}f.schedulePeriodicTask=a}),66);
__d("WebMps",["DateConsts","MpsLogProcessorErrors","MpsLogger","WebMpsInsertionFlow","WebMpsLoadMessage","WebMpsLoadMessages","WebMpsPostprocess","WebMpsPreprocess","WebMpsPurgeDeletions","WebMpsPurgeExpiredMessages","WebMpsScheduler","WebReverbDB","WorkerScheduler","err","getErrorSafe","justknobx","memoizeWithArgsLFUCache","mergeMaps","nullthrows","schedulePeriodicTask"],(function(a,b,c,d,e,f,g){"use strict";var h;async function a(a){var b=a.db,e=a.dependencies;a=a.extensionConfiguration;if(h!=null)throw c("err")("MPS already initialised");await d("WebReverbDB").makeWebReverb(b.name,b.strEncKey,b.blockingErrorThreshold,b.onBlockingError,b.qplEvent);b=new i(a,e);h=b;return b}var i=function(){function a(a,b){var e=this;this.$2=[];this.loadMessage=c("memoizeWithArgsLFUCache")(function(a){var b=a.config,f=a.debug,g=a.messageId,h=a.threadId;return d("WebMpsScheduler").mpsScheduler().runTask({annotations:{string:{purpose:f.purpose,strategy:(a=b==null?void 0:b.strategy)!=null?a:"full-fetch"}},customFlags:{runtimeReliability:!0},eventSamplingRate:c("justknobx")._("4536"),fn:function(a){var c;return d("WebMpsLoadMessage").loadMessage(h,g,e.$1,{shouldFetchSupplementals:(c=b==null?void 0:b.shouldFetchSupplementals)!=null?c:!0,shouldFetchTags:(c=b==null?void 0:b.shouldFetchTags)!=null?c:!0,strategy:(c=b==null?void 0:b.strategy)!=null?c:"full-fetch"},a)},name:"load-message",priority:d("WorkerScheduler").BLOCKING_PRIORITY})},function(a){a.debug;a=babelHelpers.objectWithoutPropertiesLoose(a,["debug"]);return JSON.stringify(babelHelpers.extends({},a,{ebEnabled:e.$1.eb.isEbEnabled()}))},1,function(a){e.$2.push(a)});this.loadMessages=c("memoizeWithArgsLFUCache")(function(a){var b=a.config,f=a.debug,g=a.direction,h=a.from,i=a.numMessages,j=a.threadId;return d("WebMpsScheduler").mpsScheduler().runTask({annotations:{string:{purpose:f.purpose,strategy:(a=b==null?void 0:b.strategy)!=null?a:"full-fetch"}},customFlags:{runtimeReliability:!0},eventSamplingRate:c("justknobx")._("4538"),fn:function(a){var c;return d("WebMpsLoadMessages").loadMessages(j,h,g,i,e.$1,{shouldFetchSupplementals:(c=b==null?void 0:b.shouldFetchSupplementals)!=null?c:!0,shouldFetchTags:(c=b==null?void 0:b.shouldFetchTags)!=null?c:!0,shouldIgnoreLocalOnly:(c=b==null?void 0:b.shouldIgnoreLocalOnly)!=null?c:!1,strategy:(c=b==null?void 0:b.strategy)!=null?c:"full-fetch"},a)},name:"load-messages",priority:d("WorkerScheduler").BLOCKING_PRIORITY})},function(a){a.debug;a=babelHelpers.objectWithoutPropertiesLoose(a,["debug"]);return JSON.stringify(babelHelpers.extends({},a,{ebEnabled:e.$1.eb.isEbEnabled()}))},10/60,function(a){e.$2.push(a)});this.extensionConfiguration=a;this.$1=b;this.$3()}var b=a.prototype;b.saveNewMessages=function(a,b){var e=this;return d("WebMpsScheduler").mpsScheduler().runTask({annotations:{string:{source:b.source}},customFlags:{runtimeReliability:!0},eventSamplingRate:c("justknobx")._("4535"),fn:async function(f){e.$4();f.metric.addPoint("preprocess_start");var g=await d("WebMpsPreprocess").preprocess(a,e.extensionConfiguration.preprocessors),h=g.errors;g=g.msgs;f.metric.addPoint("preprocess_end");d("MpsLogProcessorErrors").MpsLogProcessorErrors(h,"Preprocessor",b.source,f);g=g.map(function(a){return babelHelpers.extends({},a,{directive:c("nullthrows")(a.directive,"Preprocessed messages must have a directive")})});f.metric.addPoint("persist_start");var i=await d("WebMpsInsertionFlow").persistNewMessages(g);f.metric.addPoint("persist_end");f.metric.addPoint("postprocess_start");g=await e.$5(g);f.metric.addPoint("postprocess_end");d("MpsLogProcessorErrors").MpsLogProcessorErrors(g,"Postprocessor",b.source,f);return c("mergeMaps")(h,i,g)},name:"save-new-messages",priority:d("WorkerScheduler").BLOCKING_PRIORITY})};b.$5=async function(a){var b=this,e,f;try{a=await d("WebMpsPostprocess").runCriticalPostprocessor(a,this.extensionConfiguration.postProcessors.critical);e=a.errors;f=a.msgs}catch(a){d("MpsLogger").MpsLogger.catching(a).mustfix("Message postprocessor failed with runtime error %s",a);throw a}d("WebMpsScheduler").mpsScheduler().runTask({eventSamplingRate:c("justknobx")._("4537"),fn:function(){return d("WebMpsPostprocess").runNonCriticalPostprocessor(f,b.extensionConfiguration.postProcessors.nonCritical)},name:"non-critical-postprocessors"}).catch(function(a){d("MpsLogger").MpsLogger.catching(a).mustfix("Non-critical postprocessor failed with runtime error %s",a)});return e};b.purgeDeletions=async function(){try{await d("WebMpsScheduler").mpsScheduler().runTask({fn:d("WebMpsPurgeDeletions").purgeDeletions,name:"purge-deletions",priority:d("WorkerScheduler").BACKGROUND_PRIORITY})}catch(a){d("MpsLogger").MpsLogger.catching(c("getErrorSafe")(a)).mustfix("failed running purgeDeletions")}};b.purgeExpiredMessages=async function(){try{await d("WebMpsScheduler").mpsScheduler().runTask({eventSamplingRate:c("justknobx")._("4539"),fn:d("WebMpsPurgeExpiredMessages").purgeExpiredMessages,name:"purge-expired-messages",priority:d("WorkerScheduler").BACKGROUND_PRIORITY})}catch(a){d("MpsLogger").MpsLogger.catching(c("getErrorSafe")(a)).mustfix("failed running purgeExpiredMessages")}};b.$4=function(){this.$2.forEach(function(a){return a()})};b.$3=function(){var a=this;d("schedulePeriodicTask").schedulePeriodicTask(function(){return a.purgeDeletions()},d("DateConsts").MS_PER_DAY);d("schedulePeriodicTask").schedulePeriodicTask(function(){return a.purgeExpiredMessages()},d("DateConsts").MS_PER_HOUR)};return a}();function b(){if(h==null)throw c("err")("MPS not initialised");return h}function e(){h=void 0}g.makeMps=a;g.mps=b;g.resetMps_TEST_ONLY=e}),98);/*FB_PKG_DELIM*/
__d("BizKitRelayEnvironmentFactory",["cr:9515"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:9515")}),98);
__d("BizKitScopingContext",["emptyFunction","react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b=a.createContext({assets:[],globalScope:null,setAssets:c("emptyFunction"),setGlobalScope:c("emptyFunction")});b.displayName="BizKitScopingContext";e=b;g["default"]=e}),98);
__d("BusinessAssetTypeEnum.facebook",["$InternalEnum"],(function(a,b,c,d,e,f){a=b("$InternalEnum").Mirrored(["ADS_EVENT_SOURCE","ADVANCED_ANALYTICS_INSTANCE","AD_ACCOUNT","AD_ACCOUNT_CREATION_REQUEST","AD_DRAFT_WORKSPACE","AD_IMAGE","AD_STUDY","APP","BANK","BLOCK_LIST","BRAND","BUSINESS_CREATIVE_ASSET","BUSINESS_CREATIVE_FOLDER","BUSINESS_FRANCHISE_CONFIG","BUSINESS_IMAGE","BUSINESS_LOCATIONS_WRAPPER","BUSINESS_LOYALTY_PROGRAM","BUSINESS_PAYOUT_ACCOUNT","BUSINESS_PERSON","BUSINESS_REQUEST","BUSINESS_RESOURCE_GROUP","BUSINESS_UNIT","BUSINESS_VIDEO","CAIPT_ASSET","CLOUD_PLAYABLE_ASSET","CONTENT_BLOCK_LIST","CREATOR_MARKETPLACE_BRAND_PROFILE","CREATOR_SELLER_PROFILE","CREDENTIAL_SHARE_REQUEST","CREDIT_CARD","CREDIT_PARTITION","CREDIT_PARTITION_CONFIG","CUSTOM_AUDIENCE","CUSTOM_CONVERSION","DYNAMIC_CONTENT_SET","EVENTS_DATASET","EVENTS_DATASET_AND_PIXEL","EVENTS_DATASET_NEW","EVENT_SOURCE_GROUP","EXAMPLE_CAT","FINANCE","FUNDING_SOURCE","GRP_PLAN","HOTEL_PRICE_FETCHER_PULL_CONFIG","INSTAGRAM_ACCOUNT","INSTAGRAM_ACCOUNT_V2","INSTAGRAM_BUSINESS_ASSET","IP","LEADS_ACCESS","LEGACY_LOGIN","LEGAL_ENTITY","MARKETPLACE_PARTNER_BILLABLE_ACCOUNT","MESSAGING_DATASET","MONETIZATION_PROPERTY","MV4B_BILLABLE_ACCOUNT","NEWS_PAGE","NME_BUSINESS_SUBSCRIPTION_ASSET","OFFLINE_CONVERSION_DATA_SET","OFFSITE_EMAIL_ACCOUNT","OWNED_DOMAIN","PAGE","PAGE_FOR_LOCATIONS","PAYOUT_ACCOUNT","PHOTO","PIXEL","PLACE_PAGE_SET","PLATFORM_CUSTOM_AUDIENCE","PRODUCT_CATALOG","PROFILE_PLUS","PROJECT","PUBLISHER_WHITE_LIST","RECEIPT","REGISTERED_TRADEMARK","RESELLER_VETTING_OE_REQUEST","SAVED_AUDIENCE","SELLER_PROFILE","SIGNALS_EVENT_NAME","SIGNAL_SEGMENT","SLICED_EVENT_SOURCE_GROUP","SPACO_DS_DATA_COLLECTION","SYSTEM_USER","UNKNOWN","USER","VIDEO_ASSET","WHATSAPP_BUSINESS_ACCOUNT","WHATSAPP_MARKETING_MESSAGE_SUBSCRIBER_POOL"]);c=a;f["default"]=c}),66);
__d("BusinessCometRelayEnvironmentFactory",["cr:9829"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:9829")}),98);
__d("E2eeStateTypes",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";c=(a=b("$InternalEnum"))({NONE:0,NEGOTIATED:1,STATIC:2});d=a({NONE:0,MEDIA_CHANNEL_KEY_PROTOCOL:1});f=a({SENDER_KEY:0,SESSION_KEY:1});b=a({NOT_SET:0,CONTROL:1,TEST:2});var g=a({NOT_SET:0,CONTROL:1,TEST:2});a=a({ENABLED:0,DISABLED:1,FALLBACK:2});e.exports={E2eeKeyNegotiationProtocolEnum:f,E2eeStateCapabilitiesEnum:d,E2eeStateP2PSFrameExpStatus:g,InfraMandatedExpStatus:b,KeyNegotiationModeEnum:c,SignalingKeyMessageProtocolEnum:a}}),null);
__d("FDSArrowsCircleFilled24Icon",["cr:14428"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:14428")}),98);
__d("FDSArrowsCircleFilled24PNGIcon.react",["ix","fbicon"],(function(a,b,c,d,e,f,g,h){"use strict";a=d("fbicon")._(h("538038"),24);b=a;g["default"]=b}),98);
__d("LSThreadPointQueryAndRestoreMessagesWithGroupJID",["LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return d[0]=new c.Map(),d[0].set("wa_jid",a[0]),d[0].set("tam_thread_subtype",c.i64.cast([0,0])),d[1]=d[0].get("wa_jid"),d[2]=c.toJSON(d[0]),c.storedProcedure(b("LSIssueNewTask"),c.i64.to_string(d[1]),c.i64.cast([0,1021]),d[2],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]))},function(a){return c.resolve(e)}])}a.__sproc_name__="LSE2EEMessagingMetadataMailboxThreadPointQueryAndRestoreMessagesWithGroupJIDStoredProcedure";a.__tables__=[];e.exports=a}),null);
__d("LSThreadPointQueryAndRestoreMessagesWithGroupJIDStoredProcedure",["LSSynchronousPromise","LSThreadPointQueryAndRestoreMessagesWithGroupJID","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSThreadPointQueryAndRestoreMessagesWithGroupJID"),e.waJid);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("MAWBridgeUploadMessageGQLHandlerSingleTxn",["EBIsEbEnabled","EncryptedBackupsWriteToMPSTables","MAWBridgeGQLUploadUtils","MAWEBFalcoLoggerUtils","MAWEBFrontendQPLLogger","MWEBODSCategory","MWEBODSEntityName.enum","MWEBODSUtils","MWEBUseLocalStorage","MWEncryptedBackupsLocalStorageEntryEnum","ODS","WAErrorMessage","WAResultOrError","isInstamadilloEB"],(function(a,b,c,d,e,f,g){"use strict";var h;async function a(a,b){try{if(c("isInstamadilloEB")()){d("MAWEBFrontendQPLLogger").addPointForUploadMessageArray(b,"upload_tracking_gql_cancelled_instamadillo");b.forEach(function(a){var b=a.echoDocument!=null?"dual_upload":"protobuf_only";d("MAWEBFalcoLoggerUtils").logEBFalcoTaskFailure(a,b,"gql_cancelled_instamadillo")});return d("WAResultOrError").makeError("gql_cancelled_instamadillo")}d("MAWEBFrontendQPLLogger").addPointForUploadMessageArray(b,"upload_tracking_gql_handler_single_txn_start");var e="mps_write_failure",g=await a.runInTransaction(async function(f){if(!await d("EBIsEbEnabled").isEbEnabledLS(a.tables)){b.forEach(function(a){if(a.uploadTrackingInstanceKey!=null){var b,e=a.uploadTrackingInstanceKey;d("MAWEBFrontendQPLLogger").addPointEBUploadTracking(e,"user_device_not_enrolled_invalid_gql_request");var f=d("MWEBUseLocalStorage").mwEBGetIsLocalStorageEntryValuePresent(c("MWEncryptedBackupsLocalStorageEntryEnum").MW_EB_HAS_RESTORED_IN_CURRENT_SESSION);b=(b=d("MWEBUseLocalStorage").mwEBGetLocalStorageEntryValue(c("MWEncryptedBackupsLocalStorageEntryEnum").EBSM_CORRUPTION_WIPE))!=null?b:"no";f={bool:{wasEBEnabledPreviously:f},string:{wasEBSMWiped:b}};b=a.echoDocument!=null?"dual_upload":"protobuf_only";d("MAWEBFalcoLoggerUtils").logEBFalcoTaskSkipped(a,b,"user_device_not_enrolled");d("MAWEBFrontendQPLLogger").endEBUploadTracking(e,f)}});var g=[];e="user_device_not_enrolled";return g}else{d("MAWEBFrontendQPLLogger").addPointForUploadMessageArray(b,"upload_tracking_gql_handler_mps_write_start");g=await i(f,b);d("MAWEBFrontendQPLLogger").addPointForUploadMessageArray(b,"upload_tracking_gql_handler_mps_write_end");return g}},"readwrite",void 0,void 0,f.id+":84");g=g.filter(Boolean);if(g.length===0)return d("WAResultOrError").makeError(e);(h||(h=d("ODS"))).bumpEntityKey(c("MWEBODSCategory"),c("MWEBODSEntityName.enum").MAW_EB_UPLOAD_TRACKING,"graphql.batch.size."+g.length);h.bumpEntityKey(c("MWEBODSCategory"),c("MWEBODSEntityName.enum").MAW_EB_UPLOAD_TRACKING,"graphql.batch.bucket"+d("MWEBODSUtils").getBucketName(g.length));d("MAWEBFrontendQPLLogger").addPointForUploadMessageArray(b,"upload_tracking_gql_handler_upload_start");g.forEach(function(a){var b=a.echoDocument!=null?"dual_upload":"protobuf_only";d("MAWEBFalcoLoggerUtils").logEBFalcoTaskIssued(a,b)});var j=await d("MAWBridgeGQLUploadUtils").uploadMessageOverGQL(a,g);d("MAWEBFrontendQPLLogger").addPointForUploadMessageArray(b,"upload_tracking_gql_handler_single_txn_end");!j.success?g.forEach(function(a){var b=a.echoDocument!=null?"dual_upload":"protobuf_only";d("MAWEBFalcoLoggerUtils").logEBFalcoTaskFailure(a,b,j.error)}):g.forEach(function(a){d("MAWEBFalcoLoggerUtils").logEBFalcoEncryptedBackupUploadSuccess(a)});return j}catch(a){b.forEach(function(b){var c=b.echoDocument!=null?"dual_upload":"protobuf_only";d("MAWEBFalcoLoggerUtils").logEBFalcoTaskFailure(b,c,d("WAErrorMessage").maybeGetMessageFromError(a));b.uploadTrackingInstanceKey!=null&&d("MAWEBFrontendQPLLogger").failEBUploadTracking(b.uploadTrackingInstanceKey,"gql_upload_runtime_error",a instanceof Error?{string:{runtime_error:a.message}}:void 0)});return d("WAResultOrError").makeError("gql_upload_runtime_error")}}async function i(a,b){b=b.map(async function(b){var c=b.protoMsg,e=b.uploadTrackingInstanceKey!=null?d("MAWEBFrontendQPLLogger").makeEBFrontendQplFlowFromInstanceKey(b.uploadTrackingInstanceKey):null;if(c!=null){c=c.backupActionType===1?Promise.all([d("EncryptedBackupsWriteToMPSTables").writeToMPSTables(a,c,b.threadId,!1,e),d("EncryptedBackupsWriteToMPSTables").writeTagsToMPSTables(a,c,b.threadId)]):d("EncryptedBackupsWriteToMPSTables").writeToMPSTables(a,c,b.threadId,!1,e);e=await c.then(function(){return b},function(a){b.uploadTrackingInstanceKey!=null&&d("MAWEBFrontendQPLLogger").failEBUploadTracking(b.uploadTrackingInstanceKey,"upload_tracking_gql_handler_failed_mps_write",{string:{error:d("WAErrorMessage").maybeGetMessageFromError(a),errorMsgType:b.messageType}});return null});return e}return b});b=await Promise.all(b);return b.filter(Boolean)}g.call=a}),98);
__d("MAWFTSRawStringMatcher",["JSResourceForInteraction","nullthrows"],(function(a,b,c,d,e,f,g){"use strict";var h=c("JSResourceForInteraction")("WAFtsMultiLangTokenizer").__setRef("MAWFTSRawStringMatcher"),i=null;async function a(){i=await h.load();return k}function j(a){return new(c("nullthrows")(i))().tokenize(a)}function k(a,b){a=Array.from(j(a)).filter(function(a){return a.length>1});if(a.length===0)return!1;var c=Array.from(j(b));return a.every(function(a){return c.some(function(b){return b.startsWith(a)})})}g.load=a}),98);
__d("MDSIcon.react",["BaseTheme.react","Box.react","FDSIcon.react","SVGIcon","XPlatReactEnvironment","getMDSIconColorCometFallback","react","react-compiler-runtime","useMDSIconColors"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));h.useMemo;var j={iconBackground:{alignItems:"x6s0dn4",backgroundColor:"x1qhmfi1",borderTopStartRadius:"x17zif9m",borderTopEndRadius:"xfjaqqx",borderBottomEndRadius:"x1il12k9",borderBottomStartRadius:"x32snf2",display:"x78zum5",justifyContent:"xl56j7k",paddingTop:"x1iorvi4",paddingEnd:"x150jy0e",paddingBottom:"xjkvuk6",paddingStart:"x1e558r4",$$css:!0},themeWrapper:{display:"xt0psk2",$$css:!0}},k={dark:{"secondary-button-background":"rgba(255, 255, 255, 0.14)"},light:{"secondary-button-background":"rgba(0, 0, 0, 0.04)"},type:"VARIABLES"};function a(a){var b=d("react-compiler-runtime").c(19),e,f,g,h;b[0]!==a?(g=a.ref,h=a.backgroundEnabled,e=a.color,f=babelHelpers.objectWithoutPropertiesLoose(a,["ref","backgroundEnabled","color"]),b[0]=a,b[1]=e,b[2]=f,b[3]=g,b[4]=h):(e=b[1],f=b[2],g=b[3],h=b[4]);a=h===void 0?!1:h;h=c("useMDSIconColors")(!0);h=e!=null&&e!=="primary"?h[e]:void 0;var l;b[5]!==h?(l=h!=null?{dark:{"primary-icon":h},light:{"primary-icon":h},type:"VARIABLES"}:void 0,b[5]=h,b[6]=l):l=b[6];h=l;l=h;h=f.icon instanceof d("SVGIcon").SVGIcon;var m;b[7]!==e||b[8]!==h?(m=h?"primary":d("getMDSIconColorCometFallback").getMDSIconColorCometFallback(e),b[7]=e,b[8]=h,b[9]=m):m=b[9];b[10]!==f||b[11]!==g||b[12]!==m?(e=i.jsx(c("FDSIcon.react"),babelHelpers["extends"]({color:m,ref:g},f)),b[10]=f,b[11]=g,b[12]=m,b[13]=e):e=b[13];h=e;if(l!=null){b[14]!==l||b[15]!==h?(f=i.jsx(c("BaseTheme.react"),{config:l,xstyle:d("XPlatReactEnvironment").isWeb()?j.themeWrapper:null,children:h}),b[14]=l,b[15]=h,b[16]=f):f=b[16];h=f}if(a){b[17]!==h?(g=i.jsx(c("BaseTheme.react"),{config:k,children:i.jsx(c("Box.react"),{xstyle:j.iconBackground,children:h})}),b[17]=h,b[18]=g):g=b[18];return g}return h}g["default"]=a}),98);
__d("getLSMediaContactProfilePictureLargeUrl",["LSMediaUrlUtils"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.profilePictureLargeUrlExpirationTimestampMs;if(b!=null&&d("LSMediaUrlUtils").isTimestampExpired(b)){return(b=a.profilePictureLargeFallbackUrl)!=null?b:a.profilePictureLargeUrl}else return a.profilePictureLargeUrl}g["default"]=a}),98);
__d("MWDesktopNotifications",["fbt","I64","LSAuthorityLevel","LSIntEnum","LSMediaUrlAttachment","LSMessagingThreadTypeUtil","MAWAttachmentBlob.react","MAWGetAttachmentThumbnailBlob","MessagingAttachmentType","ReQL","cr:2472","getLSMediaContactProfilePictureLargeUrl","getLSMediaContactProfilePictureUrl","getLSMediaThreadPictureUrl","getMWPAttachmentMessageAnnouncement","isReceiverFetchReceivingEnabled","promiseDone"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j;async function a(a,b,e){var f;if(((f=Notification)==null?void 0:f.permission)!=="granted")return;f=await Promise.all([d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.tables.threads).getKeyRange(b.threadKey)),d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.tables.contacts).getKeyRange(b.senderId)),d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.tables.participants).getKeyRange(b.threadKey,b.senderId)),d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(a.tables.attachments).getKeyRange(b.threadKey,b.messageId))]);var g=f[0],h=f[1],j=f[2];f=f[3];if(g==null||h==null||j==null)return;var n=d("LSMessagingThreadTypeUtil").isGroup(g.threadType);n=k(n,g.threadName,j.nickname,h.name);j=l(b,f);f=await m(f,d("LSMessagingThreadTypeUtil").isArmadilloSecure(g.threadType));g=new Notification(n,{body:j,icon:(j=(n=c("getLSMediaThreadPictureUrl")(g))!=null?n:c("getLSMediaContactProfilePictureLargeUrl")(h))!=null?j:c("getLSMediaContactProfilePictureUrl")(h),image:f,tag:b.messageId,timestamp:(i||(i=d("I64"))).to_float(b.timestampMs)});g.onclick=function(){window.focus(),c("promiseDone")(d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.tables.threads).getKeyRange(b.threadKey)),function(a){a!=null&&e.openInbox({threadKey:b.threadKey,threadType:a.threadType},"desktopNotification")})}}function k(a,b,c,d){c=(c=c)!=null?c:d;return a&&b!=null?h._(/*BTDS*/"{senderName} to {threadName}",[h._param("senderName",c),h._param("threadName",b)]).toString():a?h._(/*BTDS*/"{senderName} to your group",[h._param("senderName",c)]).toString():c}function l(a,d){a=a.text;a=a!=null?b("cr:2472")==null?a:b("cr:2472").unvault(a):null;return a!=null&&a!==""?a:(a=c("getMWPAttachmentMessageAnnouncement")(d,!1))==null?void 0:a.toString()}async function m(a,b){if(a.length===0)return;a=a[0];if(!b)return d("LSMediaUrlAttachment").previewUrl(a);b=a.attachmentFbid;var e=a.attachmentType,f=a.authorityLevel;if(b===(i||(i=d("I64"))).to_string((i||(i=d("I64"))).max_int)&&(i||(i=d("I64"))).equal(f,(j||(j=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").OPTIMISTIC)))return;switch(!0){case(i||(i=d("I64"))).equal(e,(j||(j=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").IMAGE)):try{return d("MAWGetAttachmentThumbnailBlob").getThumbnailBlob_CausesSuspense(a,"MWDesktopNotifications",void 0,a.attachmentFbid+"_MWDesktopNotifications")}catch(a){if(a instanceof Promise)return a;throw a}case(i||(i=d("I64"))).equal(e,(j||(j=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").XMA)):if(a.previewUrl!=null&&c("isReceiverFetchReceivingEnabled")(!0))return d("LSMediaUrlAttachment").previewUrl(a);try{return d("MAWAttachmentBlob.react").getInfoUrlXMA_CausesSuspense(a,"preview","MWDesktopNotifications")}catch(a){if(a instanceof Promise)return a;throw a}case(i||(i=d("I64"))).equal(e,(j||(j=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").ANIMATED_IMAGE)):case(i||(i=d("I64"))).equal(e,(j||(j=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").STICKER)):case(i||(i=d("I64"))).equal(e,(j||(j=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").VIDEO)):try{return d("MAWAttachmentBlob.react").getAttachmentBlobNonOptional_CausesSuspense(a.attachmentFbid,"MWDesktopNotifications",void 0,a.attachmentFbid+"_MWDesktopNotifications")}catch(a){if(a instanceof Promise)return a;throw a}}}g.triggerLocalNotification=a}),226);
__d("MWEncryptedBackupsListenForChangesToBackupStateInitPathGated",["cr:8784","cr:8786"],(function(a,b,c,d,e,f,g){"use strict";c=(a=b("cr:8784"))!=null?a:b("cr:8786");d=c;g["default"]=d}),98);
__d("RTWebCallBlockedSettingSubscription_CallBlockSettingSubscription_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="24429620016626810"}),null);
__d("RTWebCallBlockedSettingSubscription_CallBlockSettingSubscription.graphql",["RTWebCallBlockedSettingSubscription_CallBlockSettingSubscription_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input"}],c=[{alias:null,args:[{kind:"Variable",name:"data",variableName:"input"}],concreteType:"RtwebCallBlockedSettingSubscribeResponsePayload",kind:"LinkedField",name:"rtweb_call_blocked_setting_subscribe",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"call_blocked_until",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"client_subscription_id",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"RTWebCallBlockedSettingSubscription_CallBlockSettingSubscription",selections:c,type:"Subscription",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"RTWebCallBlockedSettingSubscription_CallBlockSettingSubscription",selections:c},params:{id:b("RTWebCallBlockedSettingSubscription_CallBlockSettingSubscription_facebookRelayOperation"),metadata:{subscriptionName:"rtweb_call_blocked_setting_subscribe"},name:"RTWebCallBlockedSettingSubscription_CallBlockSettingSubscription",operationKind:"subscription",text:null}}}();e.exports=a}),null);
__d("RTWebCallBlockedSettingSubscription",["CometRelay","RTWebCallBlockedSettingSubscription_CallBlockSettingSubscription.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h!==void 0?h:h=b("RTWebCallBlockedSettingSubscription_CallBlockSettingSubscription.graphql");function a(a,b,c){return d("CometRelay").requestSubscription(a,{onNext:c,subscription:i,variables:{input:b}})}g.subscribe=a}),98);
__d("RTWebCometIncomingUnsupportedDialogNameQuery$Parameters",["RTWebCometIncomingUnsupportedDialogNameQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("RTWebCometIncomingUnsupportedDialogNameQuery_facebookRelayOperation"),metadata:{},name:"RTWebCometIncomingUnsupportedDialogNameQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("RTWebCometIncomingUnsupportedDialog.entrypoint",["JSResourceForInteraction","RTWebCometIncomingUnsupportedDialogNameQuery$Parameters"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){a=a.id;return{queries:{queryReference:{parameters:b("RTWebCometIncomingUnsupportedDialogNameQuery$Parameters"),variables:{id:a}}}}},root:c("JSResourceForInteraction")("RTWebCometIncomingUnsupportedDialog.react").__setRef("RTWebCometIncomingUnsupportedDialog.entrypoint")};g["default"]=a}),98);
__d("RTWebDropInUtils",["FBLogger"],(function(a,b,c,d,e,f,g){"use strict";var h="drop_in_metadata";a=function(a){var b;return b={},b[h]=JSON.stringify({is_drop_in:a?"1":"0"}),b};b=function(a){a=i(a);a=a.isDropIn;return a};var i=function(a){a=a==null?void 0:a[h];if(a!=null)try{a=JSON.parse(a);return{isDropIn:a.is_drop_in==="1"}}catch(a){c("FBLogger")("rtc_www").catching(a).warn("Failed to parse drop_in_metadata app message");return{isDropIn:!1}}return{isDropIn:!1}};g.getDropInAppMessages=a;g.isDropInFromAppMessages=b}),98);
__d("RTWebUnsupportedUpsellDialogWrapper.react",["CometPlaceholder.react","RTWebCometIncomingUnsupportedDialog.entrypoint","RelayHooks","react","react-compiler-runtime","useCometRelayEntrypointContextualEnvironmentProvider"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(9),e=a.inviterID,f=a.onClose;a=a.threadType;var g=c("useCometRelayEntrypointContextualEnvironmentProvider")(),h;b[0]!==g||b[1]!==e?(h=d("RelayHooks").loadEntryPoint(g,c("RTWebCometIncomingUnsupportedDialog.entrypoint"),{id:e}),b[0]=g,b[1]=e,b[2]=h):h=b[2];g=h;b[3]!==f||b[4]!==a?(e={onClose:f,threadType:a},b[3]=f,b[4]=a,b[5]=e):e=b[5];b[6]!==g||b[7]!==e?(h=i.jsx(c("CometPlaceholder.react"),{fallback:null,children:i.jsx(d("RelayHooks").EntryPointContainer,{entryPointReference:g,props:e})}),b[6]=g,b[7]=e,b[8]=h):h=b[8];return h}g["default"]=a}),98);
__d("XBizSuiteControllerRouteBuilder",["jsRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsRouteBuilder")("/latest/{?*rest}",Object.freeze({boosted_auto_open:!1,auto_open_saved_replies:!1,auto_open_order_tip:!1,auto_open_promote:!1,launch_notifications:!1,launch_onboarding:!1,partnership_messages:!1,preloaded_with_autodraft:!1,unified_composer_mode:"REEL",should_open_edit_fb_profile:!1,long_form_to_reels_playlist_flow:!1,redirect_notice:!1}),void 0);b=a;g["default"]=b}),98);
__d("getAssetsByType",[],(function(a,b,c,d,e,f){"use strict";function a(a){return{adAccount:a.filter(function(a){return a.type==="AD_ACCOUNT"}),appAccount:a.filter(function(a){return a.type==="APP"}),igAccount:a.filter(function(a){return a.type==="INSTAGRAM_ACCOUNT_V2"}),pageAccount:a.filter(function(a){return a.type==="PAGE"}),wabAccount:a.filter(function(a){return a.type==="WHATSAPP_BUSINESS_ACCOUNT"})}}f["default"]=a}),66);
__d("getFirstAssetOfType",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){return a.find(function(a){return a.type===b})}f["default"]=a}),66);
__d("useBizKitSelectedAssets",["BizKitScopingContext","getAssetsByType","getFirstAssetOfType","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useContext;function a(){var a=i(c("BizKitScopingContext")),b=a.assets,d=a.setAssets;a=(a=(a=c("getFirstAssetOfType")(b,"PAGE"))!=null?a:b[0])!=null?a:null;return{assetID:a==null?void 0:a.id,assets:b,assetsByType:c("getAssetsByType")(b),assetType:a==null?void 0:a.type,setAssets:d,setSelectedLinkedAsset:function(a){d(a.assets)}}}g["default"]=a}),98);
__d("useMAWEncryptedBackupsRestoreToast",["fbt","ix","BaseToasterStateManager","FDSArrowsCircleFilled24Icon","FDSCheckmarkFilled24Icon","MWChatEncryptedBackupsLogging","MWChatEncryptedBackupsQPLEvents","QPLUserFlow","SVGIcon","cr:1376","cr:4027","cr:6570","mwPushToast","react","react-compiler-runtime","useLabyrinthLogging"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=j||(j=d("react"));e=j;e.useCallback;var l=e.useRef;function a(){var a=d("react-compiler-runtime").c(10),e=l(null),f=d("useLabyrinthLogging").useLabyrinthLoggingFlow(),g=f.startFlow;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(f=b("cr:6570")?k.jsx(b("cr:6570"),{color:"primary",icon:c("FDSArrowsCircleFilled24Icon")}):void 0,a[0]=f):f=a[0];var j=f;a[1]===Symbol["for"]("react.memo_cache_sentinel")?(f=b("cr:1376")?new(b("cr:1376"))(i("685423"),32,32):void 0,a[1]=f):f=a[1];var m=f;a[2]===Symbol["for"]("react.memo_cache_sentinel")?(f=c("BaseToasterStateManager").getInstance(),a[2]=f):f=a[2];var n=f;a[3]===Symbol["for"]("react.memo_cache_sentinel")?(f=function(){if(e.current==null)return;n.expire(e.current);e.current=null},a[3]=f):f=a[3];var o=f;a[4]!==g?(f=function(){o(),e.current=d("mwPushToast").mwPushToast({body:h._(/*BTDS*/"Restoring messages..."),icon:{comet:j,mds:m},testid:"mw-chat-encrypted-backups-restore-in-progress-toast"}),g({event:d("MWChatEncryptedBackupsQPLEvents").messageRestoreQplEvent}),c("QPLUserFlow").addPoint(d("MWChatEncryptedBackupsQPLEvents").messageRestoreQplEvent,"restore_begin_toast")},a[4]=g,a[5]=f):f=a[5];f=f;var p;a[6]===Symbol["for"]("react.memo_cache_sentinel")?(p=function(){o(),d("mwPushToast").mwPushErrorToast({body:h._(/*BTDS*/"Failed to restore end-to-end encrypted messages. Try again.")})},a[6]=p):p=a[6];p=p;var q;a[7]===Symbol["for"]("react.memo_cache_sentinel")?(q=function(){var a=b("cr:6570")?k.jsx(b("cr:6570"),{icon:c("FDSCheckmarkFilled24Icon")}):void 0,f=b("cr:4027")?d("SVGIcon").svgIcon(b("cr:4027")):void 0;o();e.current=d("mwPushToast").mwPushToast({body:h._(/*BTDS*/"End-to-end encrypted messages restored."),icon:{comet:a,mds:f},testid:"mw-chat-encrypted-backups-restore-successful-toast"});c("QPLUserFlow").addPoint(d("MWChatEncryptedBackupsQPLEvents").messageRestoreQplEvent,"restore_successful_toast");d("MWChatEncryptedBackupsLogging").endSuccess({event:d("MWChatEncryptedBackupsQPLEvents").messageRestoreQplEvent})},a[7]=q):q=a[7];q=q;a[8]!==f?(p={hideToast:o,showErrorToast:p,showInProgressToast:f,showSuccessToast:q},a[8]=f,a[9]=p):p=a[9];return p}g["default"]=a}),226);
__d("useMWChatOpenTabCount",["MWChatStateContext","MWChatStateV2TabGroups","react-compiler-runtime","useMWChatStateV2MaxTabCount","useMWIsTopLevelRouteMediaViewerExperiment"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a=d("react-compiler-runtime").c(5),b=d("MWChatStateContext").useChatState(h),e=b[0],f=b[1];b=b[2];var g=c("useMWIsTopLevelRouteMediaViewerExperiment")(),i=c("useMWChatStateV2MaxTabCount")(g);g=g?b:void 0;a[0]!==f||a[1]!==i||a[2]!==g||a[3]!==e?(b=d("MWChatStateV2TabGroups").getTabGroups(g,e,f,i),a[0]=f,a[1]=i,a[2]=g,a[3]=e,a[4]=b):b=a[4];f=b;i=f.openTabs;return i.length}function h(a){return[a.tabs,a.focusedTabId,a.mediaViewerOpenWatermark]}g["default"]=a}),98);
__d("waitForMiActMappingForUniversalSearch",["FBLogger","I64","LSAuthorityLevel","LSFactory","LSThreadPointQueryAndRestoreMessagesWithGroupJIDStoredProcedure","LSThreadPointQueryAndRestoreMessagesWithJIDStoredProcedure","MAWCurrentUser","MAWJids","ReQL","WAJids","emptyFunction","err","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i=3e4,j=3e4;async function k(a){a=await d("ReQL").toArrayAsync(a);return a.some(function(a){return a==null||(h||(h=d("I64"))).lt(a.authorityLevel,(h||(h=d("I64"))).of_int32(c("LSAuthorityLevel").AUTHORITATIVE))})===!1}async function l(a,b,e,f){e===void 0&&(e=c("emptyFunction"));f===void 0&&(f=c("emptyFunction"));var g=(h||(h=d("I64"))).of_string(d("MAWCurrentUser").getID()),i=d("ReQL").leftJoin(d("ReQL").fromTableAscending(a.tables.participants,["contactId"]).getKeyRange(b.serverThreadKey).filter(function(a){return!(h||(h=d("I64"))).equal(a.contactId,g)}),d("ReQL").fromTableAscending(a.tables.contacts)).map(function(a){a[0];a=a[1];return a}),l=null,m={contents:function(){}};function n(){e(b),m.contents()}if(await k(i))return n();m.contents=i.subscribe(async function(a,b){if(b.operation==="delete")return;l!=null&&window.clearTimeout(l);if(await k(i))return n()});l=window.setTimeout(function(){m.contents(),f(c("err")("Contacts timed out"))},j)}async function a(a,b){var e=d("MAWJids").convertChatJidToIntJid(b),g=d("WAJids").interpretAsGroupJid(b)!=null,h=d("ReQL").fromTableAscending(a.tables.mi_act_mapping_table.index("jid")).getKeyRange(e);b=await d("ReQL").firstAsync(h);if(b!=null){await l(a,b);return Promise.resolve(b)}var j=null,k=new Promise(function(b,d){var e={contents:function(){}};function f(a){e.contents(),b(a)}function g(a){e.contents(),d(a)}e.contents=h.subscribe(async function(b,c){if(c.operation==="delete")return;j!=null&&window.clearTimeout(j);await l(a,c.value,f,g)});j=window.setTimeout(function(){g(c("err")("MiActMapping timed out"))},i)});c("promiseDone")(a.runInTransaction(function(a){return g?c("LSThreadPointQueryAndRestoreMessagesWithGroupJIDStoredProcedure")(c("LSFactory")(a),{waJid:e}):c("LSThreadPointQueryAndRestoreMessagesWithJIDStoredProcedure")(c("LSFactory")(a),{waJid:e})},"readwrite",void 0,void 0,f.id+":149"));try{b=await k}catch(a){c("FBLogger")("messenger_web").warn("[FTS] Issue waiting for mi_act_mapping to be ready",a)}return b}g.default=a}),98);/*FB_PKG_DELIM*/
__d("DisappearingMessagesMode",[],(function(a,b,c,d,e,f){a=Object.freeze({OFF:0,ON:1,OPEN_ON_DEPRECATED_DO_NOT_USE:2});f["default"]=a}),66);
__d("LSInstagramE2EEEligibility",[],(function(a,b,c,d,e,f){a=Object.freeze({UNKNOWN:-1,INELIGIBLE:0,ELIGIBLE:1,REQUIRED:2,DUAL_SEND_ELIGIBLE:3,GROUPS_ELIGIBLE:4});f["default"]=a}),66);
__d("LSIssueSearchQuery",["LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.db.table(67).fetch([[[a[0],a[4]]]]).next().then(function(e,f){f=e.done;e=e.value;return f?c.sequence([function(b){return d[1]=c.i64.of_float(Date.now()),c.db.table(67).add({query:a[0],surfaceType:a[4],statusPrimary:c.i64.cast([0,1]),statusSecondary:c.i64.cast([0,1]),startTimeMs:d[1]})},function(e){return d[2]=c.i64.cast([0,0]),d[3]=new c.Map(),d[3].set("query",a[0]),d[3].set("supported_types",a[1]),d[3].set("session_id",a[2]),d[3].set("surface_type",a[4]),d[3].set("selected_participants",a[5]),d[3].set("group_id",a[6]),d[3].set("community_id",a[8]),d[3].set("thread_id",a[7]),d[3].set("query_id",a[3]),d[4]=c.createArray(),d[10]=(d[4].push("search_primary"),d[4]),d[5]=c.i64.of_float(Date.now()),d[10]=(d[4].push(c.i64.to_string(d[5])),d[4]),d[6]=c.toJSON(d[4]),d[7]=c.toJSON(d[3]),c.storedProcedure(b("LSIssueNewTask"),d[6],c.i64.cast([0,30]),d[7],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),d[2])},function(e){return d[8]=new c.Map(),d[8].set("query",a[0]),d[8].set("supported_types",a[1]),d[8].set("session_id",a[2]),d[8].set("surface_type",a[4]),d[8].set("selected_participants",a[5]),d[8].set("group_id",a[6]),d[8].set("community_id",a[8]),d[8].set("thread_id",a[7]),d[8].set("query_id",a[3]),d[9]=c.toJSON(d[8]),c.storedProcedure(b("LSIssueNewTask"),"search_secondary",c.i64.cast([0,31]),d[9],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]))}]):(e.item,0)})},function(a){return c.resolve(e)}])}a.__sproc_name__="LSSearchIssueSearchQueryStoredProcedure";a.__tables__=["search_queries"];e.exports=a}),null);
__d("LSIssueSearchQueryStoredProcedure",["LSIssueSearchQuery","LSSynchronousPromise","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSIssueSearchQuery"),e.query,e.supportedTypes,e.sessionId,e.queryId,e.surfaceType,e.selectedParticipants,e.groupId,e.threadId,e.communityId);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("LSSearchRequestStatusType",[],(function(a,b,c,d,e,f){a=Object.freeze({PENDING:1,COMPLETE:2,FAILED:3});f["default"]=a}),66);
__d("MNetContactItemType",[],(function(a,b,c,d,e,f){a=Object.freeze({CONTACT:0,NON_CONTACT:1,GROUP:2,PAGE:3,BOT:4,GAME:5,IG_USER:6,IG_THREAD:7,STICKER:8,INTEROP_THREAD:9,MSGR_THREAD:10,TEXT_SUGGESTION:11,COMMUNITY_MESSAGING_THREAD:12,IG_PUBLIC_CHANNELS:13,SIDE_CONVERSATIONS_COMMUNITY_MESSAGING_THREAD:14,COMMUNITY_MESSAGING_THREAD_FOR_CC_SECTION:15,BROADCAST_CHAT:16,MSGR_PUBLIC_CHANNEL:17,MSGR_SOCIAL_CHANNEL:18,NETEGO_IG_PUBLIC_CHANNELS:19,CONTACT_BIRTHDAY:20});f["default"]=a}),66);
__d("MWLSThreadTitle",["fbt","I64","LSMessagingThreadTypeUtil","gkx"],(function(a,b,c,d,e,f,g,h){"use strict";var i;function j(a){if(a.length>4)return"("+a.length+") "+a.join(", ");else return a.join(", ")}function k(a){switch(a.length){case 0:return c("gkx")("22885")?"":h._(/*BTDS*/"No participants");case 1:return a[0];case 2:return h._(/*BTDS*/"{participant1} and {participant2}",[h._param("participant1",a[0]),h._param("participant2",a[1])]);case 3:return h._(/*BTDS*/"{participant1}, {participant2} and {participant3}",[h._param("participant1",a[0]),h._param("participant2",a[1]),h._param("participant3",a[2])]);default:return h._(/*BTDS*/"{participant1}, {participant2} and {others_count} others",[h._param("participant1",a[0]),h._param("participant2",a[1]),h._param("others_count",String(a.length-2))])}}function l(a,b,e,f,g,h,l){l===void 0&&(l=!1);if(a!=null)return a;a=d("LSMessagingThreadTypeUtil").isGroup(f);f=e.filter(function(a){return!(i||(i=d("I64"))).equal(a.contact_id,b)});if(a)return l&&c("gkx")("14820")?j(f.map(g)):k(f.map(g));return e.length!==1?k(f.map(h)):h(e[0])}function a(a,b,c,d,e){e===void 0&&(e=!1);return l(a,b,c,d,function(a){var b=a.name;a=a.nickname;return(a=a)!=null?a:b},function(a){var b=a.actual_name;a=a.nickname;return(a=a)!=null?a:b},e).toString()}function b(a,b,c,d){return l(a,b,c,d,function(a){a=a.actual_name;return a},function(a){a=a.actual_name;return a}).toString()}function e(a,b,c,d){return l(a,b,c,d,function(a){var b=a.actual_name;a=a.secondary_name;return(a=a)!=null?a:b},function(a){var b=a.actual_name;a=a.secondary_name;return(a=a)!=null?a:b}).toString()}g.getDefaultThreadTitle=a;g.getThreadTitleWithFullName=b;g.getThreadTitleWithSecondaryNames=e}),226);
__d("MWChatTemporarySearchResult",["DisappearingMessagesMode","FBLogger","I64","LSContactBitOffset","LSContactType","LSContactTypeExact","LSContactViewerRelationship","LSInstagramE2EEEligibility","LSIntEnum","LSMessagingThreadTypeUtil","LSRestrictionType","LSThreadBitOffset","LSWhatsAppConnectStatus","MAWDefaultE2eeOneToOneEligibility","MWChatSearchResultType","MWChatTemporarySearchResultUtils","MWLSContactTypeExactUtils","MWLSThreadTitle","MWSearchStandardResultTypeMappings","getLSMediaContactProfilePictureUrl","gkx"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function j(a){if((h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(6))||(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(7))||(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(8)))return!0;else return(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(9))}function k(a){if((h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(1))||(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(2))||(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(16))||j(a))return c("MWChatSearchResultType").USER;if((h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(3))||(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(14))||(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(13)))return c("MWChatSearchResultType").GROUP;if((h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(4)))return c("MWChatSearchResultType").PAGE;if((h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(5)))return c("MWChatSearchResultType").MESSAGE;c("FBLogger")("messenger_web").warn("Unknown Search Result Type "+(h||(h=d("I64"))).to_string(a));return c("MWChatSearchResultType").USER}function l(a,b){if(!c("gkx")("23433")||!c("gkx")("6710"))return!1;if(b==null)return!1;if(b.startsWith("@"))return!0;if(b.trim().length===b.length&&b.indexOf(".")!==-1)return!0;return b.trim()===a?!0:!1}function m(a){return(a==null?void 0:a.threadType)==null?!1:d("LSMessagingThreadTypeUtil").isDiscoverablePublicBroadcastChannel(a.threadType)}function n(a,b){b=l(a.username,b);var e=c("gkx")("6992");if(b&&a.username!=null)return(e&&a.username.length>0?"@":"")+a.username;b=d("MWLSContactTypeExactUtils").isIgContact(a.contactTypeExact);return b&&a.secondaryName!=null?a.secondaryName:""}function o(a){var b=l(a.contextLine,a.query);if(b&&a.contextLine!=null)return a.contextLine;b=m(a);return b&&a.contextLine!=null?a.contextLine:""}function a(a,b,e,f,g,j,k){var l=e.contactType,m=e.contactTypeExact;m=d("MWLSContactTypeExactUtils").isIgContact(m);k=n(e,k);var o=f!=null?[f.e2eeEligibility,!(h||(h=d("I64"))).equal(f.e2eeEligibility,(i||(i=d("LSIntEnum"))).ofNumber(c("LSInstagramE2EEEligibility").INELIGIBLE))]:[void 0,void 0],p=o[0];o=o[1];return{defaultE2eeThreadOneToOne:d("MAWDefaultE2eeOneToOneEligibility").isContactDefaultE2eeOneToOneEligible({maybeContact:e}),defaultE2eeThreads:d("LSContactBitOffset").has(80,e),displayName:e.name,hasCutoverThread:d("LSContactBitOffset").has(76,e),id:(h||(h=d("I64"))).to_string(e.id),imageUrl:c("getLSMediaContactProfilePictureUrl")(e),isAiBot:h.equal(e.contactTypeExact,(i||(i=d("LSIntEnum"))).ofNumber(c("LSContactTypeExact").GENERATIVE_AI_BOT)),isContact:h.equal(e.contactViewerRelationship,i.ofNumber(c("LSContactViewerRelationship").CONTACT_OF_VIEWER)),isDisappearingModeSettingOn:d("LSContactBitOffset").has(94,e),isE2EE:b===!0,isEPD:h.equal(e.restrictionType,i.ofNumber(c("LSRestrictionType").DATA_PRIVACY)),isGroupsXacEligible:d("LSContactBitOffset").has(68,e),isInstagramAccount:m,isInstamadilloCutover:d("LSContactBitOffset").has(95,e),isInteropEligible:d("LSContactBitOffset").has(67,e),isTTLCClipEnabled:d("LSContactBitOffset").has(96,e),isTTLCGenericXMAShareEnabled:d("LSContactBitOffset").has(97,e),isTTLCMediaShareEnabled:d("LSContactBitOffset").has(98,e),isTTLCStoryShareEnabled:d("LSContactBitOffset").has(99,e),isVerified:(b=d("LSContactBitOffset").has(23,e))!=null?b:!1,isViewerUnconnected:d("MWChatTemporarySearchResultUtils").isViewerUnconnectedForContact(e),isWAEligible:o,matchedTerms:j,rankingScore:a,reachabilityStatus:e.contactReachabilityStatusType,resultIgid:(m=f==null?void 0:f.igId)!=null?m:void 0,resultType:(h||(h=d("I64"))).equal(l,(i||(i=d("LSIntEnum"))).ofNumber(c("LSContactType").USER))||!((h||(h=d("I64"))).equal(l,(i||(i=d("LSIntEnum"))).ofNumber(c("LSContactType").PAGE))||(h||(h=d("I64"))).equal(l,(i||(i=d("LSIntEnum"))).ofNumber(c("LSContactType").PAGE_PERSONA)))?c("MWChatSearchResultType").USER:c("MWChatSearchResultType").PAGE,searchResultType:d("MWSearchStandardResultTypeMappings").mapContactToSearchStandardResultType(e),searchSource:g,section:d("MWChatTemporarySearchResultUtils").getSectionHeaderForContact(e),subtext:k,supportsE2eeSpamdStorage:f!=null?f.supportsE2eeSpamdStorage:void 0,waAddressable:h.equal(e.waConnectStatus,i.ofNumber(c("LSWhatsAppConnectStatus").WHATSAPP_ADDRESSABLE)),waEligibility:p}}function p(a,b,c){var e=a.threadDescription,f=a.threadName;if(e!=null)return e;return f!=null&&f!==""?d("MWLSThreadTitle").getDefaultThreadTitle(void 0,b,c,a.threadType).toString():""}function q(a,b,c){if(!d("LSMessagingThreadTypeUtil").isArmadilloSecureOneToOne(a.threadType))return;a=b.find(function(a){return!(h||(h=d("I64"))).equal(a.contact_id,c)});if(a==null)return;return a.contact_id}function b(a,b,e,f,g,j,k,l,m){var n=p(a,e,j),o=q(a,j,e);o=o!=null?(h||(h=d("I64"))).to_string(o):void 0;return{displayName:d("MWLSThreadTitle").getDefaultThreadTitle(a.threadName,e,j,a.threadType).toString(),id:(h||(h=d("I64"))).to_string(a.threadKey),imageUrl:f,isAiBot:h.equal(a.threadType,(i||(i=d("LSIntEnum"))).ofNumber(201)),isContact:!1,isDisappearingModeSettingOn:h.to_int32((e=m==null?void 0:m.igDmSettingsMode)!=null?e:(h||(h=d("I64"))).zero)===c("DisappearingMessagesMode").ON,isE2EE:d("LSMessagingThreadTypeUtil").isArmadilloSecure(a.threadType),isEPD:!1,isInstagramAccount:!1,isInstamadilloCutover:d("LSThreadBitOffset").has(214,a),isTTLCClipEnabled:d("LSThreadBitOffset").has(226,a),isTTLCGenericXMAShareEnabled:d("LSThreadBitOffset").has(231,a),isTTLCMediaShareEnabled:d("LSThreadBitOffset").has(228,a),isTTLCStoryShareEnabled:d("LSThreadBitOffset").has(229,a),isVerified:!1,matchedTerms:l,otherUserId:o,rankingScore:k,resultType:c("MWChatSearchResultType").GROUP,searchResultType:d("MWSearchStandardResultTypeMappings").mapThreadTypeToSearchStandardResultType(a.threadType),searchSource:b,secondaryImageUrl:g,section:"",subtext:n,threadKey:a.threadKey,threadType:a.threadType}}function e(a,b,e){var f,g=(h||(h=d("I64"))).equal(a.type_,(i||(i=d("LSIntEnum"))).ofNumber(1)),l=o(a),m=j(a.type_),n=a.defaultE2eeThreadOneToOne,p=a.defaultE2eeThreads,q=a.hasCutoverThread,r=a.isVerified,s=a.otherUserId,t=a.query,u=a.supportsE2eeSpamdStorage,v=a.waEligibility;f=b!=null?(f=b.displayName)!=null?f:"":"";t===""&&(f=d("MWChatTemporarySearchResultUtils").getSectionHeaderForContactsNullstate());return{canViewerMessage:a.canViewerMessage,communityId:a.communityId,defaultE2eeThreadOneToOne:n!==null?n:void 0,defaultE2eeThreads:p!==null?p:void 0,displayName:a.displayName,hasCutoverThread:q!==null?q:void 0,id:a.resultId,imageUrl:a.profilePicUrl,isAiBot:h.equal(a.type_,i.ofNumber(16)),isContact:g,isDisappearingModeSettingOn:Boolean(a.isDisappearingModeSettingOn),isE2EE:d("LSMessagingThreadTypeUtil").isArmadilloSecure(a.threadType),isEPD:!1,isGroupsXacEligible:a.isGroupsXacEligible,isInstagramAccount:m,isInstamadilloCutover:Boolean(a.isInstamadilloCutover),isInteropEligible:a.isInteropEligible,isRestrictedByViewer:a.isRestrictedByViewer,isTTLCClipEnabled:Boolean(a.hasTtlcClipEnabled),isTTLCGenericXMAShareEnabled:Boolean(a.hasTtlcGenericXmaShareEnabled),isTTLCMediaShareEnabled:Boolean(a.hasTtlcMediaShareEnabled),isTTLCStoryShareEnabled:Boolean(a.hasTtlcStoryShareEnabled),isVerified:r!=null?r:!1,isViewerUnconnected:a.isViewerUnconnected,isWAEligible:v!=null?!(h||(h=d("I64"))).equal(v,(i||(i=d("LSIntEnum"))).ofNumber(c("LSInstagramE2EEEligibility").INELIGIBLE)):void 0,otherUserId:s!=null?(h||(h=d("I64"))).to_string(s):void 0,reachabilityStatus:a.reachabilityStatus,restrictionType:a.restrictionType,resultIgid:a.resultIgid,resultType:k(a.type_),searchResultType:d("MWSearchStandardResultTypeMappings").mapServerSearchResultToSearchStandardResultType(a.threadType,a.type_),searchSource:e,secondaryImageUrl:a.secondaryProfilePicUrl,section:f,sectionAnalyticsName:b==null?void 0:b.analyticsName,serverSearchResult:a,subtext:l,subtextAdditional:(t=a.secondaryContextLine)!=null?t:"",supportsE2eeSpamdStorage:u,threadJoinLinkHash:a.threadJoinLinkHash,threadType:a.threadType,waAddressable:a.isWaAddressable,waEligibility:a.waEligibility}}g.checkIsInstagramAccount=j;g.getResultType=k;g.fromContact=a;g.fromThread=b;g.fromServerSearchResult=e}),98);
__d("MWChatSearchFetchContactRecommendations",["I64","LSContactBitOffset","LSContactTypeExact","LSContactUtils","LSContactViewerRelationship","LSDatabaseSingleton","LSIntEnum","LSWhatsAppConnectStatus","MAWDefaultE2eeOneToOneEligibility","MNetContactItemType","MNetRankType","MWChatTemporarySearchResult","MWGenAIUtils","MWLSContactTypeExactUtils","ReQL","ReQLSuspense","getLSMediaContactProfilePictureUrl","gkx","react","react-compiler-runtime","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l;(i||d("react")).useMemo;function m(a){if(a<0)return-1;return a>0?1:0}function n(a){return a.sort(function(a,b){a=a[0];var c=a[0];a=a[1];b=b[0];var d=b[0];b=b[1];if(d.score!==c.score)return m(d.score-c.score);if(a!=null&&b!=null)return m(b.rank-a.rank);return b==null&&a==null?0:b!=null?1:-1})}function o(a){var b=a.contactTypeExact;a=a.contactViewerRelationship;if(d("MWLSContactTypeExactUtils").isIgContact(b)){if((j||(j=d("I64"))).equal(a,(l||(l=d("LSIntEnum"))).ofNumber(c("LSContactViewerRelationship").NOT_CONTACT)))return(l||(l=d("LSIntEnum"))).ofNumber(8);return(j||(j=d("I64"))).equal(a,(l||(l=d("LSIntEnum"))).ofNumber(c("LSContactViewerRelationship").CONTACT_OF_VIEWER))?(l||(l=d("LSIntEnum"))).ofNumber(6):(l||(l=d("LSIntEnum"))).ofNumber(9)}else if((j||(j=d("I64"))).equal(b,(l||(l=d("LSIntEnum"))).ofNumber(c("LSContactTypeExact").GENERATIVE_AI_BOT)))return(l||(l=d("LSIntEnum"))).ofNumber(16);return(l||(l=d("LSIntEnum"))).ofNumber(1)}function p(a){return a.map(function(a,b){var e=a[0],f=e[0];e=e[1];a=a[1];if(e==null)return;var g=e.contactTypeExact;f=(l||(l=d("LSIntEnum"))).toNumber(f.contactType);var h;d("LSContactBitOffset").has(76,e)&&!c("gkx")("2268")?h=15:h=f===c("MNetContactItemType").GROUP?2:1;var i;switch(f){case c("MNetContactItemType").CONTACT:i=o(e);break;case c("MNetContactItemType").GROUP:i=(l||(l=d("LSIntEnum"))).ofNumber(3);break;case c("MNetContactItemType").PAGE:case c("MNetContactItemType").BOT:case c("MNetContactItemType").GAME:case c("MNetContactItemType").STICKER:i=(l||(l=d("LSIntEnum"))).ofNumber(4);break;case c("MNetContactItemType").IG_THREAD:case c("MNetContactItemType").INTEROP_THREAD:case c("MNetContactItemType").MSGR_THREAD:i=(l||(l=d("LSIntEnum"))).ofNumber(5);break;case c("MNetContactItemType").IG_USER:i=(l||(l=d("LSIntEnum"))).ofNumber(6);break;default:i=(l||(l=d("LSIntEnum"))).ofNumber(2)}f={blockedByViewerStatus:e.blockedByViewerStatus,contextLine:(f=e.secondaryName)!=null?f:"",defaultE2eeThreadOneToOne:d("MAWDefaultE2eeOneToOneEligibility").isContactDefaultE2eeOneToOneEligible({maybeContact:e}),defaultE2eeThreads:d("LSContactBitOffset").has(80,e),displayName:e.name,globalIndex:(j||(j=d("I64"))).of_int32(b),hasCutoverThread:d("LSContactBitOffset").has(76,e),isGroupsXacEligible:d("LSContactBitOffset").has(68,e),isInteropEligible:d("MWLSContactTypeExactUtils").isIgContact(g)?d("LSContactBitOffset").has(67,e):void 0,isVerified:d("LSContactBitOffset").has(23,e),isViewerUnconnected:d("LSContactBitOffset").hasWithDefault(64,e,!0),isWaAddressable:j.equal(e.waConnectStatus,l.ofNumber(c("LSWhatsAppConnectStatus").WHATSAPP_ADDRESSABLE)),profilePicUrl:c("getLSMediaContactProfilePictureUrl")(e),query:"",resultId:j.to_string(e.id),resultIgid:a==null?void 0:a.igId,threadType:l.ofNumber(h),type_:i,waEligibility:a==null?void 0:a.e2eeEligibility};b=d("MWChatTemporarySearchResult").fromServerSearchResult(f,void 0,"offline_nullstate");return[b,e]}).filter(Boolean)}function q(a,b){var c;return(c=d("ReQL")).leftJoin(c.leftJoin(c.fromTableAscending(a.tables.ranking_scores.index("scoreTypeContactId")).getKeyRange(b),c.fromTableAscending(a.tables.contacts)),c.fromTableAscending(a.tables.ig_contact_info))}function a(a){var b=d("react-compiler-runtime").c(8),e;b[0]!==a?(e=a===void 0?(l||(l=d("LSIntEnum"))).ofNumber(c("MNetRankType").MESSENGER_USER_SEARCH_NULLSTATE):a,b[0]=a,b[1]=e):e=b[1];var g=e,i=(h||(h=c("useReStore")))();b[2]!==g||b[3]!==i?(a=function(){return q(i,g)},e=[g,i],b[2]=g,b[3]=i,b[4]=a,b[5]=e):(a=b[4],e=b[5]);a=d("ReQLSuspense").useArray(a,e,f.id+":255");b[6]!==a?(e=p(n(a)).filter(r),b[6]=a,b[7]=e):e=b[7];a=e;return a}function r(a){a=a[0];return a.isAiBot===!1&&d("MWGenAIUtils").isMetaAIContact(a.id)===!1}function b(a){a===void 0&&(a=(l||(l=d("LSIntEnum"))).ofNumber(c("MNetRankType").MESSENGER_USER_SEARCH_NULLSTATE));return(k||(k=d("LSDatabaseSingleton"))).LSDatabaseSingleton.then(function(b){return d("ReQL").toArrayAsync(q(b,a))}).then(function(a){return p(n(a))})}async function e(a,b,c){a=await d("ReQL").toArrayAsync(q(a,b));return p(n(a)).filter(function(a){a[0];a=a[1];return((j||(j=d("I64"))).equal(c,(l||(l=d("LSIntEnum"))).ofNumber(5))||(j||(j=d("I64"))).equal(c,(l||(l=d("LSIntEnum"))).ofNumber(11)))&&d("LSContactUtils").isContactBlocked({blockedByViewerStatus:a.blockedByViewerStatus})?!1:!0}).map(function(a){a=a[0];return a})}g.sortInPlaceQueryResults=n;g.mapToServerSearchResults=p;g.makeQuery=q;g.useChatSearchContactRecommendations=a;g.fetchRecommendations=b;g.fetchContacts=e}),98);
__d("MWLSParticipant",["I64","LSContactBlockedByViewerStatus","LSContactGender","LSContactType","LSContactWorkForeignEntityType","LSIntEnum","LSMailboxType","MWLSContactTypeExactUtils","ReQL","getLSMediaContactProfilePictureUrl"],(function(a,b,c,d,e,f,g){"use strict";var h,i;b={actual_name:"",blocked_by_viewer_status:(h||(h=d("LSIntEnum"))).ofNumber(c("LSContactBlockedByViewerStatus").UNBLOCKED),contact_id:(i||(i=d("I64"))).zero,contactType:h.ofNumber(c("LSContactType").UNKNOWN),delivered_watermark_timestamp_ms:i.zero,gender:h.ofNumber(c("LSContactGender").UNKNOWN),is_admin:!1,is_messenger_user:!1,mailbox_type:h.ofNumber(c("LSMailboxType").MESSENGER),name:"",nickname:void 0,profile_picture_url:"",rank:0,read_action_timestamp_ms:i.zero,read_watermark_timestamp_ms:i.zero,secondary_name:void 0,thread_key:i.zero,work_company_name:void 0,work_foreign_entity_info:h.ofNumber(c("LSContactWorkForeignEntityType").UNKNOWN),work_job_title:void 0};function j(a){var b=a[0];a=a[1];var e=b.nickname,f=a.authorityLevel,g=a.blockedByViewerStatus,i=a.contactTypeExact,j=a.firstName,k=a.name,l=a.secondaryName,m=a.waConnectStatus;return{actual_name:k,authority_level:f,blocked_by_viewer_status:g,contact_id:b.contactId,contactType:a.contactType,delivered_watermark_timestamp_ms:b.deliveredWatermarkTimestampMs,gender:a.gender,is_admin:(f=b.isAdmin)!=null?f:!1,is_messenger_user:a.isMessengerUser,mailbox_type:(h||(h=d("LSIntEnum"))).ofNumber(c("LSMailboxType").MESSENGER),name:(f=(g=e)!=null?g:j)!=null?f:k,nickname:e,profile_picture_url:c("getLSMediaContactProfilePictureUrl")(a),rank:a.rank,read_action_timestamp_ms:b.readActionTimestampMs,read_watermark_timestamp_ms:b.readWatermarkTimestampMs,secondary_name:d("MWLSContactTypeExactUtils").isIgContact(i)?l:void 0,thread_key:b.threadKey,wa_connect_status:m,work_company_name:a.workCompanyName,work_foreign_entity_info:a.workForeignEntityType,work_job_title:a.workJobTitle}}function a(a,b,c){return d("ReQL").mergeJoin(d("ReQL").fromTableAscending(a.tables.participants).getKeyRange(c),b).map(j)}g.empty=b;g.projectOpen=j;g.getAllInOpenThread=a}),98);
__d("MWSearchThreadUtils",["I64","LSIntEnum","LSMessageSearchType","MAWChatJid","MWLSParticipant","MWLSThreadTitle","ReQL","getLSMediaContactProfilePictureUrl","getLSMediaThreadPictureUrl"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function j(a,b,e){var f=c("getLSMediaThreadPictureUrl")(a);if(f!=null)return Promise.resolve([f,void 0]);else{a=(f=d("ReQL")).toArrayAsync(f.leftJoin(f.fromTableAscending(e.tables.participants,[]).getKeyRange(a.threadKey),f.fromTableAscending(e.tables.contacts)).map(function(a){a[0];a=a[1];return a}).filter(Boolean));f=a.then(function(a){var e=a.length===1&&(h||(h=d("I64"))).equal(a[0].id,b);return a.sort(function(a,b){return a.rank-b.rank}).filter(function(a){return(h||(h=d("I64"))).equal(a.id,b)?e:!0}).map(function(a){return c("getLSMediaContactProfilePictureUrl")(a)})}).then(function(a){var b=a[0];return b!=null?[b,a[1]]:["",void 0]});return f}}function k(a,b){return d("ReQL").toArrayAsync(d("MWLSParticipant").getAllInOpenThread(b,d("ReQL").fromTableAscending(b.tables.contacts),a.threadKey))}function l(a,b,e,f,g){if((h||(h=d("I64"))).equal(g,(i||(i=d("LSIntEnum"))).ofNumber(c("LSMessageSearchType").MESSAGE))&&f!=null){g=(g=e.find(function(a){return a.contact_id===f.id}))==null?void 0:g.nickname;return(g=g)!=null?g:f.name}return d("MWLSThreadTitle").getThreadTitleWithFullName(b.threadName,a,e,b.threadType)}async function a(a,b,c,e){b=await d("MAWChatJid").toThreadKeyMaybe(a.tables,b);return b==null?null:m(a,b,c,e)}async function m(a,b,c,e){b=await d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.tables.threads).getKeyRange(b));return b==null?null:n(a,b,c,e)}async function n(a,b,c,d){a=await Promise.all([j(b,c,a),k(b,a)]);var e=a[0],f=e[0];e=e[1];a=a[1];c=await l(c,b,a,void 0,d);return{profilePicUrl:f,secondaryProfilePicUrl:e,threadDisplayName:c,threadKey:b.threadKey,threadType:b.threadType}}g.getThreadPics=j;g.getThreadParticipants=k;g.getThreadDisplayName=l;g.getThreadDataForSearchResult=a;g.getThreadDataByThreadKey=m}),98);
__d("MWChatSearchFetchThreadRecommendations",["I64","LSAuthorityLevel","LSContactBitOffset","LSContactUtils","LSDatabaseSingleton","LSIntEnum","LSMessagingThreadTypeUtil","LSThreadBitOffset","LSWhatsAppConnectStatus","MWChatSearchResultType","MWGetOtherContactOrSelf","MWLSThreadTitle","MWSearchThreadUtils","ReQL","gkx","hasDefaultThreadOneToOneCapability"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;function k(a){return d("ReQL").firstExnAsync(d("ReQL").fromTableAscending(a.tables._user_info))}function l(a,b,e,f,g,j,k){var l=(h||(h=d("I64"))).to_float(b.lastActivityTimestampMs);l={contactId:h.zero,contactType:h.zero,score:l,scoreIndex:h.zero,scoreType:h.zero};var n=e.length===2?e.find(function(b){return!(h||(h=d("I64"))).equal(b.contact_id,a)}):null;return{defaultE2eeThreadOneToOne:(k=k)!=null?k:void 0,displayName:d("MWLSThreadTitle").getDefaultThreadTitle(b.threadName,a,e,b.threadType).toString(),hasCutoverThread:(k=j)!=null?k:void 0,id:h.to_string(b.threadKey),imageUrl:f,isAiBot:h.equal(b.threadType,(i||(i=d("LSIntEnum"))).ofNumber(201)),isContact:!1,isDisappearingModeSettingOn:!1,isE2EE:d("LSMessagingThreadTypeUtil").isArmadilloSecure(b.threadType),isEPD:!1,isInstagramAccount:!1,isInstamadilloCutover:d("LSThreadBitOffset").has(214,b),isTTLCClipEnabled:d("LSThreadBitOffset").has(226,b),isTTLCGenericXMAShareEnabled:d("LSThreadBitOffset").has(231,b),isTTLCMediaShareEnabled:d("LSThreadBitOffset").has(228,b),isTTLCStoryShareEnabled:d("LSThreadBitOffset").has(229,b),isVerified:!1,otherUserName:(e=n==null?void 0:n.name)!=null?e:void 0,rankingScore:l,resultType:d("LSMessagingThreadTypeUtil").isGroup(b.threadType)?c("MWChatSearchResultType").GROUP:c("MWChatSearchResultType").USER,searchSource:"offline_nullstate",secondaryImageUrl:g,section:"",subtext:(j=b.threadDescription)!=null?j:"",threadKey:b.threadKey,threadType:b.threadType,waAddressable:d("LSMessagingThreadTypeUtil").isArmadilloSecureOneToOne(b.threadType)?!m(n):void 0}}function m(a){return a==null?void 0:a.authority_level!=null&&(h||(h=d("I64"))).ge(a.authority_level,(i||(i=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").AUTHORITATIVE_PENDING_REPLACEMENT))&&a.wa_connect_status!=null&&(h||(h=d("I64"))).equal(a.wa_connect_status,(i||(i=d("LSIntEnum"))).ofNumber(c("LSWhatsAppConnectStatus").WHATSAPP_NOT_ADDRESSABLE))}function n(a){return d("ReQL").toArrayAsync(d("ReQL").fromTableDescending(a.tables.threads.index("parentThreadKeyLastActivityTimestampMs"))).then(async function(b){var c=await Promise.all(b.map(function(b){return o(a,b)}));return b.filter(function(a,b){return!c[b]})})}async function a(){var a=await (j||(j=d("LSDatabaseSingleton"))).LSDatabaseSingleton,b=await Promise.all([k(a),n(a)]),e=b[0];b=b[1];return Promise.all(b.map(async function(b){var f=await Promise.all([d("MWSearchThreadUtils").getThreadPics(b,e.facebookUserId,a),d("MWSearchThreadUtils").getThreadParticipants(b,a),d("LSMessagingThreadTypeUtil").isOpenOneToOne(b.threadType)?d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.tables.cutover_threads).getKeyRange(b.threadKey)):null,d("LSMessagingThreadTypeUtil").isOpenOneToOne(b.threadType)?c("hasDefaultThreadOneToOneCapability")(b.threadKey,a):null]),g=f[0],h=f[1],i=f[2];f=f[3];var j=g[0];g=g[1];return l(e.facebookUserId,b,h,j,g,Boolean(i),f)}))}function o(a,b){if(!(d("LSMessagingThreadTypeUtil").isRecentsSectionAllowedTypes(b.threadType)&&d("LSMessagingThreadTypeUtil").isMessengerOrE2EEInbox(b.folderName)))return!0;if(d("LSMessagingThreadTypeUtil").isArmadilloSecureOneToOne(b.threadType)&&(i||(i=d("LSIntEnum"))).toNumber(b.authorityLevel)<c("LSAuthorityLevel").AUTHORITATIVE)return!0;return d("LSThreadBitOffset").has(44,b)?!0:p(a,b)}async function p(a,b){var e;e=await Promise.all([(e=d("ReQL")).firstAsync(e.fromTableAscending(a.tables.contacts).getKeyRange(b.threadKey)),e.firstExnAsync(e.fromTableAscending(a.tables._user_info).map(function(a){return a.facebookUserId}))]);var f=e[0];e=e[1];b=await d("MWGetOtherContactOrSelf").getOtherContactOrSelf(b.threadKey,e,a);a=(e=b)!=null?e:f;b=!1;e=!1;f=!1;a&&(b=d("LSContactBitOffset").has(28,a)||d("LSContactBitOffset").has(29,a)||a.blockedByViewerStatus!=null&&d("LSContactUtils").isContactBlocked(a)&&c("gkx")("9160"),e=d("LSContactUtils").isContactUnreachable(a)&&c("gkx")("9161"),f=d("LSContactUtils").isContactRestricted(a)&&c("gkx")("11667"));return b||e||f}g.fetchThreadRecommendations=a;g.shouldFilterBlockedOrUnreachableUser=p}),98);
__d("MWChatSearchIssueLightspeedQuery",["I64","LSContactBlockedByViewerStatus","LSDatabaseSingleton","LSFactory","LSIntEnum","LSIssueSearchQueryStoredProcedure","LSPlatformWaitForTaskCompletion","LSSearchRequestStatusType","LSVec","MWChatSearchFetchContactRecommendations","MWChatSearchFetchThreadRecommendations","MWChatSearchResultType","MWChatTemporarySearchResult","ReQL","gkx","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=c("gkx")("26360");function l(a,b){var e=a[0];a=a[1];var f=[],g=0;e.sort(function(a,b){return(h||(h=d("I64"))).compare(a.globalIndex,b.globalIndex)});a.sort(function(a,b){return(h||(h=d("I64"))).compare(a.globalIndex,b.globalIndex)});for(var i=0,j=e.length;i<j;++i){var k=e[i];while(g<a.length&&(h||(h=d("I64"))).ge(a[g].globalIndex,k.startIndex)&&(h||(h=d("I64"))).le(a[g].globalIndex,k.endIndex)){var l=a[g];f.push(d("MWChatTemporarySearchResult").fromServerSearchResult(l,k,"server"));g+=1}}return f.filter(function(a){if(b)return!0;else return a.resultType!==c("MWChatSearchResultType").GROUP})}function m(a,b,e){var g=e.query;return(i||(i=d("LSDatabaseSingleton"))).LSDatabaseSingleton.then(function(d){return d.runInTransaction(function(d){return c("LSIssueSearchQueryStoredProcedure")(c("LSFactory")(d),{query:g,supportedTypes:c("LSVec").ofArray(a),surfaceType:b})},"readwrite",void 0,void 0,f.id+":105").then(function(){return d})})}function a(a,b,e,f,g){var k=g.query;if(b.length>0&&!b.includes("server"))return Promise.resolve([]);else return(i||(i=d("LSDatabaseSingleton"))).LSDatabaseSingleton.then(function(b){return c("LSPlatformWaitForTaskCompletion")(b,function(b){return c("LSIssueSearchQueryStoredProcedure")(c("LSFactory")(b),{query:k,supportedTypes:c("LSVec").ofArray(a),surfaceType:e})},"issueSearchQuery").then(function(){return b})}).then(async function(a){var b,e=(b=d("ReQL")).toArrayAsync(b.fromTableAscending(a.tables.server_search_results).getKeyRange(k).filter(function(a){return(h||(h=d("I64"))).equal(a.blockedByViewerStatus,(j||(j=d("LSIntEnum"))).ofNumber(c("LSContactBlockedByViewerStatus").UNBLOCKED))}));b=b.toArrayAsync(b.fromTableAscending(a.tables.server_search_sections).getKeyRange(k));a=await Promise.all([b,e]);return l(a,f)})}function b(a,b,c,e){return d("MWChatSearchFetchContactRecommendations").fetchRecommendations(e).then(function(a){return Promise.resolve(a.map(function(a){a=a[0];return a}))})}function n(a,b){if(!b.has(a.resultType))return!0;if(!a.isE2EE&&a.defaultE2eeThreadOneToOne===!0)return!0;if(a.hasCutoverThread===!0)return!0;return a.isAiBot?!0:!1}function o(a){var b=[],c=new Set();a.forEach(function(a){c.has(a.id)||(b.push(a),c.add(a.id))});return b}async function e(){var a=await d("MWChatSearchFetchThreadRecommendations").fetchThreadRecommendations();if(a.length===0)return[];var b=new Set([c("MWChatSearchResultType").USER,c("MWChatSearchResultType").GROUP]);a=o(a);return a.filter(function(a){return!n(a,b)})}function p(a,b,e,f){var g=[],i=[],k=[],m=function(){if(g.length===0||i.length===0||k.length!==1)return;(h||(h=d("I64"))).equal(k[0].statusPrimary,(j||(j=d("LSIntEnum"))).ofNumber(c("LSSearchRequestStatusType").PENDING))||f(l([i,g],e))},n=a.tables.server_search_results.subscribe(function(){c("promiseDone")(d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(a.tables.server_search_results).getKeyRange(b)),function(a){g=a;return m()})}),o=a.tables.server_search_sections.subscribe(function(){c("promiseDone")(d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(a.tables.server_search_sections).getKeyRange(b)),function(a){i=a;return m()})}),p=a.tables.search_queries.subscribe(function(){c("promiseDone")(d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(a.tables.search_queries).getKeyRange(b).filter(function(a){return!(h||(h=d("I64"))).equal(a.statusPrimary,(j||(j=d("LSIntEnum"))).ofNumber(c("LSSearchRequestStatusType").PENDING))})),function(a){k=a;return m()})});return function(){n(),o(),p()}}function q(a,b,e,f){return a.tables.search_queries.subscribe(function(g,i){g=g[0];if(g!==b||i.operation==="delete"||(h||(h=d("I64"))).equal(i.value.statusPrimary,(j||(j=d("LSIntEnum"))).ofNumber(c("LSSearchRequestStatusType").PENDING)))return;c("promiseDone")(Promise.all([d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(a.tables.server_search_results).getKeyRange(b)),d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(a.tables.server_search_sections).getKeyRange(b))]).then(function(a){var b=a[0];a=a[1];f(l([a,b],e))}))})}function r(a,b,e,f,g,i){var n=g.query;!k?c("promiseDone")(m(b,e,g)):c("promiseDone")(d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(a.tables.search_queries).getKeyRange(n).filter(function(a){return!(h||(h=d("I64"))).equal(a.statusPrimary,(j||(j=d("LSIntEnum"))).ofNumber(c("LSSearchRequestStatusType").PENDING))})).then(function(c){return c==null||c.length!==1?m(b,e,g):d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(a.tables.server_search_results).getKeyRange(n)).then(function(c){return c==null||c.length===0?m(b,e,g):d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(a.tables.server_search_sections).getKeyRange(n)).then(function(a){if(a==null||a.length===0)return m(b,e,g);i(l([a,c],f))})})}));return p(a,g.query,f,i)}function s(a,b,d,e,g,h){e=q(a,g.query,e,h);c("promiseDone")(a.runInTransaction(function(a){return a.search_queries.delete(g.query,d)},"readwrite",void 0,void 0,f.id+":436").then(function(){return m(b,d,g)}));return e}g.toSearchResults=l;g.makeSearchQuery=m;g.fetchResults=a;g.fetchRecommendations=b;g.shouldFilterSearchResultsForSharingNS=n;g.dedupeByThreadKey=o;g.fetchThreadRecommendations=e;g.requestResults=r;g.requestResults_T200619723=s}),98);/*FB_PKG_DELIM*/
__d("BaseAdaptiveTabs.react",["react","react-compiler-runtime","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react"));i.useCallback;var k={absoluteTop:{end:"xds687c",start:"x17qophe",left:null,right:null,position:"x10l6tqk",top:"x13vifvy",$$css:!0},moreTab:{alignItems:"x6s0dn4",display:"x3nfvp2",justifyContent:"x1nhvcw1",$$css:!0},moreWrapper:{display:"x1rg5ohu",overflowX:"x6ikm8r",overflowY:"x10wlt62",position:"x1n2onr6",verticalAlign:"x16dsc37",$$css:!0},root:{overflowX:"x6ikm8r",overflowY:"x10wlt62",position:"x1n2onr6",width:"xh8yej3",zIndex:"x1ja2u2z",$$css:!0},tab:{alignItems:"x6s0dn4",display:"x3nfvp2","float":"xrbpyxo",justifyContent:"x1nhvcw1",verticalAlign:"x16dsc37",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(46),e=a.maxVisibleTabs,f=a.moreTab,g=a.moreTabWidthXStyle,i=a.moreTabXStyle,l=a.rootXStyle,m=a.selectedTabIndex,n=a.tabRole,o=a.tabs,p=a.height,q=a.heightXStyle;a=e===void 0?Infinity:e;var r=n===void 0?"tab":n;b[0]!==a||b[1]!==o?(e=a<o.length?o.slice(0,a):o,b[0]=a,b[1]=o,b[2]=e):e=b[2];var s=e;n=a>=o.length;e=r==="tab"?"tablist":"group";b[3]!==q||b[4]!==m||b[5]!==r||b[6]!==s?(a=function(a){return s.map(function(b,d){return typeof b==="function"?b([k.tab,q],d,a):j.createElement("div",babelHelpers["extends"]({"aria-selected":r==="img"?void 0:m===d},(h||(h=c("stylex"))).props(k.tab,q),{key:d+"tab",role:r}),b)})},b[3]=q,b[4]=m,b[5]=r,b[6]=s,b[7]=a):a=b[7];o=a;b[8]!==n||b[9]!==q||b[10]!==l?(a=(h||(h=c("stylex"))).props(k.root,q,n&&l),b[8]=n,b[9]=q,b[10]=l,b[11]=a):a=b[11];b[12]===Symbol["for"]("react.memo_cache_sentinel")?(l={className:"x14ju556 x1n2onr6"},b[12]=l):l=b[12];var t;b[13]!==n||b[14]!==o||b[15]!==e?(t=n&&j.jsx("div",babelHelpers["extends"]({"aria-hidden":!0},{className:"x6ikm8r x10wlt62 xlshs6z"},{role:e,children:o(!0)})),b[13]=n,b[14]=o,b[15]=e,b[16]=t):t=b[16];var u;b[17]!==n?(u={0:{},1:{className:"x1ey2m1c x9f619 xds687c x17qophe x10l6tqk x13vifvy"}}[!!n<<0],b[17]=n,b[18]=u):u=b[18];var v;b[19]!==q||b[20]!==g||b[21]!==i?(v=(h||(h=c("stylex")))(k.moreWrapper,q,g,i),b[19]=q,b[20]=g,b[21]=i,b[22]=v):v=b[22];b[23]!==n||b[24]!==p?(g=n?{height:"calc((100% - "+p+"px) * 9999)",maxHeight:p,minHeight:0}:void 0,b[23]=n,b[24]=p,b[25]=g):g=b[25];b[26]!==q||b[27]!==f?(i=typeof f==="function"?f([k.absoluteTop,k.moreTab,q]):j.jsx("div",babelHelpers["extends"]({},(h||(h=c("stylex"))).props(k.absoluteTop,k.moreTab,q),{children:f})),b[26]=q,b[27]=f,b[28]=i):i=b[28];b[29]!==g||b[30]!==i||b[31]!==v?(n=j.jsx("div",{className:v,style:g,children:i}),b[29]=g,b[30]=i,b[31]=v,b[32]=n):n=b[32];b[33]!==o?(p=o(!1),b[33]=o,b[34]=p):p=b[34];b[35]!==n||b[36]!==p||b[37]!==u||b[38]!==e?(f=j.jsxs("div",babelHelpers["extends"]({},u,{"data-testid":void 0,role:e,children:[n,p]})),b[35]=n,b[36]=p,b[37]=u,b[38]=e,b[39]=f):f=b[39];b[40]!==f||b[41]!==t?(g=j.jsxs("div",babelHelpers["extends"]({},l,{children:[t,f]})),b[40]=f,b[41]=t,b[42]=g):g=b[42];b[43]!==g||b[44]!==a?(i=j.jsx("div",babelHelpers["extends"]({},a,{children:g})),b[43]=g,b[44]=a,b[45]=i):i=b[45];return i}g["default"]=a}),98);
__d("CometMessagingJewelDropdownQPBannerPlaceholder.react",["CometRow.react","CometRowItem.react","MDSGlimmer.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={actionButtonGlimmer:{borderTopStartRadius:"xhk9q7s",borderTopEndRadius:"x1otrzb0",borderBottomEndRadius:"x1i1ezom",borderBottomStartRadius:"x1o6z2jb",height:"xc9qbxq",$$css:!0},logoGlimmer:{borderTopStartRadius:"x14yjl9h",borderTopEndRadius:"xudhj91",borderBottomEndRadius:"x18nykt9",borderBottomStartRadius:"xww2gxu",height:"xsdox4t",marginTop:"x1rdy4ex",width:"x1useyqa",$$css:!0},textGlimmer:{borderTopStartRadius:"xhk9q7s",borderTopEndRadius:"x1otrzb0",borderBottomEndRadius:"x1i1ezom",borderBottomStartRadius:"x1o6z2jb",height:"x1qx5ct2",marginBottom:"xu06os2",marginTop:"x1ok221b",$$css:!0}};function a(){var a=d("react-compiler-runtime").c(5),b;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b={className:"x1qjc9v5 xlhe6ec x1q0q8m5 x1qhh985 xu3j5b3 xcfux6l x26u7qi xm0m39n x1lq5wgf xgqcy7u x30kzoy x9jhf4c x13fuv20 x972fbf x9f619 x78zum5 xdt5ytf x1iyjqo2 xs83m0k xf30bs1 x1qughib x14vqqas xq8finb xod5an3 x16n37ib x2lwn1j xeuugli x6ikm8r x10wlt62 x1iorvi4 x150jy0e x1e558r4 x1l90r2v x1n2onr6 x1ja2u2z"},a[0]=b):b=a[0];var e;a[1]===Symbol["for"]("react.memo_cache_sentinel")?(e=i.jsx(c("CometRowItem.react"),{verticalAlign:"top",children:i.jsx(c("MDSGlimmer.react"),{index:0,xstyle:j.logoGlimmer})}),a[1]=e):e=a[1];a[2]===Symbol["for"]("react.memo_cache_sentinel")?(e=i.jsxs(c("CometRow.react"),{verticalAlign:"center",children:[e,i.jsx(c("CometRowItem.react"),{expanding:!0,children:i.jsxs("div",babelHelpers["extends"]({className:"x78zum5 xdt5ytf xz62fqu x16ldp7u"},{children:[i.jsx(c("MDSGlimmer.react"),{index:0,xstyle:j.textGlimmer}),i.jsx(c("MDSGlimmer.react"),{index:0,xstyle:j.textGlimmer})]}))})]}),a[2]=e):e=a[2];var f;a[3]===Symbol["for"]("react.memo_cache_sentinel")?(f=i.jsx(c("CometRowItem.react"),{expanding:!0,children:i.jsx(c("MDSGlimmer.react"),{index:1,xstyle:j.actionButtonGlimmer})}),a[3]=f):f=a[3];a[4]===Symbol["for"]("react.memo_cache_sentinel")?(b=i.jsxs("div",babelHelpers["extends"]({},b,{children:[e,i.jsxs(c("CometRow.react"),{align:"justify",direction:"forward",spacing:8,wrap:"none",children:[f,i.jsx(c("CometRowItem.react"),{expanding:!0,children:i.jsx(c("MDSGlimmer.react"),{index:1,xstyle:j.actionButtonGlimmer})})]})]})),a[4]=b):b=a[4];return b}g["default"]=a}),98);
__d("CometPivotLinkTab.react",["FDSPivotLink.react","react","stylex","useIntersectionObserver","useUnsafeRef_DEPRECATED"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=j||(j=d("react"));b=j;var l=b.useCallback,m=b.useState,n={tab:{alignItems:"x6s0dn4",boxSizing:"x9f619",display:"x78zum5",flexShrink:"x2lah0s",minHeight:"x1hshjfz",paddingStart:"x1e558r4",paddingEnd:"x150jy0e",position:"x1n2onr6",zIndex:"x1vjfegm",$$css:!0}};function a(a){var b=a.ref;a=babelHelpers.objectWithoutPropertiesLoose(a,["ref"]);var d=a.FocusItem,e=a.containerRef,f=a.disabled;f=f===void 0?!1:f;var g=a.hasNewContentBadge;g=g===void 0?!1:g;var j=a.image,o=a.imagePlacement;o=o===void 0?"left":o;var p=a.isHiddenOverride;p=p===void 0?!1:p;var q=a.label,r=a.labelIsHidden;r=r===void 0?!1:r;var s=a.linkType,t=a.onHidden,u=a.role,v=a.selected;v=v===void 0?!1:v;var w=a.xstyle;a=babelHelpers.objectWithoutPropertiesLoose(a,["FocusItem","containerRef","disabled","hasNewContentBadge","image","imagePlacement","isHiddenOverride","label","labelIsHidden","linkType","onHidden","role","selected","xstyle"]);var x=m(!0),y=x[0],z=x[1],A=(h||(h=c("useUnsafeRef_DEPRECATED")))(t);A.current=t;x=l(function(a){a=a.intersectionRatio;a=a<.5;z(a);A.current&&A.current(a)},[A]);t=c("useIntersectionObserver")(x,{root:e?function(){return e.current}:null,threshold:.5});x=k.jsx("div",babelHelpers["extends"]({},(i||(i=c("stylex"))).props(n.tab,w),{ref:b,role:"none",children:k.jsx(c("FDSPivotLink.react"),{disabled:f,focusable:!p,hasNewContentBadge:g,image:j,imagePlacement:o,label:q,labelIsHidden:r,linkProps:a.linkProps,onHoverIn:a.onHoverIn,onHoverOut:a.onHoverOut,onPress:a.onPress,onPressIn:a.onPressIn,ref:t,role:u?u:"tab",selected:v,testid:void 0,type:s})}));return d?k.jsx(d,{disabled:p||y,children:x}):x}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometResponsiveTopNav.react",["BaseHeading.react","BaseRow.react","BaseRowItem.react","CometLink.react","FDSText.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={row:{paddingStart:"x1swvt13",paddingEnd:"x1pi30zi",paddingLeft:null,paddingRight:null,$$css:!0},tabs:{overflowX:"x6ikm8r",overflowY:"x10wlt62",$$css:!0},title:{paddingEnd:"x1pi30zi",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(20),e=a.action,f=a.auxiliary,g=a.isTitlePrimaryHeading,h=a.tabs,k=a.title,l=a.titleURL;a=a.xstyle;g=g===void 0?!0:g;var m;b[0]!==g||b[1]!==k?(m=k!=null?i.jsx(c("BaseRowItem.react"),{xstyle:j.title,children:i.jsx(c("BaseHeading.react"),{isPrimaryHeading:g,children:i.jsx(c("FDSText.react"),{type:"headlineEmphasized1",children:k})})}):null,b[0]=g,b[1]=k,b[2]=m):m=b[2];g=m;if(l!=null&&g!=null){b[3]!==g||b[4]!==l?(k=i.jsx(c("CometLink.react"),{href:l,children:g}),b[3]=g,b[4]=l,b[5]=k):k=b[5];g=k}b[6]!==a?(m=[j.row,a],b[6]=a,b[7]=m):m=b[7];b[8]!==h?(l=i.jsx(c("BaseRowItem.react"),{expanding:!0,xstyle:j.tabs,children:h}),b[8]=h,b[9]=l):l=b[9];b[10]!==e?(k=e&&i.jsx(c("BaseRowItem.react"),{children:e}),b[10]=e,b[11]=k):k=b[11];b[12]!==f?(a=i.jsx(c("BaseRowItem.react"),{children:f}),b[12]=f,b[13]=a):a=b[13];b[14]!==g||b[15]!==m||b[16]!==l||b[17]!==k||b[18]!==a?(h=i.jsxs(c("BaseRow.react"),{verticalAlign:"center",xstyle:m,children:[g,l,k,a]}),b[14]=g,b[15]=m,b[16]=l,b[17]=k,b[18]=a,b[19]=h):h=b[19];return h}g["default"]=a}),98);
__d("FBIconMagnifyingGlassFilled12.svg.react",["XPlatReactSVG","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs(d("XPlatReactSVG").Svg,babelHelpers["extends"]({viewBox:"0 0 12 13",width:"1em",height:"1em",fill:"currentColor",title:a.title},a,{children:[a.children!=null&&i.jsx(d("XPlatReactSVG").Defs,{children:a.children}),i.jsx(d("XPlatReactSVG").G,{fillRule:"evenodd",transform:"translate(-450 -1073)",children:i.jsxs(d("XPlatReactSVG").G,{fillRule:"nonzero",children:[i.jsx(d("XPlatReactSVG").Path,{d:"m104.609 929.891.103.106a4.75 4.75 0 1 1-.103-.106zm-1.155.97a3.25 3.25 0 1 0 .185.185l-.09-.094-.095-.09z",transform:"translate(353.5 145)"}),i.jsx(d("XPlatReactSVG").Path,{d:"M104.1 934.827c-.048.085-.11.211-.17.372a2.285 2.285 0 0 0-.147 1.107c.049.366.205.702.478.974a.75.75 0 0 0 1.112-1.003l-.052-.057a.173.173 0 0 1-.051-.112.87.87 0 0 1 .066-.385l.031-.078.032-.066a.75.75 0 1 0-1.298-.752z",transform:"translate(353.5 145)"}),i.jsx(d("XPlatReactSVG").Path,{d:"m103.617 937.38.066-.029.042-.016a.869.869 0 0 1 .385-.067.181.181 0 0 1 .087.03l.023.02a.75.75 0 0 0 1.06-1.06 1.664 1.664 0 0 0-.975-.477c-.379-.05-.75.015-1.107.149a2.52 2.52 0 0 0-.372.172.75.75 0 0 0 .624 1.356l.066-.026.1-.052z",transform:"translate(353.5 145)"}),i.jsx(d("XPlatReactSVG").Path,{d:"m106.608 940.169-.04-.044-2.889-3.388c-.599-.703.355-1.657 1.058-1.058l3.388 2.889.044.04c.055.055.114.128.17.222.23.394.23.895-.142 1.31l-.057.057a1.077 1.077 0 0 1-1.31.141 1.097 1.097 0 0 1-.222-.169zm1.03-1.03-.24.283-.318-.284c-.11.122-.11.326-.036.451a.387.387 0 0 0 .064.08l.561-.56a.387.387 0 0 0-.08-.065c-.125-.073-.33-.073-.451.036l.284.317-.283.242.5-.5z",transform:"translate(353.5 145)"})]})})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;b=a;g["default"]=b}),98);
__d("FDSComposeFilled16Icon",["cr:14785"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:14785")}),98);
__d("FDSComposeFilled16PNGIcon.react",["ix","fbicon"],(function(a,b,c,d,e,f,g,h){"use strict";a=d("fbicon")._(h("507170"),16);b=a;g["default"]=b}),98);
__d("FDSMessagesFilled24Icon",["cr:13843"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:13843")}),98);
__d("FDSMessagesFilled24PNGIcon.react",["ix","fbicon"],(function(a,b,c,d,e,f,g,h){"use strict";a=d("fbicon")._(h("542884"),24);b=a;g["default"]=b}),98);
__d("FDSPivotLinkTabs.react",["fbt","ix","BaseAdaptiveTabs.react","CometComponentWithKeyCommands.react","CometKeys","CometPivotLinkTab.react","FDSDeferredPopoverTrigger.react","FocusGroup.react","fbicon","focusScopeQueries","react","react-compiler-runtime","requireDeferred","stylex"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k,l=k||(k=d("react"));b=k;b.useCallback;b.useMemo;var m=b.useRef,n=b.useState,o=c("requireDeferred")("CometTabMenuForPivotLinks.react").__setRef("FDSPivotLinkTabs.react");e=d("FocusGroup.react").createFocusGroup(d("focusScopeQueries").tabbableScopeQuery);var p=e[0],q=e[1],r={height:{height:"xc9qbxq",$$css:!0},moreTabWidth:{width:"x1useyqa",$$css:!0},root:{marginStart:"x139jcc6",marginEnd:"xcud41i",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(44),e=a.linkType,f=a.maxTabs,g=a.moreTabConfig,k=a.tabs;a=a.tabsContainerStyle;var x=f===void 0?Infinity:f;b[0]!==x||b[1]!==k.length?(f=function(){return Array.from({length:k.length}).map(t).filter(function(a){return a>=x})},b[0]=x,b[1]=k.length,b[2]=f):f=b[2];f=n(f);var y=f[0],z=f[1],A=m(null);if(b[3]!==y||b[4]!==k){b[6]!==k?(f=function(a){return(a=k[a])==null?void 0:a.selected},b[6]=k,b[7]=f):f=b[7];f=y.some(f);b[3]=y;b[4]=k;b[5]=f}else f=b[5];f=f;var B=f;b[8]!==y.length||b[9]!==B||b[10]!==e||b[11]!==(g==null?void 0:g.image)||b[12]!==(g==null?void 0:g.imagePlacement)||b[13]!==(g==null?void 0:g.label)||b[14]!==(g==null?void 0:g.labelIsHidden)||b[15]!==(g==null?void 0:g.xstyle)?(f=function(a,b){var f=[{command:{key:c("CometKeys").DOWN},description:h._(/*BTDS*/"Open Menu"),handler:b}];return l.jsx(c("CometComponentWithKeyCommands.react"),{commandConfigs:f,children:l.jsx(c("CometPivotLinkTab.react"),{FocusItem:q,"aria-haspopup":"menu","aria-label":h._(/*BTDS*/"More"),image:(f=g==null?void 0:g.image)!=null?f:{icon:d("fbicon")._(i("484386"),16),type:"icon"},imagePlacement:(f=g==null?void 0:g.imagePlacement)!=null?f:"left",isHiddenOverride:y.length===0,label:(f=g==null?void 0:g.label)!=null?f:h._(/*BTDS*/"More"),labelIsHidden:(f=g==null?void 0:g.labelIsHidden)!=null?f:!0,linkType:e,onPress:b,ref:a,role:"button",selected:B,testid:void 0,xstyle:g==null?void 0:g.xstyle})})},b[8]=y.length,b[9]=B,b[10]=e,b[11]=g==null?void 0:g.image,b[12]=g==null?void 0:g.imagePlacement,b[13]=g==null?void 0:g.label,b[14]=g==null?void 0:g.labelIsHidden,b[15]=g==null?void 0:g.xstyle,b[16]=f):f=b[16];f=f;if(b[17]!==y||b[18]!==k){var C;b[20]!==k?(C=function(a){return k[a]},b[20]=k,b[21]=C):C=b[21];C=y.map(C).filter(Boolean);b[17]=y;b[18]=k;b[19]=C}else C=b[19];var D;b[22]!==C?(D={menuItems:C},b[22]=C,b[23]=D):D=b[23];b[24]!==f||b[25]!==D?(C=l.jsx(c("FDSDeferredPopoverTrigger.react"),{popoverProps:D,popoverResource:o,children:f}),b[24]=f,b[25]=D,b[26]=C):C=b[26];f=C;b[27]!==a?(D=(j||(j=c("stylex"))).props(r.root,a),b[27]=a,b[28]=D):D=b[28];a=(C=g==null?void 0:g.width)!=null?C:r.moreTabWidth;b[29]!==k?(C=k.findIndex(s),b[29]=k,b[30]=C):C=b[30];var E;b[31]!==y||b[32]!==e||b[33]!==k?(E=k.map(function(a){return function(b,d,f){return l.createElement("div",babelHelpers["extends"]({"aria-hidden":y.includes(d)?!0:void 0},(j||(j=c("stylex"))).props(b),{key:d+"tab",role:y.includes(d)?void 0:"none"}),l.jsx(c("CometPivotLinkTab.react"),babelHelpers["extends"]({},a,{FocusItem:q,containerRef:f?void 0:A,linkType:e,onHidden:function(a){z(function(b){return a?u(b,d):v(b,d)})},ref:a.ref,testid:void 0})))}}),b[31]=y,b[32]=e,b[33]=k,b[34]=E):E=b[34];var F;b[35]!==x||b[36]!==f||b[37]!==a||b[38]!==C||b[39]!==E?(F=l.jsx(c("BaseAdaptiveTabs.react"),{height:36,heightXStyle:r.height,maxVisibleTabs:x,moreTab:f,moreTabWidthXStyle:a,selectedTabIndex:C,tabs:E}),b[35]=x,b[36]=f,b[37]=a,b[38]=C,b[39]=E,b[40]=F):F=b[40];b[41]!==F||b[42]!==D?(f=l.jsx(c("CometComponentWithKeyCommands.react"),{commandConfigs:w,children:l.jsx(p,{orientation:"horizontal",preventScrollOnFocus:!0,tabScopeQuery:d("focusScopeQueries").tabbableScopeQuery,wrap:!0,children:l.jsx("div",babelHelpers["extends"]({},D,{ref:A,children:F}))})}),b[41]=F,b[42]=D,b[43]=f):f=b[43];return f}function s(a){return a.selected}function t(a,b){return b}function u(a,b){return a.includes(b)?a:[].concat(a,[b]).sort(function(a,b){return a-b})}function v(a,b){return a.includes(b)?a.filter(function(a){return a!==b}):a}var w=[{command:{key:c("CometKeys").LEFT},description:h._(/*BTDS*/"Previous item"),handler:function(){}},{command:{key:c("CometKeys").RIGHT},description:h._(/*BTDS*/"Next item"),handler:function(){}}];g["default"]=a}),226);
__d("FDSResizeFreeFilled20Icon",["cr:15603"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:15603")}),98);
__d("MWAddOnCircleContainer.react",["react","react-compiler-runtime","react-strict-dom"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={container:{alignItems:"x6s0dn4",backgroundColor:"x1qhmfi1",borderTopStartRadius:"xzolkzo",borderTopEndRadius:"x12go9s9",borderBottomEndRadius:"x1rnf11y",borderBottomStartRadius:"xprq8jg",display:"x78zum5",justifyContent:"xl56j7k",$$css:!0},disabled:{backgroundColor:"x1281ex9",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(9),c=a.ariaHidden,e=a.children,f=a.disabled;a=a.size;c=c===void 0?!1:c;f=f===void 0?!1:f;f=f&&j.disabled;var g;b[0]!==a?(g=[{height:a,width:a}],b[0]=a,b[1]=g):g=b[1];b[2]!==f||b[3]!==g?(a=[j.container,f,g],b[2]=f,b[3]=g,b[4]=a):a=b[4];b[5]!==c||b[6]!==e||b[7]!==a?(f=i.jsx(d("react-strict-dom").html.div,{"aria-hidden":c,style:a,children:e}),b[5]=c,b[6]=e,b[7]=a,b[8]=f):f=b[8];return f}g["default"]=a}),98);
__d("MWJewelDropdownHeaderSeeAllButton.react",["fbt","FDSCircleButton.react","FDSResizeFreeFilled20Icon","FDSTooltip.react","MWFacebookUserWithoutMessengerAccess","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(a){var b=d("react-compiler-runtime").c(12),e=a.onClose,f=a.testid;a=a.url;var g=d("MWFacebookUserWithoutMessengerAccess").useIsFacebookUserWithoutMessengerAccess(),i;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(i=h._(/*BTDS*/"See all in Messenger"),b[0]=i):i=b[0];i=i;var k;b[1]===Symbol["for"]("react.memo_cache_sentinel")?(k=h._(/*BTDS*/"See all messages"),b[1]=k):k=b[1];k=k;g=g?k:i;b[2]!==a?(k={url:a},b[2]=a,b[3]=k):k=b[3];b[4]!==g||b[5]!==e||b[6]!==k||b[7]!==f?(i=j.jsx(c("FDSCircleButton.react"),{color_DEPRECATED:"secondary",icon:c("FDSResizeFreeFilled20Icon"),label:g,linkProps:k,onPress:e,size:32,testid:void 0,type_DEPRECATED:"deemphasized"}),b[4]=g,b[5]=e,b[6]=k,b[7]=f,b[8]=i):i=b[8];b[9]!==g||b[10]!==i?(a=j.jsx(c("FDSTooltip.react"),{align:"end",tooltip:g,children:i}),b[9]=g,b[10]=i,b[11]=a):a=b[11];return a}g["default"]=a}),226);
__d("MWQuickPromotionThreadlistBannerQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="9657245301049219"}),null);
__d("MWXIconMagnifyingGlass",["MWXSvgIcon","SVGIcon","cr:12487","gkx"],(function(a,b,c,d,e,f,g){"use strict";a=d("MWXSvgIcon").mwxSvgIcon(d("SVGIcon").svgIcon(b("cr:12487")),c("gkx")("23219"));g["default"]=a}),98);
__d("XCometGamingVideoControllerRouteBuilder",["jsRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsRouteBuilder")("/gaming/video/",Object.freeze({}),void 0);b=a;g["default"]=b}),98);
__d("XFacebookHelpCenterContentControllerRouteBuilder",["jsRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsRouteBuilder")("/help/{cms_id}/{?cms_title}/",Object.freeze({region_hint:[],expand_folders:[]}),void 0);b=a;g["default"]=b}),98);
__d("useDeviceAlertCountQuery.graphql",["MAWDeviceChangeState-resolver"],(function(a,b,c,d,e,f){"use strict";a={fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useDeviceAlertCountQuery",selections:[{kind:"ClientExtension",selections:[{alias:null,args:null,fragment:null,kind:"RelayLiveResolver",name:"deviceAlertCount",resolverModule:b("MAWDeviceChangeState-resolver").deviceAlertCount,path:"deviceAlertCount"}]}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"useDeviceAlertCountQuery",selections:[{kind:"ClientExtension",selections:[{name:"deviceAlertCount",args:null,fragment:null,kind:"RelayResolver",storageKey:null,isOutputType:!0}]}]},params:{cacheID:"6e4038dfa7eed674d7e97d2aca3aeb1f",id:null,metadata:{},name:"useDeviceAlertCountQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("useDeviceAlertCount",["CometRelay","MAWStateContext.react","gkx","react-compiler-runtime","useDeviceAlertCountQuery.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(){var a=i;return d("MAWStateContext.react").useMAWSelector(a)}function i(a){return a.unArchivedSelfDeviceChangeAlerts}function e(){var a=d("react-compiler-runtime").c(2),c,e;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(c=h!==void 0?h:h=b("useDeviceAlertCountQuery.graphql"),e={},a[0]=c,a[1]=e):(c=a[0],e=a[1]);a=d("CometRelay").useClientQuery(c,e);return(c=a.deviceAlertCount)!=null?c:0}f=c("gkx")("12254")?e:a;g.useDeviceAlertCount=f}),98);
__d("useMAWSecurityAlertsPreferences",["MAWBridgeFireAndForget","MAWBridgeSendAndReceive","promiseDone","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");b.useCallback;var i=b.useEffect,j=b.useState;function a(){var a=d("react-compiler-runtime").c(10),b=j(),e=b[0],f=b[1],g;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b=function(){c("promiseDone")(d("MAWBridgeSendAndReceive").sendAndReceive("backend","getSecurityAlertSettingForSelfAndContact").then(function(a){f(a)}))},g=[],a[0]=b,a[1]=g):(b=a[0],g=a[1]);i(b,g);a[2]!==e?(b=function(a){e!=null&&f(babelHelpers["extends"]({},e,{allowSecurityAlertForContact:a})),d("MAWBridgeFireAndForget").fireAndForget("backend","changeSecurityAlertSetting",{isEnableAlert:a})},a[2]=e,a[3]=b):b=a[3];g=b;a[4]!==e?(b=function(a){e!=null&&f(babelHelpers["extends"]({},e,{allowSecurityAlertForSelf:a})),d("MAWBridgeFireAndForget").fireAndForget("backend","changeSecurityAlertSettingForSelf",{isEnableSelfAlert:a})},a[4]=e,a[5]=b):b=a[5];b=b;var h;a[6]!==e||a[7]!==g||a[8]!==b?(h={onContactSecurityAlertsPreferencesChange:g,onSelfSecurityAlertsPreferencesChange:b,securityAlertsPreferences:e},a[6]=e,a[7]=g,a[8]=b,a[9]=h):h=a[9];return h}g["default"]=a}),98);
__d("useMWEncryptedBackupsListenForChangesToVirtualDevicesV2",["Base64Utils","I64","LSIntEnum","ReQL","ReQLSuspense","react","react-compiler-runtime","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k;b=k||d("react");var l=b.useEffect;b.useMemo;var m=b.useState;function a(a){var b=d("react-compiler-runtime").c(16),e;b[0]!==a?(e=a===void 0?{}:a,b[0]=a,b[1]=e):e=b[1];a=e;e=a.offlineDevicesCountInitialValue;a=a.vestaClientIDInitialValue;var g=(h||(h=c("useReStore")))(),i;b[2]!==g.tables.encrypted_backups_virtual_devices?(i=function(){return d("ReQL").fromTableAscending(g.tables.encrypted_backups_virtual_devices)},b[2]=g.tables.encrypted_backups_virtual_devices,b[3]=i):i=b[3];var j;b[4]!==g?(j=[g],b[4]=g,b[5]=j):j=b[5];var k=d("ReQLSuspense").useArray(i,j,f.id+":52");bb0:{if(a!=null){i=a;break bb0}if(b[6]!==k){j=k.filter(q);a=j[0];j=a!=null?d("Base64Utils").fromArrayBuffer(a.virtualDeviceId):void 0;b[6]=k;b[7]=j}else j=b[7];i=j}a=i;bb1:{if(e!=null){j=e;break bb1}b[8]!==k?(i=k.filter(p),b[8]=k,b[9]=i):i=b[9];j=i.length}e=j;i=m(a);j=i[0];var r=i[1];a=m(e);i=a[0];var s=a[1];b[10]!==k?(e=function(){if(k.length===0)return;var a=k.filter(o);a=a[0];var b=k.filter(n);r(a!=null?d("Base64Utils").fromArrayBuffer(a.virtualDeviceId):void 0);s(b.length)},a=[k],b[10]=k,b[11]=e,b[12]=a):(e=b[11],a=b[12]);l(e,a);b[13]!==i||b[14]!==j?(e={offlineDevicesCount:i,vestaClientID:j},b[13]=i,b[14]=j,b[15]=e):e=b[15];return e}function n(a){return(i||(i=d("I64"))).equal(a.virtualDeviceType,(j||(j=d("LSIntEnum"))).ofNumber(1))}function o(a){return(i||(i=d("I64"))).equal(a.virtualDeviceType,(j||(j=d("LSIntEnum"))).ofNumber(2))}function p(a){return(i||(i=d("I64"))).equal(a.virtualDeviceType,(j||(j=d("LSIntEnum"))).ofNumber(1))}function q(a){return(i||(i=d("I64"))).equal(a.virtualDeviceType,(j||(j=d("LSIntEnum"))).ofNumber(2))}g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("CometLinkSharingContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b={getWrappedShareUrlID:function(a){return null},shareSheetSurface:null,wrappedShareUrl:""};c=a.createContext(b);e=c;g["default"]=e}),98);
__d("CometMessengerReshareContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b={LSResults:[],addSelectedTarget:function(a){},addSelectedThreadData:function(a){},getXMAFileArgsPromise:function(){return null},getXMAPreviewPromise:function(){return null},removeSelectedTargetID:function(a){},selectedContacts:new Map(),selectedTargets:new Map(),setXMADataPromise:function(a){}};c=a.createContext(b);e=c;g["default"]=e}),98);
__d("CometUnifiedShareSheetGating",["gkx"],(function(a,b,c,d,e,f,g){"use strict";function a(){return c("gkx")("24315")}function b(){return c("gkx")("24317")}function d(){return c("gkx")("8866")}g.shouldEnableE2EEDebugIndicator=a;g.shouldDisableMessengerListRanking=b;g.shouldEnablePSLoggingIntentFixes=d}),98);
__d("MAWBumpThread",["ODS","ReQL"],(function(a,b,c,d,e,f,g){"use strict";var h;async function a(a){a.description;var b=a.lastActivityTs,c=a.lastMessageCtaType,e=a.lastReadTs,f=a.snippet,g=a.snippetSenderContactId,i=a.threadKey;a=a.txn;i=await d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.threads).getKeyRange(i));if(i==null)return(h||(h=d("ODS"))).bumpEntityKey(3185,"armadillo_thread_bump","missing_thread");f=(f=f)!=null?f:i.snippet;g=(g=g)!=null?g:i.snippetSenderContactId;c=babelHelpers.extends({},i,{lastActivityTimestampMs:(b=b)!=null?b:i.lastActivityTimestampMs,lastMessageCtaType:c,lastReadWatermarkTimestampMs:(b=e)!=null?b:i.lastReadWatermarkTimestampMs,snippet:f,snippetSenderContactId:g});await a.threads.put(c)}g.threadMutation_DEPRECATED=a}),98);
__d("MAWCreateOptimisticSecureMessage",["EntMessageReplyType","I64","LSAuthorityLevel","LSIntEnum","LSMessageReplySourceType","LSMessageReplySourceTypeV2","LSMessageSendStatus","LSQuickReplyType","LSReplyMessageAttachmentType","LSReplyMessageStatus","MAWBridgeBuildMsg","MAWMsgReplySnippet","MessagingAttachmentType","QPLUserFlow","ReQL","isMWBumpMessage","qpl","sendToSentQPLLogger"],(function(a,b,c,d,e,f,g){"use strict";var h,i;async function j(a,b,e,f){if(e==null)return[void 0,void 0];var g=await d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.messages).getKeyRange(b,e.timestampMs,e.messageId));c("QPLUserFlow").addPoint(c("qpl")._(25313175,"1551"),"get_reply_msg_end",{instanceKey:f});a=await d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.attachments).getKeyRange(b,e.messageId));c("QPLUserFlow").addPoint(c("qpl")._(25313175,"1551"),"get_reply_attachment_end",{instanceKey:f});return[g,a]}async function k(a,b){a=await d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.tables.contacts).getKeyRange(b));return a==null?void 0:a.firstName}async function l(a,b,e,f){if(b==null)return;var g=c("isMWBumpMessage")(b.replyType)&&b.replyToUserId!=null?b.replyToUserId:b.senderId;a=await k(a,g);return(f=d("MAWMsgReplySnippet").buildLocalizedReplySnippet({isAuthorMe:!0,isBumpMsg:f,isDeletedMsg:b.replyStatus===c("LSReplyMessageStatus").DELETED,recipientName:a,replySenderIsMe:(h||(h=d("I64"))).equal(g,e)}))==null?void 0:f.toString()}function m(a){if(a==null)return;var b=a.attachmentType;return(h||(h=d("I64"))).equal(b,(i||(i=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").IMAGE))||(h||(h=d("I64"))).equal(b,(i||(i=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").STICKER))?a.previewUrl:void 0}function n(a){if(a!=null){if((h||(h=d("I64"))).equal(a==null?void 0:a.attachmentType,(i||(i=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").IMAGE)))return(i||(i=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").PHOTO);if((h||(h=d("I64"))).equal(a==null?void 0:a.attachmentType,(i||(i=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").STICKER)))return(i||(i=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").STICKER);if((h||(h=d("I64"))).equal(a==null?void 0:a.attachmentType,(i||(i=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").VIDEO)))return(i||(i=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").VIDEO);if((h||(h=d("I64"))).equal(a==null?void 0:a.attachmentType,(i||(i=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").ANIMATED_IMAGE)))return(i||(i=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").GIF);return(h||(h=d("I64"))).equal(a==null?void 0:a.attachmentType,(i||(i=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").EPHEMERAL_IMAGE))||(h||(h=d("I64"))).equal(a==null?void 0:a.attachmentType,(i||(i=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").EPHEMERAL_VIDEO))?(i||(i=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").EPHEMERAL_RAVEN_MESSAGE):(i||(i=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").OTHER)}}async function a(a,b,e,f,g,h,k,o,p,q,r,s,t,u){var v=await d("sendToSentQPLLogger").measureSendToSentPerformance("optimistic_message_get_reply",o,function(){return j(b,h,f,o)}),w=v[0];v=v[1];g=d("MAWBridgeBuildMsg").buildOptimisticMessage(g,w,p,t);p=await d("sendToSentQPLLogger").measureSendToSentPerformance("optimistic_message_reply_snippet",o,function(){return l(a,w,e,u===!0)});t=babelHelpers.extends({},g,{authorityLevel:(i||(i=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").OPTIMISTIC),displayedContentTypes:i.ofNumber(s),hasQuickReplies:!1,hotEmojiSize:k,isAdminMessage:!1,isCollapsed:!1,isUnsent:!1,messageId:q,offlineThreadingId:q,primarySortKey:r,quickReplyType:i.ofNumber(c("LSQuickReplyType").NONE),replyAttachmentType:n(v),replyMediaPreviewHeight:v==null?void 0:v.previewHeight,replyMediaPreviewWidth:v==null?void 0:v.previewWidth,replyMediaUrl:m(v),replyMediaUrlMimeType:v==null?void 0:v.playableUrlMimeType,replySnippet:p,replySourceId:f==null?void 0:f.messageId,replySourceType:f!=null?(i||(i=d("LSIntEnum"))).ofNumber(c("LSMessageReplySourceType").MESSAGE):void 0,replySourceTypeV2:f!=null?(i||(i=d("LSIntEnum"))).ofNumber(c("LSMessageReplySourceTypeV2").MESSAGE):void 0,replyType:u===!0?(i||(i=d("LSIntEnum"))).ofNumber(c("EntMessageReplyType").BUMP):void 0,senderId:e,sendStatus:i.ofNumber(c("LSMessageSendStatus").SENDING_TO_SERVER),sendStatusV2:i.ofNumber(1),textHasLinks:!1,threadKey:h,timestampMs:r,transportKey:"WhatsApp",viewFlags:i.ofNumber(0)});return t}g.buildOptimisticLsMessage=a}),98);
__d("MAWOptimisticMessageUtils",["I64","LSAuthorityLevel","LSHotEmojiSize","LSIntEnum","MAWAckLevel","MAWAdminMsg","MAWBridgeBuildMsgMentions","MAWBumpThread","MAWLocalizationType","MAWMsgType","MAWThreadUpdateMiddlewareGatingUtil","MessagingAttachmentType","ReQL","WAJids","WATimeUtils","cr:2472"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(){return d("WATimeUtils").millisTime()}async function j(a,b){a=await d("ReQL").firstAsync(d("ReQL").fromTableDescending(a.threads.index("lastActivityTimestampMs")));return a==null||(h||(h=d("I64"))).equal(a.threadKey,b)?null:(h||(h=d("I64"))).add(a.lastActivityTimestampMs,h.one)}async function e(a,e){var f=e.hotEmojiSize,g=e.mentionedJids,l=e.messageText,m=e.senderId;e=e.threadKey;l=b("cr:2472")==null?l:b("cr:2472").unvault(l);f=f!=null&&(h||(h=d("I64"))).equal(f,(i||(i=d("LSIntEnum"))).ofNumber(c("LSHotEmojiSize").SMALL))&&l==="\ud83d\udc4d";f=f?"(Y)":k(l,g);l=!d("MAWThreadUpdateMiddlewareGatingUtil").isMAWCacheServiceEnabled();g=l?d("MAWAdminMsg").buildLocalizedString([f],[],d("MAWLocalizationType").CURRENT_USER_SEND_TEXT):void 0;f=await j(a,e);await d("MAWBumpThread").threadMutation_DEPRECATED({description:"MAWOptimisticMessageUtils",lastActivityTs:f,lastReadTs:f,snippet:g,snippetSenderContactId:l?m:void 0,threadKey:e,txn:a})}function k(a,b){b=d("MAWBridgeBuildMsgMentions").buildThreadSnippetWithMentions(a,b,[],d("MAWLocalizationType").CURRENT_USER_SEND_TEXT);var c=b[0];b[1];return(b=c)!=null?b:a}async function f(a,b){var c=b.optimisticMediaAttachment,e=b.senderId;b=b.threadKey;c=o(c.type);if(c!=null){var f=await j(a,b);await d("MAWBumpThread").threadMutation_DEPRECATED({description:"MAWCreateOptimisticSecureMessageWithAttachment",lastActivityTs:f,lastReadTs:f,snippet:c,snippetSenderContactId:e,threadKey:b,txn:a})}}function l(a){var b=a.ephemeralSettings,c=a.externalId,e=a.threadJid;a=a.ts;return{ack:d("MAWAckLevel").ACK.partialOptimistic,altIndex:void 0,author:d("WAJids").AUTHOR_ME,ephemeralSetting:(b=b)!=null?b:void 0,externalId:c,isForwarded:!1,specialTextSize:void 0,threadJid:e,ts:d("WATimeUtils").castMilliSecondsToUnixTime(a)}}function m(a){var b=a.commands,c=a.content,d=a.initiatingSource,e=a.isFirstMsg,f=a.mentionedJids,g=a.optimisticMsg,h=a.quote,i=a.specialTextSize;a=a.threadSource;return{commands:b==null?void 0:b.slice(),content:c,initiatingSource:d,isFirstMsg:e,isForwarded:!1,mentionedJids:f==null?void 0:f.slice(),openMessageOtid:void 0,openMessageParticipantCount:void 0,optimisticMsg:g,participantCount:void 0,quote:h,source:a,specialTextSize:i}}function n(a){var b=a.optimisticMediaAttachment,e=a.threadKey,f=a.timestampMsI64;e={actionUrl:a.actionUrl,attachmentFbid:a.offlineAttachmentId,attachmentIndex:(h||(h=d("I64"))).zero,attachmentType:a.attachmentType,authorityLevel:(i||(i=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").OPTIMISTIC),filename:b==null?void 0:b.filename,hasMedia:!h.equal(a.attachmentType,i.ofNumber(c("MessagingAttachmentType").XMA)),hasXma:h.equal(a.attachmentType,i.ofNumber(c("MessagingAttachmentType").XMA)),isHd:a.isHd,isSharable:!1,messageId:a.messageExternalId,offlineAttachmentId:a.offlineAttachmentId,receiverFetchId:a.contentRef,subtitleText:a.subtitleText,threadKey:e,timestampMs:f,titleText:a.titleText,transportKey:"WhatsApp",xmaContentType:a.xmaContentType};if(b){e=babelHelpers.extends({},e,{filesize:(h||(h=d("I64"))).of_float(b.file.size),previewUrl:b.url});if(b.type==="image"||b.type==="animated_image"||b.type==="video"||b.type==="sticker"){e=babelHelpers.extends({},e,{previewHeight:((f=b.thumbnailSpec)==null?void 0:f.height)?(h||(h=d("I64"))).of_float((a=b.thumbnailSpec)==null?void 0:a.height):void 0,previewWidth:((f=b.thumbnailSpec)==null?void 0:f.width)?(h||(h=d("I64"))).of_float((a=b.thumbnailSpec)==null?void 0:a.width):void 0})}}return e}function o(a){switch(a){case"animated_image":return d("MAWAdminMsg").buildLocalizedString([],[],d("MAWLocalizationType").CURRENT_USER_SEND_GIF);case"image":return d("MAWAdminMsg").buildLocalizedString([],[],d("MAWLocalizationType").CURRENT_USER_SEND_IMAGE);case"video":return d("MAWAdminMsg").buildLocalizedString([],[],d("MAWLocalizationType").CURRENT_USER_SEND_VIDEO);case"audio":return d("MAWAdminMsg").buildLocalizedString([],[],d("MAWLocalizationType").CURRENT_USER_SEND_AUDIO);case"document":return d("MAWAdminMsg").buildLocalizedString([],[],d("MAWLocalizationType").CURRENT_USER_SEND_ATTACHMENT);case"sticker":return d("MAWAdminMsg").buildLocalizedString([],[],d("MAWLocalizationType").CURRENT_USER_SEND_STICKER);default:return null}}function p(a){switch(a){case(i||(i=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").STICKER):return d("MAWMsgType").MSG_TYPE.STICKER;case(i||(i=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").IMAGE):return d("MAWMsgType").MSG_TYPE.IMAGE;case(i||(i=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").ANIMATED_IMAGE):return d("MAWMsgType").MSG_TYPE.GIF;case(i||(i=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").VIDEO):return d("MAWMsgType").MSG_TYPE.VIDEO;case(i||(i=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").AUDIO):return d("MAWMsgType").MSG_TYPE.PTT;default:return d("MAWMsgType").MSG_TYPE.DOCUMENT_FILE}}function q(a){if(a==null)return;if((h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(c("LSHotEmojiSize").SMALL)))return 1;if((h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(c("LSHotEmojiSize").MEDIUM)))return 2;if((h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(c("LSHotEmojiSize").LARGE)))return 3}g.getOptimisticMessageTimestamp=a;g.getOptimisticThreadBumpTimestamp=j;g.optimisticBumpThread=e;g.optimisticBumpThreadMedia=f;g.buildMAWOptimisticBaseMsg=l;g.buildMAWBaseSendMsgArgs=m;g.buildOptimisticAttachment=n;g.lsAttachmentTypeToMsgType=p;g.getSpecialTextSize=q}),98);
__d("MAWShareAttachmentDeferred",["JSResourceForInteraction"],(function(a,b,c,d,e,f,g){"use strict";a=c("JSResourceForInteraction")("MAWShareAttachment").__setRef("MAWShareAttachmentDeferred");b=a;g["default"]=b}),98);
__d("MessengerIntent",["WebStorage","justknobx"],(function(a,b,c,d,e,f,g){"use strict";var h,i="mw_sent_message";function j(){return c("justknobx")._("1630")}function a(){(h||(h=c("WebStorage"))).setItemGuarded(h.getLocalStorage(),i,String(Date.now()))}function b(){var a=(h||(h=c("WebStorage"))).getLocalStorage();return Date.now()-Number(a==null?void 0:a.getItem(i))<j()}g.sentMessage=a;g.hasSentMessagesRecently=b}),98);
__d("MWLSLogSend",["CometHeroLogging","I64","MWChatInteraction","MWSharedS2SBaseAnnotations","MessengerIntent"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b,e){var f=e.isCommunityEvent,g=e.isMessageRequest,i=e.source;e=e.threadType;var j=c("CometHeroLogging").genHeroInteractionUUIDAndMarkStart(a.getTraceId());d("MWChatInteraction").set(b,j);j={entrypoint:d("MWSharedS2SBaseAnnotations").getEntrypointAnnotation(i),is_community_event:f===!0?"true":"false",is_message_request:g===!0?"true":"false",thread_type:e==null?"unknown":(h||(h=d("I64"))).to_string(e)};Object.entries(j).forEach(function(b){var c=b[0];b=b[1];a.addMetadata(c,String(b))});d("MessengerIntent").sentMessage();return a.onComplete(function(){delete d("MWChatInteraction").interactions[b]})}g.logSentHeroInteraction=a}),98);
__d("UnifiedShareSheetMultiSelectionContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b={AddSeletectTarget:function(a){},RemoveSelectedTarget:function(a){},getXMAFileArgsPromise:function(){return null},getXMAPreviewPromise:function(){return null},selectedContacts:new Map(),selectedTargets:new Map()};c=a.createContext(b);e=c;g["default"]=e}),98);
__d("UnifiedShareSheetSharingOptionsItemButton.react",["CometColumn.react","CometColumnItem.react","CometLinkSharingContext","CometPlaceholder.react","CometPressable.react","FDSSkittleIcon.react","FDSText.react","UnifiedShareSheetHScrollTilesItemPlaceholder.react","cr:8265","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useContext,k={button:{borderTopStartRadius:"xhk9q7s",borderTopEndRadius:"x1otrzb0",borderBottomEndRadius:"x1i1ezom",borderBottomStartRadius:"x1o6z2jb",height:"xnfxvih",marginTop:"xdj266r",marginEnd:"x11i5rnm",marginBottom:"xat24cr",marginStart:"x1mh8g0r",width:"x19v3vle",$$css:!0}};function a(a){var e=d("react-compiler-runtime").c(22),f,g,h,l;e[0]!==a?(f=a.icon,g=a.onPress,l=a.text,h=babelHelpers.objectWithoutPropertiesLoose(a,["icon","onPress","text"]),e[0]=a,e[1]=f,e[2]=g,e[3]=h,e[4]=l):(f=e[1],g=e[2],h=e[3],l=e[4]);a=j(c("CometLinkSharingContext"));var m=a.shareSheetSurface,n=a.wrappedShareUrl,o=b("cr:8265")();e[5]===Symbol["for"]("react.memo_cache_sentinel")?(a=i.jsx(c("UnifiedShareSheetHScrollTilesItemPlaceholder.react"),{}),e[5]=a):a=e[5];var p;e[6]!==g||e[7]!==m||e[8]!==o||e[9]!==n?(p=function(){g(),o&&n.includes("/share/")&&o({loggingMetrics:{off_platform_sharing:{entry_point:"AGNOSTIC_UNIFIED_SHARE_SHEET_ENTRYPOINT"}},shareSheetSurface:m,wrappedUrl:n})},e[6]=g,e[7]=m,e[8]=o,e[9]=n,e[10]=p):p=e[10];var q;e[11]!==f?(q=i.jsx(c("CometColumnItem.react"),{align:"center",children:i.jsx(c("FDSSkittleIcon.react"),{color:"gray",icon:f,size:60})}),e[11]=f,e[12]=q):q=e[12];e[13]!==l?(f=i.jsx(c("CometColumnItem.react"),{align:"center",children:i.jsx(c("FDSText.react"),{align:"center",numberOfLines:2,type:"body4",children:l})}),e[13]=l,e[14]=f):f=e[14];e[15]!==q||e[16]!==f?(l=i.jsxs(c("CometColumn.react"),{expanding:!0,paddingVertical:8,spacing:12,children:[q,f]}),e[15]=q,e[16]=f,e[17]=l):l=e[17];e[18]!==h||e[19]!==p||e[20]!==l?(q=i.jsx(c("CometPlaceholder.react"),{fallback:a,children:i.jsx(c("CometPressable.react"),babelHelpers["extends"]({onPress:p,xstyle:k.button},h,{children:l}))}),e[18]=h,e[19]=p,e[20]=l,e[21]=q):q=e[21];return q}g["default"]=a}),98);
__d("useMAWCreateOptimisticSecureMessageWithXMAAttachment",["I64","LSIntEnum","MAWAdminMsg","MAWBumpThread","MAWCreateOptimisticSecureMessage","MAWLocalizationType","MAWOptimisticMessageUtils","MAWSendFileMsgTypes","MAWVault","MWPActor.react","MessagingAttachmentType","QPLUserFlow","qpl","react-compiler-runtime","useAsyncReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(){var a=d("react-compiler-runtime").c(3),b=c("useAsyncReStore")(),e=d("MWPActor.react").useActor(),g;a[0]!==b||a[1]!==e?(g=function(a){var d=a.actionUrl,g=a.associatedMsgId,h=a.associatedMsgText,i=a.commands,k=a.contentRef,l=a.instanceKey,m=a.isReceiverFetch,n=a.lssTraceApi,o=a.mentionedJids,p=a.messageExternalId,q=a.messageText,r=a.offlineAttachmentId,s=a.onOfflineMsgId,t=a.optimisticMediaAttachment,u=a.reply,v=a.subtitleText,w=a.threadKey,x=a.titleText,y=a.xmaContentType,z=m===void 0?!1:m;return Promise.resolve(b).then(function(a){c("QPLUserFlow").addPoint(c("qpl")._(25313175,"1551"),"before_create_optimistic_message_restore_resolved",{instanceKey:l});return a.runInTransaction(function(b){return j({actionUrl:d,associatedMsgId:g,associatedMsgText:h,commands:i,contentRef:k,db:a,instanceKey:l,isReceiverFetch:z,lssTraceApi:n,mentionedJids:o,messageExternalId:p,messageText:q,offlineAttachmentId:r,onOfflineMsgId:s,optimisticMediaAttachment:t,reply:u,senderId:e,subtitleText:v,threadKey:w,titleText:x,txn:b,xmaContentType:y})},"readwrite","ui",void 0,f.id+":95")})},a[0]=b,a[1]=e,a[2]=g):g=a[2];return g}async function j(a){var b,e=a.actionUrl,f=a.associatedMsgId,g=a.associatedMsgText,j=a.commands,k=a.contentRef,l=a.db,m=a.instanceKey,n=a.isReceiverFetch;n=n===void 0?!1:n;var o=a.lssTraceApi,p=a.mentionedJids,q=a.messageExternalId,r=a.messageText,s=a.offlineAttachmentId,t=a.onOfflineMsgId,u=a.optimisticMediaAttachment,v=a.reply,w=a.senderId,x=a.subtitleText,y=a.threadKey,z=a.titleText,A=a.txn;a=a.xmaContentType;t(q);o==null?void 0:o.addMarkerPoint("set_offline_message_external_id_for_ls_message","AppTiming");t=d("MAWOptimisticMessageUtils").getOptimisticMessageTimestamp();o=(h||(h=d("I64"))).of_float(t);n=n?536870912:1024;b=await d("MAWCreateOptimisticSecureMessage").buildOptimisticLsMessage(l,A,w,v,(b=d("MAWVault").unvault(r))!=null?b:"",y,void 0,m,p,q,o,n,j);await A.messages.add(b);n=d("MAWOptimisticMessageUtils").buildOptimisticAttachment({actionUrl:e,attachmentType:(i||(i=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").XMA),contentRef:k,messageExternalId:q,offlineAttachmentId:s,optimisticMediaAttachment:u,senderId:w,subtitleText:x,threadKey:y,timestampMsI64:o,titleText:z,xmaContentType:a});await A.attachments.add(n);if(f!=null&&g!=null&&g!==""){e=await d("MAWCreateOptimisticSecureMessage").buildOptimisticLsMessage(l,A,w,v,(b=d("MAWVault").unvault(g))!=null?b:"",y,void 0,m,p,f,o,1,j);await A.messages.add(e)}c("QPLUserFlow").addPoint(c("qpl")._(25313175,"1551"),"after_create_optimistic_message",{instanceKey:m});c("QPLUserFlow").addPoint(c("qpl")._(25313175,"1551"),"optimistic_bump_thread_start",{instanceKey:m});await d("MAWBumpThread").threadMutation_DEPRECATED({description:"useMAWCreateOptimisticSecureMessageWithXMAAttachment",lastActivityTs:o,lastReadTs:o,snippet:d("MAWAdminMsg").buildLocalizedString([d("MAWVault").unvault(r)],[],d("MAWLocalizationType").CURRENT_USER_SEND_TEXT),snippetSenderContactId:w,threadKey:y,txn:A});c("QPLUserFlow").addPoint(c("qpl")._(25313175,"1551"),"optimistic_bump_thread_end",{instanceKey:m});return{messageExternalId:q,offlineAttachmentId:d("MAWSendFileMsgTypes").toOfflineAttachmentIDFromString(s),offlineMsgTimestamp:t}}g.useMAWCreateOptimisticSecureMessageWithXMAAttachment=a}),98);
__d("useMWSendAttachment",["$InternalEnum","CometMessengerReshareContext","CometRelay","FBLogger","JSResourceForInteraction","LSDatabaseSingleton","LSMessagingThreadAttributionType","MAWMIC","MAWMessageSendReporterV2","MAWStateContext.react","MAWVerifyThreadCutoverDeferred","MWLSLogSend","MWVersion","MaybeUpdateTargetBasedOnODCutoverOrDefaultE2EEDeferred","UnifiedShareSheetMultiSelectionContext","WAResultOrError","cr:19817","isThreadLevelCutoverEnabled","qex","react","sendToSentQPLLogger","useMAWCreateOptimisticSecureMessageWithXMAAttachment"],(function(a,b,c,d,e,f,g){"use strict";var h,i;f=h||d("react");var j=f.useCallback,k=f.useContext,l=b("$InternalEnum").Mirrored(["USS_H_SCROLL","BCF"]);function m(){if(c("qex")._("564")===!0)return!0;else return c("qex")._("121")===!0}var n=c("JSResourceForInteraction")("LSShareAttachment").__setRef("useMWSendAttachment");function a(){var a=d("CometRelay").useRelayEnvironment(),e=d("useMAWCreateOptimisticSecureMessageWithXMAAttachment").useMAWCreateOptimisticSecureMessageWithXMAAttachment(),f=d("MAWStateContext.react").useDispatchOptimisticSendMessage(),g=k(c("UnifiedShareSheetMultiSelectionContext")),h=g.getXMAFileArgsPromise;g=g.getXMAPreviewPromise;var o=k(c("CometMessengerReshareContext")),p=o.getXMAFileArgsPromise;o=o.getXMAPreviewPromise;var q=(g=(g=g())!=null?g:o())!=null?g:null,r=(g=(o=h())!=null?o:p())!=null?g:null;return j(async function(g){var h=g.attachment,j=g.contactWithCapabilityPromises,k=g.lssTraceApi,o=g.offlineMsgId,p=g.reshareTarget,s=g.s2sInstanceKey,t=g.sharingComponent,u=g.source,v=g.thread,w=g.xmaDataPromise,x=g.xmaDataProps;g=g.xmaMsgExternalId;var y=m(),z=y||c("isThreadLevelCutoverEnabled")();d("sendToSentQPLLogger").markSendToSentPoint(s,"update_target_deferred_component_load_start");var A=await c("MaybeUpdateTargetBasedOnODCutoverOrDefaultE2EEDeferred").load();d("sendToSentQPLLogger").markSendToSentPoint(s,"update_target_deferred_component_load_end");var B=d("MAWMIC").duringMIC();d("sendToSentQPLLogger").addSendToSentAnnotations(s,{bool:{during_mic:B}});d("sendToSentQPLLogger").markSendToSentPoint(s,"update_target_start");B=await A(p,(i||(i=d("LSDatabaseSingleton"))).LSDatabaseSingleton,a,"sendAttachment",s,j);d("sendToSentQPLLogger").markSendToSentPoint(s,"update_target_end");A=B.targetID!==h.targetID?babelHelpers.extends({},h,{targetID:B.targetID}):h;d("MWLSLogSend").logSentHeroInteraction(k,o,{isMessageRequest:!1,mwVersion:d("MWVersion").v2,source:(j=u)!=null?j:c("LSMessagingThreadAttributionType").UNKNOWN,threadType:v==null?void 0:v.threadType});d("sendToSentQPLLogger").markSendToSentPoint(s,"offline_msg_id_generated");k.addMarkerPoint("offline_msg_id_generated","AppTiming");j=(h=B.isTargetE2E)!=null?h:y;v=!1;d("sendToSentQPLLogger").markSendToSentPoint(s,"verify_thread_cutover_start");k.addMarkerPoint("verify_thread_cutover_start","AppTiming");if(c("MAWVerifyThreadCutoverDeferred")!=null){d("sendToSentQPLLogger").markSendToSentPoint(s,"verify_cutover_deferred_component_load_start");h=await c("MAWVerifyThreadCutoverDeferred").load();y=h.verifyThreadCutoverWithStringInput;d("sendToSentQPLLogger").markSendToSentPoint(s,"verify_cutover_deferred_component_load_end");v=await y((i||(i=d("LSDatabaseSingleton"))).LSDatabaseSingleton,B.targetID)}d("sendToSentQPLLogger").markSendToSentPoint(s,"verify_thread_cutover_end");if(z&&j||v){if(b("cr:19817")===null){d("MAWMessageSendReporterV2").isMessageSendReporterV2Enabled()||d("sendToSentQPLLogger").markSendToSentFail(s,"MAWShareAttachmentDeferred_null");k.addMarkerPoint("MAWShareAttachmentDeferred_null","AppTiming");throw c("FBLogger")("messenger_web_media").mustfixThrow("Failed to fetch MAWShareAttachmentDeferred")}d("sendToSentQPLLogger").markSendToSentPoint(s,"share_attachment_deferred_component_load_start");h=await b("cr:19817").load();y=h.shareSecureAttachment;d("sendToSentQPLLogger").markSendToSentPoint(s,"share_attachment_deferred_component_load_end");d("sendToSentQPLLogger").markSendToSentPoint(s,"share_secure_attachment_start");z=t===l.USS_H_SCROLL;j=await y(z?void 0:a,A,B,u,s,"useMWSendAttachment",k,z?x:void 0,w,o,g,e,f,q,r);if((j==null?void 0:j.success)===!1)return d("WAResultOrError").makeError(j.error);else{d("sendToSentQPLLogger").markSendToSentPoint(s,"share_secure_attachment_end");return d("WAResultOrError").makeResult({report:(j==null?void 0:j.value)||{description:"removal pending rollout of Message Send Reporter V2",messageType:"fixMe"},target:B})}}else try{v=await n.load();h=v.share;await h(A,s);return d("WAResultOrError").makeResult({report:{description:"open message",messageType:"fixMe"},target:p})}catch(a){throw a}},[e,f,a])}function e(){return o}function o(){b("cr:19817")==null?void 0:b("cr:19817").preload(),c("MAWVerifyThreadCutoverDeferred")==null?void 0:c("MAWVerifyThreadCutoverDeferred").preload(),c("MaybeUpdateTargetBasedOnODCutoverOrDefaultE2EEDeferred")==null?void 0:c("MaybeUpdateTargetBasedOnODCutoverOrDefaultE2EEDeferred").preload(),n.preload()}g.SharingComponentType=l;g.useMWSendAttachment=a;g.useMWPreloadSendAttachmentComponents=e}),98);
__d("useCometFeedToMessengerReshareV3PushPage",["CometMessengerResharesDialogPlaceholder.react","CometMessengerResharesUpdatedDialog.entrypoint","LSMessagingThreadAttributionType","react","react-compiler-runtime","useMWSendAttachment","usePushPage","useShareLogger"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useRef;function a(a){var b=d("react-compiler-runtime").c(20),e=a.feedLocation,f=a.feedTracking,g=a.onClose,h=a.shareableID,k=a.sharingComponentName,l=a.storyData,m=a.url;b[0]!==m?(a={url:m},b[0]=m,b[1]=a):a=b[1];a=a;var n=j(null);a=c("usePushPage")(c("CometMessengerResharesUpdatedDialog.entrypoint"),a,"button_aggressive");var o=a[0];a=a[1];var p=a.onHoverIn,q=a.onHoverOut;a=a.onPressIn;var r=c("useShareLogger")(),s=r.onOpenBCFButtonClicked;b[2]!==e||b[3]!==f||b[4]!==g||b[5]!==s||b[6]!==o||b[7]!==h||b[8]!==k||b[9]!==l||b[10]!==m?(r=function(){s({entry_point:e,feed_tracking:f,is_anything_shared_in_current_session:!1,shareable_entity_fbid:h,sharing_component_name:k}),o({feedLocation:e,feedTracking:f,isPushPageView:!0,onClose:g,shareableID:h,source:c("LSMessagingThreadAttributionType").FB_FEED_ORGANIC_POST_VIEW_AND_MESSAGE,storyData:l,url:m},{fallback:i.jsx(c("CometMessengerResharesDialogPlaceholder.react"),{isPushPageView:!0,onClose:g})})},b[2]=e,b[3]=f,b[4]=g,b[5]=s,b[6]=o,b[7]=h,b[8]=k,b[9]=l,b[10]=m,b[11]=r):r=b[11];r=r;var t=d("useMWSendAttachment").useMWPreloadSendAttachmentComponents(),u;b[12]!==p||b[13]!==t?(u=function(a){p(a),t()},b[12]=p,b[13]=t,b[14]=u):u=b[14];u=u;b[15]!==r||b[16]!==u||b[17]!==q||b[18]!==a?(n={onClick:r,onHoverIn:u,onHoverOut:q,onPressIn:a,triggerRef:n},b[15]=r,b[16]=u,b[17]=q,b[18]=a,b[19]=n):n=b[19];return n}g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("DirectMessagingFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("2051");b=d("FalcoLoggerInternal").create("direct_messaging",a);e=b;g["default"]=e}),98);
__d("DraftEditorFlushControlled",["ReactDOM"],(function(a,b,c,d,e,f){e.exports=b("ReactDOM").flushSync}),null);
__d("FDSStoriesArchiveOutline20Icon",["cr:15728"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:15728")}),98);
__d("FDSStoriesArchiveOutline20PNGIcon.react",["ix","fbicon"],(function(a,b,c,d,e,f,g,h){"use strict";a=d("fbicon")._(h("689703"),20);b=a;g["default"]=b}),98);
__d("isSoftNewlineEvent",["Keys"],(function(a,b,c,d,e,f){"use strict";function a(a){return a.which===b("Keys").RETURN&&(a.getModifierState("Shift")||a.getModifierState("Alt")||a.getModifierState("Control"))}e.exports=a}),null);
__d("KeyBindingUtil",["UserAgent","isSoftNewlineEvent"],(function(a,b,c,d,e,f){"use strict";var g=b("UserAgent").isPlatform("Mac OS X"),h={isCtrlKeyCommand:function(a){return!!a.ctrlKey&&!a.altKey},isOptionKeyCommand:function(a){return g&&a.altKey},usesMacOSHeuristics:function(){return g},hasCommandModifier:function(a){return g?!!a.metaKey&&!a.altKey:h.isCtrlKeyCommand(a)},isSoftNewlineEvent:b("isSoftNewlineEvent")};e.exports=h}),null);
__d("LSTriggerOnDemandCutoverIfNeeded",["LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return d[0]=new c.Map(),d[0].set("open_thread_id",a[0]),d[1]=d[0].get("open_thread_id"),d[2]=c.toJSON(d[0]),c.storedProcedure(b("LSIssueNewTask"),c.i64.to_string(d[1]),c.i64.cast([0,741]),d[2],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]))},function(a){return c.resolve(e)}])}a.__sproc_name__="LSE2EEMessagingMetadataMailboxTriggerOnDemandCutoverIfNeededStoredProcedure";a.__tables__=[];e.exports=a}),null);
__d("LSTriggerOnDemandCutoverIfNeededStoredProcedure",["LSSynchronousPromise","LSTriggerOnDemandCutoverIfNeeded","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSTriggerOnDemandCutoverIfNeeded"),e.waJid);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("MAWMiActOnMiThreadExistsForJidDeferred__DO_NOT_USE",["requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h=c("requireDeferred")("MAWMiActOnMiThreadExistsForJid__DO_NOT_USE").__setRef("MAWMiActOnMiThreadExistsForJidDeferred__DO_NOT_USE");function a(a,b,c,d){return h.load().then(function(e){e=e.onMiThreadExistsForJid__DO_NOT_USE;return e(a,b,c,d)})}g["default"]=a}),98);
__d("MAWCreateAndWaitForAuthoritativeOneToOneThread",["LSIntEnum","LSResult","MAWCreateOneToOneThread","MAWJids","MAWMiActOnMiThreadExistsForJidDeferred__DO_NOT_USE","MWV2OnAuthoritativeThreadInsert","Promise","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a,e,g,j){c("promiseDone")(d("MAWCreateOneToOneThread").call(a,e,void 0,g).then(function(e){return a.runInTransaction(function(f){return c("MAWMiActOnMiThreadExistsForJidDeferred__DO_NOT_USE")(f,e.jid,g,function(f,g){g!=null&&(e.created?d("MWV2OnAuthoritativeThreadInsert").onAuthoritativeThreadInsert(c("LSResult")(g),a,function(a){return j(a.threadKey,a.clientThreadKey,a.threadType)}):j(g,d("MAWJids").convertChatJidToIntJid(e.jid),(i||(i=d("LSIntEnum"))).ofNumber(15)));return(h||(h=b("Promise"))).resolve()})},"readwrite",void 0,void 0,f.id+":43")}))}g["default"]=a}),98);
__d("MAWOnDemandCutoverQPLLogger",["I64","MAWLoggerDeferred","MAWLoggerUtils","QPLUserFlow","promiseDone","qpl"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["[OD-Cutover] Cutover (non-blocking) cancelled for ThreadKey: ",". ",""]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["[OD-Cutover] Cutover (non-blocking) finished with error for ThreadKey: ",". ",""]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["[OD-Cutover] Cutover (non-blocking) finished successfully for ThreadKey: ",". ",""]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["[OD-Cutover] Secure thread created for od-cutover (non-blocking) for ThreadKey: ",""]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["[OD-Cutover] Triggering cutover (non-blocking) from "," for ThreadKey: ",""]);m=function(){return a};return a}var n=new Set();function a(a,b){var e=d("MAWLoggerUtils").getInstanceKeyFromId((h||(h=d("I64"))).to_string(a));n.has(e)?o(a,"already_in_progress"):(c("promiseDone")(d("MAWLoggerDeferred").LOG(m(),b,(h||(h=d("I64"))).to_string(a))),n.add(e),c("QPLUserFlow").start(c("qpl")._(1056847893,"505"),{annotations:{bool:{is_non_blocking:!0},string:{entrypoint:b}},instanceKey:e}))}function o(a,b,e){var f=d("MAWLoggerUtils").getInstanceKeyFromId((h||(h=d("I64"))).to_string(a));b==="secure_thread_created"&&c("promiseDone")(d("MAWLoggerDeferred").LOG(l(),(h||(h=d("I64"))).to_string(a)));c("QPLUserFlow").addPoint(c("qpl")._(1056847893,"505"),b,babelHelpers["extends"]({instanceKey:f},e))}function b(a,b){a=d("MAWLoggerUtils").getInstanceKeyFromId((h||(h=d("I64"))).to_string(a));c("QPLUserFlow").addAnnotations(c("qpl")._(1056847893,"505"),b,{instanceKey:a})}function e(a,b){var e=d("MAWLoggerUtils").getInstanceKeyFromId((h||(h=d("I64"))).to_string(a));n.has(e)&&(c("promiseDone")(d("MAWLoggerDeferred").LOG(k(),(h||(h=d("I64"))).to_string(a),b!=null?b:"")),c("QPLUserFlow").endSuccess(c("qpl")._(1056847893,"505"),babelHelpers["extends"]({},b!==null&&{annotations:{string:{message:b}}},{instanceKey:e})),n["delete"](e))}function f(a,b){var e=d("MAWLoggerUtils").getInstanceKeyFromId((h||(h=d("I64"))).to_string(a));n.has(e)&&(c("promiseDone")(d("MAWLoggerDeferred").LOG(j(),(h||(h=d("I64"))).to_string(a),b!=null?b:"")),c("QPLUserFlow").endFailure(c("qpl")._(1056847893,"505"),b,{instanceKey:e}),n["delete"](e))}function p(a,b){var e=d("MAWLoggerUtils").getInstanceKeyFromId((h||(h=d("I64"))).to_string(a));n.has(e)&&(c("promiseDone")(d("MAWLoggerDeferred").LOG(i(),(h||(h=d("I64"))).to_string(a),b!=null?b:"")),c("QPLUserFlow").endCancel(c("qpl")._(1056847893,"505"),babelHelpers["extends"]({},b!==null&&{annotations:{string:{reason:b}}},{instanceKey:e})),n["delete"](e))}g.startQpl=a;g.addPoint=o;g.addAnnotations=b;g.endSuccessIfInProgress=e;g.endFailureIfInProgress=f;g.endCancelIfInProgress=p}),98);
__d("MAWOnDemandCutoverTrigger",["LSCutoverMappingQueryFromOpenThreadIdStoredProcedure","LSFactory","LSTriggerOnDemandCutoverIfNeededStoredProcedure","MAWCreateAndWaitForAuthoritativeOneToOneThread","MAWOnDemandCutoverQPLLogger","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";function h(a,b,e){d("MAWOnDemandCutoverQPLLogger").startQpl(b,e),c("promiseDone")(a.runInTransaction(function(a){return c("LSCutoverMappingQueryFromOpenThreadIdStoredProcedure")(c("LSFactory")(a),{openThreadId:b})},"readwrite",void 0,void 0,f.id+":35")),c("promiseDone")(a.runInTransaction(function(a){return c("LSTriggerOnDemandCutoverIfNeededStoredProcedure")(c("LSFactory")(a),{waJid:b})},"readwrite",void 0,void 0,f.id+":45"))}function a(a,b,e){h(a,b,e),c("MAWCreateAndWaitForAuthoritativeOneToOneThread")(a,b,"MAWOnDemandCutoverTrigger",function(){d("MAWOnDemandCutoverQPLLogger").addPoint(b,"secure_thread_created")})}g.triggerOnDemandCutover=h;g.triggerOnDemandCutoverAndCreateSecureThread=a}),98);
__d("MWChatSearchSurfaces",["LSIntEnum"],(function(a,b,c,d,e,f,g){"use strict";var h;a={broadcast:(h||(h=d("LSIntEnum"))).ofNumber(6),cmCommunityInviteAllMembers:h.ofNumber(21),cmCommunityInviteFbFriends:h.ofNumber(22),cmInviteAllMembers:h.ofNumber(14),cmInviteFbFriends:h.ofNumber(20),cmMemberList:h.ofNumber(16),cmThreadParticipantSearch:h.ofNumber(17),instagramAll:h.ofNumber(15),omnipicker:h.ofNumber(5),omnipickerArmadillo:h.ofNumber(11),universal:h.ofNumber(1)};b=a;g["default"]=b}),98);
__d("MWChatSearchFilteringUtils",["I64","LSMessagingThreadTypeUtil","MAWVerifyThreadCutover","MWChatSearchResultType","MWChatSearchSurfaces","MessengerMSplitFlag","gkx","hasDefaultThreadOneToOneCapability"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b){var c=a.map(function(a){if(a.searchSource==="server")return!1;if(j(a,b))return!0;return i(a)?!0:!1});a=a.filter(function(a,b){return c[b]===!1});return a}async function b(a,b,c,d){c===void 0&&(c=!1);d===void 0&&(d=!0);var e=a;c&&(e=a.filter(function(a){a.key;a=a.rawData;return a.isE2EE}));if(b==null)return e;var f=await Promise.all(e.map(async function(a){if(await m(a,b))return!1;if(await n(a,b,c,d))return!1;if(l(a))return!1;if(k(a))return!1;return p(a)?!1:!0}));e=a.filter(function(a,b){return f[b]});return e}function i(a){return a.isContact===!0&&a.isViewerUnconnected===!0}function j(a,b){return b===c("MWChatSearchSurfaces").instagramAll?!1:a.isInstagramAccount===!0}function k(a){a=a.rawData;var b=a.canViewerMessage;a=a.isRestrictedByViewer;return a!==!0&&b===!1}function l(a){a=a.rawData;var b=a.isAiBot;a=a.isViewerUnconnected;return b!==!0?!1:c("MessengerMSplitFlag").is_msplit_account||a!==!1}function e(a){var b=[],c=new Set();a.forEach(function(a){c.has(a.key)||(b.push(a),c.add(a.key))});return b}function f(a,b){if(b!=null)return d("LSMessagingThreadTypeUtil").isArmadilloSecure(b.threadType);return a!=null?a.isE2EE===!0:!1}async function m(a,b){a=a.rawData;var e=a.defaultE2eeThreadOneToOne,f=a.id,g=a.isE2EE,i=a.otherUserId;a=a.threadType;if(!g||a==null)return!1;if(!d("LSMessagingThreadTypeUtil").isArmadilloSecureOneToOne(a))return!1;return e===!0?!0:await c("hasDefaultThreadOneToOneCapability")((h||(h=d("I64"))).of_string_opt((g=i)!=null?g:f),b)}function n(a,b,c,d){d===void 0&&(d=!0);if(c)return Promise.resolve(!1);else if(d)return o(a,b);return Promise.resolve(!1)}async function o(a,b){a=a.rawData;if(a.resultType!==c("MWChatSearchResultType").GROUP)return!1;if(b==null)return!1;var e=a.hasCutoverThread,f=a.isE2EE;a=a.otherUserId;if(!f)return!1;if(a!=null){if(e===!0)return!0;f=await d("MAWVerifyThreadCutover").verifyThreadCutover(Promise.resolve(b),(h||(h=d("I64"))).of_string(a));return f}return!1}function p(a){a=a.rawData.isRestrictedByViewer;return c("gkx")("11667")?a===!0:!1}g.filterLocalSearchResults=a;g.filterSearchResults=b;g.dedupeByThreadKey=e;g.getIsE2ee=f}),98);
__d("MWThreadCreationUtil",["FBLogger","I64","LSContactBitOffset","LSIntEnum","LSMessagingThreadTypeUtil","MAWVerifyThreadCutover","MWChatSearchFilteringUtils","MWChatSearchResultType","ReQL","ReQLSuspense","gkx","isTlcSearchEnabled","justknobx","promiseDone","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=h||d("react");k.useCallback;var l=k.useMemo;k=10;function a(a,b){var c=o(a);b=d("ReQLSuspense").toArray(d("ReQL").fromTableAscending(b.tables.participants,["contactId","threadKey"]).filter(function(a){return c.has((i||(i=d("I64"))).to_string(a.contactId))}).map(function(a){return[(i||(i=d("I64"))).to_string(a.threadKey),i.to_string(a.contactId)]}),f.id+":52");var e=[],g=new Map();b!=null&&b.forEach(function(b){var c=g.get(b[0]);c=c!=null?c+1:1;g.set(b[0],c);c===a.length&&e.push(b[0])});return e}function b(a,b,e){var f=!1;c("promiseDone")(d("ReQL").firstAsync(d("ReQL").fromTableDescending(b.tables.threads.index("lastActivityTimestampMs")).filter(function(b){return a.includes((i||(i=d("I64"))).to_string(b.threadKey))&&b.threadName==null})).then(function(a){a!=null&&(f=!0,e(d("LSMessagingThreadTypeUtil").isArmadilloSecure(a.threadType)))}).catch(function(a){c("FBLogger")("messenger_web_creation").mustfix("Issue getting and navigating to the most recent thread",a)}));return f}function m(a,b){var c=d("ReQLSuspense").useArray(function(){return d("ReQL").fromTableAscending(b.tables.contacts).filter(function(b){return a.has((i||(i=d("I64"))).to_string(b.id))})},[a,b],f.id+":119"),e=l(function(){return c.map(function(a){return(i||(i=d("I64"))).to_string(a.id)})},[c]),g=l(function(){return new Set(Array.from(a).filter(function(a){return!e.includes(a)}))},[e,a]),h=!0;for(var j=0;j<c.length;j++)if(c[j]!=null){var k=d("LSContactBitOffset").has(80,c[j]);if(!k){h=!1;break}}return[h,g]}function n(a,b){var c=d("ReQLSuspense").useArray(function(){return d("ReQL").fromTableAscending(b.tables.server_search_results).filter(function(b){return a.has(b.resultId.toString())})},[a,b],f.id+":165"),e=l(function(){return c.map(function(a){return a.resultId.toString()})},[c]),g=l(function(){return new Set(Array.from(a).filter(function(a){return!e.includes(a)}))},[a,e]),h=!0;for(var i=0;i<c.length;i++)if(c[i]!=null&&(c[i].defaultE2eeThreads===null||c[i].defaultE2eeThreads===!1)){h=!1;break}return[h,g]}function e(a,b){var e=d("react-compiler-runtime").c(7),f;e[0]!==a?(f=o(a),e[0]=a,e[1]=f):f=e[1];a=f;f=a;a=m(f,b);var g=a[0],h=a[1];f=n(h,b);var i=f[0],j=f[1];e[2]!==g||e[3]!==i||e[4]!==j||e[5]!==h?(a=function(){if(!c("gkx")("5338"))return!1;if(h.size===0||!g)return g;if(j.size===0)return i;c("FBLogger")("messenger_web_creation").warn("Tokens not in the Contacts table or Server Search Results table");return!1},e[2]=g,e[3]=i,e[4]=j,e[5]=h,e[6]=a):a=e[6];return a}function o(a){var b=new Set();a.forEach(function(a){a=a.rawData.otherUserId!=null?a.rawData.otherUserId:a.key;b.add(a)});return b}function p(a){return a.rawData.hasCutoverThread===!0||q()&&a.rawData.defaultE2eeThreadOneToOne===!0}function q(){return c("isTlcSearchEnabled")()}async function r(a,b,e){var f=d("MWChatSearchFilteringUtils").getIsE2ee(a.rawData);if(f)return{isSecureThread:!0,reason:"e2ee"};f=a.rawData.id;var g=a.rawData.hasCutoverThread===!0||a.rawData.defaultE2eeThreadOneToOne===!0,h=c("justknobx")._("2732"),j="not_touched";h&&(a.rawData.isContact||a.rawData.resultType===c("MWChatSearchResultType").USER)?j=await d("MAWVerifyThreadCutover").verifyContactCutoverOrDefaultE2EEWhenReady(Promise.resolve(e),b,(i||(i=d("I64"))).of_string(f)):await d("MAWVerifyThreadCutover").verifyThreadCutover(Promise.resolve(e),(i||(i=d("I64"))).of_string(f))&&(j="cutover");h=j!=null;j!=="not_touched"&&g!==h&&c("FBLogger")("messenger_web").warn("Inconsistency for cutover or default e2ee status found and covered by the fix: cutoverOrDefaultE2eeType after the fix is %s",j);if(j==="cutover"||j==="on_demand_cutover")return{isSecureThread:!0,reason:j};b=p(a)||j==="default_e2ee";if(b){f=await d("MAWVerifyThreadCutover").getCutoverThread(Promise.resolve(e),(i||(i=d("I64"))).of_string(a.rawData.id));f!=null&&c("FBLogger")("messenger_web").warn("Cutover thread inconsistency: default e2ee thread created but still would have been treated as new thread");return{defaultE2eeThreadCreated:f!=null,isSecureThread:!0,reason:"default_e2ee"}}return{isSecureThread:!1}}async function s(a,b){b=await d("ReQL").firstAsync(d("ReQL").fromTableAscending(b.tables.threads).getKeyRange((i||(i=d("I64"))).of_string(a.key)));return b}function t(a,b){if(a!==c("MWChatSearchResultType").GROUP)return b?(j||(j=d("LSIntEnum"))).ofNumber(15):(j||(j=d("LSIntEnum"))).ofNumber(1);else return b?(j||(j=d("LSIntEnum"))).ofNumber(16):(j||(j=d("LSIntEnum"))).ofNumber(2)}function u(a,b,c,d,e,f){a.openTabOrInbox({clientThreadKey:b,threadKey:c,threadType:t(d,e)},"search",void 0,f)}g.E2EE_GROUP_SIZE_LIMIT=k;g.getExistingThreadsWithTheTokens=a;g.maybeUpdateIsSecureBasedOnUnnamedRecentThread=b;g.useCheckE2EEligibilityForEachContact=e;g.passesWebSearchDefaultE2eeThreadCreationGating=q;g.getIsSecureBasedOnContactCapabilitiesForOneToOneThreadV2=r;g.checkIfThreadExistsInThreadTable=s;g.navigateToThread=u}),98);
__d("getMAWCanThreadBeCutoverOnDemand",["I64","LSContactBitOffset","LSMessagingThreadTypeUtil","MAWThreadCutover","MWPreloadableQueries","ReQL"],(function(a,b,c,d,e,f,g){"use strict";var h;async function a(a,b){if(a.isTargetE2E===!0||a.targetType!=="USER")return!1;a=(h||(h=d("I64"))).of_string(a.targetID);var c=await Promise.resolve(d("ReQL").firstAsync(d("ReQL").fromTableAscending(b.tables.contacts).getKeyRange(a)));c=c!=null&&d("LSContactBitOffset").has(76,c);if(!c)return!1;c=await Promise.resolve(d("ReQL").firstAsync(d("ReQL").fromTableAscending(b.tables.threads).getKeyRange(a)));c=c?d("LSMessagingThreadTypeUtil").isOpenOneToOne(c.threadType):!1;if(!c)return!1;c=await Promise.resolve(d("ReQL").firstAsync(d("MWPreloadableQueries").getCutoverThreadByThreadKey(b,a)));if(c)return!1;b=await d("MAWThreadCutover").isCutoverThreadKey(a);return b?!1:!0}g.default=a}),98);
__d("MaybeTriggerOnDemandCutover",["FBLogger","I64","MAWCreateAndWaitForAuthoritativeOneToOneThread","MAWOnDemandCutoverQPLLogger","MAWOnDemandCutoverTrigger","getMAWCanThreadBeCutoverOnDemand"],(function(a,b,c,d,e,f,g){"use strict";var h;async function a(a,b,e){var f=await c("getMAWCanThreadBeCutoverOnDemand")(a,b);if(!f)return;var g=(h||(h=d("I64"))).of_string(a.targetID);d("MAWOnDemandCutoverTrigger").triggerOnDemandCutover(b,g,e);f=babelHelpers.extends({},a);try{f.targetID=(h||(h=d("I64"))).to_string(await new Promise(function(a){c("MAWCreateAndWaitForAuthoritativeOneToOneThread")(b,g,"maybeTriggerOnDemandCutover",function(b){d("MAWOnDemandCutoverQPLLogger").addPoint(g,"secure_thread_created"),a(b)})})),f.isTargetE2E=!0}catch(a){c("FBLogger")("messenger_web").mustfix("Failed to get cutover thread for forward/sharing",a)}return Promise.resolve(f)}g.default=a}),98);
__d("MaybeUpdateTargetBasedOnDefaultE2eeEligibility",["FBLogger","I64","MAWCreateAndWaitForAuthoritativeOneToOneThread","MWThreadCreationUtil","ensureContactsExistAndUpdatedSync","hasDefaultThreadOneToOneCapability"],(function(a,b,c,d,e,f,g){"use strict";var h;async function a(a,b,e){if(a.isTargetE2E===!0||a.targetType!=="USER")return Promise.resolve(a);var f=(h||(h=d("I64"))).of_string(a.targetID);await c("ensureContactsExistAndUpdatedSync")(b,e,f);e=await c("hasDefaultThreadOneToOneCapability")(f,b);a=babelHelpers.extends({},a);if(d("MWThreadCreationUtil").passesWebSearchDefaultE2eeThreadCreationGating()&&e)try{a.targetID=(h||(h=d("I64"))).to_string(await new Promise(function(a){c("MAWCreateAndWaitForAuthoritativeOneToOneThread")(b,f,"maybeUpdateTargetBasedOnDefaultE2eeEligibility",function(b){return a(b)})})),a.isTargetE2E=!0}catch(a){c("FBLogger")("messenger_web").mustfix("Failed to create e2ee thread for forward/sharing",a)}return Promise.resolve(a)}g.maybeUpdateTargetBasedOnDefaultE2eeEligibility=a}),98);
__d("MaybeUpdateTargetBasedOnODCutoverOrDefaultE2EE",["I64","MaybeTriggerOnDemandCutover","MaybeUpdateTargetBasedOnDefaultE2eeEligibility","ensureContactsExistAndUpdatedSync","sendToSentQPLLogger"],(function(a,b,c,d,e,f,g){"use strict";var h;async function a(a,b,e,f,g,i){b=await b;d("sendToSentQPLLogger").markSendToSentPoint(g,"update_target_ensure_contact_exists_start");var j=function(a){d("sendToSentQPLLogger").markSendToSentPoint(g,a)};await c("ensureContactsExistAndUpdatedSync")(b,e,(h||(h=d("I64"))).of_string(a.targetID),j,i);d("sendToSentQPLLogger").markSendToSentPoint(g,"update_target_ensure_contact_exists_end");d("sendToSentQPLLogger").markSendToSentPoint(g,"update_target_maybe_trigger_on_demand_cutover_start");i=(j=await c("MaybeTriggerOnDemandCutover")(a,b,f))!=null?j:a;d("sendToSentQPLLogger").markSendToSentPoint(g,"update_target_maybe_trigger_on_demand_cutover_end");i.targetID===a.targetID&&(d("sendToSentQPLLogger").markSendToSentPoint(g,"update_target_maybe_update_target_based_on_eligibility_start"),i=await d("MaybeUpdateTargetBasedOnDefaultE2eeEligibility").maybeUpdateTargetBasedOnDefaultE2eeEligibility(a,b,e),d("sendToSentQPLLogger").markSendToSentPoint(g,"update_target_maybe_update_target_based_on_eligibility_end"));return i}g.default=a}),98);
__d("adjustBlockDepthForContentState",[],(function(a,b,c,d,e,f){"use strict";function a(a,b,c,d){var e=b.getStartKey(),f=b.getEndKey(),g=a.getBlockMap(),h=g.toSeq().skipUntil(function(a,b){return b===e}).takeUntil(function(a,b){return b===f}).concat([[f,g.get(f)]]).map(function(a){var b=a.getDepth()+c;b=Math.max(0,b);d!=null&&(b=Math.min(b,d));return a.set("depth",b)});g=g.merge(h);return a.merge({blockMap:g,selectionBefore:b,selectionAfter:b})}e.exports=a}),null);
__d("RichTextEditorUtil",["DraftModifier","EditorState","adjustBlockDepthForContentState","nullthrows"],(function(a,b,c,d,e,f){"use strict";var g={currentBlockContainsLink:function(a){var b=a.getSelection(),c=a.getCurrentContent();return c.getBlockForKey(b.getAnchorKey()).getCharacterList().slice(b.getStartOffset(),b.getEndOffset()).some(function(a){a=a.getEntity();return!!a&&c.getEntity(a).getType()==="LINK"})},getCurrentBlockType:function(a){var b=a.getSelection();return a.getCurrentContent().getBlockForKey(b.getStartKey()).getType()},getDataObjectForLinkURL:function(a){return{url:a.toString()}},handleKeyCommand:function(a,b,c){switch(b){case"bold":return g.toggleInlineStyle(a,"BOLD");case"italic":return g.toggleInlineStyle(a,"ITALIC");case"underline":return g.toggleInlineStyle(a,"UNDERLINE");case"strikethrough":return g.toggleInlineStyle(a,"STRIKETHROUGH");case"subscript":return g.toggleInlineStyle(a,"SUBSCRIPT");case"superscript":return g.toggleInlineStyle(a,"SUPERSCRIPT");case"code":return g.toggleCode(a);case"backspace":case"backspace-word":case"backspace-to-start-of-line":return g.onBackspace(a);case"delete":case"delete-word":case"delete-to-end-of-block":return g.onDelete(a);default:return null}},insertSoftNewline:function(a){var c=b("DraftModifier").insertText(a.getCurrentContent(),a.getSelection(),"\n",a.getCurrentInlineStyle(),null);a=b("EditorState").push(a,c,"insert-characters");return b("EditorState").forceSelection(a,c.getSelectionAfter())},onBackspace:function(a){var c=a.getSelection();if(!c.isCollapsed()||c.getAnchorOffset()||c.getFocusOffset())return null;var d=a.getCurrentContent(),e=c.getStartKey();e=d.getBlockBefore(e);if(e&&e.getType()==="atomic"){e=d.getBlockMap()["delete"](e.getKey());e=d.merge({blockMap:e,selectionAfter:c});if(e!==d)return b("EditorState").push(a,e,"remove-range")}c=g.tryToRemoveBlockStyle(a);return c?b("EditorState").push(a,c,"change-block-type"):null},onDelete:function(a){var c=a.getSelection();if(!c.isCollapsed())return null;var d=a.getCurrentContent(),e=c.getStartKey(),f=d.getBlockForKey(e);f=f.getLength();if(c.getStartOffset()<f)return null;f=d.getBlockAfter(e);if(!f||f.getType()!=="atomic")return null;e=c.merge({focusKey:f.getKey(),focusOffset:f.getLength()});c=b("DraftModifier").removeRange(d,e,"forward");return c!==d?b("EditorState").push(a,c,"remove-range"):null},onTab:function(a,c){var d=c.getSelection(),e=d.getAnchorKey(),f=c.getCurrentContent();e=f.getBlockForKey(e);e=e.getType();if(e!=="unordered-list-item"&&e!=="ordered-list-item")return c;a.preventDefault();e=b("adjustBlockDepthForContentState")(f,d,a.shiftKey?-1:1);return b("EditorState").push(c,e,"adjust-depth")},toggleBlockType:function(a,c){var d=a.getSelection(),e=d.getStartKey(),f=d.getEndKey(),g=a.getCurrentContent(),h=d;if(e!==f&&d.getEndOffset()===0){var i=b("nullthrows")(g.getBlockBefore(f));f=i.getKey();h=h.merge({anchorKey:e,anchorOffset:d.getStartOffset(),focusKey:f,focusOffset:i.getLength(),isBackward:!1})}d=g.getBlockMap().skipWhile(function(a,b){return b!==e}).reverse().skipWhile(function(a,b){return b!==f}).some(function(a){return a.getType()==="atomic"});if(d)return a;i=g.getBlockForKey(e).getType()===c?"unstyled":c;return b("EditorState").push(a,b("DraftModifier").setBlockType(g,h,i),"change-block-type")},toggleCode:function(a){var b=a.getSelection(),c=b.getAnchorKey(),d=b.getFocusKey();return b.isCollapsed()||c!==d?g.toggleBlockType(a,"code-block"):g.toggleInlineStyle(a,"CODE")},toggleInlineStyle:function(a,c){var d=a.getSelection(),e=a.getCurrentInlineStyle();if(d.isCollapsed())return b("EditorState").setInlineStyleOverride(a,e.has(c)?e.remove(c):e.add(c));var f=a.getCurrentContent();e.has(c)?e=b("DraftModifier").removeInlineStyle(f,d,c):e=b("DraftModifier").applyInlineStyle(f,d,c);return b("EditorState").push(a,e,"change-inline-style")},toggleLink:function(a,c,d){c=b("DraftModifier").applyEntity(a.getCurrentContent(),c,d);return b("EditorState").push(a,c,"apply-entity")},tryToRemoveBlockStyle:function(a){var c=a.getSelection(),d=c.getAnchorOffset();if(c.isCollapsed()&&d===0){d=c.getAnchorKey();a=a.getCurrentContent();var e=a.getBlockForKey(d);e=e.getType();d=a.getBlockBefore(d);if(e==="code-block"&&d&&d.getType()==="code-block"&&d.getLength()!==0)return null;if(e!=="unstyled")return b("DraftModifier").setBlockType(a,c,"unstyled")}return null}};e.exports=g}),null);
__d("getDefaultKeyBinding",["KeyBindingUtil","Keys","UserAgent"],(function(a,b,c,d,e,f){"use strict";var g=b("UserAgent").isPlatform("Mac OS X"),h=g&&b("UserAgent").isBrowser("Firefox < 29"),i=b("KeyBindingUtil").hasCommandModifier,j=b("KeyBindingUtil").isCtrlKeyCommand;function k(a){return g&&a.altKey||j(a)}function l(a){return!i(a)?null:a.shiftKey?"redo":"undo"}function m(a){return!g&&a.shiftKey?null:k(a)?"delete-word":"delete"}function n(a){return i(a)&&g?"backspace-to-start-of-line":k(a)?"backspace-word":"backspace"}function a(a){switch(a.keyCode){case 66:return i(a)?"bold":null;case 68:return j(a)?"delete":null;case 72:return j(a)?"backspace":null;case 73:return i(a)?"italic":null;case 74:return i(a)?"code":null;case 75:return g&&j(a)?"secondary-cut":null;case 77:return j(a)?"split-block":null;case 79:return j(a)?"split-block":null;case 84:return g&&j(a)?"transpose-characters":null;case 85:return i(a)?"underline":null;case 87:return g&&j(a)?"backspace-word":null;case 88:return i(a)&&a.shiftKey?"strikethrough":null;case 89:return j(a)?g?"secondary-paste":"redo":null;case 90:return l(a)||null;case 187:return i(a)?"superscript":null;case 189:return i(a)?"subscript":null;case b("Keys").RETURN:return"split-block";case b("Keys").DELETE:return m(a);case b("Keys").BACKSPACE:return n(a);case b("Keys").LEFT:return h&&i(a)?"move-selection-to-start-of-block":null;case b("Keys").RIGHT:return h&&i(a)?"move-selection-to-end-of-block":null;default:return null}}e.exports=a}),null);
__d("getRangeClientRects",["invariant","UserAgent"],(function(a,b,c,d,e,f,g){"use strict";c=b("UserAgent").isBrowser("Chrome");function a(a){var b=a.cloneRange(),c=[];for(var d=a.endContainer;d!=null;d=d.parentNode){var e=d===a.commonAncestorContainer;e?b.setStart(a.startContainer,a.startOffset):b.setStart(b.endContainer,0);var f=Array.from(b.getClientRects());c.push(f);if(e){c.reverse();return(f=[]).concat.apply(f,c)}b.setEndBefore(d)}g(0,578)}d=c?a:function(a){return Array.from(a.getClientRects())};e.exports=d}),null);
__d("useCopyText",["Clipboard","DateConsts","clearTimeout","react","setTimeout"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useCallback,j=b.useRef,k=b.useState,l=.75;function a(a){var b=a.onCopyPress,e=a.secondsUntilReset,f=e===void 0?l:e,g=a.value;e=k(!1);a=e[0];var h=e[1],m=j(null),n=d("Clipboard").isSupported();e=i(function(){b!=null&&b();if(n&&typeof g==="string"){var a=d("Clipboard").copy(g);a===!0&&(h(!0),c("clearTimeout")(m.current),m.current=c("setTimeout")(function(){h(!1)},f*d("DateConsts").MS_PER_SEC))}},[b,n,g]);return[n,a,e]}g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("BaseTypeaheadLocalStorageDataProviderStorageKey",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a="_SearchBootstrapCache_";c=b("$InternalEnum").Mirrored(["FeedComposerMentionsIntentfulMentionsBootstrap","FeedComposerMentionsNonIntentfulMentionsBootstrap","FeedComposerMentionsWithTagBootstrap","GlobalTypeaheadBootstrapEntities","GlobalTypeaheadBootstrapKeywords"]);f.StorageKeyPrefix=a;f.StorageKey=c}),66);
__d("BaseTypeaheadLocalStorageDataProvider",["BaseTypeaheadDataProvider","BaseTypeaheadLocalStorageDataProviderStorageKey","Promise","WebStorage","recoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=1e3*60*60*24;a=function(){function a(a){var b=a.storageKey,e=a.storageTimespan;e=e===void 0?j:e;a=babelHelpers.objectWithoutPropertiesLoose(a,["storageKey","storageTimespan"]);this.$1=new(c("BaseTypeaheadDataProvider"))(a);this.$3=b!=null?d("BaseTypeaheadLocalStorageDataProviderStorageKey").StorageKeyPrefix+b:null;this.$4=e;b=a.queryVariablesBuilder;this.$2=b}var e=a.prototype;e.fetch=function(a){var c=this,d=this.$3!=null?this.$5(a):null;if(d!=null){var e=this.$2.build();e=e(a);return(i||(i=b("Promise"))).resolve({requestQueryVariables:e,response:d})}return this.$1.fetch(a).then(function(b){var d=b.response;d!=null&&c.$3!=null&&c.$6(a,d);return b})};e.clearLocalStorage=function(){var a=this.$3,b=(h||(h=c("WebStorage"))).getLocalStorage();if(b==null||a==null)return;b.removeItem(a)};e.$5=function(a){var b=this.$3,d=(h||(h=c("WebStorage"))).getLocalStorage();if(d==null||b==null)return null;var e=d.getItem(b);if(e==null)return null;var f;try{f=JSON.parse(e)}catch(a){c("recoverableViolation")("Cannot deserialize bootstrap response from local storage due to error: "+a,"search")}if(f==null)return null;e=f;var g=e.queryVariables,i=e.response;e=e.timestamp;var j=this.$2.build();j=j(a);if(JSON.stringify(g)!==JSON.stringify(j)){d.removeItem(b);return null}a=Date.now();if(e+Number(this.$4)>=a)return i;d.removeItem(b);return null};e.$6=function(a,b){var d=this.$3,e=(h||(h=c("WebStorage"))).getLocalStorage();if(e==null||d==null)return;var f=this.$2.build();f=f(a);try{a=Date.now();f=JSON.stringify({queryVariables:f,response:b,timestamp:a});e.setItem(d,f)}catch(a){c("recoverableViolation")("Cannot save bootstrap response to local storage due to error: "+a,"search")}};return a}();g["default"]=a}),98);
__d("FDSShopsFilled20Icon",["cr:15667"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:15667")}),98);
__d("FDSShopsFilled20PNGIcon.react",["ix","fbicon"],(function(a,b,c,d,e,f,g,h){"use strict";a=d("fbicon")._(h("1664042"),20);b=a;g["default"]=b}),98);
__d("FeedComposerCometMentionsMentionTypeResetViewItem.react",["CometListCellStrict_DEPRECATED.react","CometSearchMentionsBaseViewItem.react","FDSChevronLeftFilled16Icon","FDSText.react","react","react-compiler-runtime","vulture"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={addOnIconVertical:{marginBottom:"xat24cr",marginTop:"xdj266r",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(7);c("vulture")("gGHDieg7mm2jsTrKIdPDlmejPMo=");var e=a.entry;e=e.label;var f;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(f={icon:c("FDSChevronLeftFilled16Icon"),type:"icon"},b[0]=f):f=b[0];var g;b[1]===Symbol["for"]("react.memo_cache_sentinel")?(g={className:"x15huedd"},b[1]=g):g=b[1];b[2]!==e?(f=i.jsx(c("CometListCellStrict_DEPRECATED.react"),{addOnStart:f,addOnStartOverrideVerticalStyle:j.addOnIconVertical,addOnStartVerticalAlign:"center",contentHorizontalPadding:0,headline:i.jsx("div",babelHelpers["extends"]({},g,{children:i.jsx(c("FDSText.react"),{type:"headlineEmphasized4",children:e})})),level:4,paddingHorizontal:0}),b[2]=e,b[3]=f):f=b[3];b[4]!==a||b[5]!==f?(g=i.jsx(c("CometSearchMentionsBaseViewItem.react"),babelHelpers["extends"]({},a,{children:f})),b[4]=a,b[5]=f,b[6]=g):g=b[6];return g}g["default"]=a}),98);
__d("FeedComposerCometMentionsMentionTypeSelectionViewItem.react",["CometListCellStrict_DEPRECATED.react","CometSearchMentionsBaseViewItem.react","FDSChevronRightFilled16Icon","FDSShopsFilled20Icon","FDSText.react","react","react-compiler-runtime","recoverableViolation","vulture"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={addOnIcon:{marginBottom:"xat24cr",marginTop:"xdj266r",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(12);c("vulture")("Q1EDZhyn9frZO2tJJtSWGW-ofiM=");var e=a.entry,f=e.label;e=e.rawData;e=e.type==="MENTION_TYPE_SELECTION"?e.iconName:null;if(e==null){c("recoverableViolation")("No icon name found for mention type selection entry","comet_composer");return null}var g=null;bb0:switch(e){case"shops":g=c("FDSShopsFilled20Icon");break bb0;default:}b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e={color:"secondary",icon:c("FDSChevronRightFilled16Icon"),type:"icon"},b[0]=e):e=b[0];var h;b[1]!==g?(h=g!=null?{icon:g,size:40,type:"contained-icon"}:null,b[1]=g,b[2]=h):h=b[2];b[3]===Symbol["for"]("react.memo_cache_sentinel")?(g={className:"xcqhk00"},b[3]=g):g=b[3];b[4]!==f?(g=i.jsx("div",babelHelpers["extends"]({},g,{children:i.jsx(c("FDSText.react"),{type:"headlineEmphasized4",children:f})})),b[4]=f,b[5]=g):g=b[5];b[6]!==h||b[7]!==g?(f=i.jsx(c("CometListCellStrict_DEPRECATED.react"),{addOnEnd:e,addOnEndVerticalAlign:"center",addOnStart:h,addOnStartOverrideVerticalStyle:j.addOnIcon,addOnStartVerticalAlign:"center",contentHorizontalPadding:0,headline:g,level:4,paddingHorizontal:0}),b[6]=h,b[7]=g,b[8]=f):f=b[8];b[9]!==a||b[10]!==f?(e=i.jsx(c("CometSearchMentionsBaseViewItem.react"),babelHelpers["extends"]({},a,{children:f})),b[9]=a,b[10]=f,b[11]=e):e=b[11];return e}g["default"]=a}),98);
__d("FeedComposerCometMentionsViewItemResolver.react",["FeedComposerCometMentionsMentionTypeResetViewItem.react","FeedComposerCometMentionsMentionTypeSelectionViewItem.react","FeedComposerCometMentionsViewItem.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(12),e,f;b[0]!==a?(e=a.entry,f=babelHelpers.objectWithoutPropertiesLoose(a,["entry"]),b[0]=a,b[1]=e,b[2]=f):(e=b[1],f=b[2]);a=e;a=a.rawData;switch(a.type){case"MENTION_TYPE_SELECTION":b[3]!==e||b[4]!==f?(a=i.jsx(c("FeedComposerCometMentionsMentionTypeSelectionViewItem.react"),babelHelpers["extends"]({entry:e},f)),b[3]=e,b[4]=f,b[5]=a):a=b[5];return a;case"MENTION_TYPE_RESET":b[6]!==e||b[7]!==f?(a=i.jsx(c("FeedComposerCometMentionsMentionTypeResetViewItem.react"),babelHelpers["extends"]({entry:e},f)),b[6]=e,b[7]=f,b[8]=a):a=b[8];return a;default:b[9]!==e||b[10]!==f?(a=i.jsx(c("FeedComposerCometMentionsViewItem.react"),babelHelpers["extends"]({entry:e},f)),b[9]=e,b[10]=f,b[11]=a):a=b[11];return a}}g["default"]=a}),98);
__d("cometFeedComposerCometMentionsTypeSelectionPayloadDecorator",[],(function(a,b,c,d,e,f){"use strict";function a(a){var b=a.entries,c=b.filter(function(a){return g(a)});b=b.filter(function(a){return!g(a)});return babelHelpers["extends"]({},a,{entries:c.concat(b)})}function g(a){return a.type==="entry"&&(a.rawData.type==="MENTION_TYPE_SELECTION"||a.rawData.type==="MENTION_TYPE_RESET")}f["default"]=a}),66);
__d("createFeedCometMentionsDataEntryWithInstagramTag_data.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[{kind:"RootArgument",name:"scale"}],kind:"Fragment",metadata:{mask:!1},name:"createFeedCometMentionsDataEntryWithInstagramTag_data",selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:"photo",args:[{kind:"Literal",name:"height",value:40},{kind:"Variable",name:"scale",variableName:"scale"},{kind:"Literal",name:"width",value:40}],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],type:"InstagramUserV2",abstractKey:null};e.exports=a}),null);
__d("createFeedCometMentionsDataEntryWithTagSuggestion_data.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[{kind:"RootArgument",name:"scale"}],kind:"Fragment",metadata:{mask:!1},name:"createFeedCometMentionsDataEntryWithTagSuggestion_data",selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:"photo",args:[{kind:"Literal",name:"height",value:40},{kind:"Variable",name:"scale",variableName:"scale"},{kind:"Literal",name:"width",value:40}],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],storageKey:null}],type:"Profile",abstractKey:"__isProfile"}],storageKey:null}],type:"SuggestedWithTagsEdge",abstractKey:null};e.exports=a}),null);
__d("createFeedCometMentionsDataEntryWithTag_data.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[{kind:"RootArgument",name:"scale"}],kind:"Fragment",metadata:{mask:!1},name:"createFeedCometMentionsDataEntryWithTag_data",selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:"photo",args:[{kind:"Literal",name:"height",value:40},{kind:"Variable",name:"scale",variableName:"scale"},{kind:"Literal",name:"width",value:40}],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],storageKey:null}],type:"Profile",abstractKey:"__isProfile"}],storageKey:null}],type:"FriendsEdge",abstractKey:null};e.exports=a}),null);
__d("createFeedCometMentionsDataEntry_data.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},b={alias:null,args:null,kind:"ScalarField",name:"mentions_subtext",storageKey:null},c={alias:null,args:null,kind:"ScalarField",name:"is_verified",storageKey:null},d={kind:"Variable",name:"scale",variableName:"scale"},e={alias:"photo",args:[{kind:"Literal",name:"height",value:40},d,{kind:"Literal",name:"width",value:40}],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],storageKey:null},f={alias:null,args:null,concreteType:"WorkForeignEntityInfo",kind:"LinkedField",name:"work_foreign_entity_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null}],storageKey:null},g=[a,b,e];return{argumentDefinitions:[{kind:"RootArgument",name:"scale"}],kind:"Fragment",metadata:{mask:!1},name:"createFeedCometMentionsDataEntry_data",selections:[{alias:null,args:null,kind:"ScalarField",name:"score",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"icon_shape",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[a,b,c,e,{kind:"InlineFragment",selections:[{kind:"InlineFragment",selections:[f],type:"User",abstractKey:null},{kind:"InlineFragment",selections:[f,{alias:null,args:null,kind:"ScalarField",name:"is_multi_company_group",storageKey:null}],type:"Group",abstractKey:null}],type:"Entity",abstractKey:"__isEntity"}],type:"User",abstractKey:null},{kind:"InlineFragment",selections:g,type:"XFBWorkroomsBaseUser",abstractKey:"__isXFBWorkroomsBaseUser"},{kind:"InlineFragment",selections:[a,b,{alias:"thumbnail_link",args:[d],kind:"ScalarField",name:"icon_uri",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"doc_title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"doc_url",storageKey:null}],type:"KnowledgeHubDocumentData",abstractKey:null},{kind:"InlineFragment",selections:g,type:"Group",abstractKey:null},{kind:"InlineFragment",selections:g,type:"Event",abstractKey:null},{kind:"InlineFragment",selections:[a,b,c,e],type:"Page",abstractKey:null},{kind:"InlineFragment",selections:[a,e],type:"ContextualProfile",abstractKey:"__isContextualProfile"},{kind:"InlineFragment",selections:g,type:"GroupRule",abstractKey:null},{kind:"InlineFragment",selections:g,type:"ProductItem",abstractKey:null},{kind:"InlineFragment",selections:g,type:"BatchMentions",abstractKey:null}],storageKey:null}],type:"CometComposerTypeaheadResultEntry",abstractKey:null}}();e.exports=a}),null);
__d("createFeedCometMentionsDataEntry_profile.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[{kind:"RootArgument",name:"scale"}],kind:"Fragment",metadata:{mask:!1},name:"createFeedCometMentionsDataEntry_profile",selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:"photo",args:[{kind:"Literal",name:"height",value:40},{kind:"Variable",name:"scale",variableName:"scale"},{kind:"Literal",name:"width",value:40}],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],type:"Profile",abstractKey:"__isProfile"};e.exports=a}),null);
__d("createFeedCometMentionsDataEntry",["FBLogger","createFeedCometMentionsDataEntryWithInstagramTag_data.graphql","createFeedCometMentionsDataEntryWithTagSuggestion_data.graphql","createFeedCometMentionsDataEntryWithTag_data.graphql","createFeedCometMentionsDataEntry_data.graphql","createFeedCometMentionsDataEntry_profile.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l;h!==void 0?h:h=b("createFeedCometMentionsDataEntry_data.graphql");i!==void 0?i:i=b("createFeedCometMentionsDataEntryWithTag_data.graphql");j!==void 0?j:j=b("createFeedCometMentionsDataEntryWithTagSuggestion_data.graphql");k!==void 0?k:k=b("createFeedCometMentionsDataEntry_profile.graphql");l!==void 0?l:l=b("createFeedCometMentionsDataEntryWithInstagramTag_data.graphql");function a(a){var b,d,e=null;e=a.data.node;if(e==null){c("FBLogger")("comet_composer").warn("missing node info for Comet mentions data entry");return null}var f=e,g=f.id;f=f.name;b=(b=e)==null?void 0:b.photo;var h=e.__typename==="InstagramUserV2";h&&((d=e)==null?void 0:d.username)==null&&c("FBLogger")("comet_composer").warn("Instagram user is missing username for Comet mentions data entry");d=b==null?void 0:b.uri;var i;switch(a.data.icon_shape){case"square":i="square";break;case"roundedRect":i="roundedRect";break;default:i="circle";break}if(d==null&&a.type==="MENTION_SEARCH_RESULT"){d=(b=a.data.node)==null?void 0:b.thumbnail_link;i="roundedRect"}if(f==null||g==null||d==null){c("FBLogger")("comet_composer").warn("%s is missing the name, id, or photoURI for Comet mentions data entry",e.__typename);return null}if(a.type==="MENTION_SEARCH_RESULT"){var j,k;b=a.data.score;if(b==null){c("FBLogger")("comet_composer").warn("%s is missing score info for Comet mentions data entry",e.__typename);return null}j=Boolean((j=a.data.node)==null?void 0:j.is_verified);return{key:g,label:f,rawData:{docTitle:(k=a.data.node)==null?void 0:k.doc_title,docUrl:(k=a.data.node)==null?void 0:k.doc_url,iconShape:i,isExternal:!1,isVerified:j,photoURI:d,resultType:(k=a.data.node)==null?void 0:k.__typename,score:b,subtext:(j=a.data.node)==null?void 0:j.mentions_subtext,type:"MENTION_SEARCH_RESULT"},type:"entry"}}return{key:g,label:((k=e)==null?void 0:k.username)!=null?e.username:f,rawData:{isInstagramUser:h,photoURI:d,type:a.type},type:"entry"}}g["default"]=a}),98);
__d("getImplicitMentionsGating",["qex"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a=c("qex")._("3492");return a==null?!0:a}function b(){var a=c("qex")._("3493");return a==null?!0:a}function d(){return c("qex")._("3494")}function e(){return c("qex")._("3495")}function f(){return c("qex")._("3496")}g.getIsImplicitMentionsEnabledComposer=a;g.getIsImplicitMentionsEnabledComment=b;g.getIsImplicitMentionsMatchLengthCommentsOverride=d;g.getIsImplicitMentionsMatchLengthComposerOverride=e;g.getIsFriendsOnlyImplicitDatasource=f}),98);
__d("useCometTypeaheadCompositeBootstrapWithLocalStorageDataSource",["BaseTypeaheadDataProviderQueryVariablesBuilder","BaseTypeaheadLocalStorageDataProvider","BaseTypeaheadPayloadDecoratorAddLimit","CometRelay","CometTypeaheadGraphQLBootstrapDataSource","react","useDeepEqualMemo"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useMemo;function a(a){var b=a.fetchPolicy,e=a.gqlQuery,f=a.limit,g=a.matchStrategy,h=a.normalize,j=a.queryVariables,k=a.storageKey,l=i(function(){return c("BaseTypeaheadPayloadDecoratorAddLimit")(f)},[f]),m=d("CometRelay").useRelayEnvironment();a=c("useDeepEqualMemo")(j);var n=i(function(){var a=new(c("BaseTypeaheadDataProviderQueryVariablesBuilder"))(function(){return function(){return j}});a=new(c("BaseTypeaheadLocalStorageDataProvider"))({options:{fetchPolicy:b},query:e,queryVariablesBuilder:a,relayEnvironment:m,storageKey:k});return new(c("CometTypeaheadGraphQLBootstrapDataSource"))({bootstrapDataProvider:a,matchStrategy:g,normalize:h})},[a,m]);return i(function(){return{bootstrap:function(){return n.bootstrap()},fetchCache:function(a){return l(n.fetchCache(a))}}},[n,l])}g["default"]=a}),98);
__d("useFeedComposerCometMentionsBootloadDataSourceQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="9738252579590022"}),null);
__d("useFeedComposerCometMentionsBootloadDataSourceQuery.graphql",["useFeedComposerCometMentionsBootloadDataSourceQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a={defaultValue:null,kind:"LocalArgument",name:"canUseSections"},c={defaultValue:null,kind:"LocalArgument",name:"include_viewer"},d={defaultValue:null,kind:"LocalArgument",name:"options"},e={defaultValue:null,kind:"LocalArgument",name:"scale"},f={defaultValue:null,kind:"LocalArgument",name:"typeaheadFirstDegreeFilters"},g={defaultValue:null,kind:"LocalArgument",name:"typeahead_context"},h=[{kind:"Variable",name:"include_viewer",variableName:"include_viewer"},{kind:"Variable",name:"options",variableName:"options"},{kind:"Variable",name:"typeahead_context",variableName:"typeahead_context"},{kind:"Variable",name:"types",variableName:"typeaheadFirstDegreeFilters"},{kind:"Variable",name:"use_sections",variableName:"canUseSections"}],i={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},j={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},k={alias:null,args:null,kind:"ScalarField",name:"mentions_subtext",storageKey:null},l={alias:null,args:null,kind:"ScalarField",name:"is_verified",storageKey:null},m={kind:"Variable",name:"scale",variableName:"scale"},n={alias:"photo",args:[{kind:"Literal",name:"height",value:40},m,{kind:"Literal",name:"width",value:40}],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],storageKey:null},o={alias:null,args:null,concreteType:"WorkForeignEntityInfo",kind:"LinkedField",name:"work_foreign_entity_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null}],storageKey:null},p=[j,k,n];o={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"score",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"icon_shape",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},i,{kind:"InlineFragment",selections:[j,k,l,n,{kind:"InlineFragment",selections:[{kind:"InlineFragment",selections:[o],type:"User",abstractKey:null},{kind:"InlineFragment",selections:[o,{alias:null,args:null,kind:"ScalarField",name:"is_multi_company_group",storageKey:null}],type:"Group",abstractKey:null}],type:"Entity",abstractKey:"__isEntity"}],type:"User",abstractKey:null},{kind:"InlineFragment",selections:p,type:"XFBWorkroomsBaseUser",abstractKey:"__isXFBWorkroomsBaseUser"},{kind:"InlineFragment",selections:[j,k,{alias:"thumbnail_link",args:[m],kind:"ScalarField",name:"icon_uri",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"doc_title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"doc_url",storageKey:null}],type:"KnowledgeHubDocumentData",abstractKey:null},{kind:"InlineFragment",selections:p,type:"Group",abstractKey:null},{kind:"InlineFragment",selections:p,type:"Event",abstractKey:null},{kind:"InlineFragment",selections:[j,k,l,n],type:"Page",abstractKey:null},{kind:"InlineFragment",selections:[j,n],type:"ContextualProfile",abstractKey:"__isContextualProfile"},{kind:"InlineFragment",selections:p,type:"GroupRule",abstractKey:null},{kind:"InlineFragment",selections:p,type:"ProductItem",abstractKey:null},{kind:"InlineFragment",selections:p,type:"BatchMentions",abstractKey:null}],storageKey:null}],type:"CometComposerTypeaheadResultEntry",abstractKey:null};m={alias:null,args:null,kind:"ScalarField",name:"cache_id",storageKey:null};k={alias:null,args:null,kind:"ScalarField",name:"label",storageKey:null};return{fragment:{argumentDefinitions:[a,c,d,e,f,g],kind:"Fragment",metadata:null,name:"useFeedComposerCometMentionsBootloadDataSourceQuery",selections:[{alias:null,args:h,concreteType:null,kind:"LinkedField",name:"comet_composer_typeahead_bootload",plural:!0,selections:[i,o,{kind:"InlineFragment",selections:[m,k,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"entries",plural:!0,selections:[o],storageKey:null}],type:"XFBMentionsSectionEntry",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[c,d,e,g,f,a],kind:"Operation",name:"useFeedComposerCometMentionsBootloadDataSourceQuery",selections:[{alias:null,args:h,concreteType:null,kind:"LinkedField",name:"comet_composer_typeahead_bootload",plural:!0,selections:[i,o,{kind:"InlineFragment",selections:[m,k,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"entries",plural:!0,selections:[i,o],storageKey:null}],type:"XFBMentionsSectionEntry",abstractKey:null}],storageKey:null}]},params:{id:b("useFeedComposerCometMentionsBootloadDataSourceQuery_facebookRelayOperation"),metadata:{},name:"useFeedComposerCometMentionsBootloadDataSourceQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("useFeedComposerCometMentionsBootloadDataSource",["WebPixelRatio","createFeedCometMentionsDataEntry","filterNulls","react-compiler-runtime","useCometTypeaheadCompositeBootstrapWithLocalStorageDataSource","useFeedComposerCometMentionsBootloadDataSourceQuery.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h!==void 0?h:h=b("useFeedComposerCometMentionsBootloadDataSourceQuery.graphql");function a(a){var b=d("react-compiler-runtime").c(12),e=a.canUseSections,f=a.firstDegreeFinderOptions,g=a.includeViewer,h=a.limit,k=a.matchStrategy,l=a.storageKey,m=a.typeaheadContext;a=a.typeaheadFirstDegreeFilters;k=k===void 0?"prefix":k;var n;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(n=d("WebPixelRatio").get(),b[0]=n):n=b[0];b[1]!==e||b[2]!==f||b[3]!==g||b[4]!==m||b[5]!==a?(n={canUseSections:e,include_viewer:g,options:f,scale:n,typeahead_context:m,typeaheadFirstDegreeFilters:a},b[1]=e,b[2]=f,b[3]=g,b[4]=m,b[5]=a,b[6]=n):n=b[6];b[7]!==h||b[8]!==k||b[9]!==l||b[10]!==n?(e={gqlQuery:i,limit:h,matchStrategy:k,normalize:j,queryVariables:n,storageKey:l},b[7]=h,b[8]=k,b[9]=l,b[10]=n,b[11]=e):e=b[11];return c("useCometTypeaheadCompositeBootstrapWithLocalStorageDataSource")(e)}function j(a){return c("filterNulls")(((a=a==null?void 0:a.comet_composer_typeahead_bootload)!=null?a:[]).map(function(a){if((a==null?void 0:a.__typename)==="CometComposerTypeaheadResultEntry")return c("createFeedCometMentionsDataEntry")({data:a,type:"MENTION_SEARCH_RESULT"});else if((a==null?void 0:a.__typename)==="XFBMentionsSectionEntry"){var b=a.cache_id,d=a.label;return b==null||d==null?null:{entries:c("filterNulls")(a.entries.map(function(a){return c("createFeedCometMentionsDataEntry")({data:a,type:"MENTION_SEARCH_RESULT"})})),key:b,label:d,type:"section"}}return null}))}g["default"]=a}),98);
__d("useBaseFeedMentionsDataSourceResolverConfig",["Actor","MentionsCommonWordsBlocklist","cr:21043","cr:21098","createCometAtSignComposerMentionsMatchStrategy","createCometMentionsNameMatchStrategy","qex","react","react-compiler-runtime","useCometMentionsDataSourceResolverConfig","useCometTypeaheadCompositeDataSource","useFeedComposerCometMentionsBootloadDataSource"],(function(a,b,c,d,e,f,g){"use strict";var h;(h||d("react")).useMemo;function a(a){var e=d("react-compiler-runtime").c(58),f=a.canUseSections,g=a.contextID,h=a.creationSessionID,i=a.enableTypeSelection,j=a.firstDegreeTypesForBootstrap,k=a.implicitMentionsConfig,l=a.limit,m=a.matchStrategy,n=a.mentionTypesForNetwork,o=a.payloadDecorators,p=a.postID;a=a.shouldBootstrapOnLayoutEffect;i=i===void 0?!1:i;m=m===void 0?"token":m;var q=d("Actor").useActor();q=q[0];if(e[0]!==f||e[1]!==g||e[2]!==h||e[3]!==i||e[4]!==q||e[5]!==l.intentful||e[6]!==l.nullstate||e[7]!==n||e[8]!==p){var r;r=((r=c("qex")._("4529"))!=null?r:!1)?{network:{contextID:g,creationSessionID:h,limit:l.intentful,mentionTypes:n,profileID:q},nullstate:{creationSessionID:h,limit:l.nullstate,mentionTypes:n,profileID:q}}:{network:{canUseSections:f,contextID:g,enableTypeSelection:i,includeViewer:!0,limit:l.intentful,mentionTypes:n,postID:p,typeaheadContext:"mentions"},nullstate:{limit:l.nullstate,mentionTypes:n,postID:p,useSections:f}};e[0]=f;e[1]=g;e[2]=h;e[3]=i;e[4]=q;e[5]=l.intentful;e[6]=l.nullstate;e[7]=n;e[8]=p;e[9]=r}else r=e[9];g=r;h=Math.floor(l.intentful/2);e[10]!==f||e[11]!==j||e[12]!==m||e[13]!==h?(q={canUseSections:f,includeViewer:!0,limit:h,matchStrategy:m,storageKey:null,typeaheadContext:"mentions",typeaheadFirstDegreeFilters:j},e[10]=f,e[11]=j,e[12]=m,e[13]=h,e[14]=q):q=e[14];p=c("useFeedComposerCometMentionsBootloadDataSource")(q);if(e[15]!==n){j=(r=n)!=null?r:[];e[15]=n;e[16]=j}else j=e[16];e[17]!==i||e[18]!==j?(h={enableTypeSelection:i,mentionTypes:j,type:"feed_mentions_intentful_datasource_cache_key"},e[17]=i,e[18]=j,e[19]=h):h=e[19];q=l.intentful;r=b("cr:21098")(g.network);n=b("cr:21043")(g.nullstate);e[20]!==l.intentful||e[21]!==o||e[22]!==r||e[23]!==n||e[24]!==p||e[25]!==h?(i={bootstrapDataSource:p,cacheKey_SEARCH_ONLY:h,limit:q,networkDataSource:r,nullstateDataSource:n,payloadDecorators:o},e[20]=l.intentful,e[21]=o,e[22]=r,e[23]=n,e[24]=p,e[25]=h,e[26]=i):i=e[26];j=c("useCometTypeaheadCompositeDataSource")(i);e[27]===Symbol["for"]("react.memo_cache_sentinel")?(g=["FRIENDS_ONLY"],e[27]=g):g=e[27];r=(q=k.typeaheadContext)!=null?q:"mentions";e[28]===Symbol["for"]("react.memo_cache_sentinel")?(n=["USER","WORKROOMS_USER"],e[28]=n):n=e[28];e[29]!==f||e[30]!==l.nonIntentful||e[31]!==m||e[32]!==r?(p={canUseSections:f,firstDegreeFinderOptions:g,includeViewer:!0,limit:l.nonIntentful,matchStrategy:m,storageKey:null,typeaheadContext:r,typeaheadFirstDegreeFilters:n},e[29]=f,e[30]=l.nonIntentful,e[31]=m,e[32]=r,e[33]=p):p=e[33];h=c("useFeedComposerCometMentionsBootloadDataSource")(p);e[34]===Symbol["for"]("react.memo_cache_sentinel")?(i={type:"feed_mentions_non_intentful_datasource_cache_key"},e[34]=i):i=e[34];e[35]!==l.nonIntentful||e[36]!==o||e[37]!==h?(q={bootstrapDataSource:h,cacheKey_SEARCH_ONLY:i,limit:l.nonIntentful,payloadDecorators:o},e[35]=l.nonIntentful,e[36]=o,e[37]=h,e[38]=q):q=e[38];g=c("useCometTypeaheadCompositeDataSource")(q);var s;bb0:{e[39]===Symbol["for"]("react.memo_cache_sentinel")?(n=c("createCometAtSignComposerMentionsMatchStrategy")({minMatchLength:0}),e[39]=n):n=e[39];e[40]!==j?(f={dataSource:j,matchStrategy:n},e[40]=j,e[41]=f):f=e[41];if(e[42]!==k.isImplicitMentionsEnabled||e[43]!==k.matchLimitOverride||e[44]!==g||e[45]!==f){m=[f];if(!k.isImplicitMentionsEnabled){s=m;break bb0}p=(r=k==null?void 0:k.matchLimitOverride)!=null?r:3;e[48]!==p?(i=c("createCometMentionsNameMatchStrategy")({commonWordsBlocklist:c("MentionsCommonWordsBlocklist").wordList,minMatchLength:p,nameCase:"capitalized"}),e[48]=p,e[49]=i):i=e[49];e[50]!==g||e[51]!==i?(l={dataSource:g,matchStrategy:i},e[50]=g,e[51]=i,e[52]=l):l=e[52];m.push(l);h=(o=k==null?void 0:k.matchLimitOverride)!=null?o:4;e[53]!==h?(q=c("createCometMentionsNameMatchStrategy")({commonWordsBlocklist:c("MentionsCommonWordsBlocklist").wordList,minMatchLength:h,nameCase:"lower-case"}),e[53]=h,e[54]=q):q=e[54];e[55]!==g||e[56]!==q?(n={dataSource:g,matchStrategy:q},e[55]=g,e[56]=q,e[57]=n):n=e[57];m.push(n);e[42]=k.isImplicitMentionsEnabled;e[43]=k.matchLimitOverride;e[44]=g;e[45]=f;e[46]=m;e[47]=s}else m=e[46],s=e[47];s=m}j=s;return c("useCometMentionsDataSourceResolverConfig")(j,a)}g["default"]=a}),98);
__d("useFeedComposerCometMentionsDataSourceResolverConfig",["cometFeedComposerCometMentionsTypeSelectionPayloadDecorator","qex","react-compiler-runtime","useBaseFeedMentionsDataSourceResolverConfig"],(function(a,b,c,d,e,f,g){"use strict";var h=["user","workrooms_user","group","event","page"],i=["USER","WORKROOMS_USER","GROUP","EVENT","PAGE"],j=5;function a(a){var b=d("react-compiler-runtime").c(14),e=a.enableTypeSelection,f=a.firstDegreeTypesForBootstrap,g=a.mentionTypesForNetwork,k=a.shouldBootstrapOnLayoutEffect,l=a.canUseSections,m=a.contextID,n=a.implicitMentionsConfig,o=a.postID;a=a.creationSessionID;e=e===void 0?!1:e;f=f===void 0?i:f;g=g===void 0?h:g;var p;b[0]!==e?(p=e?[c("cometFeedComposerCometMentionsTypeSelectionPayloadDecorator")]:[],b[0]=e,b[1]=p):p=b[1];p=p;if(b[2]===Symbol["for"]("react.memo_cache_sentinel")){var q;q={intentful:(q=c("qex")._("1777"))!=null?q:j,nonIntentful:(q=c("qex")._("576"))!=null?q:j,nullstate:(q=c("qex")._("617"))!=null?q:j};b[2]=q}else q=b[2];b[3]!==l||b[4]!==m||b[5]!==a||b[6]!==e||b[7]!==f||b[8]!==n||b[9]!==g||b[10]!==p||b[11]!==o||b[12]!==k?(q={canUseSections:l,contextID:m,creationSessionID:a,enableTypeSelection:e,firstDegreeTypesForBootstrap:f,implicitMentionsConfig:n,limit:q,mentionTypesForNetwork:g,payloadDecorators:p,postID:o,shouldBootstrapOnLayoutEffect:k},b[3]=l,b[4]=m,b[5]=a,b[6]=e,b[7]=f,b[8]=n,b[9]=g,b[10]=p,b[11]=o,b[12]=k,b[13]=q):q=b[13];return c("useBaseFeedMentionsDataSourceResolverConfig")(q)}g["default"]=a}),98);
__d("upgradedUFI2MentionsComposerPluginCreatorWithTypeaheadViewForLexical",["CometMentionsForLexical.react","CometMentionsLayoutStrategy.react","FeedComposerCometMentionsViewItemResolver.react","cometMentionsLexicalCreateNodeStrategy","getImplicitMentionsGating","gkx","react","useCometMentionsViewListStrategy","useFeedComposerCometMentionsDataSourceResolverConfig"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");b=c("gkx")("23229");e=["USER","EVENT","GROUP","PAGE"];var j=b?[].concat(e,["WORKROOMS_USER"]):e;f=["user","event","group","page"];var k=b?[].concat(f,["workrooms_user"]):f;function a(){return function(a){var b=a.config,e=b.contextID;b=b.postID;a=a.pluginProps.editor;e=c("useFeedComposerCometMentionsDataSourceResolverConfig")({canUseSections:!1,contextID:e,firstDegreeTypesForBootstrap:j,implicitMentionsConfig:{isImplicitMentionsEnabled:d("getImplicitMentionsGating").getIsImplicitMentionsEnabledComment(),matchLimitOverride:d("getImplicitMentionsGating").getIsImplicitMentionsMatchLengthCommentsOverride(),typeaheadContext:d("getImplicitMentionsGating").getIsFriendsOnlyImplicitDatasource()?"comet_mention_friends_only":void 0},mentionTypesForNetwork:k,postID:b,shouldBootstrapOnLayoutEffect:!1});b=c("useCometMentionsViewListStrategy")({viewItemStrategyRenderer:c("FeedComposerCometMentionsViewItemResolver.react")});return i.jsx(c("CometMentionsForLexical.react"),{createNodeStrategy:c("cometMentionsLexicalCreateNodeStrategy"),dataSourceResolverConfig:e,editor:a,layoutStrategyRenderer:c("CometMentionsLayoutStrategy.react"),viewStrategyRenderer:b})}}g["default"]=a}),98);
__d("createUpgradedUFI2MentionsComposerPluginForLexical",["upgradedUFI2MentionsComposerPluginCreatorWithTypeaheadViewForLexical"],(function(a,b,c,d,e,f,g){"use strict";a=c("upgradedUFI2MentionsComposerPluginCreatorWithTypeaheadViewForLexical")();g["default"]=a}),98);/*FB_PKG_DELIM*/
/**
 * License: https://www.facebook.com/legal/license/t3hOLs8wlXy/
 */
__d("exif-js-2.3.0",[],(function(a,b,c,d,e,f){"use strict";var g={},h={exports:g};function i(){(function(){var a=!1,b=this,c=function(a){if(a instanceof c)return a;if(!(this instanceof c))return new c(a);this.EXIFwrapped=a};typeof g!=="undefined"?(typeof h!=="undefined"&&h.exports&&(g=h.exports=c),g.EXIF=c):b.EXIF=c;var d=c.Tags={36864:"ExifVersion",40960:"FlashpixVersion",40961:"ColorSpace",40962:"PixelXDimension",40963:"PixelYDimension",37121:"ComponentsConfiguration",37122:"CompressedBitsPerPixel",37500:"MakerNote",37510:"UserComment",40964:"RelatedSoundFile",36867:"DateTimeOriginal",36868:"DateTimeDigitized",37520:"SubsecTime",37521:"SubsecTimeOriginal",37522:"SubsecTimeDigitized",33434:"ExposureTime",33437:"FNumber",34850:"ExposureProgram",34852:"SpectralSensitivity",34855:"ISOSpeedRatings",34856:"OECF",37377:"ShutterSpeedValue",37378:"ApertureValue",37379:"BrightnessValue",37380:"ExposureBias",37381:"MaxApertureValue",37382:"SubjectDistance",37383:"MeteringMode",37384:"LightSource",37385:"Flash",37396:"SubjectArea",37386:"FocalLength",41483:"FlashEnergy",41484:"SpatialFrequencyResponse",41486:"FocalPlaneXResolution",41487:"FocalPlaneYResolution",41488:"FocalPlaneResolutionUnit",41492:"SubjectLocation",41493:"ExposureIndex",41495:"SensingMethod",41728:"FileSource",41729:"SceneType",41730:"CFAPattern",41985:"CustomRendered",41986:"ExposureMode",41987:"WhiteBalance",41988:"DigitalZoomRation",41989:"FocalLengthIn35mmFilm",41990:"SceneCaptureType",41991:"GainControl",41992:"Contrast",41993:"Saturation",41994:"Sharpness",41995:"DeviceSettingDescription",41996:"SubjectDistanceRange",40965:"InteroperabilityIFDPointer",42016:"ImageUniqueID"},e=c.TiffTags={256:"ImageWidth",257:"ImageHeight",34665:"ExifIFDPointer",34853:"GPSInfoIFDPointer",40965:"InteroperabilityIFDPointer",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",274:"Orientation",277:"SamplesPerPixel",284:"PlanarConfiguration",530:"YCbCrSubSampling",531:"YCbCrPositioning",282:"XResolution",283:"YResolution",296:"ResolutionUnit",273:"StripOffsets",278:"RowsPerStrip",279:"StripByteCounts",513:"JPEGInterchangeFormat",514:"JPEGInterchangeFormatLength",301:"TransferFunction",318:"WhitePoint",319:"PrimaryChromaticities",529:"YCbCrCoefficients",532:"ReferenceBlackWhite",306:"DateTime",270:"ImageDescription",271:"Make",272:"Model",305:"Software",315:"Artist",33432:"Copyright"},f=c.GPSTags={0:"GPSVersionID",1:"GPSLatitudeRef",2:"GPSLatitude",3:"GPSLongitudeRef",4:"GPSLongitude",5:"GPSAltitudeRef",6:"GPSAltitude",7:"GPSTimeStamp",8:"GPSSatellites",9:"GPSStatus",10:"GPSMeasureMode",11:"GPSDOP",12:"GPSSpeedRef",13:"GPSSpeed",14:"GPSTrackRef",15:"GPSTrack",16:"GPSImgDirectionRef",17:"GPSImgDirection",18:"GPSMapDatum",19:"GPSDestLatitudeRef",20:"GPSDestLatitude",21:"GPSDestLongitudeRef",22:"GPSDestLongitude",23:"GPSDestBearingRef",24:"GPSDestBearing",25:"GPSDestDistanceRef",26:"GPSDestDistance",27:"GPSProcessingMethod",28:"GPSAreaInformation",29:"GPSDateStamp",30:"GPSDifferential"},i=c.IFD1Tags={256:"ImageWidth",257:"ImageHeight",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",273:"StripOffsets",274:"Orientation",277:"SamplesPerPixel",278:"RowsPerStrip",279:"StripByteCounts",282:"XResolution",283:"YResolution",284:"PlanarConfiguration",296:"ResolutionUnit",513:"JpegIFOffset",514:"JpegIFByteCount",529:"YCbCrCoefficients",530:"YCbCrSubSampling",531:"YCbCrPositioning",532:"ReferenceBlackWhite"},j=c.StringValues={ExposureProgram:{0:"Not defined",1:"Manual",2:"Normal program",3:"Aperture priority",4:"Shutter priority",5:"Creative program",6:"Action program",7:"Portrait mode",8:"Landscape mode"},MeteringMode:{0:"Unknown",1:"Average",2:"CenterWeightedAverage",3:"Spot",4:"MultiSpot",5:"Pattern",6:"Partial",255:"Other"},LightSource:{0:"Unknown",1:"Daylight",2:"Fluorescent",3:"Tungsten (incandescent light)",4:"Flash",9:"Fine weather",10:"Cloudy weather",11:"Shade",12:"Daylight fluorescent (D 5700 - 7100K)",13:"Day white fluorescent (N 4600 - 5400K)",14:"Cool white fluorescent (W 3900 - 4500K)",15:"White fluorescent (WW 3200 - 3700K)",17:"Standard light A",18:"Standard light B",19:"Standard light C",20:"D55",21:"D65",22:"D75",23:"D50",24:"ISO studio tungsten",255:"Other"},Flash:{0:"Flash did not fire",1:"Flash fired",5:"Strobe return light not detected",7:"Strobe return light detected",9:"Flash fired, compulsory flash mode",13:"Flash fired, compulsory flash mode, return light not detected",15:"Flash fired, compulsory flash mode, return light detected",16:"Flash did not fire, compulsory flash mode",24:"Flash did not fire, auto mode",25:"Flash fired, auto mode",29:"Flash fired, auto mode, return light not detected",31:"Flash fired, auto mode, return light detected",32:"No flash function",65:"Flash fired, red-eye reduction mode",69:"Flash fired, red-eye reduction mode, return light not detected",71:"Flash fired, red-eye reduction mode, return light detected",73:"Flash fired, compulsory flash mode, red-eye reduction mode",77:"Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected",79:"Flash fired, compulsory flash mode, red-eye reduction mode, return light detected",89:"Flash fired, auto mode, red-eye reduction mode",93:"Flash fired, auto mode, return light not detected, red-eye reduction mode",95:"Flash fired, auto mode, return light detected, red-eye reduction mode"},SensingMethod:{1:"Not defined",2:"One-chip color area sensor",3:"Two-chip color area sensor",4:"Three-chip color area sensor",5:"Color sequential area sensor",7:"Trilinear sensor",8:"Color sequential linear sensor"},SceneCaptureType:{0:"Standard",1:"Landscape",2:"Portrait",3:"Night scene"},SceneType:{1:"Directly photographed"},CustomRendered:{0:"Normal process",1:"Custom process"},WhiteBalance:{0:"Auto white balance",1:"Manual white balance"},GainControl:{0:"None",1:"Low gain up",2:"High gain up",3:"Low gain down",4:"High gain down"},Contrast:{0:"Normal",1:"Soft",2:"Hard"},Saturation:{0:"Normal",1:"Low saturation",2:"High saturation"},Sharpness:{0:"Normal",1:"Soft",2:"Hard"},SubjectDistanceRange:{0:"Unknown",1:"Macro",2:"Close view",3:"Distant view"},FileSource:{3:"DSC"},Components:{0:"",1:"Y",2:"Cb",3:"Cr",4:"R",5:"G",6:"B"}};function k(a){return!!a.exifdata}function l(a,b){b||a.match(/^data\:([^\;]+)\;base64,/im)[1]||"";a=a.replace(/^data\:([^\;]+)\;base64,/gim,"");b=atob(a);a=b.length;var c=new ArrayBuffer(a),d=new Uint8Array(c);for(var e=0;e<a;e++)d[e]=b.charCodeAt(e);return c}function m(a,b){var c=new XMLHttpRequest();c.open("GET",a,!0);c.responseType="blob";c.onload=function(a){(this.status==200||this.status===0)&&b(this.response)};c.send()}function n(a,b){function d(d){var e=o(d);a.exifdata=e||{};e=p(d);a.iptcdata=e||{};if(c.isXmpEnabled){e=y(d);a.xmpdata=e||{}}b&&b.call(a)}if(a.src)if(/^data\:/i.test(a.src)){var e=l(a.src);d(e)}else if(/^blob\:/i.test(a.src)){var f=new FileReader();f.onload=function(a){d(a.target.result)};m(a.src,function(a){f.readAsArrayBuffer(a)})}else{var g=new XMLHttpRequest();g.onload=function(){if(this.status==200||this.status===0)d(g.response);else throw"Could not load image";g=null};g.open("GET",a.src,!0);g.responseType="arraybuffer";g.send(null)}else if(self.FileReader&&(a instanceof self.Blob||a instanceof self.File)){var f=new FileReader();f.onload=function(a){d(a.target.result)};f.readAsArrayBuffer(a)}}function o(a){var b=new DataView(a);if(b.getUint8(0)!=255||b.getUint8(1)!=216)return!1;var c=2;a=a.byteLength;var d;while(c<a){if(b.getUint8(c)!=255)return!1;d=b.getUint8(c+1);if(d==225)return x(b,c+4,b.getUint16(c+2)-2);else c+=2+b.getUint16(c+2)}}function p(a){var b=new DataView(a);if(b.getUint8(0)!=255||b.getUint8(1)!=216)return!1;var c=2,d=a.byteLength,e=function(a,b){return a.getUint8(b)===56&&a.getUint8(b+1)===66&&a.getUint8(b+2)===73&&a.getUint8(b+3)===77&&a.getUint8(b+4)===4&&a.getUint8(b+5)===4};while(c<d){if(e(b,c)){var f=b.getUint8(c+7);f%2!==0&&(f+=1);f===0&&(f=4);var g=c+8+f;f=b.getUint16(c+6+f);return r(a,g,f)}c++}}var q={120:"caption",110:"credit",25:"keywords",55:"dateCreated",80:"byline",85:"bylineTitle",122:"captionWriter",105:"headline",116:"copyright",15:"category"};function r(a,b,c){a=new DataView(a);var d={},e,f,g=b;while(g<b+c)a.getUint8(g)===28&&a.getUint8(g+1)===2&&(f=a.getUint8(g+2),f in q&&(e=a.getInt16(g+3),f=q[f],e=w(a,g+5,e),d.hasOwnProperty(f)?d[f]instanceof Array?d[f].push(e):d[f]=[d[f],e]:d[f]=e)),g++;return d}function s(b,c,d,e,f){var g=b.getUint16(d,!f),h={},i,j,k;for(k=0;k<g;k++)i=d+k*12+2,j=e[b.getUint16(i,!f)],!j&&a&&!1,h[j]=t(b,i,c,d,f);return h}function t(a,b,c,d,e){d=a.getUint16(b+2,!e);var f=a.getUint32(b+4,!e);c=a.getUint32(b+8,!e)+c;var g,h,i,j;switch(d){case 1:case 7:if(f==1)return a.getUint8(b+8,!e);else{d=f>4?c:b+8;g=[];for(i=0;i<f;i++)g[i]=a.getUint8(d+i);return g}case 2:d=f>4?c:b+8;return w(a,d,f-1);case 3:if(f==1)return a.getUint16(b+8,!e);else{d=f>2?c:b+8;g=[];for(i=0;i<f;i++)g[i]=a.getUint16(d+2*i,!e);return g}case 4:if(f==1)return a.getUint32(b+8,!e);else{g=[];for(i=0;i<f;i++)g[i]=a.getUint32(c+4*i,!e);return g}case 5:if(f==1){d=a.getUint32(c,!e);j=a.getUint32(c+4,!e);h=new Number(d/j);h.numerator=d;h.denominator=j;return h}else{g=[];for(i=0;i<f;i++)d=a.getUint32(c+8*i,!e),j=a.getUint32(c+4+8*i,!e),g[i]=new Number(d/j),g[i].numerator=d,g[i].denominator=j;return g}case 9:if(f==1)return a.getInt32(b+8,!e);else{g=[];for(i=0;i<f;i++)g[i]=a.getInt32(c+4*i,!e);return g}case 10:if(f==1)return a.getInt32(c,!e)/a.getInt32(c+4,!e);else{g=[];for(i=0;i<f;i++)g[i]=a.getInt32(c+8*i,!e)/a.getInt32(c+4+8*i,!e);return g}}}function u(a,b,c){var d=a.getUint16(b,!c);return a.getUint32(b+2+d*12,!c)}function v(a,b,c,d){c=u(a,b+c,d);if(!c)return{};else if(c>a.byteLength)return{};c=s(a,b,b+c,i,d);if(c.Compression)switch(c.Compression){case 6:if(c.JpegIFOffset&&c.JpegIFByteCount){d=b+c.JpegIFOffset;b=c.JpegIFByteCount;c.blob=new Blob([new Uint8Array(a.buffer,d,b)],{type:"image/jpeg"})}break;case 1:break;default:}else c.PhotometricInterpretation==2;return c}function w(a,b,c){var d="";for(var e=b;e<b+c;e++)d+=String.fromCharCode(a.getUint8(e));return d}function x(a,b){if(w(a,b,4)!="Exif")return!1;var c,g,h,i;b=b+6;if(a.getUint16(b)==18761)c=!1;else if(a.getUint16(b)==19789)c=!0;else return!1;if(a.getUint16(b+2,!c)!=42)return!1;var k=a.getUint32(b+4,!c);if(k<8)return!1;g=s(a,b,b+k,e,c);if(g.ExifIFDPointer){i=s(a,b,b+g.ExifIFDPointer,d,c);for(h in i){switch(h){case"LightSource":case"Flash":case"MeteringMode":case"ExposureProgram":case"SensingMethod":case"SceneCaptureType":case"SceneType":case"CustomRendered":case"WhiteBalance":case"GainControl":case"Contrast":case"Saturation":case"Sharpness":case"SubjectDistanceRange":case"FileSource":i[h]=j[h][i[h]];break;case"ExifVersion":case"FlashpixVersion":i[h]=String.fromCharCode(i[h][0],i[h][1],i[h][2],i[h][3]);break;case"ComponentsConfiguration":i[h]=j.Components[i[h][0]]+j.Components[i[h][1]]+j.Components[i[h][2]]+j.Components[i[h][3]];break}g[h]=i[h]}}if(g.GPSInfoIFDPointer){i=s(a,b,b+g.GPSInfoIFDPointer,f,c);for(h in i){switch(h){case"GPSVersionID":i[h]=i[h][0]+"."+i[h][1]+"."+i[h][2]+"."+i[h][3];break}g[h]=i[h]}}g.thumbnail=v(a,b,k,c);return g}function y(a){if(!("DOMParser"in self))return;var b=new DataView(a);if(b.getUint8(0)!=255||b.getUint8(1)!=216)return!1;var c=2;a=a.byteLength;var d=new DOMParser();while(c<a-4)if(w(b,c,4)=="http"){var e=c-1,f=b.getUint16(c-2)-1;e=w(b,e,f);f=e.indexOf("xmpmeta>")+8;e=e.substring(e.indexOf("<x:xmpmeta"),f);f=e.indexOf("x:xmpmeta")+10;e=e.slice(0,f)+'xmlns:Iptc4xmpCore="http://iptc.org/std/Iptc4xmpCore/1.0/xmlns/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:tiff="http://ns.adobe.com/tiff/1.0/" xmlns:plus="http://schemas.android.com/apk/lib/com.google.android.gms.plus" xmlns:ext="http://www.gettyimages.com/xsltExtension/1.0" xmlns:exif="http://ns.adobe.com/exif/1.0/" xmlns:stEvt="http://ns.adobe.com/xap/1.0/sType/ResourceEvent#" xmlns:stRef="http://ns.adobe.com/xap/1.0/sType/ResourceRef#" xmlns:crs="http://ns.adobe.com/camera-raw-settings/1.0/" xmlns:xapGImg="http://ns.adobe.com/xap/1.0/g/img/" xmlns:Iptc4xmpExt="http://iptc.org/std/Iptc4xmpExt/2008-02-29/" '+e.slice(f);f=d.parseFromString(e,"text/xml");return A(f)}else c++}function z(a){var b={};if(a.nodeType==1){if(a.attributes.length>0){b["@attributes"]={};for(var c=0;c<a.attributes.length;c++){var d=a.attributes.item(c);b["@attributes"][d.nodeName]=d.nodeValue}}}else if(a.nodeType==3)return a.nodeValue;if(a.hasChildNodes())for(d=0;d<a.childNodes.length;d++){c=a.childNodes.item(d);var e=c.nodeName;if(b[e]==null)b[e]=z(c);else{if(b[e].push==null){var f=b[e];b[e]=[];b[e].push(f)}b[e].push(z(c))}}return b}function A(a){try{var b={};if(a.children.length>0)for(var c=0;c<a.children.length;c++){var d=a.children.item(c),e=d.attributes;for(var f in e){var g=e[f],h=g.nodeName;g=g.nodeValue;h!==void 0&&(b[h]=g)}h=d.nodeName;if(typeof b[h]=="undefined")b[h]=z(d);else{if(typeof b[h].push=="undefined"){g=b[h];b[h]=[];b[h].push(g)}b[h].push(z(d))}}else b=a.textContent;return b}catch(a){}}c.enableXmp=function(){c.isXmpEnabled=!0};c.disableXmp=function(){c.isXmpEnabled=!1};c.getData=function(a,b){if((self.Image&&a instanceof self.Image||self.HTMLImageElement&&a instanceof self.HTMLImageElement)&&!a.complete)return!1;!k(a)?n(a,b):b&&b.call(a);return!0};c.getTag=function(a,b){if(!k(a))return;return a.exifdata[b]};c.getIptcTag=function(a,b){if(!k(a))return;return a.iptcdata[b]};c.getAllTags=function(a){if(!k(a))return{};var b;a=a.exifdata;var c={};for(b in a)a.hasOwnProperty(b)&&(c[b]=a[b]);return c};c.getAllIptcTags=function(a){if(!k(a))return{};var b;a=a.iptcdata;var c={};for(b in a)a.hasOwnProperty(b)&&(c[b]=a[b]);return c};c.pretty=function(a){if(!k(a))return"";var b;a=a.exifdata;var c="";for(b in a)a.hasOwnProperty(b)&&(typeof a[b]=="object"?a[b]instanceof Number?c+=b+" : "+a[b]+" ["+a[b].numerator+"/"+a[b].denominator+"]\r\n":c+=b+" : ["+a[b].length+" values]\r\n":c+=b+" : "+a[b]+"\r\n");return c};c.readFromBinaryFile=function(a){return o(a)}}).call(this)}var j=!1;function k(){j||(j=!0,i());return h.exports}function a(a){switch(a){case void 0:return k()}}e.exports=a}),null);
__d("exif-js",["exif-js-2.3.0"],(function(a,b,c,d,e,f){e.exports=b("exif-js-2.3.0")()}),null);
/**
 * License: https://www.facebook.com/legal/license/t3hOLs8wlXy/
 */
__d("remove-accents-0.4.2",[],(function(a,b,c,d,e,f){"use strict";b={};var g={exports:b};function h(){var a={"\xc0":"A","\xc1":"A","\xc2":"A","\xc3":"A","\xc4":"A","\xc5":"A","\u1ea4":"A","\u1eae":"A","\u1eb2":"A","\u1eb4":"A","\u1eb6":"A","\xc6":"AE","\u1ea6":"A","\u1eb0":"A","\u0202":"A","\xc7":"C","\u1e08":"C","\xc8":"E","\xc9":"E","\xca":"E","\xcb":"E","\u1ebe":"E","\u1e16":"E","\u1ec0":"E","\u1e14":"E","\u1e1c":"E","\u0206":"E","\xcc":"I","\xcd":"I","\xce":"I","\xcf":"I","\u1e2e":"I","\u020a":"I","\xd0":"D","\xd1":"N","\xd2":"O","\xd3":"O","\xd4":"O","\xd5":"O","\xd6":"O","\xd8":"O","\u1ed0":"O","\u1e4c":"O","\u1e52":"O","\u020e":"O","\xd9":"U","\xda":"U","\xdb":"U","\xdc":"U","\xdd":"Y","\xe0":"a","\xe1":"a","\xe2":"a","\xe3":"a","\xe4":"a","\xe5":"a","\u1ea5":"a","\u1eaf":"a","\u1eb3":"a","\u1eb5":"a","\u1eb7":"a","\xe6":"ae","\u1ea7":"a","\u1eb1":"a","\u0203":"a","\xe7":"c","\u1e09":"c","\xe8":"e","\xe9":"e","\xea":"e","\xeb":"e","\u1ebf":"e","\u1e17":"e","\u1ec1":"e","\u1e15":"e","\u1e1d":"e","\u0207":"e","\xec":"i","\xed":"i","\xee":"i","\xef":"i","\u1e2f":"i","\u020b":"i","\xf0":"d","\xf1":"n","\xf2":"o","\xf3":"o","\xf4":"o","\xf5":"o","\xf6":"o","\xf8":"o","\u1ed1":"o","\u1e4d":"o","\u1e53":"o","\u020f":"o","\xf9":"u","\xfa":"u","\xfb":"u","\xfc":"u","\xfd":"y","\xff":"y","\u0100":"A","\u0101":"a","\u0102":"A","\u0103":"a","\u0104":"A","\u0105":"a","\u0106":"C","\u0107":"c","\u0108":"C","\u0109":"c","\u010a":"C","\u010b":"c","\u010c":"C","\u010d":"c","C\u0306":"C","c\u0306":"c","\u010e":"D","\u010f":"d","\u0110":"D","\u0111":"d","\u0112":"E","\u0113":"e","\u0114":"E","\u0115":"e","\u0116":"E","\u0117":"e","\u0118":"E","\u0119":"e","\u011a":"E","\u011b":"e","\u011c":"G","\u01f4":"G","\u011d":"g","\u01f5":"g","\u011e":"G","\u011f":"g","\u0120":"G","\u0121":"g","\u0122":"G","\u0123":"g","\u0124":"H","\u0125":"h","\u0126":"H","\u0127":"h","\u1e2a":"H","\u1e2b":"h","\u0128":"I","\u0129":"i","\u012a":"I","\u012b":"i","\u012c":"I","\u012d":"i","\u012e":"I","\u012f":"i","\u0130":"I","\u0131":"i","\u0132":"IJ","\u0133":"ij","\u0134":"J","\u0135":"j","\u0136":"K","\u0137":"k","\u1e30":"K","\u1e31":"k","K\u0306":"K","k\u0306":"k","\u0139":"L","\u013a":"l","\u013b":"L","\u013c":"l","\u013d":"L","\u013e":"l","\u013f":"L","\u0140":"l","\u0141":"l","\u0142":"l","\u1e3e":"M","\u1e3f":"m","M\u0306":"M","m\u0306":"m","\u0143":"N","\u0144":"n","\u0145":"N","\u0146":"n","\u0147":"N","\u0148":"n","\u0149":"n","N\u0306":"N","n\u0306":"n","\u014c":"O","\u014d":"o","\u014e":"O","\u014f":"o","\u0150":"O","\u0151":"o","\u0152":"OE","\u0153":"oe","P\u0306":"P","p\u0306":"p","\u0154":"R","\u0155":"r","\u0156":"R","\u0157":"r","\u0158":"R","\u0159":"r","R\u0306":"R","r\u0306":"r","\u0212":"R","\u0213":"r","\u015a":"S","\u015b":"s","\u015c":"S","\u015d":"s","\u015e":"S","\u0218":"S","\u0219":"s","\u015f":"s","\u0160":"S","\u0161":"s","\u0162":"T","\u0163":"t","\u021b":"t","\u021a":"T","\u0164":"T","\u0165":"t","\u0166":"T","\u0167":"t","T\u0306":"T","t\u0306":"t","\u0168":"U","\u0169":"u","\u016a":"U","\u016b":"u","\u016c":"U","\u016d":"u","\u016e":"U","\u016f":"u","\u0170":"U","\u0171":"u","\u0172":"U","\u0173":"u","\u0216":"U","\u0217":"u","V\u0306":"V","v\u0306":"v","\u0174":"W","\u0175":"w","\u1e82":"W","\u1e83":"w","X\u0306":"X","x\u0306":"x","\u0176":"Y","\u0177":"y","\u0178":"Y","Y\u0306":"Y","y\u0306":"y","\u0179":"Z","\u017a":"z","\u017b":"Z","\u017c":"z","\u017d":"Z","\u017e":"z","\u017f":"s","\u0192":"f","\u01a0":"O","\u01a1":"o","\u01af":"U","\u01b0":"u","\u01cd":"A","\u01ce":"a","\u01cf":"I","\u01d0":"i","\u01d1":"O","\u01d2":"o","\u01d3":"U","\u01d4":"u","\u01d5":"U","\u01d6":"u","\u01d7":"U","\u01d8":"u","\u01d9":"U","\u01da":"u","\u01db":"U","\u01dc":"u","\u1ee8":"U","\u1ee9":"u","\u1e78":"U","\u1e79":"u","\u01fa":"A","\u01fb":"a","\u01fc":"AE","\u01fd":"ae","\u01fe":"O","\u01ff":"o","\xde":"TH","\xfe":"th","\u1e54":"P","\u1e55":"p","\u1e64":"S","\u1e65":"s","X\u0301":"X","x\u0301":"x","\u0403":"\u0413","\u0453":"\u0433","\u040c":"\u041a","\u045c":"\u043a","A\u030b":"A","a\u030b":"a","E\u030b":"E","e\u030b":"e","I\u030b":"I","i\u030b":"i","\u01f8":"N","\u01f9":"n","\u1ed2":"O","\u1ed3":"o","\u1e50":"O","\u1e51":"o","\u1eea":"U","\u1eeb":"u","\u1e80":"W","\u1e81":"w","\u1ef2":"Y","\u1ef3":"y","\u0200":"A","\u0201":"a","\u0204":"E","\u0205":"e","\u0208":"I","\u0209":"i","\u020c":"O","\u020d":"o","\u0210":"R","\u0211":"r","\u0214":"U","\u0215":"u","B\u030c":"B","b\u030c":"b","\u010c\u0323":"C","\u010d\u0323":"c","\xca\u030c":"E","\xea\u030c":"e","F\u030c":"F","f\u030c":"f","\u01e6":"G","\u01e7":"g","\u021e":"H","\u021f":"h","J\u030c":"J","\u01f0":"j","\u01e8":"K","\u01e9":"k","M\u030c":"M","m\u030c":"m","P\u030c":"P","p\u030c":"p","Q\u030c":"Q","q\u030c":"q","\u0158\u0329":"R","\u0159\u0329":"r","\u1e66":"S","\u1e67":"s","V\u030c":"V","v\u030c":"v","W\u030c":"W","w\u030c":"w","X\u030c":"X","x\u030c":"x","Y\u030c":"Y","y\u030c":"y","A\u0327":"A","a\u0327":"a","B\u0327":"B","b\u0327":"b","\u1e10":"D","\u1e11":"d","\u0228":"E","\u0229":"e","\u0190\u0327":"E","\u025b\u0327":"e","\u1e28":"H","\u1e29":"h","I\u0327":"I","i\u0327":"i","\u0197\u0327":"I","\u0268\u0327":"i","M\u0327":"M","m\u0327":"m","O\u0327":"O","o\u0327":"o","Q\u0327":"Q","q\u0327":"q","U\u0327":"U","u\u0327":"u","X\u0327":"X","x\u0327":"x","Z\u0327":"Z","z\u0327":"z"},b=Object.keys(a).join("|"),c=new RegExp(b,"g"),d=new RegExp(b,"");b=function(b){return b.replace(c,function(b){return a[b]})};var e=function(a){return!!a.match(d)};g.exports=b;g.exports.has=e;g.exports.remove=b}var i=!1;function j(){i||(i=!0,h());return g.exports}function a(a){switch(a){case void 0:return j()}}e.exports=a}),null);
__d("remove-accents",["remove-accents-0.4.2"],(function(a,b,c,d,e,f){e.exports=b("remove-accents-0.4.2")()}),null);/*FB_PKG_DELIM*/
__d("FBIconBoxOutline20.svg.react",["XPlatReactSVG","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs(d("XPlatReactSVG").Svg,babelHelpers["extends"]({viewBox:"0 0 20 20",width:"1em",height:"1em",fill:"currentColor",title:a.title},a,{children:[a.children!=null&&i.jsx(d("XPlatReactSVG").Defs,{children:a.children}),i.jsx(d("XPlatReactSVG").G,{fillRule:"evenodd",transform:"translate(-446 -398)",children:i.jsxs(d("XPlatReactSVG").G,{fillRule:"nonzero",children:[i.jsx(d("XPlatReactSVG").Path,{d:"M109.5 207.75v9.663c0 .036-.054.087-.145.087h-14.71c-.09 0-.145-.05-.145-.087v-9.663a.75.75 0 1 0-1.5 0v9.663c0 .888.748 1.587 1.645 1.587h14.71c.897 0 1.645-.699 1.645-1.587v-9.663a.75.75 0 1 0-1.5 0z",transform:"translate(354 197)"}),i.jsx(d("XPlatReactSVG").Path,{d:"M99.75 211.5h4.5a.75.75 0 1 0 0-1.5h-4.5a.75.75 0 1 0 0 1.5zm11.025-3h-17.55A1.225 1.225 0 0 1 92 207.275v-3.05c0-.677.548-1.225 1.225-1.225h17.55c.677 0 1.225.548 1.225 1.225v3.05c0 .677-.548 1.225-1.225 1.225zm-.275-4h-17v2.5h17v-2.5z",transform:"translate(354 197)"})]})})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;b=a;g["default"]=b}),98);
__d("FBIconCautionTriangleOutline20.svg.react",["XPlatReactSVG","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs(d("XPlatReactSVG").Svg,babelHelpers["extends"]({viewBox:"0 0 20 20",width:"1em",height:"1em",fill:"currentColor",title:a.title},a,{children:[a.children!=null&&i.jsx(d("XPlatReactSVG").Defs,{children:a.children}),i.jsx(d("XPlatReactSVG").G,{stroke:"none",strokeWidth:1,fillRule:"evenodd",children:i.jsxs(d("XPlatReactSVG").G,{children:[i.jsx(d("XPlatReactSVG").Path,{d:"M112.423 209.728a.533.533 0 0 1-.467.272h-15.91c-.28 0-.42-.19-.467-.272a.555.555 0 0 1 0-.565l7.983-13.888v-.001a.531.531 0 0 1 .468-.274.53.53 0 0 1 .469.276l7.926 13.889a.555.555 0 0 1-.002.563m1.304-1.307-7.925-13.889a2.021 2.021 0 0 0-1.769-1.032h-.003c-.738 0-1.399.384-1.769 1.027l-7.983 13.888a2.044 2.044 0 0 0 .002 2.064 2.02 2.02 0 0 0 1.766 1.021h15.91c.734 0 1.394-.381 1.764-1.018a2.044 2.044 0 0 0 .007-2.06",transform:"translate(-446 -398) translate(352 157) translate(0 48)"}),i.jsx(d("XPlatReactSVG").Path,{d:"M104.001 199c-.812 0-1.25.593-1.25 1.15 0 .027.001.054.004.081l.5 4.6a.75.75 0 0 0 1.491 0l.5-4.6a.733.733 0 0 0 .005-.081c0-.558-.438-1.15-1.25-1.15M104.001 206.5a1.001 1.001 0 0 0 0 2 1.001 1.001 0 0 0 0-2",transform:"translate(-446 -398) translate(352 157) translate(0 48)"})]})})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;b=a;g["default"]=b}),98);
__d("FBIconLeaveOutline20.svg.react",["XPlatReactSVG","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs(d("XPlatReactSVG").Svg,babelHelpers["extends"]({viewBox:"0 0 20 20",width:"1em",height:"1em",fill:"currentColor",title:a.title},a,{children:[a.children!=null&&i.jsx(d("XPlatReactSVG").Defs,{children:a.children}),i.jsx(d("XPlatReactSVG").G,{fillRule:"evenodd",transform:"translate(-446 -398)",children:i.jsxs(d("XPlatReactSVG").G,{fillRule:"nonzero",children:[i.jsx(d("XPlatReactSVG").Path,{d:"M105 220.75v2.855a.9.9 0 0 1-.895.895h-9.71a.9.9 0 0 1-.895-.895v-15.21a.9.9 0 0 1 .895-.895h9.71a.9.9 0 0 1 .895.895v3.355a.75.75 0 1 0 1.5 0v-3.355a2.4 2.4 0 0 0-2.395-2.395h-9.71A2.4 2.4 0 0 0 92 208.395v15.21A2.4 2.4 0 0 0 94.395 226h9.71a2.4 2.4 0 0 0 2.395-2.395v-2.855a.75.75 0 1 0-1.5 0z",transform:"translate(355 192)"}),i.jsx(d("XPlatReactSVG").Path,{d:"M102.25 217h7.5a.75.75 0 1 0 0-1.5h-7.5a.75.75 0 1 0 0 1.5z",transform:"translate(355 192)"}),i.jsx(d("XPlatReactSVG").Path,{d:"M107.324 218.011a.75.75 0 0 0 1.06 1.06l2.292-2.29a.75.75 0 0 0 0-1.061l-2.292-2.292a.75.75 0 0 0-1.06 1.06l1.761 1.762-1.761 1.761z",transform:"translate(355 192)"})]})})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;b=a;g["default"]=b}),98);
__d("FBIconTextFilled12.svg.react",["XPlatReactSVG","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs(d("XPlatReactSVG").Svg,babelHelpers["extends"]({viewBox:"0 0 12 13",width:"1em",height:"1em",fill:"currentColor",title:a.title},a,{children:[a.children!=null&&i.jsx(d("XPlatReactSVG").Defs,{children:a.children}),i.jsx(d("XPlatReactSVG").G,{fillRule:"evenodd",transform:"translate(-450 -1073)",children:i.jsxs(d("XPlatReactSVG").G,{fillRule:"nonzero",children:[i.jsx(d("XPlatReactSVG").Path,{d:"M102.54 923.197a.5.5 0 0 0 .92-.394l-3-7a.5.5 0 0 0-.92 0l-3 7a.5.5 0 0 0 .92.394l2.54-5.928 2.54 5.928z",transform:"translate(353.5 160)"}),i.jsx(d("XPlatReactSVG").Path,{d:"M98 921.5h4a.5.5 0 0 0 0-1h-4a.5.5 0 0 0 0 1zm7.022-2.554.05-.037c.047-.04.16-.114.327-.193.289-.135.616-.216.976-.216.655 0 1.125.494 1.125 1.079v3.42a.5.5 0 0 0 1 0v-3.42c0-1.126-.905-2.08-2.125-2.08a3.28 3.28 0 0 0-1.4.311 2.558 2.558 0 0 0-.547.334.5.5 0 0 0 .594.802z",transform:"translate(353.5 160)"}),i.jsx(d("XPlatReactSVG").Path,{d:"m107.505 920.747-.005.072c0 .649-.873 1.681-1.5 1.681-.69 0-1-.226-1-.864 0-.746.524-1.136 1.25-1.136h1.365a.498.498 0 0 0-.11.247zm.995-.747a.5.5 0 0 0-.5-.5h-1.75c-1.224 0-2.25.763-2.25 2.136 0 1.271.815 1.864 2 1.864 1.22 0 2.5-1.514 2.5-2.682a.499.499 0 0 0-.167-.372l-.046-.037a.5.5 0 0 0 .213-.409z",transform:"translate(353.5 160)"})]})})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;b=a;g["default"]=b}),98);
__d("FDSCommentSlashOutline20Icon",["cr:14772"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:14772")}),98);
__d("FDSCommentSlashOutline20PNGIcon.react",["ix","fbicon"],(function(a,b,c,d,e,f,g,h){"use strict";a=d("fbicon")._(h("995804"),20);b=a;g["default"]=b}),98);
__d("FDSMenuItemCheckbox.react",["ix","BaseIsDecorativeContext","BaseStyledSwitchLayout.react","FDSIcon.react","FDSMenuItemBase.react","FDSMenuItemIcon.react","UNTRANSLATED_STRING_FIXME","fbicon","react","react-compiler-runtime","useFDSUncheckedStyles"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react"),k={"switch":{marginBottom:"x4vbgl9",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(32),e,f;b[0]!==a?(f=a.ref,e=babelHelpers.objectWithoutPropertiesLoose(a,["ref"]),b[0]=a,b[1]=e,b[2]=f):(e=b[1],f=b[2]);if(b[3]!==e){a=e;a.asSwitch;var g=a.disabled,i=a.icon,l=a.iconColor,m=a.iconSize,n=a.iconStyle,o=a.isSelected,p=a.radioStyle;a=babelHelpers.objectWithoutPropertiesLoose(a,["asSwitch","disabled","icon","iconColor","iconSize","iconStyle","isSelected","radioStyle"]);g=g;i=i;l=l;m=m;n=n;o=o;p=p;a=a;b[3]=e;b[4]=a;b[5]=g;b[6]=i;b[7]=l;b[8]=m;b[9]=n;b[10]=o;b[11]=p}else a=b[4],g=b[5],i=b[6],l=b[7],m=b[8],n=b[9],o=b[10],p=b[11];p===void 0?"default":p;p=d("useFDSUncheckedStyles").useFDSUncheckedStyles();var q;b[12]!==g||b[13]!==o||b[14]!==e.asSwitch||b[15]!==p?(q=e.asSwitch===!0?j.jsx(c("BaseIsDecorativeContext").Provider,{value:!0,children:j.jsx(c("BaseStyledSwitchLayout.react"),{size:"small",uncheckedXStyle:p,value:o,xstyle:k["switch"]})}):o?j.jsx(c("FDSIcon.react"),{color:g===!0?"disabled":"highlight",icon:d("fbicon")._(h("531032"),24)}):j.jsx(c("FDSIcon.react"),{color:g===!0?"disabled":"secondary",icon:d("fbicon")._(h("659289"),24)}),b[12]=g,b[13]=o,b[14]=e.asSwitch,b[15]=p,b[16]=q):q=b[16];p=q;b[17]!==e.primaryText?(q=c("UNTRANSLATED_STRING_FIXME")(e.primaryText.toString()),b[17]=e.primaryText,b[18]=q):q=b[18];b[19]!==i||b[20]!==l||b[21]!==m||b[22]!==n?(e=i!=null?j.jsx(c("FDSMenuItemIcon.react"),{icon:i,iconColor:l,iconSize:m,use:n}):void 0,b[19]=i,b[20]=l,b[21]=m,b[22]=n,b[23]=e):e=b[23];b[24]!==p||b[25]!==a||b[26]!==g||b[27]!==o||b[28]!==f||b[29]!==q||b[30]!==e?(i=j.jsx(c("FDSMenuItemBase.react"),babelHelpers["extends"]({},a,{"aria-checked":o,"aria-label":q,aux:p,disabled:g,iconNode:e,ref:f,role:"menuitemcheckbox"})),b[24]=p,b[25]=a,b[26]=g,b[27]=o,b[28]=f,b[29]=q,b[30]=e,b[31]=i):i=b[31];return i}g["default"]=a}),98);
__d("FDSMenuItemWithSubmenu.react",["fbt","ix","BaseContextualLayerAvailableHeightContext","BaseMultiPageViewContext","CometComponentWithKeyCommands.react","CometKeys","FDSIcon.react","FDSMenuBase.react","FDSMenuItemBase.react","FDSMenuItemIcon.react","fbicon","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=j||(j=d("react"));b=j;b.useCallback;var l=b.useContext;b.useMemo;var m=b.useState,n=k.createContext([]);function a(a){var b=d("react-compiler-runtime").c(54),e,f,g,j,p,q,r,s,t,u,v,w,x;b[0]!==a?(g=a.ref,f=a.disabled,j=a.icon,p=a.iconColor,q=a.iconNode,r=a.iconSize,s=a.iconStyle,t=a.isIconDecorative,u=a.onClick,v=a.primaryText,w=a.secondaryText,x=a.submenu,e=babelHelpers.objectWithoutPropertiesLoose(a,["ref","disabled","icon","iconColor","iconNode","iconSize","iconStyle","isIconDecorative","onClick","primaryText","secondaryText","submenu"]),b[0]=a,b[1]=e,b[2]=f,b[3]=g,b[4]=j,b[5]=p,b[6]=q,b[7]=r,b[8]=s,b[9]=t,b[10]=u,b[11]=v,b[12]=w,b[13]=x):(e=b[1],f=b[2],g=b[3],j=b[4],p=b[5],q=b[6],r=b[7],s=b[8],t=b[9],u=b[10],v=b[11],w=b[12],x=b[13]);a=l(n);var y;b[14]!==a||b[15]!==v?(y=[].concat(a,[v]),b[14]=a,b[15]=v,b[16]=y):y=b[16];a=y;var z=a;y=m(!1);a=y[0];var A=y[1];b[17]===Symbol["for"]("react.memo_cache_sentinel")?(y=k.jsx(c("FDSIcon.react"),{color:"secondary",icon:d("fbicon")._(i("492572"),20)}),b[17]=y):y=b[17];y=y;var B=l(c("BaseMultiPageViewContext")),C;b[18]!==B||b[19]!==v||b[20]!==w||b[21]!==x||b[22]!==z?(C=function(){if(B==null)return;var a=x,b=a.header,d=babelHelpers.objectWithoutPropertiesLoose(a,["header"]),e=function(){A(!1),b==null?void 0:b.onPressBack==null?void 0:b.onPressBack(),B==null?void 0:B.popPage==null?void 0:B.popPage()},f={meta:b!=null?b.meta:w,onPressBack:e,title:b!=null?b.title:v};A(!0);B.pushPage(function(){var a=[{command:{key:c("CometKeys").LEFT},description:h._(/*BTDS*/"Move to parent menu"),handler:e},{command:{key:c("CometKeys").ESCAPE},description:h._(/*BTDS*/"Move to parent menu"),handler:e}];a=k.jsx(n.Provider,{value:z,children:k.jsx(c("CometComponentWithKeyCommands.react"),{commandConfigs:a,children:k.jsx(o,babelHelpers["extends"]({},d,{header:f}))})});for(var b=z.length-1;b>=0;b--)a=k.jsx("div",{"aria-label":z[b],role:"menu",children:a});return a})},b[18]=B,b[19]=v,b[20]=w,b[21]=x,b[22]=z,b[23]=C):C=b[23];var D=C;b[24]!==D||b[25]!==u?(C=function(a){u&&u(a),D()},b[24]=D,b[25]=u,b[26]=C):C=b[26];C=C;var E,F;b[27]===Symbol["for"]("react.memo_cache_sentinel")?(E={key:c("CometKeys").RIGHT},F=h._(/*BTDS*/"Move to submenu"),b[27]=E,b[28]=F):(E=b[27],F=b[28]);b[29]!==D?(E=[{command:E,description:F,handler:D}],b[29]=D,b[30]=E):E=b[30];F=E;E=F;b[31]!==j?(F=j?k.jsx("div",babelHelpers["extends"]({className:"xz62fqu x16ldp7u"},{children:y})):y,b[31]=j,b[32]=F):F=b[32];b[33]!==f||b[34]!==j||b[35]!==p||b[36]!==q||b[37]!==r||b[38]!==s||b[39]!==t?(y=q!=null?q:j?k.jsx(c("FDSMenuItemIcon.react"),{disabled:f,icon:j,iconColor:p,iconSize:r,isDecorative:t,use:s}):null,b[33]=f,b[34]=j,b[35]=p,b[36]=q,b[37]=r,b[38]=s,b[39]=t,b[40]=y):y=b[40];b[41]!==e||b[42]!==f||b[43]!==g||b[44]!==C||b[45]!==a||b[46]!==v||b[47]!==w||b[48]!==F||b[49]!==y?(j=k.jsx(c("FDSMenuItemBase.react"),babelHelpers["extends"]({},e,{"aria-expanded":a,"aria-haspopup":"menu",aux:F,disabled:f,iconNode:y,onClick:C,preventClosingMenuOnSelect:!0,primaryText:v,ref:g,role:"menuitem",secondaryText:w})),b[41]=e,b[42]=f,b[43]=g,b[44]=C,b[45]=a,b[46]=v,b[47]=w,b[48]=F,b[49]=y,b[50]=j):j=b[50];b[51]!==E||b[52]!==j?(p=k.jsx(c("CometComponentWithKeyCommands.react"),{commandConfigs:E,children:j}),b[51]=E,b[52]=j,b[53]=p):p=b[53];return p}function o(a){var b=d("react-compiler-runtime").c(8),e,f,g;b[0]!==a?(e=a.items,g=a.truncate,f=babelHelpers.objectWithoutPropertiesLoose(a,["items","truncate"]),b[0]=a,b[1]=e,b[2]=f,b[3]=g):(e=b[1],f=b[2],g=b[3]);a=g===void 0?!0:g;g=l(c("BaseContextualLayerAvailableHeightContext"));g=a?(a=g)!=null?a:0:void 0;b[4]!==e||b[5]!==f||b[6]!==g?(a=k.jsx(c("FDSMenuBase.react"),babelHelpers["extends"]({},f,{maxHeight:g,children:e})),b[4]=e,b[5]=f,b[6]=g,b[7]=a):a=b[7];return a}g["default"]=a}),226);
__d("MWChatEncryptedBackupsSettingsDialogQuery$Parameters",["MWChatEncryptedBackupsSettingsDialogQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("MWChatEncryptedBackupsSettingsDialogQuery_facebookRelayOperation"),metadata:{},name:"MWChatEncryptedBackupsSettingsDialogQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("MWChatEncryptedBackupsSettingsDialog.entrypoint",["JSResourceForInteraction","MWChatEncryptedBackupsSettingsDialogQuery$Parameters","qex"],(function(a,b,c,d,e,f,g){"use strict";var h=(a=c("qex")._("3846"))!=null?a:!1;b={getPreloadProps:function(){return{queries:{queryReference:{parameters:c("MWChatEncryptedBackupsSettingsDialogQuery$Parameters"),variables:{labyrinthOnePointOneSecurityUX:h}}}}},root:c("JSResourceForInteraction")("MWChatEncryptedBackupsSettingsDialog.react").__setRef("MWChatEncryptedBackupsSettingsDialog.entrypoint")};g["default"]=b}),98);
__d("MWInboxSettingsPresenceMainPushPageQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="8959323514169499"}),null);
__d("MWXIconCalendar",["MWXSvgIcon","SVGIcon","cr:12341","gkx"],(function(a,b,c,d,e,f,g){"use strict";a=d("MWXSvgIcon").mwxSvgIcon(d("SVGIcon").svgIcon(b("cr:12341")),c("gkx")("23219"));g["default"]=a}),98);
__d("MWXIconMenuItemBox",["MWXSvgIcon","SVGIcon","cr:12707","gkx"],(function(a,b,c,d,e,f,g){"use strict";a=d("MWXSvgIcon").mwxSvgMenuItemIcon(d("SVGIcon").svgIcon(b("cr:12707")),c("gkx")("23219"));g["default"]=a}),98);
__d("MWXIconMenuItemCautionTriangle",["MWXSvgIcon","SVGIcon","cr:12730","gkx"],(function(a,b,c,d,e,f,g){"use strict";a=d("MWXSvgIcon").mwxSvgMenuItemIcon(d("SVGIcon").svgIcon(b("cr:12730")),c("gkx")("23219"));g["default"]=a}),98);
__d("MWXIconMenuItemLeave",["MWXSvgIcon","SVGIcon","cr:12834","gkx"],(function(a,b,c,d,e,f,g){"use strict";a=d("MWXSvgIcon").mwxSvgMenuItemIcon(d("SVGIcon").svgIcon(b("cr:12834")),c("gkx")("23219"));g["default"]=a}),98);
__d("MWXIconMenuItemMessageCross",["MWXSvgIcon","SVGIcon","cr:12848","gkx"],(function(a,b,c,d,e,f,g){"use strict";a=d("MWXSvgIcon").mwxSvgMenuItemIcon(d("SVGIcon").svgIcon(b("cr:12848")),c("gkx")("23219"));g["default"]=a}),98);
__d("MWXIconText",["MWXSvgIcon","SVGIcon","cr:12607","gkx"],(function(a,b,c,d,e,f,g){"use strict";a=d("MWXSvgIcon").mwxSvgIcon(d("SVGIcon").svgIcon(b("cr:12607")),c("gkx")("23219"));g["default"]=a}),98);
__d("MWXList.react",["cr:6150","cr:6324","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var c=d("react-compiler-runtime").c(16),e,f,g;c[0]!==a?(f=a.children,g=a.ref,e=babelHelpers.objectWithoutPropertiesLoose(a,["children","ref"]),c[0]=a,c[1]=e,c[2]=f,c[3]=g):(e=c[1],f=c[2],g=c[3]);if(b("cr:6324")!=null){a=f;if(c[4]!==e){var h=e,j=h["aria-label"];h["aria-labelledby"];h.variant;h=babelHelpers.objectWithoutPropertiesLoose(h,["aria-label","aria-labelledby","variant"]);j=j;h=h;c[4]=e;c[5]=h;c[6]=j}else h=c[5],j=c[6];var k;c[7]!==a||c[8]!==h||c[9]!==j||c[10]!==g?(k=i.jsx(b("cr:6324"),babelHelpers["extends"]({},h,{children:a,label:j,ref:g})),c[7]=a,c[8]=h,c[9]=j,c[10]=g,c[11]=k):k=c[11];return k}if(b("cr:6150")!=null){a=f;c[12]!==e||c[13]!==a||c[14]!==g?(h=i.jsx(b("cr:6150"),babelHelpers["extends"]({},e,{children:a,ref:g})),c[12]=e,c[13]=a,c[14]=g,c[15]=h):h=c[15];return h}return null}g["default"]=a}),98);
__d("MWXListCell.react",["AddOnEndOverride.react","AddOnStartOverride.react","MWXDivider.react","cr:2201","cr:43","react","xplatToDOMRef"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var e=a.ref;a=babelHelpers.objectWithoutPropertiesLoose(a,["ref"]);var f=a.addOnBottom,g=a.addOnEnd,h=a.addOnStart,j=a.content,k=a.hasBottomDivider;k=k===void 0?!1:k;var l=a.size;a=babelHelpers.objectWithoutPropertiesLoose(a,["addOnBottom","addOnEnd","addOnStart","content","hasBottomDivider","size"]);if(b("cr:43")!=null)return i.jsx(b("cr:43"),babelHelpers["extends"]({addOnBottom:f,addOnEnd:g!=null?i.jsx(c("AddOnEndOverride.react"),{children:g}):void 0,addOnStart:h!=null?i.jsx(c("AddOnStartOverride.react"),{children:h}):void 0,addOnStartMarginTop:0,content:j,contentPaddingHorizontal:8,hasBottomDivider:k,level:4,paddingVertical:8},a,{ref:e}));if(b("cr:2201")!=null){return i.jsx(b("cr:2201"),babelHelpers["extends"]({addOnBottom:f,addOnEnd:g,addOnStart:h,content:j,size:(f=l)!=null?f:"medium"},a,{addOnFooter:k?i.jsx(c("MWXDivider.react"),{}):void 0,ref:d("xplatToDOMRef").xplatToDOMRef(e)}))}return null}a.displayName=a.name+" [from "+f.id+"]";e=a;g["default"]=e}),98);
__d("MWXMenuItemWithSubmenu.react",["MWXSvgIcon","cr:6643","cr:8476","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var c=d("react-compiler-runtime").c(12),e,f,g;c[0]!==a?(g=a.ref,e=a.icon,f=babelHelpers.objectWithoutPropertiesLoose(a,["ref","icon"]),c[0]=a,c[1]=e,c[2]=f,c[3]=g):(e=c[1],f=c[2],g=c[3]);if(b("cr:8476")!=null){c[4]!==e||c[5]!==f||c[6]!==g?(a=i.jsx(b("cr:8476"),babelHelpers["extends"]({icon:e,isIconDecorative:!0},f,{ref:g})),c[4]=e,c[5]=f,c[6]=g,c[7]=a):a=c[7];return a}if(b("cr:6643")!=null){a=e instanceof d("MWXSvgIcon").MWXSvgIcon?e.component:e;c[8]!==f||c[9]!==g||c[10]!==a?(e=i.jsx(b("cr:6643"),babelHelpers["extends"]({icon:a,isIconDecorative:!0},f,{ref:g})),c[8]=f,c[9]=g,c[10]=a,c[11]=e):e=c[11];return e}return null}g["default"]=a}),98);
__d("ReadReceiptControlSettingChangedFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("3164");b=d("FalcoLoggerInternal").create("read_receipt_control_setting_changed",a);e=b;g["default"]=e}),98);
__d("mwEBDismissPostDecisionUpsells.react",["MWChatEncryptedBackupsQPLSource.enum","MWEncryptedBackupsLocalStorageEntryEnum","MWEncryptedBackupsSharedState","Promise"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){var e=["softblock","jewel_softblock"],f=Array.from(c("MWChatEncryptedBackupsQPLSource.enum").members());return(h||(h=b("Promise"))).all([].concat(e.map(function(b){return d("MWEncryptedBackupsSharedState").upsertEBSharedStateEntry({db:a,stateKey:c("MWEncryptedBackupsLocalStorageEntryEnum").EB_POST_DECISION_WEB_ONLY_ONBOARDING+":"+b,stateValue:"true"})}),f.map(function(b){return d("MWEncryptedBackupsSharedState").upsertEBSharedStateEntry({db:a,stateKey:c("MWEncryptedBackupsLocalStorageEntryEnum").EB_POST_DECISION_WEB_ONLY_ONBOARDING+":"+b,stateValue:"dismissed"})})))}g["default"]=a}),98);
__d("useDebouncedOnChange",["react","react-compiler-runtime","useDebounced"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");b.useCallback;var i=b.useEffect,j=b.useLayoutEffect,k=b.useRef,l=b.useState;function a(a,b,e){var f=d("react-compiler-runtime").c(20);e=e===void 0?100:e;var g=l(a),h=g[0],m=g[1],n=c("useDebounced")(b,e);f[0]!==n||f[1]!==a||f[2]!==h?(g=n.isPending()?h:a,f[0]=n,f[1]=a,f[2]=h,f[3]=g):g=f[3];var o=g;f[4]!==n?(e=function(a){n(a),m(a)},f[4]=n,f[5]=e):e=f[5];h=e;f[6]!==o||f[7]!==n||f[8]!==a||f[9]!==b?(g=function(){o!==a&&b(o),n.reset()},f[6]=o,f[7]=n,f[8]=a,f[9]=b,f[10]=g):g=f[10];var p=g,q=k(p);f[11]!==p?(e=function(){q.current=p},g=[p],f[11]=p,f[12]=e,f[13]=g):(e=f[12],g=f[13]);j(e,g);f[14]===Symbol["for"]("react.memo_cache_sentinel")?(e=function(){return function(){return q.current()}},g=[],f[14]=e,f[15]=g):(e=f[14],g=f[15]);i(e,g);f[16]!==o||f[17]!==h||f[18]!==p?(e=[o,h,p],f[16]=o,f[17]=h,f[18]=p,f[19]=e):e=f[19];return e}g["default"]=a}),98);
__d("useMWInboxInfoFRX",["JSResourceForInteraction","LSMessagingThreadTypeUtil","MWCMThreadTypes.react","MWGetLSThreadReportingTokenFromThread","MWPThreadIsPage.react","MessengerWebUXLogger","cr:2580","justknobx","useMWXLazyDialog"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var e=a.entryPoint;e=e===void 0?"report_button":e;var f=a.messagingEntrypoint,g=a.onPress,h=a.thread,i=h.threadKey,j=h.threadType;a=c("MWGetLSThreadReportingTokenFromThread")(h);var k=d("MWPThreadIsPage.react").useIsPage(),l=d("LSMessagingThreadTypeUtil").isOneToOne(j),m=d("LSMessagingThreadTypeUtil").isGroup(j),n=d("LSMessagingThreadTypeUtil").isArmadilloSecure(j),o=d("LSMessagingThreadTypeUtil").isCMSubthread(j),p=d("MWCMThreadTypes.react").isJoinedCMThread(j),q=d("LSMessagingThreadTypeUtil").isDiscoverableChannel(j);e=babelHelpers["extends"]({entryPoint:e,id:a},c("justknobx")._("4566")?{threadKey:i}:{});var r=k&&!q?babelHelpers["extends"]({},e,{location:"messenger_p2b_direct_thread_details"}):l&&n?babelHelpers["extends"]({},e,{location:"messenger_encrypted_direct_thread"}):l&&!n?babelHelpers["extends"]({},e,{location:"messenger_direct_thread_details"}):p?babelHelpers["extends"]({},e,{location:"messenger_community_messaging_group_thread_details"}):m&&n?babelHelpers["extends"]({},e,{location:"messenger_encrypted_group_thread"}):m&&!n?babelHelpers["extends"]({},e,{location:"messenger_group_thread_details"}):o&&!n?babelHelpers["extends"]({},e,{location:"messenger_community_messaging_subthread_view"}):void 0;a=c("useMWXLazyDialog")(c("JSResourceForInteraction")("CometFRX_DEPRECATED.react").__setRef("useMWInboxInfoFRX"));var s=a[0],t=c("MessengerWebUXLogger").useInteractionLogger();return function(){r!=null&&(s(r),b("cr:2580")&&f!=null&&b("cr:2580")({threadKey:i,threadType:j},"report_thread",f),t==null?void 0:t({eventName:"report_thread",threadKey:h.threadKey,threadType:h.threadType})),g==null?void 0:g()}}g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("FDSDialogFooterButtonGroupItem.react",["CometColumnItem.react","FDSButtonGroup.react","XPlatReactEnvironment","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(12),e,f,g,h;b[0]!==a?(h=a.expanding,f=a.primary,g=a.secondary,e=babelHelpers.objectWithoutPropertiesLoose(a,["expanding","primary","secondary"]),b[0]=a,b[1]=e,b[2]=f,b[3]=g,b[4]=h):(e=b[1],f=b[2],g=b[3],h=b[4]);a=h===void 0?!0:h;h=d("XPlatReactEnvironment").isWeb()?a:!1;b[5]!==e||b[6]!==f||b[7]!==g?(a=i.jsx(c("FDSButtonGroup.react"),babelHelpers["extends"]({paddingHorizontal:0,paddingTop:0,primary:f,secondary:g},e)),b[5]=e,b[6]=f,b[7]=g,b[8]=a):a=b[8];b[9]!==h||b[10]!==a?(e=i.jsx(c("CometColumnItem.react"),{expanding:h,paddingVertical:16,children:a}),b[9]=h,b[10]=a,b[11]=e):e=b[11];return e}g["default"]=a}),98);
__d("FDSDialogButtonGroupFooter.react",["FDSDialogFooterButtonGroupItem.react","FDSDialogFooterContainer.react","FDSDialogMetaTextItem.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(18),e,f,g;b[0]!==a?(f=a.meta,g=a.metaPosition,e=babelHelpers.objectWithoutPropertiesLoose(a,["meta","metaPosition"]),b[0]=a,b[1]=e,b[2]=f,b[3]=g):(e=b[1],f=b[2],g=b[3]);a=g===void 0?"above":g;g=f!=null&&a==="above";var h=f!=null&&a==="below",j;b[4]!==g||b[5]!==f||b[6]!==a?(j=g&&i.jsx(c("FDSDialogMetaTextItem.react"),{meta:f,metaPosition:a}),b[4]=g,b[5]=f,b[6]=a,b[7]=j):j=b[7];b[8]!==e?(g=i.jsx(c("FDSDialogFooterButtonGroupItem.react"),babelHelpers["extends"]({},e)),b[8]=e,b[9]=g):g=b[9];b[10]!==h||b[11]!==f||b[12]!==a?(e=h&&i.jsx(c("FDSDialogMetaTextItem.react"),{meta:f,metaPosition:a}),b[10]=h,b[11]=f,b[12]=a,b[13]=e):e=b[13];b[14]!==j||b[15]!==g||b[16]!==e?(h=i.jsxs(c("FDSDialogFooterContainer.react"),{children:[j,g,e]}),b[14]=j,b[15]=g,b[16]=e,b[17]=h):h=b[17];return h}g["default"]=a}),98);
__d("FDSPhotoAddFilled24Icon",["cr:15400"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:15400")}),98);
__d("FDSPhotoAddFilled24PNGIcon.react",["ix","fbicon"],(function(a,b,c,d,e,f,g,h){"use strict";a=d("fbicon")._(h("481777"),24);b=a;g["default"]=b}),98);
__d("MWXButton.react",["cr:1329","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var c=d("react-compiler-runtime").c(6),e,f;c[0]!==a?(f=a.ref,e=babelHelpers.objectWithoutPropertiesLoose(a,["ref"]),c[0]=a,c[1]=e,c[2]=f):(e=c[1],f=c[2]);c[3]!==e||c[4]!==f?(a=i.jsx(b("cr:1329"),babelHelpers["extends"]({ref:f},e)),c[3]=e,c[4]=f,c[5]=a):a=c[5];return a}g["default"]=a}),98);
__d("MWXErrorBlock.react",["MWXButton.react","MWXColumn.react","MWXColumnItem.react","MWXImage.react","MWXTextPairing.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(15),e=a.align,f=a.error,g=a.level;a=a.showImage;e=e===void 0?"center":e;a=a===void 0?!0:a;var h=f.action,j=f.body,k=f.headline;f=f.image;var l;b[0]!==f||b[1]!==a?(l=a&&f!=null&&i.jsx(c("MWXColumnItem.react"),{children:i.jsx(c("MWXImage.react"),{src:f})}),b[0]=f,b[1]=a,b[2]=l):l=b[2];f=g?g:2;b[3]!==e||b[4]!==j||b[5]!==k||b[6]!==f?(a=i.jsx(c("MWXColumnItem.react"),{paddingTop:16,children:i.jsx(c("MWXTextPairing.react"),{body:j,bodyColor:"secondary",headline:k,level:f,textAlign:e})}),b[3]=e,b[4]=j,b[5]=k,b[6]=f,b[7]=a):a=b[7];b[8]!==h?(g=h!=null&&i.jsx(c("MWXColumnItem.react"),{align:"stretch",paddingVertical:16,children:i.jsx(c("MWXColumnItem.react"),{paddingVertical:16,children:i.jsx(c("MWXButton.react"),{label:h.label,onPress:h.onPress,padding:"wide",size:36})})}),b[8]=h,b[9]=g):g=b[9];b[10]!==e||b[11]!==l||b[12]!==a||b[13]!==g?(j=i.jsxs(c("MWXColumn.react"),{align:e,spacing:12,children:[l,a,g]}),b[10]=e,b[11]=l,b[12]=a,b[13]=g,b[14]=j):j=b[14];return j}g["default"]=a}),98);
__d("ReStoreDBCorruption",[],(function(a,b,c,d,e,f){"use strict";var g="Got unexpected undefined",h="ReStoreDBCorruption";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b){var c,d=g+", table: "+b;c=a.call(this,d)||this;c.message=d;c.name=h;c.tableName=b;return c}return b}(babelHelpers.wrapNativeSuper(Error));f.ERROR_NAME=h;f.ReStoreDBCorruption=a}),66);
__d("getMWErrorDefinition",["fbt","ix","EBMainThreadEBDBApiDeferred","ExecutionEnvironment","FBLogger","MAWEncryptedBackupsPersistedDB","MAWEncryptionErrorHandler","MAWIndexedDbMetadata","MAWLSDBEncryption","MAWSetupWorker","MAWUnrecoverableDbErrors","MWDeleteAllDBs","MWEBODSCategory","MWEBODSEntityName.enum","ODS","QPLUserFlow","ReStoreDBCorruption","ReStoreDbVersionChange","ReStoreDecryptionFailure","ReStoreEARSetupFailure","cr:10030","gkx","isArmadillo","promiseDone","qpl"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k;function a(a,e,f){f===void 0&&(f=!0);f=f?2:1;var g={action:{label:h._(/*BTDS*/"Refresh"),onPress:function(){window.location.reload(!0)}},autoRefresh:"never",body:h._(/*BTDS*/"Refresh the page to reload them."),headline:h._(/*BTDS*/"_j{\"*\":\"Couldn\\u2019t load chats\",\"_1\":\"Couldn\\u2019t load chat\"}",[h._plural(f)]),image:c("gkx")("23219")?e==="light"?i("210379"):i("210377"):i("433676")},l=a.messageFormat||"";if(!c("gkx")("8483")&&(a instanceof d("ReStoreDecryptionFailure").ReStoreDecryptionFailure||a instanceof d("ReStoreEARSetupFailure").ReStoreEARSetupFailure)){var m={label:g.action.label,onPress:function(){c("promiseDone")(d("MAWSetupWorker").terminateWorker(a.name),function(){return d("MWDeleteAllDBs").deleteAllDBs_DO_NOT_USE_UNLESS_YOU_KNOW_WHAT_YOU_ARE_DOING("error")["finally"](g.action.onPress)})}};c("FBLogger")("messenger_web").info("Error %s: showing recovery UI",a.name);return c("isArmadillo")()?babelHelpers["extends"]({},g,{action:m,body:h._(/*BTDS*/"_j{\"*\":\"Unable to retrieve chats\",\"_1\":\"Unable to retrieve chat\"}",[h._plural(f)]),headline:h._(/*BTDS*/"Some end-to-end encrypted messages on this device may be missing. If you've set up secure storage, try refreshing this page to restore them.")}):babelHelpers["extends"]({},g,{action:m})}else if(a instanceof d("ReStoreDBCorruption").ReStoreDBCorruption||a.name===d("ReStoreDBCorruption").ERROR_NAME||l.includes(d("ReStoreDBCorruption").ERROR_NAME))return babelHelpers["extends"]({},g,{action:{label:g.action.label,onPress:b("cr:10030")!=null?function(){b("cr:10030").deleteIndexedDB("error")["finally"](g.action.onPress)}:g.action.onPress}});else if(a instanceof d("MAWLSDBEncryption").EBSMDecryptionFailure)return babelHelpers["extends"]({},g,{action:{label:g.action.label,onPress:function(){d("MWDeleteAllDBs").deleteEBSMDB()["finally"](g.action.onPress)}}});else if(a instanceof d("ReStoreDbVersionChange").ReStoreDbVersionChange||a.name===d("ReStoreDbVersionChange").ERROR_NAME||l.includes(d("ReStoreDbVersionChange").ERROR_NAME))return babelHelpers["extends"]({},g,{autoRefresh:"background",body:h._(/*BTDS*/"_j{\"*\":\"Your chats are out of date.\",\"_1\":\"Your chat is out of date.\"}",[h._plural(f)]),headline:h._(/*BTDS*/"_j{\"*\":\"Refresh your chats\",\"_1\":\"Refresh your chat\"}",[h._plural(f)]),image:c("gkx")("23219")?e==="light"?i("210437"):i("210435"):i("433676")});else if(d("MAWUnrecoverableDbErrors").isUnrecoverableDbError(a)){var n=a;return babelHelpers["extends"]({},g,{action:babelHelpers["extends"]({},g.action,{label:h._(/*BTDS*/"Reload"),onPress:function(){if(n.name==="ear_init_error"){c("promiseDone")(d("MAWEncryptionErrorHandler").handleEARKeychainError().then(function(){return g.action.onPress()}));return}else if(n.name==="ebsm_hydration_error"){var a=n;(k||(k=d("ODS"))).bumpEntityKey(c("MWEBODSCategory"),c("MWEBODSEntityName.enum").MW_EBSM_CORRUPTION_RELOAD,a.tableName);var b=a.fullDeletion?d("MAWEncryptedBackupsPersistedDB").deleteEBIDB():d("MAWEncryptedBackupsPersistedDB").clearEBSMTable(a.tableName);c("gkx")("11709")&&a.fullDeletion&&!(j||(j=c("ExecutionEnvironment"))).isInWorker&&(c("promiseDone")(d("MAWEncryptedBackupsPersistedDB").deleteEBIDB(d("MAWIndexedDbMetadata").EBSM_WORKER_DB_PREFIX)),void d("EBMainThreadEBDBApiDeferred").clearWorkerState());c("promiseDone")(b.then(function(){c("QPLUserFlow").endSuccess(c("qpl")._(521484724,"141"),{instanceKey:a.qplInstanceKey}),g.action.onPress()}));return}c("promiseDone")(d("MAWSetupWorker").terminateWorker(n.name),function(){return d("MWDeleteAllDBs").deleteAllDBs_DO_NOT_USE_UNLESS_YOU_KNOW_WHAT_YOU_ARE_DOING("error").then(function(){return g.action.onPress()})})}}),body:h._(/*BTDS*/"_j{\"*\":\"Reload this page to see your chats.\",\"_1\":\"Reload this page to see your chat.\"}",[h._plural(f)])})}else return g}g["default"]=a}),226);
__d("MWErrorBlock.react",["FBLogger","LSPlatformLsInitLog","MWXErrorBlock.react","ODS","ReStoreDbVersionChange","getMWErrorDefinition","react","react-compiler-runtime","useCurrentDisplayMode"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||(h=d("react"));b=h;var k=b.useEffect;b.useMemo;function l(a){a instanceof d("ReStoreDbVersionChange").ReStoreDbVersionChange?c("FBLogger")("messenger_web").info(a.toString()):c("FBLogger")("messenger_web").catching(a).mustfix("Uncaught Error while loading chat: %s",a.toString())}function a(a){var b=d("react-compiler-runtime").c(35),e,f,g,h,m;b[0]!==a?(e=a.canTriggerAutoReload,f=a.error,h=a.plural,m=a.source,g=babelHelpers.objectWithoutPropertiesLoose(a,["canTriggerAutoReload","error","plural","source"]),b[0]=a,b[1]=e,b[2]=f,b[3]=g,b[4]=h,b[5]=m):(e=b[1],f=b[2],g=b[3],h=b[4],m=b[5]);a=c("useCurrentDisplayMode")();var n;b[6]!==f||b[7]!==h||b[8]!==a?(n=c("getMWErrorDefinition")(f,a,h),b[6]=f,b[7]=h,b[8]=a,b[9]=n):n=b[9];h=n;var o,p;if(b[10]!==h){a=h;o=a.autoRefresh;p=babelHelpers.objectWithoutPropertiesLoose(a,["autoRefresh"]);b[10]=h;b[11]=o;b[12]=p}else o=b[11],p=b[12];b[13]!==f?(n=function(){d("LSPlatformLsInitLog").addAnnotations({string:{uncaught_error:f.name}}),d("LSPlatformLsInitLog").fail("uncaught_error"),l(f)},a=[f],b[13]=f,b[14]=n,b[15]=a):(n=b[14],a=b[15]);k(n,a);b[16]!==o||b[17]!==e||b[18]!==f.message?(h=function(){e===!0&&o==="background"&&document.visibilityState==="hidden"&&(c("FBLogger")("messenger_web").info("Auto refresh triggered for error: %s",f.message),window.location.reload(!0))},b[16]=o,b[17]=e,b[18]=f.message,b[19]=h):h=b[19];b[20]!==o||b[21]!==e||b[22]!==f?(n=[o,e,f],b[20]=o,b[21]=e,b[22]=f,b[23]=n):n=b[23];k(h,n);b[24]!==f.name||b[25]!==m?(a=function(){(i||(i=d("ODS"))).bumpEntityKey(3303,"mw_error_block",m+"."+f.name)},h=[f.name,m],b[24]=f.name,b[25]=m,b[26]=a,b[27]=h):(a=b[26],h=b[27]);k(a,h);b[28]!==f.name||b[29]!==p||b[30]!==m?(n=p.action!=null?babelHelpers["extends"]({},p,{action:babelHelpers["extends"]({},p.action,{onPress:function(){var a;(i||(i=d("ODS"))).bumpEntityKey(3303,"mw_error_block",m+"."+f.name+".action");(a=p.action)==null?void 0:a.onPress()}})}):p,b[28]=f.name,b[29]=p,b[30]=m,b[31]=n):n=b[31];a=n;h=a;b[32]!==g||b[33]!==h?(n=j.jsx(c("MWXErrorBlock.react"),babelHelpers["extends"]({},g,{error:h})),b[32]=g,b[33]=h,b[34]=n):n=b[34];return n}g["default"]=a}),98);
__d("MWGetLSThreadReportingTokenFromThread",["I64","LSMessagingThreadTypeUtil","LSThreadBitOffset"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){var b=d("LSThreadBitOffset").has(17,a);if(b)return d("LSMessagingThreadTypeUtil").isArmadilloSecure(a.threadType)?window.btoa("message_thread:encrypted"):window.btoa("message_thread:"+(h||(h=d("I64"))).to_string(a.threadKey))}g["default"]=a}),98);
__d("MWInboxErrorState.react",["CometHeroFailTrigger.react","MWErrorBlock.react","MWXColumn.react","MWXColumnItem.react","gkx","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={mdsRoot:{alignItems:"x6s0dn4",backgroundColor:"x2bj2ny",display:"x78zum5",height:"x1dr59a3",justifyContent:"xl56j7k",width:"xh8yej3",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(16),e=a.canTriggerAutoReload,f=a.error,g=a.plural,h=a.source;a=a.xstyle;var k;b[0]!==a?(k=[c("gkx")("23219")&&j.mdsRoot,a],b[0]=a,b[1]=k):k=b[1];b[2]!==f?(a=i.jsx(c("CometHeroFailTrigger.react"),{description:"Inbox load failed",error:f,fail:!0}),b[2]=f,b[3]=a):a=b[3];var l;b[4]===Symbol["for"]("react.memo_cache_sentinel")?(l={className:"xxc7z9f"},b[4]=l):l=b[4];b[5]!==e||b[6]!==f||b[7]!==g||b[8]!==h?(l=i.jsx("div",babelHelpers["extends"]({},l,{role:"main",children:i.jsx(c("MWErrorBlock.react"),{canTriggerAutoReload:e,error:f,plural:g,source:h})})),b[5]=e,b[6]=f,b[7]=g,b[8]=h,b[9]=l):l=b[9];b[10]!==a||b[11]!==l?(e=i.jsxs(c("MWXColumnItem.react"),{children:[a,l]}),b[10]=a,b[11]=l,b[12]=e):e=b[12];b[13]!==k||b[14]!==e?(f=i.jsx(c("MWXColumn.react"),{paddingHorizontal:16,verticalAlign:"center",xstyle:k,children:e}),b[13]=k,b[14]=e,b[15]=f):f=b[15];return f}g["default"]=a}),98);
__d("MWSeparatorContainer.react",["react","react-compiler-runtime","react-strict-dom"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(18),c=a.beforeContent,e=a.children,f=a.separator;a=a.xstyle;var g,h,j,k,l;if(b[0]!==c||b[1]!==e||b[2]!==f||b[3]!==a){l=Symbol["for"]("react.early_return_sentinel");bb0:{var m,n=i.Children.toArray(e).filter(Boolean);if(n.length===0){l=null;break bb0}k=(m=c)!=null?m:null;g=d("react-strict-dom").html.div;h=a;b[9]!==f?(m=function(a,b){return i.jsxs(i.Fragment,{children:[b!==0&&f,a]},"item-"+b)},b[9]=f,b[10]=m):m=b[10];j=n.map(m)}b[0]=c;b[1]=e;b[2]=f;b[3]=a;b[4]=g;b[5]=h;b[6]=j;b[7]=k;b[8]=l}else g=b[4],h=b[5],j=b[6],k=b[7],l=b[8];if(l!==Symbol["for"]("react.early_return_sentinel"))return l;b[11]!==g||b[12]!==h||b[13]!==j?(n=i.jsx(g,{style:h,children:j}),b[11]=g,b[12]=h,b[13]=j,b[14]=n):n=b[14];b[15]!==k||b[16]!==n?(m=i.jsxs(i.Fragment,{children:[k,n]}),b[15]=k,b[16]=n,b[17]=m):m=b[17];return m}g["default"]=a}),98);
__d("MWXButtonImpl.react",["cr:10054","cr:20121","cr:2625","cr:5028","cr:8931","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var c=d("react-compiler-runtime").c(31),e,f,g,h,j,k,l;c[0]!==a?(j=a.ref,f=a.icon,g=a.isContainerTarget,h=a.loading,k=a.size,l=a.type,e=babelHelpers.objectWithoutPropertiesLoose(a,["ref","icon","isContainerTarget","loading","size","type"]),c[0]=a,c[1]=e,c[2]=f,c[3]=g,c[4]=h,c[5]=j,c[6]=k,c[7]=l):(e=c[1],f=c[2],g=c[3],h=c[4],j=c[5],k=c[6],l=c[7]);a=b("cr:20121")(l,e.disabled,k);if(b("cr:10054")&&b("cr:8931")){var m,n=k===36;if(c[8]!==n||c[9]!==h||c[10]!==a){var o;o=h===!0?(o=a)!=null?o:i.jsx(b("cr:8931"),{color:"disabled_DEPRECATED",size:n?20:16}):void 0;c[8]=n;c[9]=h;c[10]=a;c[11]=o}else o=c[11];m=(m=f)==null?void 0:m.component;n=n?"large":"medium";var p=l==="destructive"?"fdsOverride_negative":l,q;c[12]!==e||c[13]!==j||c[14]!==o||c[15]!==m||c[16]!==n||c[17]!==p?(q=i.jsx(b("cr:10054"),babelHelpers["extends"]({addOnPrimary:o,icon:m,ref:j,size:n,type:p},e)),c[12]=e,c[13]=j,c[14]=o,c[15]=m,c[16]=n,c[17]=p,c[18]=q):q=c[18];return q}if(b("cr:2625")&&b("cr:5028")){if(c[19]!==h||c[20]!==k||c[21]!==a){m=h===!0?(o=a)!=null?o:i.jsx(b("cr:5028"),{color:"grey",size:k}):void 0;c[19]=h;c[20]=k;c[21]=a;c[22]=m}else m=c[22];p=(n=f)==null?void 0:n.originalComponent;c[23]!==e||c[24]!==g||c[25]!==j||c[26]!==k||c[27]!==m||c[28]!==p||c[29]!==l?(q=i.jsx(b("cr:2625"),babelHelpers["extends"]({addOnStart:m,icon:p,isContainerTarget:g,ref:j,size:k,type:l},e)),c[23]=e,c[24]=g,c[25]=j,c[26]=k,c[27]=m,c[28]=p,c[29]=l,c[30]=q):q=c[30];return q}return null}g["default"]=a}),98);
__d("MWXCard.react",["cr:11336","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var c=d("react-compiler-runtime").c(2),e;c[0]!==a?(e=i.jsx(b("cr:11336"),babelHelpers["extends"]({},a)),c[0]=a,c[1]=e):e=c[1];return e}g["default"]=a}),98);
__d("MWXDivider.react",["BaseDivider.react"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=c("BaseDivider.react")}),98);
__d("MWXIconDocument",["MWXSvgIcon","SVGIcon","cr:12395","gkx"],(function(a,b,c,d,e,f,g){"use strict";a=d("MWXSvgIcon").mwxSvgIcon(d("SVGIcon").svgIcon(b("cr:12395")),c("gkx")("23219"));g["default"]=a}),98);
__d("MWXIconForListCell.react",["MWXIconStrict.react","gkx","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j=c("gkx")("23219")?16:20,k=c("gkx")("23219")?28:36;function a(a){var b=d("react-compiler-runtime").c(7),e=a.alt,f=a.color,g=a.hasBackground,h=a.icon,l=a.isDecorative;a=a.size;g=g===void 0?!0:g;a=a===void 0?"medium":a;a==="medium"?a=g?k:j:a=g?36:20;var m;b[0]!==e||b[1]!==f||b[2]!==g||b[3]!==h||b[4]!==a||b[5]!==l?(m=i.jsx(c("MWXIconStrict.react"),{alt:e,backgroundEnabled:g,color:f,icon:h,isDecorative:l,size:a}),b[0]=e,b[1]=f,b[2]=g,b[3]=h,b[4]=a,b[5]=l,b[6]=m):m=b[6];return m}g["default"]=a}),98);
__d("MessageRequestsLog",["I64","coerceMessagingThreadTypeToLSThreadType","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(i=c("requireDeferred"))("MessageRequestsBulkActionConfirmedFalcoEvent").__setRef("MessageRequestsLog"),k=i("MessageRequestsBulkActionEditFalcoEvent").__setRef("MessageRequestsLog"),l=i("MessageRequestsBulkActionTappedFalcoEvent").__setRef("MessageRequestsLog"),m=i("MessageRequestsInfoBannerShownFalcoEvent").__setRef("MessageRequestsLog"),n=i("MessageRequestsThreadActionConfirmedFalcoEvent").__setRef("MessageRequestsLog"),o=i("MessageRequestsThreadActionTappedFalcoEvent").__setRef("MessageRequestsLog"),p=i("MessageRequestsThreadDenialOptionsTappedFalcoEvent").__setRef("MessageRequestsLog"),q=i("MessageRequestsViewThreadlistFalcoEvent").__setRef("MessageRequestsLog");function r(a){switch(a.folderName){case"pending":return-1;case"other":return-2;case"spam":return-3;case"inbox":return 0}}function a(a,b,e){m.onReady(function(f){f.log(function(){return{action:0,extra_data_map:void 0,group_thread_id:e,other_user_id:b,request_id:void 0,thread_folder:r(a),thread_id:e!=null?e:(h||(h=d("I64"))).to_string(a.threadKey),thread_type:c("coerceMessagingThreadTypeToLSThreadType")(a.threadType)}})})}function b(a,b){p.onReady(function(e){e.log(function(){return{action:0,extra_data_map:void 0,group_thread_id:void 0,other_user_id:b,request_id:void 0,thread_folder:r(a),thread_id:(h||(h=d("I64"))).to_string(a.threadKey),thread_type:c("coerceMessagingThreadTypeToLSThreadType")(a.threadType)}})})}function e(a,b,e,f){o.onReady(function(g){g.log(function(){return{action:b,extra_data_map:void 0,group_thread_id:f,other_user_id:e,request_id:void 0,thread_folder:r(a),thread_id:f!=null?f:(h||(h=d("I64"))).to_string(a.threadKey),thread_type:c("coerceMessagingThreadTypeToLSThreadType")(a.threadType)}})})}function f(a,b,e,f){n.onReady(function(g){g.log(function(){return{action:b,extra_data_map:void 0,group_thread_id:f,other_user_id:e,request_id:void 0,thread_folder:r(a),thread_id:f!=null?f:(h||(h=d("I64"))).to_string(a.threadKey),thread_type:c("coerceMessagingThreadTypeToLSThreadType")(a.threadType)}})})}function s(a,b){q.onReady(function(c){c.log(function(){return{action:0,actioned_thread_count:"0",actioned_thread_ids:void 0,actioned_unread_thread_count:"0",entry_point:a,folder:b,request_id:void 0}})})}function t(a,b,c,d,e){l.onReady(function(f){f.log(function(){return{action:d,actioned_thread_count:b.toString(),actioned_thread_ids:void 0,actioned_unread_thread_count:c.toString(),entry_point:a,folder:e,request_id:void 0}})})}function u(a,b,c,d,e){j.onReady(function(f){f.log(function(){return{action:d,actioned_thread_count:b.toString(),actioned_thread_ids:void 0,actioned_unread_thread_count:c.toString(),entry_point:a,folder:e,request_id:void 0}})})}function v(a,b,c){k.onReady(function(d){d.log(function(){return{action:b,actioned_thread_count:"0",actioned_thread_ids:void 0,actioned_unread_thread_count:"0",entry_point:a,folder:c,request_id:void 0}})})}g.logMessageRequestInfoShown=a;g.logDenialOptionsTapped=b;g.logActionTapped=e;g.logActionConfirmed=f;g.logMessageRequestsView=s;g.logMessageRequestsBulkActionTapped=t;g.logMessageRequestsBulkActionConfirmed=u;g.logMessageRequestsBulkActionEdit=v}),98);
__d("XMessengerHelpCenterContentControllerRouteBuilder",["jsRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsRouteBuilder")("/help/messenger-app/{cms_id}/{?cms_title}/",Object.freeze({region_hint:[],expand_folders:[]}),void 0);b=a;g["default"]=b}),98);
__d("useIsMessengerPWA",["ExecutionEnvironment","isMessengerPWA","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i;b=i||d("react");var j=b.useEffect,k=b.useState;function a(){var a=d("react-compiler-runtime").c(2),b=k(c("isMessengerPWA")),e=b[0],f=b[1],g;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b=function(){if(!(h||(h=c("ExecutionEnvironment"))).canUseDOM||!matchMedia)return;var a=matchMedia("(display-mode: standalone)"),b=function(a){f(a.matches)};a.addListener(b);return function(){a.removeListener(b)}},g=[],a[0]=b,a[1]=g):(b=a[0],g=a[1]);j(b,g);return e}g["default"]=a}),98);
__d("useXMAPreviewsDisabledSetting",["MWPActor.react","MessengerWebPrivacySettings","ReQL","ReQLSuspense","react-compiler-runtime","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(){var a=d("react-compiler-runtime").c(6),b=(h||(h=c("useReStore")))(),e=d("MWPActor.react").useActor(),g;a[0]!==e||a[1]!==b.tables.messaging_privacy_settings?(g=function(){return d("ReQL").fromTableAscending(b.tables.messaging_privacy_settings).getKeyRange(e)},a[0]=e,a[1]=b.tables.messaging_privacy_settings,a[2]=g):g=a[2];var i;a[3]!==e||a[4]!==b?(i=[b,e],a[3]=e,a[4]=b,a[5]=i):i=a[5];a=d("ReQLSuspense").useFirst(g,i,f.id+":26");return a==null?c("MessengerWebPrivacySettings").e2ee_xma_previews_disabled:(g=a==null?void 0:a.e2eeXmaPreviewsDisabled)!=null?g:!1}g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("CometPrimaryProfilePlusOnboardingFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("3190");b=d("FalcoLoggerInternal").create("comet_primary_profile_plus_onboarding",a);e=b;g["default"]=e}),98);
__d("CometScrollTo.react",["react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));c=h;var j=c.useEffect,k=c.useRef;function b(b){var c=d("react-compiler-runtime").c(7),e=b.children,f=b.enabled,g=b.offset,h=b.scrollKey,l=g===void 0?0:g,m=k(null),n=k(null);c[0]!==f||c[1]!==l||c[2]!==h?(b=function(){var b=n.current;n.current=h;if(h!=null&&h===b)return;if(f&&m.current!=null){var c=m.current.offsetTop,d=a.requestAnimationFrame(function(){return a.scrollTo(a.pageXOffset,c+l)});return function(){a.cancelAnimationFrame(d)}}},g=[f,h,l],c[0]=f,c[1]=l,c[2]=h,c[3]=b,c[4]=g):(b=c[3],g=c[4]);j(b,g);c[5]!==e?(b=i.jsx("div",{ref:m,children:e}),c[5]=e,c[6]=b):b=c[6];return b}g["default"]=b}),98);
__d("FDSEntityHeaderCoverActionBar.react",["fbt","CometTheme.react","FDSButtonGroup.react","FocusRegion.react","focusScopeQueries","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react"),k={root:{display:"x78zum5",paddingBottom:"xsag5q8",paddingEnd:"x1pi30zi",paddingStart:"x1swvt13",paddingTop:"xz9dl7a",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(22),e=a.cancelLabel,f=a.confirmLabel,g=a.description,i=a.disabled,l=a.onCancel,m=a.onConfirm;a=a.shouldAutoFocus;i=i===void 0?!1:i;a=a===void 0?!1:a;a=a?d("focusScopeQueries").tabbableScopeQuery:null;var n;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(n={className:"x78zum5 x1iyjqo2"},b[0]=n):n=b[0];b[1]!==g?(n=j.jsx("div",babelHelpers["extends"]({},n,{children:g})),b[1]=g,b[2]=n):n=b[2];if(b[3]!==f){g=(g=f)!=null?g:h._(/*BTDS*/"Confirm");b[3]=f;b[4]=g}else g=b[4];b[5]!==i||b[6]!==m||b[7]!==g?(f={disabled:i,label:g,onPress:m,padding:"wide",testid:"FDSEntityHeaderCoverActionBarConfirmButton",type:"primary"},b[5]=i,b[6]=m,b[7]=g,b[8]=f):f=b[8];if(b[9]!==e){g=(m=e)!=null?m:h._(/*BTDS*/"Cancel");b[9]=e;b[10]=g}else g=b[10];b[11]!==i||b[12]!==l||b[13]!==g?(m={disabled:i,label:g,onPress:l,testid:"FDSEntityHeaderCoverActionBarCancelButton"},b[11]=i,b[12]=l,b[13]=g,b[14]=m):m=b[14];b[15]!==f||b[16]!==m?(e=j.jsx(c("FDSButtonGroup.react"),{direction:"backward",paddingHorizontal:0,paddingTop:0,primary:f,secondary:m}),b[15]=f,b[16]=m,b[17]=e):e=b[17];b[18]!==e||b[19]!==a||b[20]!==n?(i=j.jsx(c("CometTheme.react"),{theme:"dark",xstyle:k.root,children:j.jsxs(d("FocusRegion.react").FocusRegion,{autoFocusQuery:a,children:[n,e]})}),b[18]=e,b[19]=a,b[20]=n,b[21]=i):i=b[21];return i}g["default"]=a}),226);
__d("FxGrowthIdentitySyncingFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1790");b=d("FalcoLoggerInternal").create("fx_growth_identity_syncing",a);e=b;g["default"]=e}),98);
__d("PageAdminCompletionMeterActionType",[],(function(a,b,c,d,e,f){a=Object.freeze({ADD_COVER_PHOTO:"add_cover_photo",ADD_DESCRIPTION:"add_description",ADD_DETAILS_ABOUT_YOURSELF:"add_details_about_yourself",ADD_HOURS:"add_hours",ADD_LOCATION:"add_location",ADD_MENU_TAB:"add_menu_tab",ADD_MESSAGING_PREFERENCE:"add_messaging_preference",ADD_MESSENGER_CTA:"add_messenger_cta",ADD_PAGE_BUTTON:"add_page_button",ADD_PHONE_NUMBER:"add_phone_number",ADD_PROFILE_PICTURE:"add_profile_picture",ADD_SERVICE:"add_service",ADD_WEBSITE:"add_website",ADD_WHATSAPP:"add_whatsapp",ADD_WIFI:"add_wifi",ADS_ON_REELS:"ads_on_reels",BUSINESS_CLEAN_ASSET:"business_clean_asset",CHOOSE_CATEGORY:"choose_category",CONFIRM_BUSINESS_ACCOUNT:"confirm_business_account",CONNECT_INSTAGRAM:"connect_instagram",CREATE_AD:"create_ad",CREATE_AUTOMATED_ADS:"create_automated_ads",CREATE_FACEBOOK_SHOP:"create_facebook_shop",CREATE_PAGE_NAME:"create_page_name",CREATE_POST:"create_post",CREATE_STORY:"create_story",CREATE_VIDEO_POST:"create_video_post",CREATE_WELCOME_POST:"create_welcome_post",ENABLE_AD_RECOMMENDATIONS:"enable_ad_recommendations",ENABLE_AUTOMATED_REPLIES:"enable_automated_replies",FIX_MISSING_USERS:"fix_missing_users",IG_CROSS_POSTING:"ig_cross_posting",IMPORT_REELS_BACK_CATALOG:"import_reels_back_catalog",INVITE_FRIENDS_TO_LIKE:"invite_friends_to_like",LEARN_ABOUT_ADS:"learn_about_ads",LEARN_ABOUT_MONETIZATION:"learn_about_monetization",LEARN_TO_SWITCH:"learn_to_switch",ONBOARD_ENGAGEMENT_BONUS:"onboard_engagement_bonus",ONBOARD_STARS:"onboard_stars",POST_JOB:"post_job",POST_PRIVACY:"post_privacy",PRIVACY_CHECKUP:"privacy_checkup",SAVE_MENU_QR:"save_menu_qr",SCHEDULING_POST:"scheduling_post",SET_POST_CREATION_REMINDER:"set_post_creation_reminder",TURN_ON_MESSAGING_TOOLS:"turn_on_messaging_tools"});f["default"]=a}),66);
__d("PageAdminCompletionMeterStatus",[],(function(a,b,c,d,e,f){a=Object.freeze({COMPLETED:"completed",INCOMPLETE:"incomplete",NOT_APPLICABLE:"not_applicable",SAVED_FOR_LATER:"saved_for_later",SKIPPED:"skipped"});f["default"]=a}),66);
__d("PagesCometAdminCompletionMeterUtils",["PageAdminCompletionMeterActionType","PageAdminCompletionMeterStatus","firstKeyWithValue","getJSEnumSafe","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h=(f={},f.incomplete=1,f.saved_for_later=2,f.completed=3,f.not_applicable=4,f.skipped=5,f);function i(a,b){return a+"-"+b}function j(a,b,d){a=a.get(b);if(a==null)return;a.setValue(c("firstKeyWithValue")(c("PageAdminCompletionMeterStatus"),d),"status")}function a(a){return a!=="incomplete"&&a!=="saved_for_later"}function k(a,b){var c=b.actionType,d=b.newStatus;b=b.pageID;b=i(b,c);j(a,b,d)}function b(a,b){var c=b.actionType,d=b.isComplete;b=b.pageID;d=d?"completed":"incomplete";k(a,{actionType:c,newStatus:d,pageID:b})}function d(a,b,d,e){b=a!=null?b.get(a):null;if(b==null||a==null)throw c("unrecoverableViolation")("Item must have a status and action type","page_admin_completion_meter");var f=function(){return e(a)};return{key:a,pageID:d,setSavedForLater:f,status:b}}function e(a,b){a=c("getJSEnumSafe")(c("PageAdminCompletionMeterActionType"),a);b=a!=null?b.get(a):null;return b!=null?h[b]:0}g.getPCMItemID=i;g.localItemStatusUpdater=j;g.isCompletedStatus=a;g.updateStatusForItemType=k;g.updateStatusToCompleteOrIncomplete=b;g.getCommonsProps=d;g.getItemStatusOrder=e}),98);
__d("ProfileCometCoverPhotoEditStrings",["fbt"],(function(a,b,c,d,e,f,g,h){"use strict";b=h._(/*BTDS*/"Albums");c=h._(/*BTDS*/"Cancel");d=h._(/*BTDS*/"Update Cover Photo");e=h._(/*BTDS*/"Photo Albums");f=h._(/*BTDS*/"Your cover photo is public.");var i=h._(/*BTDS*/"Recent photos"),j=h._(/*BTDS*/"Remove"),k=h._(/*BTDS*/"Are you sure you want to remove your cover photo?"),l=h._(/*BTDS*/"Cancel"),m=h._(/*BTDS*/"Confirm"),n=h._(/*BTDS*/"Remove Cover Photo"),o=h._(/*BTDS*/"Reposition"),p=h._(/*BTDS*/"Save changes"),q=h._(/*BTDS*/"Save"),r=h._(/*BTDS*/"Couldn't update cover photo."),s=h._(/*BTDS*/"Failed to update cover"),t=h._(/*BTDS*/"Select photo"),u=h._(/*BTDS*/"An illustration of a man and a woman holding an open box as they pack things away"),v=h._(/*BTDS*/"An illustration of six people and a dog seated around a campfire"),w=h._(/*BTDS*/"An illustration of various parents, including a pregnant woman, a man with a baby, and woman with her two young kids"),x=h._(/*BTDS*/"An illustration of people exercising at the gym"),y=h._(/*BTDS*/"An illustration of four musicians performing together on an outdoor stage"),z=h._(/*BTDS*/"Select Photo or Video"),A=h._(/*BTDS*/"Select Video"),B=h._(/*BTDS*/"Upload photo");function a(a){return h._(/*BTDS*/"_j{\"*\":\"{number} Uploads\",\"_1\":\"1 Upload\"}",[h._plural(a,"number")])}var C=h._(/*BTDS*/"Choose cover photo");g.ALBUMS=b;g.CANCEL=c;g.DIALOG_TITLE=d;g.PHOTO_ALBUMS=e;g.PRIVACY_DISCLAIMER=f;g.RECENT_PHOTOS=i;g.REMOVE=j;g.REMOVE_DIALOG_BODY=k;g.REMOVE_DIALOG_CANCEL=l;g.REMOVE_DIALOG_CONFIRM=m;g.REMOVE_DIALOG_TITLE=n;g.REPOSITION=o;g.REPOSITION_SAVE=p;g.SAVE=q;g.SAVE_FAILED=r;g.SAVE_FAILED_DEFAULT=s;g.SELECT_PHOTO=t;g.SELECT_ILLUSTRATION_0=u;g.SELECT_ILLUSTRATION_1=v;g.SELECT_ILLUSTRATION_2=w;g.SELECT_ILLUSTRATION_3=x;g.SELECT_ILLUSTRATION_4=y;g.SELECT_PHOTO_OR_VIDEO=z;g.SELECT_VIDEO=A;g.UPLOAD_PHOTO=B;g.getItemCount=a;g.CHOOSE_COVER_PHOTO=C}),226);
__d("ProfileCometCoverPhotoMediaPickerDialogQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="23888457670738773"}),null);
__d("ProfileCometCoverPhotoUpdateMutation_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="9311212219008088"}),null);
__d("ProfileCometCoverPhotoUpdateMutation.graphql",["ProfileCometCoverPhotoUpdateMutation_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a={defaultValue:null,kind:"LocalArgument",name:"contextualProfileContext"},c={defaultValue:null,kind:"LocalArgument",name:"input"},d={defaultValue:null,kind:"LocalArgument",name:"scale"},e=[{kind:"Variable",name:"data",variableName:"input"}],f=[{kind:"Variable",name:"contextualProfileContext",variableName:"contextualProfileContext"}],g={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},h={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},i={alias:null,args:null,concreteType:"Vect2",kind:"LinkedField",name:"focus",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"x",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"y",storageKey:null}],storageKey:null},j={kind:"Literal",name:"width",value:500},k={alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null},l={alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null},m={alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},n=[k,l,m],o=[{kind:"Variable",name:"contextual_profile_context",variableName:"contextualProfileContext"}],p={kind:"Variable",name:"scale",variableName:"scale"};return{fragment:{argumentDefinitions:[a,c,d],kind:"Fragment",metadata:null,name:"ProfileCometCoverPhotoUpdateMutation",selections:[{alias:null,args:e,concreteType:"UserUpdateCoverPhotoResponsePayload",kind:"LinkedField",name:"user_update_cover_photo",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"user",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"ProfileCometCoverPhoto_user"},{args:null,kind:"FragmentSpread",name:"ProfileCometSOAPOnboardingAddCoverPhotoSection_coverPhoto"},{args:f,kind:"FragmentSpread",name:"ProfileCometCoverPhoto_renderedProfile"},{args:f,kind:"FragmentSpread",name:"ProfileCometSingleEditCoverPhoto_user"}],storageKey:null},{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"CometSettingsDropdownListHeader_viewer"}],storageKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[c,d,a],kind:"Operation",name:"ProfileCometCoverPhotoUpdateMutation",selections:[{alias:null,args:e,concreteType:"UserUpdateCoverPhotoResponsePayload",kind:"LinkedField",name:"user_update_cover_photo",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"user",plural:!1,selections:[g,{alias:null,args:null,kind:"ScalarField",name:"gender",storageKey:null},{alias:null,args:null,concreteType:"WEMPrivateSharingBundle",kind:"LinkedField",name:"wem_private_sharing_bundle",plural:!1,selections:[{alias:null,args:null,concreteType:"WemPrivateSharingControlModel",kind:"LinkedField",name:"private_sharing_control_model_for_user",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"private_sharing_show_private_branding",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_viewer_friend",storageKey:null},{alias:null,args:null,concreteType:"Avatar",kind:"LinkedField",name:"user_avatar",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"has_fb_app_avatar",storageKey:null},h],storageKey:null},{kind:"InlineFragment",selections:[{alias:"basic_cover_photo",args:null,concreteType:"FocusedPhoto",kind:"LinkedField",name:"cover_photo",plural:!1,selections:[i,{alias:null,args:null,concreteType:"Photo",kind:"LinkedField",name:"photo",plural:!1,selections:[{alias:"image500",args:[{kind:"Literal",name:"scale",value:1},j],concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:n,storageKey:"image(scale:1,width:500)"},h],storageKey:null}],storageKey:null},{alias:null,args:o,concreteType:"FocusedPhoto",kind:"LinkedField",name:"cover_photo",plural:!1,selections:[i,{alias:null,args:null,concreteType:"Photo",kind:"LinkedField",name:"photo",plural:!1,selections:[h,{alias:null,args:[p],concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:n,storageKey:null},{alias:"viewer_image",args:[{kind:"Literal",name:"context",value:"comet_media_viewer"},{kind:"Literal",name:"height",value:1e6},p,{kind:"Literal",name:"width",value:1e6}],concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:[m,l],storageKey:null},{alias:"blurred_image",args:[{kind:"Literal",name:"blur",value:50},{kind:"Literal",name:"width",value:320}],concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:n,storageKey:"image(blur:50,width:320)"},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null}],storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"avatar_cover_photo_takeover_type",storageKey:null}],type:"User",abstractKey:null},{alias:"single_edit_cover_photo",args:o,concreteType:"FocusedPhoto",kind:"LinkedField",name:"cover_photo",plural:!1,selections:[i,{alias:null,args:null,concreteType:"Photo",kind:"LinkedField",name:"photo",plural:!1,selections:[{alias:"single_edit_image",args:[p,j],concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:n,storageKey:null},h],storageKey:null}],storageKey:null}],type:"RenderedProfile",abstractKey:"__isRenderedProfile"},h],storageKey:null},{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"actor",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},g,{alias:"settings_dropdown_profile_picture",args:[{kind:"Literal",name:"height",value:60},p,{kind:"Literal",name:"width",value:60}],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:[k],storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"profile_type_name_for_content",storageKey:null},{alias:"profileSwitcherEligibleProfiles",args:null,concreteType:"UserProfileSwitcherEligibleProfilesConnection",kind:"LinkedField",name:"profile_switcher_eligible_profiles",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"count",storageKey:null}],storageKey:null}],type:"User",abstractKey:null},h],storageKey:null}],storageKey:null}],storageKey:null}]},params:{id:b("ProfileCometCoverPhotoUpdateMutation_facebookRelayOperation"),metadata:{},name:"ProfileCometCoverPhotoUpdateMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("ProfileCometCoverPhotoUpdateMutation",["CometRelay","PagesCometAdminCompletionMeterUtils","ProfileCometCoverPhotoUpdateMutation.graphql","WebPixelRatio"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h!==void 0?h:h=b("ProfileCometCoverPhotoUpdateMutation.graphql");function a(a,b,c){var e=b.contextualProfileContext,f=b.focusX,g=b.focusY,h=b.navigationChain,j=b.photoID,k=b.profileID;d("CometRelay").commitMutation(a,babelHelpers["extends"]({mutation:i,updater:function(a){d("PagesCometAdminCompletionMeterUtils").updateStatusToCompleteOrIncomplete(a,{actionType:"add_cover_photo",isComplete:!0,pageID:k})},variables:{contextualProfileContext:e,input:{attribution_id_v2:h,contextual_profile_context:e,cover_photo_id:j,focus:{x:f,y:g},target_user_id:k},scale:d("WebPixelRatio").get()}},c))}g.updateCoverPhoto=a}),98);
__d("ProfileCometCoverPhotoRepositioner.react",["CometEntityHeaderCoverMedia.react","CometRelay","FDSEntityHeaderCoverActionBar.react","FDSGlobeAmericasFilled20Icon","FDSIcon.react","FDSText.react","ProfileCometContext","ProfileCometCoverPhotoEditContext","ProfileCometCoverPhotoEditStrings","ProfileCometCoverPhotoUpdateMutation","react","react-compiler-runtime","useMinifiedProductAttribution","useProfileCometErrorDialog_DEPRECATED"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;b.useCallback;var j=b.useContext,k=b.useRef,l=b.useState;function a(){var a,b,e,f,g=d("react-compiler-runtime").c(38),h=d("CometRelay").useRelayEnvironment(),m=j(c("ProfileCometCoverPhotoEditContext")),n=m.dispatch;m=m.state;var o=m.coverPhoto;m=j(c("ProfileCometContext"));var p=m.profileID;m=c("useProfileCometErrorDialog_DEPRECATED")(d("ProfileCometCoverPhotoEditStrings").SAVE_FAILED);var q=m[0];m=l(!1);var r=m[0],s=m[1];m=(m=o==null?void 0:o.focusX)!=null?m:.5;a=(a=o==null?void 0:o.focusY)!=null?a:.5;var t;g[0]!==m||g[1]!==a?(t={x:m,y:a},g[0]=m,g[1]=a,g[2]=t):t=g[2];m=l(t);a=m[0];var u=m[1];m=(t=o==null?void 0:o.focusX)!=null?t:.5;t=(t=o==null?void 0:o.focusY)!=null?t:.5;var v;g[3]!==m||g[4]!==t?(v={x:m,y:t},g[3]=m,g[4]=t,g[5]=v):v=g[5];var w=k(v);g[6]===Symbol["for"]("react.memo_cache_sentinel")?(m=function(a,b){w.current.x=a,w.current.y=b},g[6]=m):m=g[6];t=m;var x=c("useMinifiedProductAttribution")();g[7]!==n?(v=function(){n({type:"REPOSITION_CANCEL"})},g[7]=n,g[8]=v):v=g[8];m=v;g[9]!==(o==null?void 0:o.id)||g[10]!==n||g[11]!==h||g[12]!==x||g[13]!==p||g[14]!==q?(v=function(){var a;u(babelHelpers["extends"]({},w.current));s(!0);d("ProfileCometCoverPhotoUpdateMutation").updateCoverPhoto(h,{focusX:w.current.x,focusY:w.current.y,navigationChain:x,photoID:(a=o==null?void 0:o.id)!=null?a:"",profileID:p},{onCompleted:function(){n({type:"REPOSITION_CANCEL"})},onError:function(a){a.message.includes("1341010")||q(a),n({type:"REPOSITION_CANCEL"})}})},g[9]=o==null?void 0:o.id,g[10]=n,g[11]=h,g[12]=x,g[13]=p,g[14]=q,g[15]=v):v=g[15];o==null?void 0:o.id;v=v;b=(b=o==null?void 0:o.height)!=null?b:0;e=(e=o==null?void 0:o.blurredURI)!=null?e:"";f=(f=o==null?void 0:o.width)!=null?f:0;var y;g[16]!==a.x||g[17]!==a.y||g[18]!==e||g[19]!==f||g[20]!==b?(y={focusX:a.x,focusY:a.y,height:b,uri:e,width:f},g[16]=a.x,g[17]=a.y,g[18]=e,g[19]=f,g[20]=b,g[21]=y):y=g[21];g[22]===Symbol["for"]("react.memo_cache_sentinel")?(e=i.jsxs("div",babelHelpers["extends"]({className:"x6s0dn4 x78zum5"},{children:[i.jsx("div",babelHelpers["extends"]({className:"x78zum5 xq8finb"},{children:i.jsx(c("FDSIcon.react"),{color:"white",icon:c("FDSGlobeAmericasFilled20Icon")})})),i.jsx(c("FDSText.react"),{color:"primaryOnMedia",type:"headline4",children:d("ProfileCometCoverPhotoEditStrings").PRIVACY_DISCLAIMER})]})),g[22]=e):e=g[22];g[23]!==r||g[24]!==m||g[25]!==v?(f=i.jsx(c("FDSEntityHeaderCoverActionBar.react"),{confirmLabel:d("ProfileCometCoverPhotoEditStrings").REPOSITION_SAVE,description:e,disabled:r,onCancel:m,onConfirm:v,shouldAutoFocus:!0}),g[23]=r,g[24]=m,g[25]=v,g[26]=f):f=g[26];e=(b=o==null?void 0:o.height)!=null?b:0;v=(m=o==null?void 0:o.uri)!=null?m:"";m=(b=o==null?void 0:o.width)!=null?b:0;g[27]!==a.x||g[28]!==a.y||g[29]!==e||g[30]!==v||g[31]!==m?(b={focusX:a.x,focusY:a.y,height:e,mediaSource:v,width:m},g[27]=a.x,g[28]=a.y,g[29]=e,g[30]=v,g[31]=m,g[32]=b):b=g[32];a=!r;g[33]!==y||g[34]!==f||g[35]!==b||g[36]!==a?(e=i.jsx(c("CometEntityHeaderCoverMedia.react"),{backgroundMedia:y,coverActionBar:f,coverMedia:b,isDraggable:a,onDrag:t,roundCorners:"bottom"}),g[33]=y,g[34]=f,g[35]=b,g[36]=a,g[37]=e):e=g[37];return e}g["default"]=a}),98);
__d("ProfilishCometCoverPhotoLoadingOverlay.react",["FDSProgressIndicator.react","react","react-compiler-runtime","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k={loadingOverlay:{alignItems:"x6s0dn4",backgroundColor:"x2bj2ny",display:"x78zum5",justifyContent:"xl56j7k",opacity:"x1us6l5c",position:"x10l6tqk",width:"xh8yej3",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(8),e=a.height;a=a.xstyle;var f;b[0]!==a?(f=(h||(h=c("stylex")))(k.loadingOverlay,a),b[0]=a,b[1]=f):f=b[1];b[2]!==e?(a={height:e},b[2]=e,b[3]=a):a=b[3];b[4]===Symbol["for"]("react.memo_cache_sentinel")?(e=j.jsx(c("FDSProgressIndicator.react"),{}),b[4]=e):e=b[4];b[5]!==f||b[6]!==a?(e=j.jsx("div",{className:f,style:a,children:e}),b[5]=f,b[6]=a,b[7]=e):e=b[7];return e}g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("BaseToastAnimationInternal.react",["react","stylex","useFadeEffect","useMergeRefs","useToasterStateManager","useVisibilityObserver"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react"));b=i;var k=b.useCallback,l=b.useEffect,m=b.useState,n=100,o={mount:{opacity:"x1hc1fzr",transform:"x3oybdh",transitionDuration:"xu6gjpd",transitionTimingFunction:"x7lz9yc",$$css:!0},root:{opacity:"xg01cxk",transitionDuration:"x16rnrhc",transitionProperty:"xwcsmn1",transitionTimingFunction:"xbxq160",$$css:!0}},p={bottom:{transform:"xswo3hg",$$css:!0},top:{transform:"x1cg7zye",$$css:!0}};function a(a){var b=a.children,d=a.expired;d=d===void 0?!1:d;var e=a.id,f=a.position,g=a.toasterPosition;g=g===void 0?"bottom":g;a=a.xstyle;var i=m(!1),q=i[0],r=i[1],s=c("useToasterStateManager")(),t=j.Children.only(b);i=k(function(){s.resetTimer(e)},[e,s]);b=k(function(){s.stopTimer(e)},[e,s]);var u=k(function(){s.shown(e)},[e,s]),v=k(function(){s.hidden(e)},[e,s]),w=k(function(a){t.props.onActionPress!=null&&t.props.onActionPress(a),a.defaultPrevented||s.expire(e)},[t.props,e,s]);v=c("useVisibilityObserver")({onHidden:v,onVisible:u,options:{activityMonitorOverride:null}});u=c("useFadeEffect")(!d);d=u[0];var x=u[1];u=u[2];u=c("useMergeRefs")(u,v);l(function(){x===!0&&r(!0)},[x]);return d?j.jsx("li",{className:(h||(h=c("stylex")))(o.root,p[g],x&&o.mount,a),onBlur:i,onFocus:b,onMouseEnter:b,onMouseLeave:i,ref:u,style:{bottom:n*f},children:q&&j.cloneElement(t,{onActionPress:w})}):null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CaptionsTextSizeMapping",[],(function(a,b,c,d,e,f){"use strict";a={BIG:"21px",BIGGER:"25px",BIGGEST:"25px",DEFAULT:"17px",MEDIUM:"19px",SMALL:"13px",SMALLEST:"8px"};b={BIG:"20px",BIGGER:"21px",BIGGEST:"21px",DEFAULT:"17px",MEDIUM:"19px",SMALL:"13px",SMALLEST:"8px"};c={BIG:"17px",BIGGER:"17px",BIGGEST:"17px",DEFAULT:"17px",MEDIUM:"17px",SMALL:"17px",SMALLEST:"17px"};d={BIG:"1.7vw",BIGGER:"2.0vw",BIGGEST:"2.2vw",DEFAULT:"1.1vw",MEDIUM:"1.4vw",SMALL:"0.825vw",SMALLEST:"0.55vw"};f.AdjustedCaptionsTextSizeMapFeedUnit=a;f.AdjustedCaptionsTextSizeMapWNS=b;f.FixedCaptionsTextSizeMap=c;f.DynamicCaptionsTextSizeMap=d}),66);
__d("CometTahoeChainingDepthLogging.react",["VideoPlayerHooks","react","react-compiler-runtime","useCometTahoeChainingDepth","useRoutePassthroughProps"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(h||d("react")).useLayoutEffect;function a(){var a=d("react-compiler-runtime").c(6),b=d("useCometTahoeChainingDepth").useChainingDepthContext(),e=b.chainingDepthState,f=b.chainingSessionID,g=(i||(i=d("VideoPlayerHooks"))).useController();b=c("useRoutePassthroughProps")();var h=b==null?void 0:b.chainingSeedVideoId,k;a[0]!==e||a[1]!==h||a[2]!==f||a[3]!==g?(b=function(){e!=null&&f!=null&&(g.setLoggingToVPLAdditionalData("video_chaining_session_id",f),g.setLoggingToVPLAdditionalData("video_chaining_depth_level",e),g.setLoggingToSNAPLAdditionalData({video_chaining_depth_level:String(e),video_chaining_session_id:f})),h!=null&&(g.setLoggingToVPLAdditionalData("video_chaining_parent_video_id",String(h)),g.setLoggingToSNAPLAdditionalData({video_chaining_parent_video_id:String(h)}))},k=[e,f,g,h],a[0]=e,a[1]=h,a[2]=f,a[3]=g,a[4]=b,a[5]=k):(b=a[4],k=a[5]);j(b,k);return null}g["default"]=a}),98);
__d("Duration.react",["ServerTime","clearTimeout","react","react-strict-dom","setTimeout"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j=500,k=1e3,l=60,m=60;a=function(a){babelHelpers.inheritsLoose(b,a);function b(b){b=a.call(this,b)||this;b.state={duration:0};return b}var e=b.prototype;e.UNSAFE_componentWillMount=function(){this.$2()};e.componentWillUnmount=function(){c("clearTimeout")(this.$1)};e.$2=function(){var a=this,b;this.props.useLocalTime?b=Date.now():b=d("ServerTime").getMillis();this.setState({duration:Math.max(b-this.props.startTime,0)});this.$1=c("setTimeout")(function(){return a.$2()},j)};e.render=function(){var a=Math.floor(this.state.duration/k),b=a%l;a=Math.floor(a/l);var c=a%m;a=Math.floor(a/m);var e="";a>0&&(e=a+":");a=c+":";a.length<3&&e.length>0&&(a="0"+a);c=""+b;c.length<2&&(c="0"+c);return i.jsxs(d("react-strict-dom").html.span,{children:[e,a,c]})};return b}(i.Component);a.defaultProps={useLocalTime:!1};g["default"]=a}),98);
__d("XCometGamingControllerRouteBuilder",["jsRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsRouteBuilder")("/gaming/",Object.freeze({}),void 0);b=a;g["default"]=b}),98);
__d("GamingVideoBackLink.react",["fbt","ix","CometImage.react","CometPressable.react","XCometGamingControllerRouteBuilder","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=j||d("react"),l=i("370949"),m=c("XCometGamingControllerRouteBuilder").buildURL({});function a(){var a=d("react-compiler-runtime").c(2),b;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b=h._(/*BTDS*/"Go to Facebook Gaming"),a[0]=b):b=a[0];var e=b;a[1]===Symbol["for"]("react.memo_cache_sentinel")?(b=k.jsx(c("CometPressable.react"),{linkProps:{url:m},children:function(a){a=a.hovered;return k.jsxs("div",babelHelpers["extends"]({className:"x78zum5 x1q0g3np"},{children:[k.jsx("span",babelHelpers["extends"]({},{0:{className:"x3nfvp2 x1qo4wvw xbyyjgo x1d8287x x19991ni xl405pv"},1:{className:"x3nfvp2 x1hc1fzr x1d8287x x19991ni xl405pv"}}[!!a<<0],{children:k.jsx(c("CometImage.react"),{alt:h._(/*BTDS*/"Close"),src:l})})),k.jsx("div",babelHelpers["extends"]({},{0:{className:"x1s85apg"},1:{className:"xe2km65 x1lliihq x1sxyh0 x1n2onr6 x1bvjpef xndqk7f"}}[!!a<<0],{children:e}))]}))}}),a[1]=b):b=a[1];return b}g["default"]=a}),226);
__d("VideoPlayerWithAudioOverlay_video.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"VideoPlayerWithAudioOverlay_video",selections:[{alias:null,args:[{kind:"Literal",name:"supported",value:"30kjYr"}],concreteType:null,kind:"LinkedField",name:"comet_video_player_audio_overlay_renderer",plural:!1,selections:[{kind:"InlineFragment",selections:[{args:null,documentName:"VideoPlayerWithAudioOverlay_video",fragmentName:"CometVideoPlayerWithPodcastOverlayRenderer_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],type:"CometVideoPlayerWithPodcastOverlayRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"VideoPlayerWithAudioOverlay_video",fragmentName:"CometVideoPlayerWithSoundbiteOverlayRenderer_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],type:"CometVideoPlayerWithSoundbiteOverlayRenderer",abstractKey:null}],storageKey:'comet_video_player_audio_overlay_renderer(supported:"30kjYr")'}],type:"Video",abstractKey:null};e.exports=a}),null);
__d("VideoPlayerWithAudioOverlay.react",["CometRelay","VideoPlayerWithAudioOverlay_video.graphql","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react");function a(a){var c=d("react-compiler-runtime").c(7),e=a.playerFormat,f=a.pressInteraction;a=a.video;a=d("CometRelay").useFragment(h!==void 0?h:h=b("VideoPlayerWithAudioOverlay_video.graphql"),a);a=a==null?void 0:a.comet_video_player_audio_overlay_renderer;if(a==null)return null;var g;c[0]===Symbol["for"]("react.memo_cache_sentinel")?(g={className:"x6s0dn4 x78zum5 x5yr21d xl56j7k"},c[0]=g):g=c[0];var i;c[1]!==e||c[2]!==f?(i={playerFormat:e,pressInteraction:f},c[1]=e,c[2]=f,c[3]=i):i=c[3];c[4]!==a||c[5]!==i?(e=j.jsx("div",babelHelpers["extends"]({},g,{children:j.jsx(d("CometRelay").MatchContainer,{match:a,props:i})})),c[4]=a,c[5]=i,c[6]=e):e=c[6];return e}g["default"]=a}),98);
__d("VideoPlayerWithLiveVideoIndicator_video.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"VideoPlayerWithLiveVideoIndicator_video",selections:[{alias:"breakingStatus",args:null,kind:"ScalarField",name:"breaking_status",storageKey:null},{alias:"videoId",args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:"isPremiere",args:null,kind:"ScalarField",name:"is_premiere",storageKey:null},{alias:"liveViewerCount",args:null,kind:"ScalarField",name:"live_viewer_count_read_only",storageKey:null},{alias:"rehearsalInfo",args:null,concreteType:"LiveVideoRehearsalInfo",kind:"LinkedField",name:"rehearsal_info",plural:!1,selections:[{alias:"typeName",args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_gaming_video",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"publish_time",storageKey:null}],type:"Video",abstractKey:null};e.exports=a}),null);
__d("VideoPlayerWithLiveVideoIndicator.react",["fbt","ix","CometImage.react","CometPlaceholder.react","CometRelay","CometRouteRenderType","Duration.react","FDSText.react","GamingVideoBackLink.react","VideoBroadcastStatus","VideoPlayerHooks","VideoPlayerWithLiveVideoIndicator_video.graphql","clearTimeout","cr:541","deferredLoadComponent","gkx","intlSummarizeNumber","react","react-compiler-runtime","requireDeferred","setTimeout","stylex","unrecoverableViolation","useVideoPlayerUnifiedCVCProvider"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k,l,m,n=l||(l=d("react"));e=l;var o=e.useEffect,p=e.useRef,q=e.useState,r=c("deferredLoadComponent")(c("requireDeferred")("LiveVideoCometNuxForCVC.react").__setRef("VideoPlayerWithLiveVideoIndicator.react")),s={positionTop:{display:"x78zum5",height:"xxk0z11",start:"xoie2o3",position:"x10l6tqk",top:"x1tk7jg1",$$css:!0},positionTopWithCometNavOverlay:{start:"x1i5ckhj",top:"xoyzfg9",$$css:!0},positionTopWithCometNavOverlayWorkplace:{start:"x1i5ckhj",top:"xoyzfg9",$$css:!0}};function a(a){var e,f=d("react-compiler-runtime").c(50),g=a.hasCometNavOverlay,h=a.includeGamingBackLink,i=a.renderedInLiveProducer,l=a.shouldExpand,x=a.shouldShowPrivacyNux;a=a.video;var y=(m||(m=d("VideoPlayerHooks"))).useIsLive(),z=m.useIsLiveRewindActive(),A=m.useIsFullscreen(),B=d("CometRouteRenderType").useIsMain(),C=m.usePlaying(),D=p(null);a=d("CometRelay").useFragment(j!==void 0?j:j=b("VideoPlayerWithLiveVideoIndicator_video.graphql"),a);var E=(e=a==null?void 0:a.videoId)!=null?e:"";if(a==null||typeof E!=="string"||E==="")throw c("unrecoverableViolation")("Null video or bad videoId","comet_live_video");var F=d("useVideoPlayerUnifiedCVCProvider").useVideoPlayerUnifiedCVCData();e=q((e=a.liveViewerCount)!=null?e:0);var G=e[0],H=e[1];e=q(!1);var I=e[0],J=e[1];e=q(!1);var K=e[0],L=e[1],M;f[0]!==F||f[1]!==y?(e=function(){y&&F!=null&&(t(F.bs)?H(F.c):(H(0),J(!0)))},M=[F,y],f[0]=F,f[1]=y,f[2]=e,f[3]=M):(e=f[2],M=f[3]);o(e,M);f[4]!==C?(e=function(){C?(L(!0),D.current=c("setTimeout")(function(){L(!1)},3e3)):D.current&&(L(!1),c("clearTimeout")(D.current));return function(){return c("clearTimeout")(D.current)}},M=[C],f[4]=C,f[5]=e,f[6]=M):(e=f[5],M=f[6]);o(e,M);f[7]!==y||f[8]!==E?(e=function(){y&&E&&(b("cr:541")==null?void 0:b("cr:541").loadImmediately(function(a){a.LiveProducerLiveActivated(E)}))},M=[y,E],f[7]=y,f[8]=E,f[9]=e,f[10]=M):(e=f[9],M=f[10]);o(e,M);M=((e=a.rehearsalInfo)==null?void 0:e.typeName)==="LiveVideoRehearsalInfo";e=(e=a.is_gaming_video)!=null?e:!1;h=(h=h)!=null?h:!1;h=h&&B&&e;e=!y||I;if(e)return null;I=c("gkx")("22889");f[11]!==g||f[12]!==A||f[13]!==B||f[14]!==i||f[15]!==l?(e=(k||(k=c("stylex"))).props(s.positionTop,I?l!==!0&&(g||B)&&!A&&!i===!0&&s.positionTopWithCometNavOverlayWorkplace:g&&!A&&s.positionTopWithCometNavOverlay),f[11]=g,f[12]=A,f[13]=B,f[14]=i,f[15]=l,f[16]=e):e=f[16];f[17]!==h?(I=h?n.jsx(c("GamingVideoBackLink.react"),{}):null,f[17]=h,f[18]=I):I=f[18];f[19]!==z||f[20]!==M?(g={0:{className:"x6s0dn4 x1lcm9me x1yr5g0i xrt01vj x10y3i5r x9f619 x3nfvp2 x5yr21d xexx8yu x18d9i69 x16hj40l xsyo7zv"},8:{className:"x6s0dn4 x1lcm9me x1yr5g0i xrt01vj x10y3i5r x9f619 x3nfvp2 x5yr21d xexx8yu x18d9i69 x16hj40l xsyo7zv xpz12be xof6966 xa4qsjk x18wbh7p xkewf8z"},4:{className:"x6s0dn4 x1lcm9me x1yr5g0i xrt01vj x10y3i5r x9f619 x3nfvp2 x5yr21d xexx8yu x18d9i69 x16hj40l xsyo7zv x1ciooss"},12:{className:"x6s0dn4 x1lcm9me x1yr5g0i xrt01vj x10y3i5r x9f619 x3nfvp2 x5yr21d xexx8yu x18d9i69 x16hj40l xsyo7zv xpz12be xof6966 xa4qsjk x18wbh7p xkewf8z x1ciooss"},2:{className:"x6s0dn4 x1lcm9me x1yr5g0i xrt01vj x10y3i5r x9f619 x3nfvp2 x5yr21d xexx8yu x18d9i69 x16hj40l xsyo7zv x1osi62z"},10:{className:"x6s0dn4 x1lcm9me x1yr5g0i xrt01vj x10y3i5r x9f619 x3nfvp2 x5yr21d xexx8yu x18d9i69 x16hj40l xsyo7zv xpz12be xof6966 xa4qsjk x18wbh7p xkewf8z x1osi62z"},6:{className:"x6s0dn4 x1lcm9me x1yr5g0i xrt01vj x10y3i5r x9f619 x3nfvp2 x5yr21d xexx8yu x18d9i69 x16hj40l xsyo7zv x1osi62z"},14:{className:"x6s0dn4 x1lcm9me x1yr5g0i xrt01vj x10y3i5r x9f619 x3nfvp2 x5yr21d xexx8yu x18d9i69 x16hj40l xsyo7zv xpz12be xof6966 xa4qsjk x18wbh7p xkewf8z x1osi62z"},1:{className:"x6s0dn4 x1lcm9me x1yr5g0i xrt01vj x10y3i5r x9f619 x3nfvp2 x5yr21d xexx8yu x18d9i69 x16hj40l xsyo7zv x1d2osyd"},9:{className:"x6s0dn4 x1lcm9me x1yr5g0i xrt01vj x10y3i5r x9f619 x3nfvp2 x5yr21d xexx8yu x18d9i69 x16hj40l xsyo7zv xpz12be xof6966 xa4qsjk x18wbh7p xkewf8z x1d2osyd"},5:{className:"x6s0dn4 x1lcm9me x1yr5g0i xrt01vj x10y3i5r x9f619 x3nfvp2 x5yr21d xexx8yu x18d9i69 x16hj40l xsyo7zv x1d2osyd"},13:{className:"x6s0dn4 x1lcm9me x1yr5g0i xrt01vj x10y3i5r x9f619 x3nfvp2 x5yr21d xexx8yu x18d9i69 x16hj40l xsyo7zv xpz12be xof6966 xa4qsjk x18wbh7p xkewf8z x1d2osyd"},3:{className:"x6s0dn4 x1lcm9me x1yr5g0i xrt01vj x10y3i5r x9f619 x3nfvp2 x5yr21d xexx8yu x18d9i69 x16hj40l xsyo7zv x1d2osyd"},11:{className:"x6s0dn4 x1lcm9me x1yr5g0i xrt01vj x10y3i5r x9f619 x3nfvp2 x5yr21d xexx8yu x18d9i69 x16hj40l xsyo7zv xpz12be xof6966 xa4qsjk x18wbh7p xkewf8z x1d2osyd"},7:{className:"x6s0dn4 x1lcm9me x1yr5g0i xrt01vj x10y3i5r x9f619 x3nfvp2 x5yr21d xexx8yu x18d9i69 x16hj40l xsyo7zv x1d2osyd"},15:{className:"x6s0dn4 x1lcm9me x1yr5g0i xrt01vj x10y3i5r x9f619 x3nfvp2 x5yr21d xexx8yu x18d9i69 x16hj40l xsyo7zv xpz12be xof6966 xa4qsjk x18wbh7p xkewf8z x1d2osyd"}}[!!!z<<3|!!!z<<2|!!z<<1|!!M<<0],f[19]=z,f[20]=M,f[21]=g):g=f[21];A=M?"primary":"white";f[22]!==a?(B=u(a),f[22]=a,f[23]=B):B=f[23];f[24]!==K||f[25]!==z||f[26]!==l||f[27]!==a.publish_time?(i=l===!0&&K&&(a==null?void 0:a.publish_time)!=null&&!z&&w(a.publish_time),f[24]=K,f[25]=z,f[26]=l,f[27]=a.publish_time,f[28]=i):i=f[28];f[29]!==A||f[30]!==B||f[31]!==i?(h=n.jsxs(c("FDSText.react"),{color:A,type:"bodyLink4",children:[B,i]}),f[29]=A,f[30]=B,f[31]=i,f[32]=h):h=f[32];f[33]!==h||f[34]!==g?(M=n.jsx("div",babelHelpers["extends"]({},g,{"data-testid":void 0,children:h})),f[33]=h,f[34]=g,f[35]=M):M=f[35];f[36]!==G||f[37]!==a?(K=v(a,G),f[36]=G,f[37]=a,f[38]=K):K=f[38];f[39]!==M||f[40]!==K||f[41]!==e||f[42]!==I?(z=n.jsxs("div",babelHelpers["extends"]({},e,{children:[I,M,K]})),f[39]=M,f[40]=K,f[41]=e,f[42]=I,f[43]=z):z=f[43];f[44]!==x||f[45]!==E?(l=x===!0&&n.jsx(c("CometPlaceholder.react"),{fallback:null,children:n.jsx("div",babelHelpers["extends"]({className:"xoie2o3 x10l6tqk x1w1tb2m"},{children:n.jsx(r,{videoID:E})}))}),f[44]=x,f[45]=E,f[46]=l):l=f[46];f[47]!==z||f[48]!==l?(A=n.jsxs(n.Fragment,{children:[z,l]}),f[47]=z,f[48]=l,f[49]=A):A=f[49];return A}function t(a){if(a==null)return!1;switch(a){case c("VideoBroadcastStatus").LIVE:case c("VideoBroadcastStatus").LIVE_STOPPED:case c("VideoBroadcastStatus").SEAL_STARTED:return!0;default:return!1}}function u(a){if((a==null?void 0:a.isPremiere)===!0)return h._(/*BTDS*/"PREMIERE");return(a==null?void 0:a.breakingStatus)===!0?h._(/*BTDS*/"LIVE BREAKING"):h._(/*BTDS*/"LIVE")}u.displayName=u.name+" [from "+f.id+"]";function v(a,b){if(a===null||b==null||b===0)return null;a=n.jsx(c("CometImage.react"),{alt:"",src:i("411339")});a=n.jsx("span",babelHelpers["extends"]({className:"x3nfvp2 xw3qccf x1n2onr6"},{children:a}));return n.jsxs("div",babelHelpers["extends"]({"aria-label":h._(/*BTDS*/"_j{\"*\":\"{number} people currently watching this video.\",\"_1\":\"1 person currently watching this video.\"}",[h._plural(b,"number",c("intlSummarizeNumber")(b))])},{className:"x6s0dn4 xrmyhay x1lcm9me x1yr5g0i xrt01vj x10y3i5r x9f619 x3nfvp2 x5yr21d x1mnrxsn xexx8yu x18d9i69 x16hj40l xsyo7zv"},{"data-testid":void 0,role:"img",children:[a,n.jsx(c("FDSText.react"),{color:"primaryOnMedia",type:"body4",children:c("intlSummarizeNumber")(b)})]}))}v.displayName=v.name+" [from "+f.id+"]";function w(a){return n.jsx("div",babelHelpers["extends"]({className:"x3nfvp2 xsgj6o6"},{children:n.jsx(c("Duration.react"),{startTime:a*1e3,useLocalTime:!0})}))}w.displayName=w.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("VideoPlayerWithVideoHomeLogging.react",["VideoPlayerHooks","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(h||d("react")).useEffect;function a(a){var b=d("react-compiler-runtime").c(5),c=a.feedAggregationType,e=a.reactionVideoChannelType,f=(i||(i=d("VideoPlayerHooks"))).useController(),g;b[0]!==f||b[1]!==c||b[2]!==e?(a=function(){e!=null&&f.setLoggingToVPLAdditionalData("reaction_video_channel_type",e),c!=null&&f.setLoggingToVPLAdditionalData("feed_aggregation_type",c)},g=[f,c,e],b[0]=f,b[1]=c,b[2]=e,b[3]=a,b[4]=g):(a=b[3],g=b[4]);j(a,g);return null}g["default"]=a}),98);
__d("XPlatReactToasterView.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={visibleToasts:[]},b)||babelHelpers.assertThisInitialized(c)}b.getDerivedStateFromProps=function(a,b){b=b!=null?b.visibleToasts.slice(0,a.maxVisible):[];var c=0,d=a.filterToasts,e=a.toasterState,f={},g=d!=null?Object.keys(e).filter(function(b){var c,g=e[b];f[b]=g;var h=g==null?void 0:g.shown;c=g==null?void 0:(c=g.value)==null?void 0:(c=c.type)==null?void 0:c.name;if(g==null||c==null)return!0;if(d.has(c)&&!h){a.onExpireToast(b);return!1}}):Object.keys(e),h=b.reduce(function(a,b){b!=null&&a.add(b.id);return a},new Set()),i=0;while(c<a.maxVisible){var j=b[c],k=Object.keys(f).length>0?f:a.toasterState;if(j!=null){k=Object.prototype.hasOwnProperty.call(k,j.id);if(k){k=e[j.id];b[c]={expired:k.expired,id:k.id,toast:k.value};c++;continue}else b[c]=null}j=null;while(j==null&&i<g.length){k=g[i++];var l=h.has(k);l||(j=a.toasterState[k])}j!=null&&(b[c]={expired:j.expired,id:j.id,toast:j.value});c++}return{visibleToasts:b}};var c=b.prototype;c.render=function(){var a=this;return i.jsx(i.Fragment,{children:this.state.visibleToasts.map(function(b,c){return b!=null?a.props.children(b.toast,b.id,b.expired,c):null})})};return b}(i.PureComponent);a.defaultProps={maxVisible:1};g["default"]=a}),98);
__d("useVideoOriginalDimensionsRelay_video.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useVideoOriginalDimensionsRelay_video",selections:[{alias:null,args:null,kind:"ScalarField",name:"original_width",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"original_height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"original_rotation",storageKey:null}],type:"Video",abstractKey:null};e.exports=a}),null);
__d("useVideoOriginalDimensionsRelay",["CometRelay","computeAspectRatio","react-compiler-runtime","useVideoOriginalDimensionsRelay_video.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){var e=d("react-compiler-runtime").c(7);a=d("CometRelay").useFragment(h!==void 0?h:h=b("useVideoOriginalDimensionsRelay_video.graphql"),a);var f=a==null?void 0:a.original_rotation;f=f==="ROTATE_LEFT"||f==="ROTATE_RIGHT";var g=f?a==null?void 0:a.original_height:a==null?void 0:a.original_width;f=f?a==null?void 0:a.original_width:a==null?void 0:a.original_height;e[0]!==f||e[1]!==g?(a=c("computeAspectRatio")(g,f),e[0]=f,e[1]=g,e[2]=a):a=e[2];a=a;var i;e[3]!==a||e[4]!==f||e[5]!==g?(i={originalAspectRatio:a,originalHeight:f,originalWidth:g},e[3]=a,e[4]=f,e[5]=g,e[6]=i):i=e[6];return i}g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("FDSVideoFilled12Icon",["cr:15854"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:15854")}),98);
__d("MWXVideoStatusListener.react",["getErrorNameFromMediaErrorCode","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useEffect;function a(a){var b=d("react-compiler-runtime").c(8),e=a.onError,f=a.onLoad,g=a.videoRef;b[0]!==e||b[1]!==f||b[2]!==(g==null?void 0:g.current)?(a=function(){var a=g==null?void 0:g.current,b=function(){f==null?void 0:f()},d=function(a){a=a.currentTarget;a=a.error;a=c("getErrorNameFromMediaErrorCode")(a==null?void 0:a.code);e==null?void 0:e(a)};if((a==null?void 0:a.readyState)!=null&&a.readyState>=2){b();return}a==null?void 0:a.addEventListener("canplay",b);a==null?void 0:a.addEventListener("error",d);return function(){a==null?void 0:a.removeEventListener("canplay",b),a==null?void 0:a.removeEventListener("error",d)}},b[0]=e,b[1]=f,b[2]=g==null?void 0:g.current,b[3]=a):a=b[3];var h;b[4]!==e||b[5]!==f||b[6]!==g?(h=[e,f,g],b[4]=e,b[5]=f,b[6]=g,b[7]=h):h=b[7];i(a,h);return null}g["default"]=a}),98);
__d("MWMediaGalleryVideoThumbnail.react",["FDSImageCover.react","MWXVideoStatusListener.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;b.useCallback;var j=b.useRef;function a(a){var b=d("react-compiler-runtime").c(22),e=a.alt,f=a.fallbackVideoUrl,g=a.mediaRenderQpl;a=a.previewUrl;var h=j(null),k;b[0]!==g?(k=function(a){g==null?void 0:g.endFail("load-video-error",{string:{video_error_name:a}})},b[0]=g,b[1]=k):k=b[1];k=k;var l;b[2]!==g?(l=function(){g==null?void 0:g.endSuccess()},b[2]=g,b[3]=l):l=b[3];l=l;if(a!==""){var m;m=(m=e)!=null?m:"video thumbnail";var n,o;b[4]!==g?(n=function(){return g==null?void 0:g.endFail("load-image-error")},o=function(){return g==null?void 0:g.endSuccess()},b[4]=g,b[5]=n,b[6]=o):(n=b[5],o=b[6]);var p;b[7]!==a||b[8]!==m||b[9]!==n||b[10]!==o?(p=i.jsx(c("FDSImageCover.react"),{alt:m,onError:n,onLoad:o,src:a}),b[7]=a,b[8]=m,b[9]=n,b[10]=o,b[11]=p):p=b[11];return p}b[12]!==k||b[13]!==l?(a=i.jsx(c("MWXVideoStatusListener.react"),{onError:k,onLoad:l,videoRef:h}),b[12]=k,b[13]=l,b[14]=a):a=b[14];n=(m=e)!=null?m:"video thumbnail";b[15]===Symbol["for"]("react.memo_cache_sentinel")?(o={className:"x5yr21d xl1xv1r xh8yej3"},b[15]=o):o=b[15];b[16]!==f||b[17]!==n?(p=i.jsx("video",babelHelpers["extends"]({alt:n},o,{controls:!1,ref:h,src:f})),b[16]=f,b[17]=n,b[18]=p):p=b[18];b[19]!==a||b[20]!==p?(k=i.jsxs(i.Fragment,{children:[a,p]}),b[19]=a,b[20]=p,b[21]=k):k=b[21];return k}g["default"]=a}),98);
__d("MWXIconPause",["MWXSvgIcon","SVGIcon","cr:12516","gkx"],(function(a,b,c,d,e,f,g){"use strict";a=d("MWXSvgIcon").mwxSvgIcon(d("SVGIcon").svgIcon(b("cr:12516")),c("gkx")("23219"));g["default"]=a}),98);
__d("MWXIconPlay",["MWXSvgIcon","SVGIcon","cr:12532","gkx"],(function(a,b,c,d,e,f,g){"use strict";a=d("MWXSvgIcon").mwxSvgIcon(d("SVGIcon").svgIcon(b("cr:12532")),c("gkx")("23219"));g["default"]=a}),98);
__d("MWXIconReplay",["MWXSvgIcon","SVGIcon","cr:12554","gkx"],(function(a,b,c,d,e,f,g){"use strict";a=d("MWXSvgIcon").mwxSvgIcon(d("SVGIcon").svgIcon(b("cr:12554")),c("gkx")("23219"));g["default"]=a}),98);
__d("MWVideoPlayerPlayButton.react",["fbt","MWXIconPause","MWXIconPlay","MWXIconReplay","MWXIconStrict.react","MWXPressable.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react"),k={buttonLarge:{height:"xdd8jsf",marginTop:"xuqeo79",marginEnd:"x11i5rnm",marginBottom:"xat24cr",marginStart:"xbuoto1",width:"xvni27",$$css:!0},buttonSmall:{height:"xxk0z11",marginTop:"x7wgvq7",marginEnd:"x11i5rnm",marginBottom:"xat24cr",marginStart:"x16hk5td",width:"xvy4d1p",$$css:!0},circleButton:{backgroundColor:"x18l40ae",borderTopStartRadius:"x14yjl9h",borderTopEndRadius:"xudhj91",borderBottomEndRadius:"x18nykt9",borderBottomStartRadius:"xww2gxu",opacity:"x1hc1fzr",$$css:!0},clickable:{cursor:"x1ypdohk",$$css:!0},container:{alignItems:"x6s0dn4",display:"x78zum5",start:"xtzzx4i",left:null,right:null,justifyContent:"xl56j7k",position:"x10l6tqk",top:"xwa60dl",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(9),e=a.alt,f=a.isVisible,g=a.onClick,i=a.size;a=a.type;i=i===void 0?"LARGE":i;a=a===void 0?"PLAY":a;var l;bb0:switch(a){case"PAUSE":l=c("MWXIconPause");break bb0;case"REPLAY":l=c("MWXIconReplay");break bb0;case"PLAY":default:l=c("MWXIconPlay")}a=i==="LARGE"?24:12;var m;b[0]!==l||b[1]!==a?(m=j.jsx(c("MWXIconStrict.react"),{color:"white",icon:l,size:a}),b[0]=l,b[1]=a,b[2]=m):m=b[2];a=m;b[3]!==e||b[4]!==a||b[5]!==f||b[6]!==g||b[7]!==i?(m=f?g!=null?j.jsx(c("MWXPressable.react"),{display:"inline",label:e!=null?e:h._(/*BTDS*/"Play video"),onPress:g,overlayDisabled:!0,xstyle:[k.circleButton,k.container,k.clickable,i==="LARGE"&&k.buttonLarge,i==="SMALL"&&k.buttonSmall],children:a}):j.jsx("div",babelHelpers["extends"]({},{0:{className:"x18l40ae x14yjl9h xudhj91 x18nykt9 xww2gxu x1hc1fzr x6s0dn4 x78zum5 xtzzx4i xl56j7k x10l6tqk xwa60dl"},2:{className:"x18l40ae x14yjl9h xudhj91 x18nykt9 xww2gxu x1hc1fzr x6s0dn4 x78zum5 xtzzx4i xl56j7k x10l6tqk xwa60dl xdd8jsf xuqeo79 x11i5rnm xat24cr xbuoto1 xvni27"},1:{className:"x18l40ae x14yjl9h xudhj91 x18nykt9 xww2gxu x1hc1fzr x6s0dn4 x78zum5 xtzzx4i xl56j7k x10l6tqk xwa60dl xxk0z11 x7wgvq7 x11i5rnm xat24cr x16hk5td xvy4d1p"},3:{className:"x18l40ae x14yjl9h xudhj91 x18nykt9 xww2gxu x1hc1fzr x6s0dn4 x78zum5 xtzzx4i xl56j7k x10l6tqk xwa60dl xxk0z11 x7wgvq7 x11i5rnm xat24cr x16hk5td xvy4d1p"}}[!!(i==="LARGE")<<1|!!(i==="SMALL")<<0],{children:a})):null,b[3]=e,b[4]=a,b[5]=f,b[6]=g,b[7]=i,b[8]=m):m=b[8];e=m;return e}g["default"]=a}),226);
__d("CometMediaViewerFilmstrip.react",["fbt","CometBackgroundImage.react","CometImage.react","CometPressable.react","CometThrottle","FDSIcon.react","FDSVideoFilled12Icon","Locale","MWMediaGalleryVideoThumbnail.react","MWVideoPlayerPlayButton.react","gkx","react","react-compiler-runtime","stylex"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||(j=d("react"));b=j;b.useCallback;var l=b.useEffect,m=b.useRef,n=b.useState,o=c("gkx")("1775"),p={imageInner:{height:"x5yr21d",objectFit:"x19kjcj4",overflowX:"x6ikm8r",overflowY:"x10wlt62",width:"xh8yej3",$$css:!0},maxRootWidth:{maxWidth:"x193iq5w",$$css:!0},root:{alignItems:"x6s0dn4",display:"x78zum5",paddingTop:"x1y1aw1k",paddingBottom:"xwib8y2",transitionDuration:"xu6gjpd",transitionProperty:"x11xpdln",transitionTimingFunction:"x1r7x56h",whiteSpace:"xuxw1ft",$$css:!0},rootOverflow:{overflowX:"xw2csxc",overflowY:"x10wlt62",overscrollBehavior:"xish69e",$$css:!0},thumbnail:{borderTopStartRadius:"xhk9q7s",borderTopEndRadius:"x1otrzb0",borderBottomEndRadius:"x1i1ezom",borderBottomStartRadius:"x1o6z2jb",cursor:"x1ypdohk",overflowX:"x6ikm8r",overflowY:"x10wlt62",$$css:!0},thumbnailContainer:{display:"x1rg5ohu",flexShrink:"x2lah0s",$$css:!0},thumbnailFocusRing:{borderTopStartRadius:"xhk9q7s",borderTopEndRadius:"x1otrzb0",borderBottomEndRadius:"x1i1ezom",borderBottomStartRadius:"x1o6z2jb",$$css:!0},thumbnailNonActive:{opacity:"xti2d7y",":hover_opacity":"x5z6fxw",$$css:!0},thumbnailNonActiveDarken:{filter:"x1vra34",":hover_filter":"x19oicha",$$css:!0}},q={2:{marginStart:"x12mruv9",marginEnd:"xfs2ol5",marginLeft:null,marginRight:null,$$css:!0},6:{marginStart:"x1mnrxsn",marginEnd:"x1w0mnb",marginLeft:null,marginRight:null,$$css:!0}},r={36:{width:"x14qfxbe",$$css:!0},40:{width:"x100vrsf",$$css:!0}},s={36:{height:"xc9qbxq",$$css:!0},40:{height:"x1vqgdyp",$$css:!0}};function t(a){var b=d("react-compiler-runtime").c(40),e;b[0]!==a.image.backgroundColor||b[1]!==a.image.isUseImageResizing||b[2]!==a.image.mediaType?(e=a.image.mediaType!=="video"&&Boolean(a.image.isUseImageResizing)?{backgroundColor:a.image.backgroundColor}:{},b[0]=a.image.backgroundColor,b[1]=a.image.isUseImageResizing,b[2]=a.image.mediaType,b[3]=e):e=b[3];e=e;var f=a.image.mediaType!=="video"?a.image.uri:a.image.thumbnailUri,g=a.thumbnailMargin,j=a.thumbnailSize,n=a.thumbnailUseDarken;n=n?p.thumbnailNonActiveDarken:p.thumbnailNonActive;var t="comet-media-viewer-filmstrip-thubmnail-"+a.index,u=m(null),v;b[4]!==a.active||b[5]!==a.canScrollToActiveThumbnail?(v=function(){if(a.active&&a.canScrollToActiveThumbnail&&o){var b;(b=u.current)==null?void 0:b.scrollIntoView({behavior:"smooth",block:"nearest",inline:"center"})}},b[4]=a.active,b[5]=a.canScrollToActiveThumbnail,b[6]=v):v=b[6];var w=v,x;b[7]!==w?(v=function(){w()},x=[w],b[7]=w,b[8]=v,b[9]=x):(v=b[8],x=b[9]);l(v,x);b[10]!==w?(v=function(){if(!o)return;var a=c("CometThrottle")(w,100);window.addEventListener("resize",a);return function(){window.removeEventListener("resize",a)}},x=[w],b[10]=w,b[11]=v,b[12]=x):(v=b[11],x=b[12]);l(v,x);b[13]!==g||b[14]!==j?(v=(i||(i=c("stylex"))).props([p.thumbnailContainer,s[j],r[j],q[g]]),b[13]=g,b[14]=j,b[15]=v):v=b[15];b[16]!==a.index?(x=h._(/*BTDS*/"Thumbnail {index}",[h._param("index",a.index)]),b[16]=a.index,b[17]=x):x=b[17];g=a.onClick;var y=s[j];j=r[j];n=a.active!==!0&&n;var z;b[18]!==j||b[19]!==n||b[20]!==y?(z=(i||(i=c("stylex")))(p.thumbnail,y,j,n),b[18]=j,b[19]=n,b[20]=y,b[21]=z):z=b[21];b[22]!==f||b[23]!==a.alt||b[24]!==a.image.isUseImageResizing||b[25]!==a.image.mediaType||b[26]!==a.image.uri?(j=a.image.mediaType==="video"?k.jsxs(k.Fragment,{children:[c("gkx")("8622")===!0?k.jsx("div",babelHelpers["extends"]({className:"x6s0dn4 x78zum5 x3igimt xl56j7k x10l6tqk x1qrby5j"},{children:k.jsx(c("MWVideoPlayerPlayButton.react"),{isVisible:!0,size:"SMALL"})})):k.jsx("div",babelHelpers["extends"]({className:"x6s0dn4 x78zum5 x3igimt xl56j7k x10l6tqk x1qrby5j"},{children:k.jsx(c("FDSIcon.react"),{color:"white",icon:c("FDSVideoFilled12Icon")})})),k.jsx(c("MWMediaGalleryVideoThumbnail.react"),{fallbackVideoUrl:a.image.uri,previewUrl:f})]}):Boolean(a.image.isUseImageResizing)?k.jsx(c("CometImage.react"),{src:f,xstyle:p.imageInner}):k.jsx(c("CometBackgroundImage.react"),{alt:a.alt,src:f}),b[22]=f,b[23]=a.alt,b[24]=a.image.isUseImageResizing,b[25]=a.image.mediaType,b[26]=a.image.uri,b[27]=j):j=b[27];b[28]!==e||b[29]!==z||b[30]!==j?(n=k.jsx("div",{className:z,style:e,children:j}),b[28]=e,b[29]=z,b[30]=j,b[31]=n):n=b[31];b[32]!==a.onClick||b[33]!==n||b[34]!==x?(y=k.jsx(c("CometPressable.react"),{display:"block",label:x,onPress:g,overlayDisabled:!0,xstyle:p.thumbnailFocusRing,children:n}),b[32]=a.onClick,b[33]=n,b[34]=x,b[35]=y):y=b[35];b[36]!==y||b[37]!==v||b[38]!==t?(f=k.jsx("div",babelHelpers["extends"]({},v,{"data-testid":void 0,ref:u,children:y})),b[36]=y,b[37]=v,b[38]=t,b[39]=f):f=b[39];return f}function a(a){var b=d("react-compiler-runtime").c(26),e=n(0),f=e[0],g=e[1],h=m(null),j=m(null),q=m(null);e=n(!1);var r=e[0],u=e[1];e=a.thumbnailMargin;var v=a.thumbnailSize,w=a.thumbnailUseDarken,x=e===void 0?6:e,y=v===void 0?36:v,z=w===void 0?!1:w,A=y+x*2;b[0]!==a.activeIndex||b[1]!==a.images.length||b[2]!==A||b[3]!==f?(e=function(){var b=function(){if(h.current!=null){var b=h.current,c=b.offsetWidth;b=b.scrollWidth;var d=q.current;if(b===c)return;b=-f/A;var e=Math.floor((c+-f)/A),i=b+Math.floor((e-b)/2);if(d!=null){if(a.activeIndex>d&&(a.activeIndex<i||e===a.images.length)){q.current=a.activeIndex;return}if(a.activeIndex<d&&(a.activeIndex>i||b===0)){q.current=a.activeIndex;return}}i=f-(a.activeIndex-((e=d)!=null?e:0))*A;i=Math.min(0,i);i=Math.max(Math.floor(c-a.images.length*A),i);q.current=a.activeIndex;g(i)}};if(o)return;b();j.current!=null&&window.removeEventListener("resize",j.current);b=c("CometThrottle")(b,100);j.current=b;window.addEventListener("resize",b);return function(){j.current!=null&&window.removeEventListener("resize",j.current)}},b[0]=a.activeIndex,b[1]=a.images.length,b[2]=A,b[3]=f,b[4]=e):e=b[4];b[5]!==a.activeIndex||b[6]!==a.images||b[7]!==A||b[8]!==f?(v=[a.images,a.activeIndex,f,A],b[5]=a.activeIndex,b[6]=a.images,b[7]=A,b[8]=f,b[9]=v):v=b[9];l(e,v);b[10]===Symbol["for"]("react.memo_cache_sentinel")?(w=function(){u(!0)},e=[],b[10]=w,b[11]=e):(w=b[10],e=b[11]);l(w,e);if(a.images.length<2)return null;v=s[y];b[12]!==v?(w=(i||(i=c("stylex")))([p.root,v,o?p.rootOverflow:p.maxRootWidth]),b[12]=v,b[13]=w):w=b[13];b[14]!==f?(e=o?void 0:{transform:"translate3d("+(d("Locale").isRTL()?-f:f)+"px, 0, 0)"},b[14]=f,b[15]=e):e=b[15];b[16]!==r||b[17]!==a||b[18]!==x||b[19]!==y||b[20]!==z?(v=a.images.map(function(b,c){return k.jsx(t,{active:a.activeIndex===c,alt:b.alt,canScrollToActiveThumbnail:r,image:b,index:c,onClick:function(b){a.onSetImage(c)},thumbnailMargin:x,thumbnailSize:y,thumbnailUseDarken:z},"thumbnail_"+c)}),b[16]=r,b[17]=a,b[18]=x,b[19]=y,b[20]=z,b[21]=v):v=b[21];var B;b[22]!==v||b[23]!==w||b[24]!==e?(B=k.jsx("div",{className:w,ref:h,style:e,children:v}),b[22]=v,b[23]=w,b[24]=e,b[25]=B):B=b[25];return B}g["default"]=a}),226);
__d("FBIconPauseFilled12.svg.react",["XPlatReactSVG","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs(d("XPlatReactSVG").Svg,babelHelpers["extends"]({viewBox:"0 0 12 13",width:"1em",height:"1em",fill:"currentColor",title:a.title},a,{children:[a.children!=null&&i.jsx(d("XPlatReactSVG").Defs,{children:a.children}),i.jsx(d("XPlatReactSVG").G,{fillRule:"evenodd",transform:"translate(-450 -1073)",children:i.jsxs(d("XPlatReactSVG").G,{children:[i.jsx(d("XPlatReactSVG").Path,{d:"M98.75 924h-1a.25.25 0 0 1-.25-.25v-7.5a.25.25 0 0 1 .25-.25h1a.25.25 0 0 1 .25.25v7.5a.25.25 0 0 1-.25.25",transform:"translate(355.5 159.5)"}),i.jsx(d("XPlatReactSVG").Path,{fillRule:"nonzero",d:"M98.75 924.5h-1a.75.75 0 0 1-.75-.75v-7.5a.75.75 0 0 1 .75-.75h1a.75.75 0 0 1 .75.75v7.5a.75.75 0 0 1-.75.75zm-.25-1v-7H98v7h.5z",transform:"translate(355.5 159.5)"}),i.jsx(d("XPlatReactSVG").Path,{d:"M103.25 924h-1a.25.25 0 0 1-.25-.25v-7.5a.25.25 0 0 1 .25-.25h1a.25.25 0 0 1 .25.25v7.5a.25.25 0 0 1-.25.25",transform:"translate(355.5 159.5)"}),i.jsx(d("XPlatReactSVG").Path,{fillRule:"nonzero",d:"M103.25 924.5h-1a.75.75 0 0 1-.75-.75v-7.5a.75.75 0 0 1 .75-.75h1a.75.75 0 0 1 .75.75v7.5a.75.75 0 0 1-.75.75zm-.25-1v-7h-.5v7h.5z",transform:"translate(355.5 159.5)"})]})})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;b=a;g["default"]=b}),98);
__d("FBIconPlayFilled12.svg.react",["XPlatReactSVG","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs(d("XPlatReactSVG").Svg,babelHelpers["extends"]({viewBox:"0 0 12 13",width:"1em",height:"1em",fill:"currentColor",title:a.title},a,{children:[a.children!=null&&i.jsx(d("XPlatReactSVG").Defs,{children:a.children}),i.jsx(d("XPlatReactSVG").G,{fillRule:"evenodd",transform:"translate(-450 -1073)",children:i.jsxs(d("XPlatReactSVG").G,{children:[i.jsx(d("XPlatReactSVG").Path,{d:"m104.658 920.28-6.256-4.021a.26.26 0 0 0-.402.22v8.042a.26.26 0 0 0 .402.22l6.256-4.021a.261.261 0 0 0 0-.44",transform:"translate(355.5 159)"}),i.jsx(d("XPlatReactSVG").Path,{fillRule:"nonzero",d:"m104.929 919.86-6.256-4.022a.76.76 0 0 0-1.173.64v8.043a.76.76 0 0 0 1.173.64l6.256-4.02a.761.761 0 0 0 .06-1.238l-.06-.043zm-6.429 4.224v-7.168l5.575 3.584-5.575 3.584z",transform:"translate(355.5 159)"})]})})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;b=a;g["default"]=b}),98);
__d("FBIconRefreshLeftFilled12.svg.react",["XPlatReactSVG","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs(d("XPlatReactSVG").Svg,babelHelpers["extends"]({viewBox:"0 0 12 13",width:"1em",height:"1em",fill:"currentColor",title:a.title},a,{children:[a.children!=null&&i.jsx(d("XPlatReactSVG").Defs,{children:a.children}),i.jsx(d("XPlatReactSVG").G,{fillRule:"evenodd",transform:"translate(-450 -1073)",children:i.jsxs(d("XPlatReactSVG").G,{fillRule:"nonzero",children:[i.jsx(d("XPlatReactSVG").Path,{d:"M103.5 920a4 4 0 1 1-2.361.771.75.75 0 1 0-.887-1.21 5.5 5.5 0 1 0 3.248-1.061.75.75 0 1 0 0 1.5z",transform:"translate(352.5 156)"}),i.jsx(d("XPlatReactSVG").Path,{d:"M104.53 918.53a.75.75 0 0 0-1.06-1.06l-1.25 1.25a.75.75 0 0 0 0 1.06l1.25 1.25a.75.75 0 0 0 1.06-1.06l-.72-.72.72-.72z",transform:"translate(352.5 156)"})]})})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;b=a;g["default"]=b}),98);
__d("FDSVideoFilled12PNGIcon.react",["ix","fbicon"],(function(a,b,c,d,e,f,g,h){"use strict";a=d("fbicon")._(h("507224"),12);b=a;g["default"]=b}),98);
__d("MessengerLogoSvg.react",["react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(5),c=a.height;a=a.width;a=(a=a)!=null?a:"80";c=(c=c)!=null?c:"80";var e;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e=i.jsxs("g",{clipPath:"url(#clip0_761_9815)",children:[i.jsx("path",{d:"M79.07 38.8027C79.07 60.5762 62.0114 76.6954 40.005 76.6954C36.0529 76.6954 32.2607 76.1744 28.6964 75.1945C28.0037 75.003 27.2675 75.0573 26.6103 75.3465L18.8561 78.7696C16.8283 79.6656 14.5389 78.2229 14.4709 76.0066L14.2577 69.0567C14.2311 68.2011 13.8462 67.3998 13.2078 66.8305C5.60652 60.0325 0.940002 50.1922 0.940002 38.8027C0.940002 17.0302 17.9986 0.91 40.005 0.91C62.0114 0.91 79.07 17.0302 79.07 38.8027Z",fill:"#0866FF"}),i.jsx("path",{d:"M50.612 49.7107L64.2129 28.6911C65.5806 26.5784 63.0475 24.1193 60.9762 25.5481L46.7783 35.341C46.2997 35.6716 45.6691 35.6805 45.1817 35.3647L32.5804 27.2119C31.5137 26.5221 30.0897 26.827 29.4 27.8937L15.7981 48.9143C14.4304 51.027 16.9635 53.4861 19.0347 52.0572L33.2356 42.2634C33.7142 41.9328 34.3448 41.9239 34.8332 42.2397L47.4325 50.3925C48.4993 51.0823 49.9232 50.7774 50.613 49.7107H50.612Z",fill:"white"})]}),b[0]=e):e=b[0];var f;b[1]===Symbol["for"]("react.memo_cache_sentinel")?(f=i.jsx("defs",{children:i.jsx("clipPath",{id:"clip0_761_9815",children:i.jsx("rect",{fill:"white",height:"80",width:"80"})})}),b[1]=f):f=b[1];b[2]!==c||b[3]!==a?(e=i.jsxs("svg",{fill:"none",height:c,viewBox:"0 0 80 80",width:a,xmlns:"http://www.w3.org/2000/svg",children:[e,f]}),b[2]=c,b[3]=a,b[4]=e):e=b[4];return e}g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("AudioContextSingleton",["FBLogger"],(function(a,b,c,d,e,f,g){var h=window.AudioContext||window.webkitAudioContext||window.mozAudioContext,i=new Map();a={get:function(a){a=a==null?void 0:a.sampleRate;var b=i.get(a);if(b==null){var d=new h({sampleRate:a});i.set(a,d);return d}if(b.state==="closed"){c("FBLogger")("project").warn("AudioContext Singleton has been closed");d=new h({sampleRate:a});i.set(a,d);return d}return b}};b=a;g["default"]=b}),98);
__d("FBIconDocumentFilled12.svg.react",["XPlatReactSVG","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs(d("XPlatReactSVG").Svg,babelHelpers["extends"]({viewBox:"0 0 12 13",width:"1em",height:"1em",fill:"currentColor",title:a.title},a,{children:[a.children!=null&&i.jsx(d("XPlatReactSVG").Defs,{children:a.children}),i.jsx(d("XPlatReactSVG").G,{fillRule:"evenodd",transform:"translate(-450 -1073)",children:i.jsx(d("XPlatReactSVG").Path,{d:"M458.5 1076.5h-5a.5.5 0 1 1 0-1h5a.5.5 0 1 1 0 1m0 2h-5a.5.5 0 1 1 0-1h5a.5.5 0 1 1 0 1m-2 2h-3a.5.5 0 1 1 0-1h3a.5.5 0 1 1 0 1m2.967-7h-6.934c-.846 0-1.533.688-1.533 1.533v8.935c0 .844.688 1.532 1.533 1.532h6.934c.846 0 1.533-.688 1.533-1.533v-8.935c0-.844-.688-1.532-1.533-1.532"})})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;b=a;g["default"]=b}),98);
__d("FDSDocumentFilled20Icon",["cr:13998"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:13998")}),98);
__d("FDSDocumentFilled20PNGIcon.react",["ix","fbicon"],(function(a,b,c,d,e,f,g,h){"use strict";a=d("fbicon")._(h("728245"),20);b=a;g["default"]=b}),98);
__d("LSContactGenderToGenderConst",["GenderConst","I64","LSContactGender","LSIntEnum"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a){if((h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(c("LSContactGender").FEMALE)))return c("GenderConst").FEMALE_SINGULAR;else if((h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(c("LSContactGender").MALE)))return c("GenderConst").MALE_SINGULAR;else if((h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(c("LSContactGender").NEUTER)))return c("GenderConst").NEUTER_SINGULAR;else return c("GenderConst").NOT_A_PERSON}g["default"]=a}),98);
__d("LSIssueCommunityAdminModerationActionsFetch",["LSIssueNewTaskAndGetTaskID"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return d[0]=new c.Map(),d[0].set("fb_group_id",a[0]),d[0].set("target_user_id",a[1]),d[0].set("source",a[2]),d[0].set("thread_id",a[3]),d[0].set("request_id",a[4]),c.i64.gt(c.i64.cast([0,0]),c.i64.cast([0,0]))?(d[5]=c.i64.of_float(Date.now()),d[1]=c.i64.add(d[5],c.i64.cast([0,0]))):d[1]=c.i64.cast([0,0]),d[2]=d[0].get("fb_group_id"),d[3]=c.toJSON(d[0]),c.storedProcedure(b("LSIssueNewTaskAndGetTaskID"),c.i64.to_string(d[2]),c.i64.cast([0,428]),d[3],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,d[1],c.i64.cast([0,0])).then(function(a){return a=a,d[4]=a[0],a})},function(a){return c.resolve(e)}])}a.__sproc_name__="LSMailboxIssueCommunityAdminModerationActionsFetchStoredProcedure";a.__tables__=[];e.exports=a}),null);
__d("LSIssueCommunityAdminModerationActionsFetchStoredProcedure",["LSIssueCommunityAdminModerationActionsFetch","LSSynchronousPromise","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSIssueCommunityAdminModerationActionsFetch"),e.fbGroupId,e.targetUserId,e.source,e.threadId,e.requestId);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("LSMoveThreadToInboxAndUpdateParent",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.forEach(b.db.table(9).fetch([[[a[0]]]]),function(b){var c=b.update;b.item;return c({folderName:"inbox",parentThreadKey:a[1]})})},function(a){return b.resolve(c)}])}a.__sproc_name__="LSMailboxMoveThreadToInboxAndUpdateParentStoredProcedure";a.__tables__=["threads"];e.exports=a}),null);
__d("MAWReceiverFetchQPLLogger",["I64","MAWLoggerUtils","QPLUserFlow","QuickPerformanceLogger","qpl"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=60*1e3,k=c("qpl")._(973799425,"190"),l="error_message",m={PREVIEW_FETCH_START:"preview_fetch_start",PREVIEW_FETCH_TASK_COMPLETED:"preview_fetch_task_completed",RECEIVER_FETCH_XMA_IN_VIEW:"receiver_fetch_xma_in_view"},n={ERROR_PARSING_XMA_DATACLASS_CONTENT:"error_parsing_xma_dataclass_content",EXISTING_ATTACHMENT_IS_NULL:"existing_attachment_is_null",EXISTING_MESSAGE_IS_NULL:"existing_message_is_null",RECEIVER_FECH_PARAMS_IS_NULL:"receiver_fech_params_is_null",RECEIVER_FETCH_TASK_FAILURE:"receiver_fetch_task_failure",TYPENAME_IS_NOT_XMA_SINGLE_CONTENT:"typename_is_not_xma_single_content",XMA_DATACLASS_IS_NULL:"xma_dataclass_is_null"};function o(a,b){a=d("MAWLoggerUtils").getInstanceKeyFromId(a);a!=null&&c("QPLUserFlow").addPoint(k,b,{instanceKey:a})}function a(a,b){a=d("MAWLoggerUtils").getInstanceKeyFromId(a);a!=null&&c("QPLUserFlow").addAnnotations(k,b,{instanceKey:a})}function b(a){var b=d("MAWLoggerUtils").getInstanceKeyFromId(a);if((i||(i=c("QuickPerformanceLogger"))).isMarkerOn(k,b))return;c("QPLUserFlow").start(k,{instanceKey:b,timeoutInMs:j});o(a,m.RECEIVER_FETCH_XMA_IN_VIEW)}function e(a){o(a,m.PREVIEW_FETCH_START)}function f(a){var b=d("MAWLoggerUtils").getInstanceKeyFromId(a);o(a,m.PREVIEW_FETCH_TASK_COMPLETED);c("QPLUserFlow").endSuccess(k,{instanceKey:b})}function p(a,b,e,f){b=n[b];a=d("MAWLoggerUtils").getInstanceKeyFromId(a);c("QPLUserFlow").endFailure(k,b,{annotations:{"int":f!=null?{error_code:(h||(h=d("I64"))).to_int32(f)}:{},string:e!=null?(b={},b[l]=e,b):{}},instanceKey:a})}g.MARKER_POINTS=m;g.FAILURE_REASONS=n;g.logReceiverFetchPoint=o;g.logReceiverFetchAnnotation=a;g.logReceiverFetchXMAStartQPL=b;g.logPreviewFetchStart=e;g.logSuccess=f;g.logFailure=p}),98);
__d("MDSLockSvgIcon.react",["MDSSvgIcon.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(3),e;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e=i.jsx("path",{clipRule:"evenodd",d:"M12.25 15.5a.25.25 0 00.25-.25V12a5.5 5.5 0 1111 0v3.25c0 .138.112.25.25.25h.75a2 2 0 012 2v9a2 2 0 01-2 2h-13a2 2 0 01-2-2v-9a2 2 0 012-2h.75zm3 0h5.5a.25.25 0 00.25-.25V12a3 3 0 10-6 0v3.25c0 .138.112.25.25.25z",fillRule:"evenodd"}),b[0]=e):e=b[0];b[1]!==a?(e=i.jsx(c("MDSSvgIcon.react"),babelHelpers["extends"]({},a,{children:e})),b[1]=a,b[2]=e):e=b[2];return e}g["default"]=a}),98);
__d("MWV2MessageProfilePhotoMenuQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="9370810589694752"}),null);
__d("MWXHScroll.react",["fbt","BaseHScroll.react","CometTrackingNodeProvider.react","Locale","MWXCircleButton.react","MWXIconChevronLeft","MWXIconChevronRight","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react")),k=i.useCallback,l=d("Locale").isRTL(),m=h._(/*BTDS*/"Next items"),n=h._(/*BTDS*/"Previous items");function a(a){var b=a.arrowSize,e=a.buttonFocusable,f=a.nextButtonLabel,g=f===void 0?m:f;f=a.prevButtonLabel;var h=f===void 0?n:f;f=babelHelpers.objectWithoutPropertiesLoose(a,["arrowSize","buttonFocusable","nextButtonLabel","prevButtonLabel"]);a=k(function(a,d){return j.jsx(c("CometTrackingNodeProvider.react"),{trackingNode:419,children:j.jsx(c("MWXCircleButton.react"),{color:"secondary",disabled:d,focusable:e,icon:l?c("MWXIconChevronRight"):c("MWXIconChevronLeft"),label:h,onPress:a,size:b,testid:void 0,type:"overlay-raised"})})},[b,h]);var i=k(function(a,d){return j.jsx(c("CometTrackingNodeProvider.react"),{trackingNode:420,children:j.jsx(c("MWXCircleButton.react"),{color:"secondary",disabled:d,focusable:e,icon:l?c("MWXIconChevronLeft"):c("MWXIconChevronRight"),label:g,onPress:a,size:b,testid:void 0,type:"overlay-raised"})})},[b,e,g]);return j.jsx(d("BaseHScroll.react").HScrollContainer,babelHelpers["extends"]({},f,{nextButton:i,prevButton:a}))}a.displayName=a.name+" [from "+f.id+"]";g.Container=a;g.Child=d("BaseHScroll.react").HScrollChild}),226);
__d("MWXMessageTextWithEntities.react",["cr:5671","cr:5867","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var c=d("react-compiler-runtime").c(26);if(b("cr:5671")!=null){var e;c[0]!==a?(e=i.jsx(b("cr:5671"),babelHelpers["extends"]({},a)),c[0]=a,c[1]=e):e=c[1];return e}if(b("cr:5867")!=null){var f,g;c[2]!==a?(e=a.seeLessLinkProps,g=a.seeMoreLinkProps,f=babelHelpers.objectWithoutPropertiesLoose(a,["seeLessLinkProps","seeMoreLinkProps"]),c[2]=a,c[3]=f,c[4]=e,c[5]=g):(f=c[3],e=c[4],g=c[5]);if(c[6]!==e){a=(a=e)!=null?a:{};c[6]=e;c[7]=a}else a=c[7];var h;if(c[8]!==a){e=a;h=e.color_DEPRECATED;e=babelHelpers.objectWithoutPropertiesLoose(e,["color_DEPRECATED"]);c[8]=a;c[9]=h;c[10]=e}else h=c[9],e=c[10];if(c[11]!==g){a=(a=g)!=null?a:{};c[11]=g;c[12]=a}else a=c[12];var j;if(c[13]!==a){g=a;j=g.color_DEPRECATED;g=babelHelpers.objectWithoutPropertiesLoose(g,["color_DEPRECATED"]);c[13]=a;c[14]=j;c[15]=g}else j=c[14],g=c[15];a=h==="primary"?"primary":void 0;c[16]!==e||c[17]!==a?(h=babelHelpers["extends"]({color_DEPRECATED:a},e),c[16]=e,c[17]=a,c[18]=h):h=c[18];e=j==="primary"?"primary":void 0;c[19]!==g||c[20]!==e?(a=babelHelpers["extends"]({color_DEPRECATED:e},g),c[19]=g,c[20]=e,c[21]=a):a=c[21];c[22]!==f||c[23]!==h||c[24]!==a?(j=i.jsx(b("cr:5867"),babelHelpers["extends"]({seeLessLinkProps:h,seeMoreLinkProps:a},f)),c[22]=f,c[23]=h,c[24]=a,c[25]=j):j=c[25];return j}return null}g["default"]=a}),98);
__d("MWXSwitch.react",["cr:1926","cr:5084","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var c=d("react-compiler-runtime").c(10),e,f,g;c[0]!==a?(e=a.icon,g=a.size,f=babelHelpers.objectWithoutPropertiesLoose(a,["icon","size"]),c[0]=a,c[1]=e,c[2]=f,c[3]=g):(e=c[1],f=c[2],g=c[3]);if(b("cr:5084")){c[4]!==e||c[5]!==f||c[6]!==g?(a=i.jsx(b("cr:5084"),babelHelpers["extends"]({},f,{icon:e,size:g})),c[4]=e,c[5]=f,c[6]=g,c[7]=a):a=c[7];return a}if(b("cr:1926")){c[8]!==f?(e=i.jsx(b("cr:1926"),babelHelpers["extends"]({},f)),c[8]=f,c[9]=e):e=c[9];return e}return null}g["default"]=a}),98);
__d("MarketplaceCometReviewOffersDialogQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="9927334817327047"}),null);
__d("MarketplaceCometReviewOffersDialogQuery$Parameters",["MarketplaceCometReviewOffersDialogQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("MarketplaceCometReviewOffersDialogQuery_facebookRelayOperation"),metadata:{},name:"MarketplaceCometReviewOffersDialogQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("MarketplaceCometReviewOffersDialog.entrypoint",["JSResourceForInteraction","MarketplaceCometReviewOffersDialogQuery$Parameters","WebPixelRatio"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){a=a.listingId;return{queries:{queryReference:{options:{fetchPolicy:"network-only"},parameters:c("MarketplaceCometReviewOffersDialogQuery$Parameters"),variables:{listingId:a,scale:d("WebPixelRatio").get()}}}}},root:c("JSResourceForInteraction")("MarketplaceCometReviewOffersDialog.react").__setRef("MarketplaceCometReviewOffersDialog.entrypoint")};g["default"]=a}),98);
__d("MessagingSpecialThreadRole",[],(function(a,b,c,d,e,f){a=Object.freeze({ADMIN:1,THREAD_CREATOR:2,SUPER_ADMIN:3,MODERATOR:4,IG_BROADCAST_CHAT_COLLABORATOR:5,CHAT_HOST:6,ADMIN_VIA_PAGE:7});f["default"]=a}),66);
__d("MessagingSpecialThreadRoleBitOffset",["I64","LSBitFlag"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b){return b==null?!1:d("LSBitFlag").has((h||(h=d("I64"))).lsl_(h.one,a),b.threadRoles)}g.has=a}),98);
__d("MessengerInboxTrayConversionClickEventFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("3905");b=d("FalcoLoggerInternal").create("messenger_inbox_tray_conversion_click_event",a);e=b;g["default"]=e}),98);
__d("MessengerInboxTrayEventFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("3476");b=d("FalcoLoggerInternal").create("messenger_inbox_tray_event",a);e=b;g["default"]=e}),98);
__d("MessengerInboxTrayClickImpressionEventsLoggerImpl",["MessengerClickImpressionEventsLoggerUtils","MessengerInboxTrayConversionClickEventFalcoEvent","MessengerInboxTrayEventFalcoEvent"],(function(a,b,c,d,e,f,g){"use strict";function a(a){h(a,d("MessengerClickImpressionEventsLoggerUtils").EventTypeEnum.CLICK)}function b(a){h(a,d("MessengerClickImpressionEventsLoggerUtils").EventTypeEnum.CONVERSION)}function e(a){h(a,d("MessengerClickImpressionEventsLoggerUtils").EventTypeEnum.IMPRESSION)}function h(a,b){var e=a.id,f=a.isOnline,g=a.position,h=a.storyIds,i=a.surface;a=a.targetType;var j;if(b===d("MessengerClickImpressionEventsLoggerUtils").EventTypeEnum.CLICK)j="single_click";else if(b===d("MessengerClickImpressionEventsLoggerUtils").EventTypeEnum.CONVERSION)j="single_click";else if(b===d("MessengerClickImpressionEventsLoggerUtils").EventTypeEnum.IMPRESSION)j="vpvd_impression";else return;var k={event_type:j,surface:{entry_point:i.entry_point,major_surface:i.major_surface,minor_surface:i.minor_surface},target:{ranking:{absolute_position:g!=null?g.toString():"-1"},type:a,user:{id:e}}};f!=null&&(k=babelHelpers["extends"]({},k,{target:babelHelpers["extends"]({},k.target,{presence:{status:f?1:0}})}));if((h==null?void 0:h.firstCardId)!=null&&(h==null?void 0:h.bucketId)!=null){j=atob(h.firstCardId);i=null;j!=null&&j.includes("S:_ISC:")&&(i=j.split("S:_ISC:")[1]);k=babelHelpers["extends"]({},k,{target:babelHelpers["extends"]({},k.target,{story:{bucket_id:(g=h.bucketId)!=null?g:null,first_card_id:(a=i)!=null?a:null}})})}b===d("MessengerClickImpressionEventsLoggerUtils").EventTypeEnum.CLICK?c("MessengerInboxTrayEventFalcoEvent").log(function(){return k}):b===d("MessengerClickImpressionEventsLoggerUtils").EventTypeEnum.CONVERSION?c("MessengerInboxTrayConversionClickEventFalcoEvent").log(function(){return k}):b===d("MessengerClickImpressionEventsLoggerUtils").EventTypeEnum.IMPRESSION&&c("MessengerInboxTrayEventFalcoEvent").log(function(){return k})}g.logClickEvent=a;g.logConversionClickEvent=b;g.logImpressionEvent=e}),98);
__d("Popup",["isTruthy"],(function(a,b,c,d,e,f,g){function a(a,b,d,e){var f=[];c("isTruthy")(b)&&f.push("width="+b);c("isTruthy")(d)&&f.push("height="+d);var g=document.body;if(g!=null&&b!=null&&b!==0&&d!=null&&d!==0){var h="screenX"in window?window.screenX:window.screenLeft,i="screenY"in window?window.screenY:window.screenTop,j="outerWidth"in window?window.outerWidth:g.clientWidth;g="outerHeight"in window?window.outerHeight:g.clientHeight-22;h=Math.floor(h+(j-b)/2);j=Math.floor(i+(g-d)/2.5);f.push("left="+h);f.push("top="+j)}f.push("scrollbars");return window.open(a,e!=null&&e!==""?e:"_blank",f.join(","))}g.open=a}),98);
__d("isMWNewSearchUXEnabled",["gkx"],(function(a,b,c,d,e,f,g){"use strict";function a(){return c("gkx")("4741")}g["default"]=a}),98);
__d("useMAWPDeleteMessageForMe",["MAWBridgeSendAndReceive","MAWDbMsg","MAWGetProtocolMsgIdByMsgIdInUI","MAWJobDefinitions","MAWTimedJob","MessengerWebUXLogger","Promise","QPLUserFlow","Random","WAJobOrchestratorTypes","WebUserFlowLoggingDataContextProvider.react","gkx","promiseDone","qpl","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i;e=i||d("react");var j=e.useContext;e.useMemo;function a(){var a=d("react-compiler-runtime").c(3),e=j(d("WebUserFlowLoggingDataContextProvider.react").WebUserFlowLoggingDataContext),f=e.loggingDataRef,g=c("MessengerWebUXLogger").useInteractionLogger();a[0]!==g||a[1]!==f?(e=function(a,d){var e=[];d!=null?e.push.apply(e,d.messagesAndAttachments.map(k)):e.push(a);c("promiseDone")((h||(h=b("Promise"))).allSettled([e.map(function(a){return l(a,f,g)})]))},a[0]=g,a[1]=f,a[2]=e):e=a[2];a=e;return a}function k(a){return a.message}function l(a,b,e){var f=c("qpl")._(25308285,"2002"),g=Date.now()+(Math.round(d("Random").random()*1e4)+1e4);c("QPLUserFlow").start(f,{annotations:{string:{isEphemeralMessage:a.ephemeralDurationInSec!=null||a.ephemeralExpirationTs!=null?"true":"false",type:"secureDeleteMessageForMe"}},instanceKey:g});a=d("MAWDbMsg").toMsgId(a.messageId);if(a==null){c("QPLUserFlow").endFailure(f,"missing_msg_id",{instanceKey:g});return}return d("MAWGetProtocolMsgIdByMsgIdInUI").getProtocolMsgIdByMsgIdUI(a).then(function(a){if(a==null){e==null?void 0:e(babelHelpers["extends"]({},b.current,{eventName:"message_remove_failure",eventType:"backend",extraData:babelHelpers["extends"]({},b.current.extraData,{error:"missing_msg_id"})}));c("QPLUserFlow").endFailure(f,"missing_protocolMsgId",{instanceKey:g});return}var h;c("gkx")("1800")?h=d("MAWBridgeSendAndReceive").sendAndReceive("backend","deleteMsgsForMe",{msgIds:[a]}):h=d("MAWTimedJob").TimedUIJobStarters.waitUntilCompleted(d("MAWJobDefinitions").jobSerializers.deleteMsgsForMe([a],{priority:d("WAJobOrchestratorTypes").JOB_PRIORITY.UI_ACTION}));return h.then(function(){e==null?void 0:e(babelHelpers["extends"]({},b.current,{eventName:"message_remove_success",eventType:"backend"})),c("QPLUserFlow").endSuccess(f,{instanceKey:g})})})}g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("EBAPIMessagePointQueryWithPersistence",["EBMessagePointQueryWithPersistence"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=d("EBMessagePointQueryWithPersistence").messagePointQueryWithPersistence}),98);
__d("EBUploadMessagesFromWorkerMutationDeferred",["requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h=c("requireDeferred")("EBUploadMessagesFromWorkerMutation").__setRef("EBUploadMessagesFromWorkerMutationDeferred");function a(a){return h.load().then(function(b){return b.uploadMessagesFromWorker(a)})}g.uploadMessagesFromWorker=a}),98);
__d("EBWorkerEBSMStateUtils",["EBLS","I64","ReQL"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(a){return d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.tables.secure_encrypted_backups_client_state))}async function a(a){a=(a=a)!=null?a:await d("EBLS").getLSStorage();a=await i(a);return a==null?"clientStateRow is null":"clientStateRow:\n        backupId: "+(h||(h=d("I64"))).to_string(a.backupId)+",\n        backupTenancy: "+(a.backupTenancy==null?"null":(h||(h=d("I64"))).to_string(a.backupTenancy))+",\n        authLevel: "+(h||(h=d("I64"))).to_string(a.authorityLevel)+"\n        deviceId: "+(a.deviceId==null?"null":(h||(h=d("I64"))).to_string(a.deviceId))}g.getEBSMWorkerStateRow=i;g.getEBSMWorkerState=a}),98);
__d("EBWorkerAddDeviceWithKeys",["EBLS","EBSMAPI","EBWorkerAddDeviceUtils","EBWorkerEBDBApiDeferred","EBWorkerEBSMStateUtils","EBWorkerODSEntityName.enum","MessengerWebInitData","ODS","ReQL","WALogger","gkx"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["[wmi][ebsm] worker add device with key copy successful but ",""]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["[wmi][ebsm] worker add device with key copy successful"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["[wmi][ebsm] worker add device with key copy done: ",""]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["[wmi][ebsm] worker add device with key copy failed, error: ",""]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["[wmi][ebsm] worker add device with key copy eb state tables start"]);m=function(){return a};return a}function n(){var a=babelHelpers.taggedTemplateLiteralLoose(["[wmi][ebsm] worker add device with key get auto restore param failed: ",""]);n=function(){return a};return a}function o(){var a=babelHelpers.taggedTemplateLiteralLoose(["[wmi][ebsm] worker add device with key get auto restore param end"]);o=function(){return a};return a}function p(){var a=babelHelpers.taggedTemplateLiteralLoose(["[wmi][ebsm] worker add device with key get auto restore param start"]);p=function(){return a};return a}function q(){var a=babelHelpers.taggedTemplateLiteralLoose(["[wmi][ebsm] worker add device with key calling EBAPI"]);q=function(){return a};return a}function r(){var a=babelHelpers.taggedTemplateLiteralLoose(["[wmi][ebsm] worker add device with key got add device param, param is ",""]);r=function(){return a};return a}function s(){var a=babelHelpers.taggedTemplateLiteralLoose(["[wmi][ebsm] worker add device with key not run, device already exist"]);s=function(){return a};return a}function t(){var a=babelHelpers.taggedTemplateLiteralLoose(["[wmi][ebsm] worker add device with key got client state row"]);t=function(){return a};return a}function u(){var a=babelHelpers.taggedTemplateLiteralLoose(["[wmi][ebsm] worker add device with key start"]);u=function(){return a};return a}function v(){var a=babelHelpers.taggedTemplateLiteralLoose(["[wmi][ebsm] Add device with key: session id is null from MessengerWebInitData"]);v=function(){return a};return a}function w(){var a=babelHelpers.taggedTemplateLiteralLoose(["[wmi][ebsm] worker add device with key returned early - not in worker or gk not passed"]);w=function(){return a};return a}function x(){var a=babelHelpers.taggedTemplateLiteralLoose(["[wmi][ebsm] worker add device with key triggered"]);x=function(){return a};return a}async function a(a){d("WALogger").LOG(x());if(!c("gkx")("11709")){d("WALogger").LOG(w());return}var b=d("MessengerWebInitData").sessionId;if(b==null){d("WALogger").ERROR(v());return}var e=a;d("WALogger").LOG(u());(h||(h=d("ODS"))).bumpEntityKey(7319,c("EBWorkerODSEntityName.enum").EB_WORKER_ADD_DEVICE_WITH_KEYS,e+".start");var f=a===c("EBWorkerODSEntityName.enum").MW_EB_AUTO_RESTORE_WORKER,g=await d("EBLS").getLSStorage(),i=await d("EBWorkerEBSMStateUtils").getEBSMWorkerStateRow(g);d("WALogger").LOG(t());if(i!=null&&!f){d("WALogger").LOG(s());B(e);return}f=await (f&&i!=null?y(g,i,e):i==null?z(g,e):null);d("WALogger").LOG(r(),f!=null?"not null":"null");if(f!=null){d("WALogger").LOG(q());B(e);return c("EBSMAPI").addDeviceWithEBKeys(babelHelpers.extends({},f,{db:g,isInWorker:!0,newDeviceRegistrationId:b,source:a,trackAddingDevice:function(a){void d("EBWorkerEBDBApiDeferred").addNewDevice(a)}}))}}async function y(a,b,c){d("WALogger").LOG(p());var e=b==null?void 0:b.deviceId;a=await d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.tables.secure_encrypted_backups_epochs)).then(function(a){return a!=null});if(a&&e!=null){d("WALogger").LOG(o());return{backupId:b.backupId,previousDeviceId:e}}d("WALogger").ERROR(n(),a?"epoch not found":"device id is null");A(c);return null}async function z(a,b){d("WALogger").LOG(m());await c("EBSMAPI").fetchBackupIds(a,{isInWorker:!0});var e=await d("EBWorkerAddDeviceUtils").copyEBStateTablesFromMainthreadToWorker(["secure_encrypted_backups_epochs","secure_encrypted_backups_client_state"],a).catch(function(a){d("WALogger").ERROR(l(),a);A(b);return null});d("WALogger").LOG(k(),e);if(e==="success"){d("WALogger").LOG(j());a=await d("EBWorkerEBSMStateUtils").getEBSMWorkerStateRow(a);var f=a==null?void 0:a.deviceId;if(a==null||f==null){d("WALogger").ERROR(i(),a==null?"client state row is null":"device id is null");return null}return{backupId:a.backupId,previousDeviceId:f}}else if(e==="fail"){A(b);return null}else{B(b,e);return null}}function A(a){(h||(h=d("ODS"))).bumpEntityKey(7319,c("EBWorkerODSEntityName.enum").EB_WORKER_ADD_DEVICE_WITH_KEYS,a+".fail")}function B(a,b){(h||(h=d("ODS"))).bumpEntityKey(7319,c("EBWorkerODSEntityName.enum").EB_WORKER_ADD_DEVICE_WITH_KEYS,a+".success"+(b!=null?"."+b:""))}g.addDeviceWithKeysInWorker=a}),98);
__d("LSMqttEnvInitializer",["CurrentMessengerUser","MqttEnv","MqttEnvConfigStorage","MqttEnvInitializer","MqttLogger","Random","clearTimeout","qex","setTimeoutAcrossTransitions"],(function(a,b,c,d,e,f,g){"use strict";a={initialize:function(a,b,e,f){var g=c("qex")._("789"),h=g!=null&&g!=="default"?g:null;d("MqttEnv").Env.initialize(c("Random").random,(g=a)!=null?g:d("CurrentMessengerUser").isLoggedInNow,c("clearTimeout"),c("setTimeoutAcrossTransitions"),function(){return c("MqttLogger").getInstance(h)},function(a){return b!=null&&b[a]!=null?b[a]:c("MqttEnvInitializer").genGk(a)},null,null,null,(a=e)!=null?a:d("MqttEnvConfigStorage").configRead,(g=f)!=null?g:d("MqttEnvConfigStorage").configWrite)}};b=a;g["default"]=b}),98);
__d("LSMqttChannel",["FBLogger","LSMqttEnvInitializer","MqttChannel","MqttConfig","WAResolvable"],(function(a,b,c,d,e,f,g){"use strict";function h(a,b,d,e,f,g,h){c("LSMqttEnvInitializer").initialize(b,d,e,f);(g==null||g===c("MqttConfig").appID)&&c("FBLogger")("S521050_debug_logging").warn("Constructing an MQTT client without a specified App ID.");return new(c("MqttChannel"))({appId:(b=g)!=null?b:c("MqttConfig").appID,capabilities:c("MqttConfig").capabilities,chatVisibility:c("MqttConfig").chatVisibility,clientCapabilities:c("MqttConfig").clientCapabilities,deviceId:a,endpoint:c("MqttConfig").endpoint,guestAuthString:h,initialSubscribedTopics:c("MqttConfig").subscribedTopics,phpOverride:c("MqttConfig").hostNameOverride,pollingEndpoint:c("MqttConfig").pollingEndpoint,userFbid:c("MqttConfig").fbid})}var i=null,j=new(d("WAResolvable").Resolvable)();function a(a,b,c,d,e,f,g){if(i==null){a=h(a,b,c,d,e,f,g);i=a;j.resolve(a);return a}else return i}function b(){i!=null&&(i.shutdown(),i=null,j=new(d("WAResolvable").Resolvable)())}function e(){return j.promise}f={getInstance:a,getMqttChannelPromise:e,shutdownAndClear:b};g["default"]=f}),98);
__d("MAWLoadDbMigrationVersion",["MAWCurrentUser","MAWDBMigrationUtils","MAWDbAppMeta","MAWDbObjEncryption","MAWIndexedDbMetadata","Promise","WATagsLogger"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["[MAWLoadDbMigrationVersion] "," blocked"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["[MAWLoadDbMigrationVersion] "," error ",""]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["[MAWLoadDbMigrationVersion] Error accessing appMeta: ",""]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["[MAWLoadDbMigrationVersion] Request error: ",""]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["[MAWLoadDbMigrationVersion] Transaction error: ",""]);m=function(){return a};return a}function n(){var a=babelHelpers.taggedTemplateLiteralLoose(["[MAWLoadDbMigrationVersion] "," onupgradeneeded - closing db"]);n=function(){return a};return a}var o=d("WATagsLogger").TAGS(["DB","MIGRATION_VERSION"]);function a(a){var c=d("MAWCurrentUser").getID(),e=d("MAWIndexedDbMetadata").dbName(c);return new(h||(h=b("Promise")))(function(b){if(!indexedDB){b();return}var c=indexedDB.open(e);c.onupgradeneeded=function(a){a.target.transaction.abort();a=a.target.result;o.LOG(n(),e);a==null?void 0:a.close();b()};c.onsuccess=function(c){var e=c.target.result;if(e==null){b();return}try{c=e.transaction("appMeta","readonly");c.onerror=function(a){o.LOG(m(),(a=a.target.error)==null?void 0:a.message);e.close();b()};c=c.objectStore("appMeta");c=c.get(d("MAWDbAppMeta").AppMetaKeysEnum.dbMigrationVersion);c.onerror=function(a){o.LOG(l(),(a=a.target.error)==null?void 0:a.message);e.close();b()};c.onsuccess=function(c){e.close();c=c.target.result;if(c!=null){c=d("MAWDbObjEncryption").decryptDbObj(babelHelpers["extends"]({},c),"appMeta",a);c=c.value.dbMigrationVersion;c!=null&&(d("MAWDBMigrationUtils").mawDbMigrationVersion.version=c)}b()}}catch(a){o.LOG(k(),a.message),e.close(),b()}};c.onerror=function(a){o.LOG(j(),e,a==null?void 0:(a=a.target)==null?void 0:(a=a.error)==null?void 0:a.message);b()};c.onblocked=function(a){a=a.target.result;o.LOG(i(),e);a==null?void 0:a.close()}})}g["default"]=a}),98);
__d("MAWMediaManagerDeferred",["promiseDone","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h=c("requireDeferred")("MAWMediaManager").__setRef("MAWMediaManagerDeferred");function a(a){c("promiseDone")(h.load().then(function(b){b.getMawMediaManager().dequeueDownload(a)}))}g.dequeueDownload=a}),98);
__d("MAWShadowTestMediaStorage",["MAWBridge","MAWQplProxy","Random","WAErrorMessage","WATagsLogger","qpl"],(function(a,b,c,d,e,f,g){"use strict";function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["runMediaStorageShadowTesting failed: ",""]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["runMediaStorageShadowTesting succeeded"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["runMediaStorageShadowTesting started"]);j=function(){return a};return a}var k=d("WATagsLogger").TAGS(["MediaStorageShadowTest"]),l=["webcache","opfs"],m=9e4;async function a(a){k.LOG(j());var b=function(b){var e=d("Random").uint32(),f=d("MAWQplProxy").startQplUserFlow(c("qpl")._(521472095,"2859"),{int:{input_file_size:a.byteLength},string:{storage_type:b}},{providedInstanceKey:e,providedTimeoutInMs:m});return d("MAWBridge").getBridge().sendAndReceive("event","getMediaStorageResult",{file_bytes:a,storage_type:b}).then(function(a){a.success?(k.LOG(i()),f.endSuccess({double:{cleanup_latency:a.value.cleanupLatency,read_latency:a.value.readLatency,setup_latency:a.value.setupLatency,write_latency:a.value.writeLatency}})):(f.addAnnotations({string:{error_message:a.error.errorMessage,error_name:a.error.errorName}}),f.endFail("shadow_test_fail"))}).catch(function(a){k.ERROR(h(),a),f.endFail("shadow_test_bridge_fail",{string:{errorMessage:d("WAErrorMessage").maybeGetMessageFromError(a)}})})};for(var e of l)await b(e)}g.runMediaStorageShadowTesting=a}),98);
__d("MWPExecuteTaskBridge",["FBLogger","QuickPerformanceLogger","cr:6551"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,d,e){var f=d.event,g=d.taskID;(h||(h=c("QuickPerformanceLogger"))).markerPoint(f,"execute_task_through_bridge",{instanceKey:g});if(b("cr:6551")==null||b("cr:6551")[e]==null){(h||(h=c("QuickPerformanceLogger"))).markerPoint(f,"handler_not_found",{instanceKey:g});throw c("FBLogger")("messenger_web").mustfixThrow("[LS] No bridge task handler found for %s",e)}h.markerPoint(f,"bridge_api_call",{instanceKey:g});return b("cr:6551")[e](a,d)}g.executeTask=a}),98);
__d("MWPHandleNativeTask",["FBLogger","I64","LSHandleTaskSendFailureForQueue2","LSHandleTaskSendSuccessForQueue2","LSJson","MWPExecuteTaskBridge","QuickPerformanceLogger","ReQL","isNativeTask","qpl"],(function(a,b,c,d,e,f,g){"use strict";var h,i;async function a(a,b,e){var g=b.queue_name;b=c("qpl")._(164763515,"1216");var k=await d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.tables.pending_tasks.index("queueNameTaskId")).getKeyRange(g).filter(c("isNativeTask")));if(k==null){(i||(i=c("QuickPerformanceLogger"))).markerPoint(b,"fetch_pending_task_failed");c("FBLogger")("messenger_web").warn("[LS] MWPHandleNativeTask: Error cannot find a pending task for queue: %s",g);return}if(!c("isNativeTask")(k)){(i||(i=c("QuickPerformanceLogger"))).markerPoint(b,"non_native_task_found");c("FBLogger")("messenger_web").warn("[LS] MWPHandleNativeTask: Non-Native tasks should not be handled by MWPHandleNativeTask.",g);return}var l=(h||(h=d("I64"))).to_float(k==null?void 0:k.taskId);(i||(i=c("QuickPerformanceLogger"))).markerStart(b,l);i.markerAnnotate(b,{string:{source:"MWPHandleNativeTask_handleTask"}},{instanceKey:l});i.markerPoint(b,"fetch_pending_task",{instanceKey:l});var m;try{(i||(i=c("QuickPerformanceLogger"))).markerPoint(b,"parse_task",{instanceKey:l}),m=j(k)}catch(a){(i||(i=c("QuickPerformanceLogger"))).markerPoint(b,"parse_task_failed",{instanceKey:l});c("FBLogger")("messenger_web").catching(a).warn("Error parsing native task payload with pluginType %s and transportKey %s for queue: %s",(h||(h=d("I64"))).to_string(k.pluginType),k.transportKey,g);return}var n=k.context;try{(i||(i=c("QuickPerformanceLogger"))).markerPoint(b,"task_execute",{instanceKey:l}),i.markerAnnotate(b,{string:{source:"MWPHandleNativeTask_handleTask",task:JSON.stringify(k),taskName:n}},{instanceKey:l}),await d("MWPExecuteTaskBridge").executeTask(m,{actorID:e,event:b,source:"MWPHandleNativeTask_handleTask",taskID:(h||(h=d("I64"))).to_float(k.taskId)},n),i.markerPoint(b,"task_execute_success",{instanceKey:l}),await a.runInTransaction(async function(a){await c("LSHandleTaskSendSuccessForQueue2")(a,g);return a.pending_tasks.delete(k.taskId)},"readwrite","background",void 0,f.id+":125"),i.markerEnd(b,2,l)}catch(d){(i||(i=c("QuickPerformanceLogger"))).markerPoint(b,"task_execute_failed",{instanceKey:l});i.markerEnd(b,3,l);c("FBLogger")("messenger_web").catching(d).mustfix("Error handling native task for %s.",k==null?void 0:k.context);try{await a.runInTransaction(function(a){return c("LSHandleTaskSendFailureForQueue2")(a,g)},"readwrite",void 0,void 0,f.id+":151")}catch(a){c("FBLogger")("messenger_web").catching(a).mustfix("Error bumping failure cound for task")}}}function j(a){if(a.taskValue==null)throw c("FBLogger")("messenger_web").warn("[LS] MWPHandleNativeTask: task value is null, nothing to parse");try{var b=a.taskValue!==""?d("LSJson").parse(a.taskValue):"";return b}catch(b){throw c("FBLogger")("messenger_web").catching(b).mustfix("[LS] Error parsing native task payload for queue: %s, falling back to null payload",a.queueName)}}b={handleLSWork:a};g.default=b}),98);
__d("WAAPIMetrics",["WAGlobals","WAJids","WAPREList","WAPREMetrics"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,c){c===void 0&&(c={});return function(){var d=h(b,c);for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return a.apply(void 0,[d].concat(f)).then(function(a){d.endSuccess();return a})["catch"](function(a){d.endFail("error",{string:{error:""+a.toString()}});throw a})}}function h(a,b){b===void 0&&(b={});var c=null;try{c=d("WAGlobals").getDependencies().isEmployee()&&d("WAGlobals").getDependencies().isUseridAnnotationEnabled()?d("WAJids").extractUserId(d("WAGlobals").getMyUserJid()).slice(-5):null}catch(a){}return d("WAPREMetrics").startMetric(d("WAPREList").PRE_METRIC.WA_JOB_MANAGER,babelHelpers["extends"]({},b,{string:babelHelpers["extends"]({},(b=(b=b)==null?void 0:b.string)!=null?b:{},{name:a,userHash:c})}))}g.withMetrics=a}),98);
__d("WAAPIDeferred",["WAAPIMetrics","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h=(a=c("requireDeferred"))("WABulkSetRotateSenderKeyToTrueApi").__setRef("WAAPIDeferred"),i=a("WADbRegistrationApiV2").__setRef("WAAPIDeferred"),j=a("WADownloadMedia").__setRef("WAAPIDeferred"),k=a("WAGenerateAndUploadPreKeys").__setRef("WAAPIDeferred"),l=a("WAGetCurrentUserDeviceList").__setRef("WAAPIDeferred"),m=a("WAGetDevices").__setRef("WAAPIDeferred"),n=a("WANotifyDeviceChange").__setRef("WAAPIDeferred"),o=a("WAQueryGroups").__setRef("WAAPIDeferred"),p=a("WARemoveCurrentDevice").__setRef("WAAPIDeferred"),q=a("WARemoveDevice").__setRef("WAAPIDeferred"),r=a("WASendAppDataFanoutProtocol").__setRef("WAAPIDeferred"),s=a("WASendMsgUtilV2").__setRef("WAAPIDeferred"),t=a("WASendPing").__setRef("WAAPIDeferred"),u=a("WASyncAbProps").__setRef("WAAPIDeferred"),v=a("WAUploadMedia").__setRef("WAAPIDeferred");b={getCurrentUserDeviceList:function(){return l.load().then(function(a){return d("WAAPIMetrics").withMetrics(a.getCurrentUserDeviceList,"getCurrentUserDeviceList")()})},syncAbProps:function(){for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];return u.load().then(function(a){return d("WAAPIMetrics").withMetrics(a.syncAbProps,"syncAbProps").apply(void 0,b)})},generateAndUploadPreKeys:function(){for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];return k.load().then(function(a){return d("WAAPIMetrics").withMetrics(a.generateAndUploadPreKeys,"generateAndUploadPreKeys",{bool:{deferred_load:!0}}).apply(void 0,b)})},getDevicesBeforeSend:function(){for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];return s.load().then(function(a){a=a.getDevicesBeforeSend;return d("WAAPIMetrics").withMetrics(a,"getDevicesBeforeSend",{bool:{deferred_load:!0}}).apply(void 0,b)})},sendChatMessage:function(){for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];return s.load().then(function(a){a=a.sendChatMessage;return d("WAAPIMetrics").withMetrics(a,"sendChatMessage",{bool:{deferred_load:!0}}).apply(void 0,b)})},updateClockSkew:function(){for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];return t.load().then(function(a){return d("WAAPIMetrics").withMetrics(a.updateClockSkew,"updateClockSkew",{bool:{deferred_load:!0}}).apply(void 0,b)})},queryGroups:function(){for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];return o.load().then(function(a){return d("WAAPIMetrics").withMetrics(a.queryGroups,"queryGroups",{bool:{deferred_load:!0}}).apply(void 0,b.concat([!1]))})},getDevices:function(){for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];return m.load().then(function(a){return d("WAAPIMetrics").withMetrics(a.getDevices,"getDevices",{bool:{deferred_load:!0}}).apply(void 0,b)})},removeDevice:function(){for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];return q.load().then(function(a){return d("WAAPIMetrics").withMetrics(a.removeDevice,"=>",{bool:{deferred_load:!0}}).apply(void 0,b)})},removeCurrentDevice:function(){return p.load().then(function(a){return d("WAAPIMetrics").withMetrics(a.removeCurrentDevice,"removeCurrentDevice",{bool:{deferred_load:!0}})()})},notifyDeviceChange:function(){for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];return n.load().then(function(a){return d("WAAPIMetrics").withMetrics(a.notifyDeviceChange,"notifyDeviceChange",{bool:{deferred_load:!0}}).apply(void 0,b)})},saveLastSessionDeviceWasLinkedTo:function(){for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];return i.load().then(function(a){return d("WAAPIMetrics").withMetrics(a.saveLastSessionDeviceWasLinkedTo,"saveLastSessionDeviceWasLinkedTo").apply(void 0,b)})},sendAppData:function(){for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];return r.load().then(function(a){return d("WAAPIMetrics").withMetrics(a.sendAppDataToDevicesProtocol,"sendAppData",{bool:{deferred_load:!0}}).apply(void 0,b)})},setRotateSenderKeyToTrue:function(){for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];return h.load().then(function(a){return d("WAAPIMetrics").withMetrics(a.bulkSetRotateSenderKeyToTrue,"setRotateSenderKeyToTrue").apply(void 0,b)})},uploadMedia:function(a){return v.load().then(function(b){return b.uploadMedia(a)})},downloadMedia:function(a){return j.load().then(function(b){return b.downloadMedia(a)})},cachedDownloadFullMediaOnly:function(a){return j.load().then(function(b){return b.cachedDownloadFullMediaOnly(a)})}};e=b;g["default"]=e}),98);
__d("WAAPIEager",["WAAPIMetrics","WABulkSetRotateSenderKeyToTrueApi","WADbPersonalSenderKeyStatusTxnsV2","WADbRegistrationApiV2","WADexieToWormMigration","WADownloadMedia","WAGenerateAndUploadPreKeys","WAGetCurrentUserDeviceList","WAGetDevices","WANotifyDeviceChange","WAQueryGroups","WARemoveCurrentDevice","WARemoveDevice","WASendAppDataFanoutProtocol","WASendMsgUtilV2","WASendPing","WASyncAbProps","WAUploadMedia"],(function(a,b,c,d,e,f,g){"use strict";a={getCurrentUserDeviceList:function(){return d("WAAPIMetrics").withMetrics(d("WAGetCurrentUserDeviceList").getCurrentUserDeviceList,"getCurrentUserDeviceList")()},syncAbProps:function(){return d("WAAPIMetrics").withMetrics(d("WASyncAbProps").syncAbProps,"syncAbProps").apply(void 0,arguments)},generateAndUploadPreKeys:function(){return d("WAAPIMetrics").withMetrics(d("WAGenerateAndUploadPreKeys").generateAndUploadPreKeys,"generateAndUploadPreKeys").apply(void 0,arguments)},getDevicesBeforeSend:function(){return d("WAAPIMetrics").withMetrics(d("WASendMsgUtilV2").getDevicesBeforeSend,"getDevicesBeforeSend").apply(void 0,arguments)},sendChatMessage:function(){return d("WAAPIMetrics").withMetrics(d("WASendMsgUtilV2").sendChatMessage,"sendChatMessage").apply(void 0,arguments)},updateClockSkew:function(){return d("WAAPIMetrics").withMetrics(d("WASendPing").updateClockSkew,"updateClockSkew").apply(void 0,arguments)},queryGroups:function(){for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];return d("WAAPIMetrics").withMetrics(d("WAQueryGroups").queryGroups,"queryGroups").apply(void 0,b.concat([!1]))},getDevices:function(){return d("WAAPIMetrics").withMetrics(d("WAGetDevices").getDevices,"getDevices").apply(void 0,arguments)},removeDevice:function(){return d("WAAPIMetrics").withMetrics(d("WARemoveDevice").removeDevice,"removeDevice").apply(void 0,arguments)},removeCurrentDevice:function(){return d("WAAPIMetrics").withMetrics(d("WARemoveCurrentDevice").removeCurrentDevice,"removeCurrentDevice")()},notifyDeviceChange:function(){return d("WAAPIMetrics").withMetrics(d("WANotifyDeviceChange").notifyDeviceChange,"notifyDeviceChange").apply(void 0,arguments)},saveLastSessionDeviceWasLinkedTo:function(){return d("WAAPIMetrics").withMetrics(d("WADbRegistrationApiV2").saveLastSessionDeviceWasLinkedTo,"saveLastSessionDeviceWasLinkedTo").apply(void 0,arguments)},sendAppData:function(){return d("WAAPIMetrics").withMetrics(d("WASendAppDataFanoutProtocol").sendAppDataToDevicesProtocol,"sendAppData").apply(void 0,arguments)},setRotateSenderKeyToTrue:function(){return d("WAAPIMetrics").withMetrics(function(a,b){return d("WADexieToWormMigration").isWorm("WAAPIEager")?d("WADbPersonalSenderKeyStatusTxnsV2").bulkSetRotateSenderKeyToTrue(b):d("WABulkSetRotateSenderKeyToTrueApi").bulkSetRotateSenderKeyToTrue(a,b)},"setRotateSenderKeyToTrue").apply(void 0,arguments)},uploadMedia:function(a){return d("WAUploadMedia").uploadMedia(a)},downloadMedia:function(a){return d("WADownloadMedia").downloadMedia(a)},cachedDownloadFullMediaOnly:function(a){return d("WADownloadMedia").cachedDownloadFullMediaOnly(a)}};b=a;g["default"]=b}),98);/*FB_PKG_DELIM*/
__d("TCompactProtocol",["StringToUtf8","ThriftTypes","Utf8ToString"],(function(a,b,c,d,e,f,g){var h,i=Object.freeze({CT_STOP:0,CT_BOOLEAN_TRUE:1,CT_BOOLEAN_FALSE:2,CT_BYTE:3,CT_I16:4,CT_I32:5,CT_I64:6,CT_DOUBLE:7,CT_BINARY:8,CT_LIST:9,CT_SET:10,CT_MAP:11,CT_STRUCT:12,CT_FLOAT:13}),j=Object.freeze({NONE:-1,CT_BOOLEAN_TRUE:i.CT_BOOLEAN_TRUE,CT_BOOLEAN_FALSE:i.CT_BOOLEAN_FALSE}),k=[i.CT_STOP,0,i.CT_BOOLEAN_TRUE,i.CT_BYTE,i.CT_DOUBLE,0,i.CT_I16,0,i.CT_I32,0,i.CT_I64,i.CT_BINARY,i.CT_STRUCT,i.CT_MAP,i.CT_SET,i.CT_LIST,0,0,0,i.CT_FLOAT],l=Math.pow(2,7)-1,m=-1*Math.pow(2,7),n=Math.pow(2,15)-1,o=-1*Math.pow(2,15),p=Math.pow(2,31)-1,q=-1*Math.pow(2,31),r=Math.pow(2,32)-1,s=BigInt("9223372036854775807"),t=BigInt("-9223372036854775808"),u=BigInt("18446744073709551615"),v=BigInt(63),w=BigInt(1),x=BigInt(7),y=BigInt("0x7f"),z=BigInt("0x80"),A=Math.pow(2,4);a=function(){function a(a){this.$4=null,this.$5=null,this.$1=a,this.$2=[],this.$3=0,this.$6=new DataView(new ArrayBuffer(1))}var b=a.prototype;b.readStructBegin=function(){this.$2.push(this.$3),this.$3=0};b.readStructEnd=function(){this.$3=this.$2.pop();return 0};b.writeStructBegin=function(a){this.$2.push(this.$3);this.$3=0;return 0};b.writeStructEnd=function(){this.$3=this.$2.pop();return 0};b.writeFieldBegin=function(a){if(a.ftype===(h||(h=c("ThriftTypes"))).BOOL){this.$4={fid:a.fid,fname:a.fname,ftype:a.ftype};return 0}else return this.$7(a,j.NONE)};b.writeListBegin=function(a){return this.$8(a)};b.writeListEnd=function(){return 0};b.writeSetBegin=function(a){return this.$8(a)};b.writeSetEnd=function(){return 0};b.writeMapBegin=function(a){var b=0;if(a.size===0)b+=this.$1.writeByte(0);else{b+=this.writeVarint32(a.size);if(a.ktype!=null&&a.vtype!=null)b+=this.$1.writeByte(this.$9(a.ktype)<<4|this.$9(a.vtype));else throw new Error("received invalid map info: "+JSON.stringify(a))}return b};b.writeMapEnd=function(){return 0};b.$7=function(a,b){var c=0;b=b===j.NONE?this.$9(a.ftype):b;a.fid>this.$3&&a.fid-this.$3<=A-1?c+=this.$1.writeByte(a.fid-this.$3<<4|b):(c+=this.$1.writeByte(b),c+=this.writeI16(a.fid));this.$3=a.fid;return c};b.$8=function(a){var b=0,c=this.$9(a.etype);a.size<=A-2?b+=this.$1.writeByte(a.size<<4|c):(b+=this.$1.writeByte(240|c),b+=this.writeVarint32(a.size));return b};b.readFieldBegin=function(){var a=this.$1.readByte(),b=a&15;if(b===(h||(h=c("ThriftTypes"))).STOP)return{ftype:(h||(h=c("ThriftTypes"))).STOP,fid:0};a=(a&240)>>>4;var d;a===0?d=this.readI16():d=this.$3+a;a=this.$10(b);(b===i.CT_BOOLEAN_TRUE||b===i.CT_BOOLEAN_FALSE)&&(this.$5=b===i.CT_BOOLEAN_TRUE);this.$3=d;return{ftype:a,fid:d}};b.readListBegin=function(){return this.$11()};b.readListEnd=function(){return 0};b.readSetBegin=function(){return this.$11()};b.readSetEnd=function(){return 0};b.readMapBegin=function(){var a=this.readVarint32();if(a>0){var b=this.$1.readByte(),c=this.$12(b>>4,"readMapBegin:key");b=this.$12(b&15,"readMapBegin:value");return{ktype:this.$10(c),vtype:this.$10(b),size:a}}return{size:a}};b.readMapEnd=function(){return 0};b.$12=function(a,b){if(a<0||a>13)throw new Error(b+" read invalid compact type: "+a);return a};b.$11=function(){var a=this.$1.readByte(),b=this.$12(a&15,"_readListOrSetBegin");b=this.$10(b);a=a>>4&15;a===15&&(a=this.readVarint32());return{etype:b,size:a}};b.readFieldEnd=function(){return 0};b.readByte=function(){this.$6.setUint8(0,this.$1.readByte());return this.$6.getInt8(0)};b.writeByte=function(a){if(a<m||a>l)throw new Error("byte to write is out of range: "+a);this.$6.setInt8(0,a);return this.$1.writeByte(this.$6.getUint8(0))};b.readFloat=function(){return this.$1.readFloatBE()};b.writeFloat=function(a){return this.$1.writeFloatBE(a)};b.readDouble=function(){return this.$1.readDoubleBE()};b.writeDouble=function(a){return this.$1.writeDoubleBE(a)};b.writeString=function(a){return this.writeBinary(d("StringToUtf8").StringToUtf8(a))};b.skip=function(a){switch(a){case(h||(h=c("ThriftTypes"))).STOP:return;case(h||(h=c("ThriftTypes"))).BOOL:this.readBool();break;case(h||(h=c("ThriftTypes"))).BYTE:this.readByte();break;case(h||(h=c("ThriftTypes"))).DOUBLE:this.readDouble();break;case(h||(h=c("ThriftTypes"))).I16:this.readI16();break;case(h||(h=c("ThriftTypes"))).I32:this.readI32();break;case(h||(h=c("ThriftTypes"))).I64:this.readI64();break;case(h||(h=c("ThriftTypes"))).STRING:this.readString();break;case(h||(h=c("ThriftTypes"))).STRUCT:this.readStructBegin();var b;while(!0){b=this.readFieldBegin();if(b.ftype===(h||(h=c("ThriftTypes"))).STOP)break;this.skip(b.ftype)}this.readStructEnd();break;case(h||(h=c("ThriftTypes"))).MAP:b=this.readMapBegin();if(b.size>0&&b.ktype!=null&&b.vtype!=null){var d=b.ktype,e=b.vtype;for(var f=0;f<b.size;f++)this.skip(d),this.skip(e)}break;case(h||(h=c("ThriftTypes"))).SET:case(h||(h=c("ThriftTypes"))).LIST:f=this.$11();for(d=0;d<f.size;d++)this.skip(f.etype);break;case(h||(h=c("ThriftTypes"))).FLOAT:this.readFloat();break;default:throw new Error("encoutered unknow thrift type: "+a+" in skip")}};b.toByteArray=function(){return this.$1.toByteArray()};b.writeFieldEnd=function(){return 0};b.writeFieldStop=function(){return this.$1.writeByte((h||(h=c("ThriftTypes"))).STOP)};b.writeI16=function(a){if(a<o||a>n)throw new Error("trying to write i16 out of range: "+a);return this.writeVarint32(this.i32ToZigzag(a))};b.readI16=function(){var a=this.zigzagToI32(this.readVarint32());if(a<o||a>n)throw new Error("read invalid i16: "+a);return a};b.writeI32=function(a){if(a<q||a>p)throw new Error("i32 out of range: "+a);return this.writeVarint32(this.i32ToZigzag(a))};b.readI32=function(){return this.zigzagToI32(this.readVarint32())};b.writeI64=function(a){return this.writeVarint64(this.i64ToZigzag(a))};b.readI64=function(){return this.zigzagToI64(this.readVarint64())};b.readBool=function(){var a;this.$5!=null?(a=this.$5,this.$5=null):a=this.$1.readByte()===i.CT_BOOLEAN_TRUE;return a};b.writeBool=function(a){var b=0;this.$4!=null?(b+=this.$7(this.$4,a?j.CT_BOOLEAN_TRUE:j.CT_BOOLEAN_FALSE),this.$4=null):b+=this.$1.writeByte(a?i.CT_BOOLEAN_TRUE:i.CT_BOOLEAN_FALSE);return b};b.readBinary=function(){var a=this.readVarint32();return a===0?new Uint8Array(0):this.$1.readBytes(a)};b.writeBinary=function(a){var b=0;b+=this.writeVarint32(a.length);b+=this.$1.write(a);return b};b.i32ToZigzag=function(a){if(a<q||a>p)throw new Error("number: "+a+" is out of range of i32");return(a<<1^(a<0?4294967295:0))>>>0};b.zigzagToI32=function(a){if(a<0||a>r)throw new Error("number: "+a+" is out of range of uint32");return a>>>1^-1*(a&1)};b.i64ToZigzag=function(a){if(a>s||a<t)throw new Error("i64 out of range: "+a.toString());return a>>v^a<<w};b.zigzagToI64=function(a){if(a<0||a>u)throw new Error("invalid uint64: "+a.toString());return(a&w)===w?~(a>>w):a>>w};b.writeVarint32=function(a){if(a<0||a>r)throw new Error("writeVarint32 received out of range uint32: "+a);a=a;var b=0;while(!0)if(a>>>7===0){this.$1.writeByte(a);b++;break}else this.$1.writeByte(a&127|128),b++,a>>>=7;return b};b.readVarint32=function(){var a=0,b=0,c;while(!0){c=this.$1.readByte();a=(a|(c&127)<<b)>>>0;b+=7;if((c&128)==0){if(b===35&&(c&240)!=0)throw new Error("result exceeded 32 bit limit");break}if(b>28)throw new Error("result exceeded 32 bit limit")}return a};b.writeVarint64=function(a){if(a<0||a>u)throw new Error("invalid uint64: "+a.toString());a=a;var b=0;while(!0)if(a>>x==0){this.$1.writeByte(Number(a));b++;break}else this.$1.writeByte(Number(a&y|z)),b++,a>>=x;return b};b.readVarint64=function(){var a=BigInt(0),b=BigInt(0),c;while(!0){c=BigInt(this.$1.readByte());a|=(c&y)<<b;b+=x;if((c&z)==0){if(b==70&&c!==w)throw new Error("result exceeded 64 bit limit");break}if(b>63)throw new Error("result exceeded 64 bit limit")}return a};b.readString=function(){return d("Utf8ToString").Utf8ToString(this.readBinary())};b.getLastFieldId=function(){return this.$3};b.getLastField=function(){return this.$2};b.getBooleanFieldInfo=function(){return this.$4};b.getBooleanValue=function(){return this.$5};b.$9=function(a){return k[a]};b.$10=function(a){switch(a){case i.CT_STOP:return(h||(h=c("ThriftTypes"))).STOP;case i.CT_BOOLEAN_FALSE:case i.CT_BOOLEAN_TRUE:return(h||(h=c("ThriftTypes"))).BOOL;case i.CT_BYTE:return(h||(h=c("ThriftTypes"))).BYTE;case i.CT_I16:return(h||(h=c("ThriftTypes"))).I16;case i.CT_I32:return(h||(h=c("ThriftTypes"))).I32;case i.CT_I64:return(h||(h=c("ThriftTypes"))).I64;case i.CT_DOUBLE:return(h||(h=c("ThriftTypes"))).DOUBLE;case i.CT_FLOAT:return(h||(h=c("ThriftTypes"))).FLOAT;case i.CT_BINARY:return(h||(h=c("ThriftTypes"))).STRING;case i.CT_LIST:return(h||(h=c("ThriftTypes"))).LIST;case i.CT_SET:return(h||(h=c("ThriftTypes"))).SET;case i.CT_MAP:return(h||(h=c("ThriftTypes"))).MAP;case i.CT_STRUCT:return(h||(h=c("ThriftTypes"))).STRUCT;default:throw new Error("don't know what type")}};return a}();g["default"]=a}),98);
__d("CompactSerializer",["TCompactProtocol","TNoOpWriteBuffer","TReadBuffer","TWriteBuffer"],(function(a,b,c,d,e,f,g){function a(a,b,c){try{return h(a,b)}catch(a){c!=null&&c(a)}return null}function h(a,b){a=new(c("TReadBuffer"))(a);a=new(c("TCompactProtocol"))(a);return b(a)}function b(a,b,c,d){c===void 0&&(c=!1);try{return i(a,b,c)}catch(a){d!=null&&d(a)}return null}function i(a,b,d){d===void 0&&(d=!1);if(d){d=new(c("TNoOpWriteBuffer"))();var e=new(c("TCompactProtocol"))(d);b(a,e);e=new(c("TWriteBuffer"))(d.currentSize())}else e=new(c("TWriteBuffer"))();d=new(c("TCompactProtocol"))(e);b(a,d);return d.toByteArray()}g.deserializeNoThrow=a;g.deserialize=h;g.serializeNoThrow=b;g.serialize=i}),98);
__d("FBXHorizonMetaCastingControllerRouteBuilder",["jsRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsRouteBuilder")("/casting/",Object.freeze({}),void 0);b=a;g["default"]=b}),98);
__d("HorizonMetaIsCastingRoute",["FBXHorizonMetaCastingControllerRouteBuilder","URI","isHorizonDotMetaDotComURI"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(){var a=(h||(h=c("URI"))).getRequestURI(),b=c("FBXHorizonMetaCastingControllerRouteBuilder").buildUri({});return!c("isHorizonDotMetaDotComURI")(a)?!1:a.addTrailingSlash().getPath()===b.getPath()}b={getIsCastingRoute:a};g["default"]=b}),98);
__d("RpWebInfraActionsLoggerEventFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1744334");b=d("FalcoLoggerInternal").create("rp_web_infra_actions_logger_event",a);e=b;g["default"]=e}),98);
__d("ZenonAppProvider",["HorizonMetaIsCastingRoute","IGDWebUtils","ZenonActorHooks"],(function(a,b,c,d,e,f,g){"use strict";function a(){return d("IGDWebUtils").isInstagramWebSupportedApp(n())}function b(){return o(n())}function e(){return n()===351299233827255}function f(){return n()===2057013231240274}function h(){return n()===518491789147974}function i(){var a=d("ZenonActorHooks").ZenonActor.getAppID();return a==null?!1:Number(a)===2763362503905702||Number(a)===1013624499181349||Number(a)===351299233827255&&c("HorizonMetaIsCastingRoute").getIsCastingRoute()}function j(){var a=d("ZenonActorHooks").ZenonActor.getAppID();return a==null?!1:Number(a)===218968626708284}function k(){var a=d("ZenonActorHooks").ZenonActor.getAppID();return a==null?!1:Number(a)===772021112871879||Number(a)===2220391788200892}function l(){var a=n();return a===949958857019662||a===1358015658191005||a===445865345227527}function m(){var a=d("ZenonActorHooks").ZenonActor.getAppID();return a==null?!1:Number(a)===514771569228061||Number(a)===436761779744620}function n(){var a=d("ZenonActorHooks").ZenonActor.getAppID();return a==null?null:Number(a)}function o(a){return a!=null?a===2763362503905702||a===1013624499181349||a===351299233827255:!1}g.isInstagramApp=a;g.isOculusApp=b;g.isHorizonApp=e;g.isHorizonWorldsApp=f;g.isCastingCenterApp=h;g.isOculusCastingSite=i;g.isMDCApp=j;g.isMessengerWebApp=k;g.isMetaAI=l;g.isBizWebApp=m}),98);
__d("ZenonActorHooks",["CurrentUser","FBLogger","ZenonAppProvider","gkx"],(function(a,b,c,d,e,f,g){"use strict";var h=null,i=null,j=null,k=!1,l=!1,m=new Set();function n(a,b){b===void 0&&(b="Fallback to CurrentUser"),m.has(a)||(c("FBLogger")("rtc_www").blameToPreviousFrame().info("ZenonActor."+a+" - "+b),m.add(a))}function a(){return[o.getID(),function(a){n("useZenonActor:setter","This setter should not be used as Zenon should currently doesn't allow switching Actor"),h=a}]}function b(a,b,c){b===void 0&&(b=!1);c===void 0&&(c=!1);if(h!==null){if(l)return;n("initZenonActor","ZenonActor is being reinitalized. This may indicate unneccessary ZenonActorProvider's to RelayEnvironmentProvider's in the component tree.")}l=l||b;k=k||c;typeof a==="string"||typeof a==="number"?(h=a.toString(),i=null,j=null):(a==null?void 0:a.actorID)!=null&&(h=a.actorID.toString(),i=a.name,j=a.shortName)}var o={getAccountID:function(){if(o.isInstagramUser())return c("CurrentUser").getEIMU();if(o.isOculusCastingUser())return c("CurrentUser").getEOCPU();return o.isMDCUser()?c("CurrentUser").getPossiblyNonFacebookUserID():c("CurrentUser").getAccountID()},getAppID:function(){return c("CurrentUser").getAppID()},getID:function(){if(o.isInstagramUser())return c("CurrentUser").getEIMU();if(o.isOculusCastingUser())return c("CurrentUser").getEOCPU();if(o.isMDCUser())return c("CurrentUser").getPossiblyNonFacebookUserID();if(o.isHorizonWebUser()&&!c("gkx")("5683"))return c("CurrentUser").getEPOU();if(o.isKadabraUser())return c("CurrentUser").getARID();if(h===null){n("getID");return c("CurrentUser").getID()}else return h},getName:function(){var a;return(a=i)!=null?a:c("CurrentUser").getName()},getShortName:function(){var a;return(a=j)!=null?a:c("CurrentUser").getShortName()},isEmployee:function(){return c("CurrentUser").isEmployee()},isHorizonWebUser:function(){return c("CurrentUser").getEPOU()!==0&&d("ZenonAppProvider").isHorizonApp()},isInstagramUser:function(){return c("CurrentUser").getEIMU()!==0&&d("ZenonAppProvider").isInstagramApp()},isKadabraUser:function(){return c("gkx")("11152")&&c("CurrentUser").getAppID()===String(1358015658191005)},isLoggedIn:function(){return c("CurrentUser").isLoggedIn()},isLoggedInNow:function(){return c("CurrentUser").isLoggedInNow()},isManagedMetaAccount:function(){return c("CurrentUser").isManagedMetaAccount()},isMDCUser:function(){return c("CurrentUser").getPossiblyNonFacebookUserID()!=="0"&&d("ZenonAppProvider").isMDCApp()},isMessengerCallGuestUser:function(){return c("CurrentUser").isMessengerCallGuestUser()},isOculusCastingUser:function(){return c("CurrentUser").getEOCPU()!==0&&d("ZenonAppProvider").isOculusApp()},isOculusUser:function(){return c("CurrentUser").getEPOU()!==0&&d("ZenonAppProvider").isOculusApp()},isPage:function(){return k},isTestUser:function(){return c("CurrentUser").isTestUser()},isWorkishUser:function(){return c("CurrentUser").isWorkroomsUser()||c("CurrentUser").isWorkUser()},isWorkroomsUser:function(){return c("CurrentUser").isWorkroomsUser()},isWorkUser:function(){return c("CurrentUser").isWorkUser()}};g.useZenonActor=a;g.initZenonActor=b;g.ZenonActor=o}),98);
__d("ZenonAuditedCheckpointLogId",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum").Mirrored(["RP_ROOMS_INFRA_WWW__E2EE","RP_ROOMS_INFRA_WWW__WASM","RP_ROOMS_INFRA_WWW__LOGGER_INFRA","RP_ROOMS_INFRA_WWW__STATE_MACHINE","RP_ROOMS_INFRA_WWW__ERROR","RP_ROOMS_INFRA_WWW__E2EE_DEVICE_VERIFIER","RP_ROOMS_INFRA_WWW__PLATFORM"]);c=a;f["default"]=c}),66);
__d("isEmployeeTestUserZenonLogging",["gkx"],(function(a,b,c,d,e,f,g){"use strict";function a(){return c("gkx")("25162")||c("gkx")("25152")||c("gkx")("25209")}g["default"]=a}),98);
__d("ZenonInfraActionsLogger",["Log","RpWebInfraActionsLoggerEventFalcoEvent","ZenonAuditedCheckpointLogId","formatDate","isEmployeeTestUserZenonLogging","justknobx"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(){this.$1={callTrigger:void 0,conferenceName:void 0,deviceID:void 0,mediaPath:"sfu",peerID:void 0,serverInfoData:void 0,signalingID:void 0},this.$2=new Set(),this.$3=new Map(),this.$4=new Map()}var b=a.prototype;b.updateCachedValues=function(a){Object.assign(this.$1,a)};b.setE2eeIsMandatedForCall=function(a){this.$3.set(a,!0)};b.logCheckpointEmployeesTestUsersOnly=function(a){if(!c("isEmployeeTestUserZenonLogging")())return;this.logCheckpoint(a)};b.logCheckpoint=function(a){this.logEvent(babelHelpers["extends"]({},a))};b.logCheckpointOnceForDomain=function(a){var b=a.checkpoint;this.$2.has(b)||(this.$2.add(b),this.logCheckpoint(a))};b.logError=function(a){this.logEvent(babelHelpers["extends"]({},a))};b.startTimer=function(a){var b=Date.now();this.$4.set(a,b);this.logEvent({checkpoint:a+"_timerStart"})};b.stopTimer=function(a){var b=this.$4.get(a);this.$4["delete"](a);b=b!=null?Date.now()-b:null;this.logEvent({checkpoint:a+"_timerEnd",eventTimeElapsed:b});return parseInt(b,10)};b.logEvent=function(a){var b;if(c("justknobx")._("854"))return;b=(b=this.$3.get((b=this.$1.signalingID)!=null?b:""))!=null?b:!1;if(b&&!c("justknobx")._("1021"))return;if(b&&a.auditId==null){b="Encountered an unaudited log line, dropping it.";a.error!=null?this.logEvent({auditId:c("ZenonAuditedCheckpointLogId").RP_ROOMS_INFRA_WWW__LOGGER_INFRA,error:b}):this.logEvent({auditId:c("ZenonAuditedCheckpointLogId").RP_ROOMS_INFRA_WWW__LOGGER_INFRA,checkpoint:b});return}if(((b=a.checkpoint)==null?void 0:b.length)!=null&&a.checkpoint.length>3e5)return;var d={call_id:(b=a.signalingID)!=null?b:this.$1.signalingID==null?void 0:String(this.$1.signalingID),call_trigger:this.$1.callTrigger,call_type:(b=a.callType)!=null?b:null,checkpoint:a.checkpoint,client_session_id:this.$1.signalingID,client_time:Date.now().toString(),conference_name:(b=a.conferenceName)!=null?b:this.$1.conferenceName,connection:(b=a.connectionState)!=null?b:this.$1.connectionState,device_id:this.$1.deviceID,error:a.error,error_domain:a.errorDomain,event_time_elapsed:(b=a.eventTimeElapsed)==null?void 0:b.toString(),is_caller:(b=a.isCaller)!=null?b:null,media_path:(b=a.mediaPath)!=null?b:this.$1.mediaPath,message_id:a.messageID,peer_connection:(b=a.peerConnectionState)!=null?b:this.$1.peerConnectionState,peer_id:this.$1.peerID,sdp_format:(b=a.sdpFormat)!=null?b:null,server_info_data:(b=a.serverInfoData)!=null?b:this.$1.serverInfoData,signaling:(b=a.signalingState)!=null?b:this.$1.signalingState,state_machine_id:a.stateMachineID};c("RpWebInfraActionsLoggerEventFalcoEvent").log(function(){return d})};return a}();b=new a();g["default"]=b}),98);
__d("ZenonLoggingUtils",["ZenonAppProvider"],(function(a,b,c,d,e,f,g){"use strict";function a(){return d("ZenonAppProvider").isHorizonApp()||d("ZenonAppProvider").isHorizonWorldsApp()?!1:!0}g.shouldAllowLogging=a}),98);
__d("ZenonSignalingProtocol",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum")({MW:"mw",MWPP:"mw++"});c=a;f["default"]=c}),66);/*FB_PKG_DELIM*/
__d("CometVideoChannelFollowMutation_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="29692944676970509"}),null);
__d("CometVideoChannelFollowMutation.graphql",["CometVideoChannelFollowMutation_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input"},{defaultValue:null,kind:"LocalArgument",name:"scale"}],c=[{kind:"Variable",name:"data",variableName:"input"}],d={alias:null,args:null,kind:"ScalarField",name:"video_channel_is_viewer_following",storageKey:null},e={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},f=[{kind:"Literal",name:"height",value:60},{kind:"Variable",name:"scale",variableName:"scale"},{kind:"Literal",name:"width",value:60}],g=[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"CometVideoChannelFollowMutation",selections:[{alias:null,args:c,concreteType:"VideoChannelFollowResponsePayload",kind:"LinkedField",name:"video_channel_follow",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"video_channel",plural:!1,selections:[d],storageKey:null},{alias:null,args:null,concreteType:"VideoHomeFeedPageUnitSectionComponent",kind:"LinkedField",name:"feed_page_unit",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"CometVideoHomeLeftRailWatchlistItem_component"}],storageKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"CometVideoChannelFollowMutation",selections:[{alias:null,args:c,concreteType:"VideoChannelFollowResponsePayload",kind:"LinkedField",name:"video_channel_follow",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"video_channel",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},d,e],storageKey:null},{alias:null,args:null,concreteType:"VideoHomeFeedPageUnitSectionComponent",kind:"LinkedField",name:"feed_page_unit",plural:!1,selections:[{alias:null,args:null,concreteType:"Page",kind:"LinkedField",name:"page",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},e,{alias:null,args:f,concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:g,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"profile_plus_id_for_delegate_page",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"uri_token",storageKey:null},{alias:null,args:null,concreteType:"VideoCatalog",kind:"LinkedField",name:"page_video_catalog",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"catalog_name",storageKey:null},{alias:null,args:f,concreteType:"Image",kind:"LinkedField",name:"catalog_profile_image",plural:!1,selections:g,storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_currently_live",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cache_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"num_new_videos",storageKey:null}],storageKey:null}],storageKey:null}]},params:{id:b("CometVideoChannelFollowMutation_facebookRelayOperation"),metadata:{},name:"CometVideoChannelFollowMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("CometVideoChannelFollowMutation",["CometRelay","CometVideoChannelFollowMutation.graphql","WebPixelRatio","getVideoShareDownstreamSignalTracking"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h!==void 0?h:h=b("CometVideoChannelFollowMutation.graphql");function a(a,b,c){var e,f=function(a){var c=b.videoHomeSectionID;if(c==null)return;c=a.get(c);if(!c)return;c=d("CometRelay").ConnectionHandler.getConnection(c,"CometVideoHomeLeftRailWatchlistImpl_section_components");if(!c)return;var e=a.getRootField("video_channel_follow");if(!e)return;e=e.getLinkedRecord("feed_page_unit");if(!e)return;a=d("CometRelay").ConnectionHandler.createEdge(a,c,e,"VideoHomeSectionComponentsEdge");d("CometRelay").ConnectionHandler.insertEdgeBefore(c,a)};e=(e=d("getVideoShareDownstreamSignalTracking").getVideoShareDownstreamSignalTracking())!=null?e:{};return d("CometRelay").commitMutation(a,{mutation:i,onCompleted:c&&c.onCompleted,onError:c&&c.onError,optimisticResponse:{video_channel_follow:{feed_page_unit:null,video_channel:{__typename:"anything",id:b.videoChannelID,video_channel_is_viewer_following:!0}}},updater:f,variables:{input:babelHelpers["extends"]({attribution_id_v2:b.navigationChain,follow_location:b.followLocation,include_feed_page_unit:!0,story_id:b.storyID,surface:"UNKNOWN",tracking:[b.tracking],video_channel_id:b.videoChannelID,video_id:b.videoID},e),scale:d("WebPixelRatio").get()}})}g.commit=a}),98);
__d("CometVideoChannelUnfollowMutation_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="9602650899831610"}),null);
__d("CometVideoChannelUnfollowMutation.graphql",["CometVideoChannelUnfollowMutation_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input"}],c=[{kind:"Variable",name:"data",variableName:"input"}],d={alias:null,args:null,kind:"ScalarField",name:"video_channel_is_viewer_following",storageKey:null};return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"CometVideoChannelUnfollowMutation",selections:[{alias:null,args:c,concreteType:"VideoChannelUnfollowResponsePayload",kind:"LinkedField",name:"video_channel_unfollow",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"video_channel",plural:!1,selections:[d],storageKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"CometVideoChannelUnfollowMutation",selections:[{alias:null,args:c,concreteType:"VideoChannelUnfollowResponsePayload",kind:"LinkedField",name:"video_channel_unfollow",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"video_channel",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},d,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],storageKey:null}]},params:{id:b("CometVideoChannelUnfollowMutation_facebookRelayOperation"),metadata:{},name:"CometVideoChannelUnfollowMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("CometVideoChannelUnfollowMutation",["CometRelay","CometVideoChannelUnfollowMutation.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h!==void 0?h:h=b("CometVideoChannelUnfollowMutation.graphql");function a(a,b,c){return d("CometRelay").commitMutation(a,{mutation:i,onCompleted:c&&c.onCompleted,onError:c&&c.onError,optimisticResponse:{video_channel_unfollow:{video_channel:{__typename:"anything",id:b.videoChannelID,video_channel_is_viewer_following:!1}}},variables:{input:{attribution_id_v2:b.navigationChain,follow_location:b.followLocation,surface:"UNKNOWN",tracking:[b.tracking],video_channel_id:b.videoChannelID,video_id:b.videoID}}})}g.commit=a}),98);
__d("CometVideoFollowButton_actor.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"video_channel_is_viewer_following",storageKey:null};return{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometVideoFollowButton_actor",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{kind:"InlineFragment",selections:[a,{alias:null,args:null,kind:"ScalarField",name:"should_exclude_like_or_follow_button_in_feed",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"should_show_page_like_warning",storageKey:null}],type:"Page",abstractKey:null},{kind:"InlineFragment",selections:[a],type:"User",abstractKey:null}],type:"Actor",abstractKey:"__isActor"}}();e.exports=a}),null);
__d("InterventionDialogQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="9530914897027223"}),null);
__d("InterventionDialogQuery$Parameters",["InterventionDialogQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("InterventionDialogQuery_facebookRelayOperation"),metadata:{},name:"InterventionDialogQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("InterventionDialog.entrypoint",["InterventionDialogQuery$Parameters","JSResourceForInteraction","WebPixelRatio"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){return{extraProps:a,queries:{InterventionDialogQueryReference:{parameters:c("InterventionDialogQuery$Parameters"),variables:{actionType:a.actionType,entityID:a.entityID,scale:d("WebPixelRatio").get()}}}}},root:c("JSResourceForInteraction")("InterventionDialog.react").__setRef("InterventionDialog.entrypoint")};g["default"]=a}),98);
__d("CometVideoFollowButton.react",["Actor","CometRelay","CometTrackingNodeProvider.react","CometVideoChannelFollowMutation","CometVideoChannelUnfollowMutation","CometVideoFollowButton_actor.graphql","InterventionDialog.entrypoint","react","react-compiler-runtime","useCometEntryPointDialog","useMinifiedProductAttribution"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react");function a(a){var e=d("react-compiler-runtime").c(26),f=a.actor,g=a.followLocation,i=a.onFollowMutationCompleted,k=a.onUnfollowMutationCompleted,l=a.renderButton,m=a.tracking,n=a.video_id,o=a.videoHomeSectionID,p=d("CometRelay").useRelayEnvironment(),q=d("CometRelay").useFragment(h!==void 0?h:h=b("CometVideoFollowButton_actor.graphql"),f);a=d("Actor").useActor();f=a[0];a=(a=q==null?void 0:q.id)!=null?a:"";var r;e[0]!==a?(r={actionType:"FOLLOW",entityID:a},e[0]=a,e[1]=r):r=e[1];a=c("useCometEntryPointDialog")(c("InterventionDialog.entrypoint"),r);var s=a[0],t=c("useMinifiedProductAttribution")();if((q==null?void 0:q.id)===f)return null;if((q==null?void 0:q.should_exclude_like_or_follow_button_in_feed)===!0)return null;r=!!q.video_channel_is_viewer_following;a=!r&&(q==null?void 0:q.should_show_page_like_warning)===!0;e[2]!==q.id||e[3]!==q.video_channel_is_viewer_following||e[4]!==g||e[5]!==t||e[6]!==i||e[7]!==k||e[8]!==p||e[9]!==m||e[10]!==o||e[11]!==n?(f=function(){var a=q==null?void 0:q.id;if(a==null)return;a={followLocation:g,navigationChain:t,tracking:m,videoChannelID:a,videoHomeSectionID:o,videoID:n};(q==null?void 0:q.video_channel_is_viewer_following)===!0?d("CometVideoChannelUnfollowMutation").commit(p,a,{onCompleted:function(a){k&&k(a)}}):d("CometVideoChannelFollowMutation").commit(p,a,{onCompleted:function(a){i&&i(a)}})},e[2]=q.id,e[3]=q.video_channel_is_viewer_following,e[4]=g,e[5]=t,e[6]=i,e[7]=k,e[8]=p,e[9]=m,e[10]=o,e[11]=n,e[12]=f):f=e[12];var u=f;e[13]!==u||e[14]!==s?(f=function(){s({onConfirmLike:u,showEntityProfileCTA:!0})},e[13]=u,e[14]=s,e[15]=f):f=e[15];f=f;var v=r?43:42,w;e[16]===Symbol["for"]("react.memo_cache_sentinel")?(w={className:"x1k90msu x19991ni x1qfuztq"},e[16]=w):w=e[16];a=a?f:u;e[17]!==r||e[18]!==l||e[19]!==a?(f=l({following:r,onClick:a}),e[17]=r,e[18]=l,e[19]=a,e[20]=f):f=e[20];e[21]!==f?(r=j.jsx("div",babelHelpers["extends"]({},w,{children:f})),e[21]=f,e[22]=r):r=e[22];e[23]!==v||e[24]!==r?(l=j.jsx(c("CometTrackingNodeProvider.react"),{trackingNode:v,children:r}),e[23]=v,e[24]=r,e[25]=l):l=e[25];return l}g["default"]=a}),98);
__d("CometVideoHomeCopyLinkMenuItem_isLinkSharingEnabled.relayprovider",["gkx"],(function(a,b,c,d,e,f,g){"use strict";a={get:function(){var a;return(a=c("gkx")("10188"))!=null?a:!1}};g["default"]=a}),98);
__d("CometVideoHomeVideoContextMenuContentsQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="8975353172565900"}),null);
__d("CometVideoHomeVideoContextMenuContentsQuery$Parameters",["CometVideoHomeCopyLinkMenuItem_isLinkSharingEnabled.relayprovider","CometVideoHomeVideoContextMenuContentsQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("CometVideoHomeVideoContextMenuContentsQuery_facebookRelayOperation"),metadata:{},name:"CometVideoHomeVideoContextMenuContentsQuery",operationKind:"query",text:null,providedVariables:{__relay_internal__pv__CometVideoHomeCopyLinkMenuItem_isLinkSharingEnabledrelayprovider:b("CometVideoHomeCopyLinkMenuItem_isLinkSharingEnabled.relayprovider")}}};e.exports=a}),null);
__d("CometVideoHomeVideoContextMenuContents.entrypoint",["CometVideoHomeVideoContextMenuContentsQuery$Parameters","JSResourceForInteraction"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){var c=a.storyDebugInfo,d=a.videoID;a=a.videoMenuLocation;return{queries:{menuContentsQuery:{parameters:b("CometVideoHomeVideoContextMenuContentsQuery$Parameters"),variables:{story_debug_info:c,videoID:d,videoMenuLocation:a}}}}},root:c("JSResourceForInteraction")("CometVideoHomeVideoContextMenuContents.react").__setRef("CometVideoHomeVideoContextMenuContents.entrypoint")};g["default"]=a}),98);
__d("CometVideoHomeVideoContextMenu.react",["CometTrackingNodeProvider.react","CometVideoHomeVideoContextMenuContents.entrypoint","FDSEntryPointPopoverTrigger.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(18),e=a.button,f=a.enableLogging,g=a.hideableToken,h=a.identifierToken,j=a.onHideVideo,k=a.onMenuVisibilityChange,l=a.onUnsaveVideo,m=a.position,n=a.storyDebugInfo,o=a.tracking,p=a.videoChannelType,q=a.videoID;a=a.videoMenuLocation;f=f===void 0?!0:f;if(q==null)return null;var r;b[0]!==n||b[1]!==q||b[2]!==a?(r={storyDebugInfo:n,videoID:q,videoMenuLocation:a},b[0]=n,b[1]=q,b[2]=a,b[3]=r):r=b[3];b[4]!==f||b[5]!==g||b[6]!==h||b[7]!==j||b[8]!==l||b[9]!==o||b[10]!==p?(n={enableLogging:f,hideableToken:g,identifierToken:h,onHideVideo:j,onUnsaveVideo:l,tracking:o,videoChannelType:p},b[4]=f,b[5]=g,b[6]=h,b[7]=j,b[8]=l,b[9]=o,b[10]=p,b[11]=n):n=b[11];a=(q=m)!=null?q:"below";b[12]!==e||b[13]!==k||b[14]!==r||b[15]!==n||b[16]!==a?(f=i.jsx(c("CometTrackingNodeProvider.react"),{trackingNode:55,children:i.jsx(c("FDSEntryPointPopoverTrigger.react"),{align:"end",entryPointParams:r,onVisibilityChange:k,otherProps:n,popoverEntryPoint:c("CometVideoHomeVideoContextMenuContents.entrypoint"),position:a,children:e})}),b[12]=e,b[13]=k,b[14]=r,b[15]=n,b[16]=a,b[17]=f):f=b[17];return f}g["default"]=a}),98);
__d("CometVideoHomeThreeDotContextMenu.react",["fbt","ix","CometVideoHomeVideoContextMenu.react","FDSIcon.react","fbicon","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=j||d("react");function a(a){var b=d("react-compiler-runtime").c(17),e,f,g,j,m,n;b[0]!==a?(m=a.color,e=a.icon,f=a.onPress,j=a.position,n=a.stopPropagation,g=babelHelpers.objectWithoutPropertiesLoose(a,["color","icon","onPress","position","stopPropagation"]),b[0]=a,b[1]=e,b[2]=f,b[3]=g,b[4]=j,b[5]=m,b[6]=n):(e=b[1],f=b[2],g=b[3],j=b[4],m=b[5],n=b[6]);var o=m===void 0?"primary":m;a=n===void 0?!1:n;b[7]!==o||b[8]!==e||b[9]!==f?(m=function(a,b){var g;return k.jsx(c("FDSIcon.react"),{"aria-label":h._(/*BTDS*/"More"),color:o,icon:(g=e)!=null?g:d("fbicon")._(i("484390"),20),onPress:f?function(a){f(),b(a)}:b,ref:a})},b[7]=o,b[8]=e,b[9]=f,b[10]=m):m=b[10];b[11]!==g||b[12]!==j||b[13]!==m?(n=k.jsx(c("CometVideoHomeVideoContextMenu.react"),babelHelpers["extends"]({button:m,position:j},g)),b[11]=g,b[12]=j,b[13]=m,b[14]=n):n=b[14];g=n;if(a){b[15]!==g?(j=k.jsx("div",{onClick:l,children:g}),b[15]=g,b[16]=j):j=b[16];return j}return g}function l(a){a.stopPropagation()}g["default"]=a}),226);
__d("useNavigateToTahoePassthroughProps",["CometProductTagFunnelIDContext","CometTrackingCodeContext","CometTrackingNodesContext","CometWarningScreenContext","VideoPlayerHooks","getAggregatedStoryTrackingNodeIndex","react","react-compiler-runtime","useIsVideoHomePlayerOriginFromTracePolicy","usePlayerOriginRouteTracePolicy","useVideoPlayerPortalingPassthroughProps"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(h||d("react")).useContext;function a(){var a=d("react-compiler-runtime").c(13),b=c("useVideoPlayerPortalingPassthroughProps")(),e=j(c("CometTrackingCodeContext")),f=j(c("CometTrackingNodesContext")),g=j(c("CometProductTagFunnelIDContext")),h=d("CometWarningScreenContext").useIsOverlayShown(),k=d("CometWarningScreenContext").useHasOverlay(),l;a[0]!==f?(l=c("getAggregatedStoryTrackingNodeIndex")(f),a[0]=f,a[1]=l):l=a[1];f=l;l=(i||(i=d("VideoPlayerHooks"))).useVideoPlayerInitialTracePolicy();var m=c("usePlayerOriginRouteTracePolicy")(),n=c("useIsVideoHomePlayerOriginFromTracePolicy")(m);l=(l=l)!=null?l:m;a[2]!==n?(m=n?{caller:"CHANNEL_VIEW_FROM_VIDEO_HOME"}:{},a[2]=n,a[3]=m):m=a[3];a[4]!==g||a[5]!==f||a[6]!==k||a[7]!==h||a[8]!==b||a[9]!==l||a[10]!==m||a[11]!==e?(n=babelHelpers["extends"]({bypassAutoplaySettings:!0},b,{index:f,initialTracePolicy:l,origOverlayShown:h,overlayExists:k,productTagFunnelID:g,trackingCode:e},m),a[4]=g,a[5]=f,a[6]=k,a[7]=h,a[8]=b,a[9]=l,a[10]=m,a[11]=e,a[12]=n):n=a[12];return n}g["default"]=a}),98);
__d("VideoPlayerCometNavigateToTahoeControl.react",["fbt","ix","VideoPlayerControlIcon.react","fbicon","react","react-compiler-runtime","useNavigateToTahoePassthroughProps"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=j||d("react");function a(a){var b=d("react-compiler-runtime").c(12),e=a.onPress,f=a.reactionVideoChannelType,g=a.subOrigin;a=a.videoTahoeUrl;var j=c("useNavigateToTahoePassthroughProps")(),l;b[0]!==j||b[1]!==f||b[2]!==g?(l=babelHelpers["extends"]({},j,{playerSubOrigin:g,reactionVideoChannelType:f}),b[0]=j,b[1]=f,b[2]=g,b[3]=l):l=b[3];j=l;b[4]===Symbol["for"]("react.memo_cache_sentinel")?(f=h._(/*BTDS*/"Enlarge"),b[4]=f):f=b[4];g=f;b[5]===Symbol["for"]("react.memo_cache_sentinel")?(l=d("fbicon")._(i("517763"),20),b[5]=l):l=b[5];b[6]!==j||b[7]!==a?(f={passthroughProps:j,url:a},b[6]=j,b[7]=a,b[8]=f):f=b[8];b[9]!==e||b[10]!==f?(j=k.jsx(c("VideoPlayerControlIcon.react"),{icon:l,label:g,linkProps:f,onPress:e,tooltip:g}),b[9]=e,b[10]=f,b[11]=j):j=b[11];return j}g["default"]=a}),226);
__d("VideoPlayerCometWatchInjectionControl.react",["fbt","FDSResizeUpFilled20Icon","VideoPlayerControlIcon.react","react","react-compiler-runtime","useCometRouterState","useVideoPlayerPortalingPassthroughProps"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(a){var b=d("react-compiler-runtime").c(14),e=a.isARLTW,f=a.onPress,g=a.routeTracePolicy,i=a.subOrigin;a=a.videoWatchUrl;var k=c("useVideoPlayerPortalingPassthroughProps")();k=k.portableVideoID;var l=c("useCometRouterState")();l=l==null?void 0:l.main.route.tabKey;var m;b[0]!==l?(m=l!=="watch"?h._(/*BTDS*/"Open in Video"):h._(/*BTDS*/"Enlarge"),b[0]=l,b[1]=m):m=b[1];l=m;b[2]!==e||b[3]!==k||b[4]!==g||b[5]!==i?(m={isARLTW:e,portableVideoID:k,portalingRouteTracePolicy:g,portalingSubOrigin:i,unmute:!0},b[2]=e,b[3]=k,b[4]=g,b[5]=i,b[6]=m):m=b[6];b[7]!==m||b[8]!==a?(e={passthroughProps:m,url:a},b[7]=m,b[8]=a,b[9]=e):e=b[9];b[10]!==l||b[11]!==f||b[12]!==e?(k=j.jsx(c("VideoPlayerControlIcon.react"),{icon:c("FDSResizeUpFilled20Icon"),label:l,linkProps:e,onPress:f,tooltip:l}),b[10]=l,b[11]=f,b[12]=e,b[13]=k):k=b[13];return k}g["default"]=a}),226);
__d("VideoPlayerNavigateToTahoeOrFullScreenControl.react",["CometTrackingNodeProvider.react","VideoPlayerCometNavigateToTahoeControl.react","VideoPlayerFullscreenControl.react","gkx","qex","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(10),e=a.isAdVideo,f=a.isBroadcast,g=a.onPressFullscreenControl,h=a.onPressTahoeControl,j=a.onUserInteraction,k=a.reactionVideoChannelType,l=a.shouldUnmute,m=a.subOrigin;a=a.videoTahoeUrl;var n=c("gkx")("24206");b[0]!==e||b[1]!==f||b[2]!==g||b[3]!==h||b[4]!==j||b[5]!==k||b[6]!==l||b[7]!==m||b[8]!==a?(n=i.jsx(c("CometTrackingNodeProvider.react"),{trackingNode:144,children:(Boolean(e)===!1||f===!0&&c("qex")._("4408")===!0)&&m!=null&&a!=null&&a!==""&&!n?i.jsx(c("VideoPlayerCometNavigateToTahoeControl.react"),{onPress:h,reactionVideoChannelType:k,subOrigin:m,videoTahoeUrl:a}):i.jsx(c("VideoPlayerFullscreenControl.react"),{onPress:g,onUserInteraction:j,shouldUnmute:l})}),b[0]=e,b[1]=f,b[2]=g,b[3]=h,b[4]=j,b[5]=k,b[6]=l,b[7]=m,b[8]=a,b[9]=n):n=b[9];return n}g["default"]=a}),98);
__d("cometVideoHomeScrollTo",["VideoHomeTypedLiteLogger","scrollTo"],(function(a,b,c,d,e,f,g){"use strict";function b(b,d,e){b=b.getBoundingClientRect();var f=b.height;b=b.top;e=(window.innerHeight-d-e-f)/2+d;f=e-b;c("scrollTo")({behavior:"smooth",left:a.pageXOffset,top:a.pageYOffset-f});c("VideoHomeTypedLiteLogger").log({event:"auto_scroll"})}g["default"]=b}),98);
__d("cometVideoHomeScrollToRef",["cometVideoHomeScrollTo"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,d){if(a==null)return;a=a.current;if(a==null)return;c("cometVideoHomeScrollTo")(a,b,d)}g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("MDBCClientEvent",["$InternalEnum"],(function(a,b,c,d,e,f){a=b("$InternalEnum")({THREAD_OPEN:1,CHAT_JOIN_SHEET_RENDERED:2,THREAD_JOIN:3,BROADCAST_BUTTON_RENDERED:4,RENDER_PUBLIC_BROADCAST_CHAT_NUX_QP:5,RENDER_PUBLIC_BROADCAST_CHAT_CREATION_SHEET:6,PUBLIC_BROADCAST_CHAT_CREATION_SHEET_RENDERED:7,THREAD_CREATE:8,SHARE_SHEET_RENDERED:9,COPY_LINK:10,EDIT_CHAT:11,SHARE_LINK:12,RENDER_THREAD_DETAIL:13,MUTE_CHAT:14,RENDER_CHAT_MEMBERS:15,SEEN_COUNT_RENDERED:16,SHARE_LINK_SENT:17,THREAD_SETTINGS_RENDERED:18,REPORT_MESSAGE_TO_META:19,REMOVE_MESSAGE:20,ADMIN_REMOVE_MESSAGE:21,CHAT_RENDERED_IN_MIB_INBOX:22,BLOCK_FROM_CHAT:23,DEMOTE_ADMIN_BUTTON_TAPPED:24,PROMOTE_ADMIN_FAIL_IMPRESSION:25,REMOVE_FROM_CHAT:26,MESSAGE_USER:27,VIEW_USER_PROFILE:28,ADMIN_LIMIT_REACHED_IMPRESSION:29,PROMOTE_ADMIN_BUTTON_TAPPED:30,USER_PROFILE_BOTTOMSHEET:31,BAN_FROM_CHAT_SUCCESS:32,BAN_FROM_CHAT_FAILURE:33,BAN_FROM_CHAT_INITIATION:34,NOTIFICATION_CONTROL_MUTE_SELECTED:35,NOTIFICATION_CONTROL_UNMUTE_SELECTED:36,JOIN_CHAT_CONFIRM:37,SHOW_ON_PROFILE_TOGGLE:38,SHOW_ON_PROFILE_TAPPED:39,LEAVE_CHAT:40,DELETE_CHAT:41,UNMUTE_CHAT:42,REPORTED_CONTENTS_RENDERED:43,INVITE_BUTTON_TAPPED:44,VIEW_ALL_MEMBERS:45,OPEN_INVITE_LINK_VIEW:46,REPORT_CHAT_TO_FACEBOOK:47,DISMISS_BUTTON_TAPPED:48,JOIN_CHAT_SHEET_RENDERED:49,MESSAGE_SEND:50,PUSH_NOTIFICATION_MESSAGE_RECEIVED_TAPPED:51,CREATE_CHANNEL_SCREEN_RENDERED:52,CHANGE_IMAGE_TAPPED:53,JOIN_APPROVAL_TOGGLE:54,COPY_LINK_TAPPED:55,SEARCH_BAR_INPUT_FOCUS:56,INVITE_SCREEN_RENDERED:57,DONE_BUTTON_TAPPED:58,SEND_BUTTON_TAPPED:59,SHARE_TO_FEED_SKIPPED:60,SHARE_TO_FEED_SCREEN_RENDERED:61,POST_TEXT_INPUT:62,SHARE_TO_FEED_BUTTON_TAPPED:63,NAME_TEXT_INPUT:64,EDIT_CHAT_SUCCESS:65,EDIT_CHAT_FAILURE:66,REQUIRE_APPROVAL_TO_JOIN_DISABLED:67,REQUIRE_APPROVAL_TO_JOIN_ENABLED:68,MEMBER_REQUEST_JOIN_APPROVED:69,MEMBER_REQUEST_JOIN_DENIED:70,VIEW_MEMBER_REQUESTS:71,SHARE_TO_FACEBOOK_BOTTOMSHEET_VIEWED:72,CHAT_SHARED_TO_FACEBOOK:73,EDIT_CHAT_DESCRIPTION:74,CHANGE_THREAD_PHOTO:75,INSTALL_MESSENGER_UPSELL_VIEWED:76,DOWNLOAD_MESSENGER_BUTTON_CLICKED:77,BLOCKED_USER_WARNING_RENDERED:78,BLOCKED_USER_WARNING_CONFIRM:79,NOTIF_IMPRESSION:80,NOTIF_CLICKED:81,FIRST_CREATE_BOTTOMSHEET_RENDERED:82,THREAD_CREATE_ATTEMPT:83,PUBLIC_CHAT_LINK_ATTACHMENT_RENDERED:84,PUBLIC_CHAT_LINK_ATTACHMENT_TAPPED:85,NOTIFICATION_CONTROL_ALL_SELECTED:86,NOTIFICATION_CONTROL_MENTIONS_AND_REPLIES_SELECTED:87,NOTIFICATION_CONTROL_NONE_SELECTED:88,NOTIFICATION_CONTROL_RENDERED:89,UNDO_BUTTON_TAPPED:90,INVITE_SENT_SUCCESS:91,INVITE_SENT_FAILED:92,PRIMARY_PROFILE_QP_RENDERED:93,NOT_NOW_TAPPED:94,CREATE_CHANNEL_TAPPED:95,VIEW_PINNED_CHANNELS:96,PROFILE_ABOUT_CHANNEL_SECTION_RENDERED:97,DIRECT_INVITE_SENT_SUCCESS:98,DIRECT_INVITE_SENT_FAIL:99,DIRECT_INVITE_BULK_SENT_SUCCESS:100,DIRECT_INVITE_BULK_SENT_FAIL:101,DIRECT_INVITE_NOTIFICATION_RENDERED:102,DIRECT_INVITE_SHEET_RENDERED:103,INVITE_ACCEPT:104,INVITE_DECLINE:105,CHAT_INVITE_SHEET_RENDERED:106,PAUSE_CHANNEL:107,RESUME_CHANNEL:108,THREAD_CREATE_SUCCESS:109,THREAD_CREATE_ERROR:110,NOTIFICATION_RENDERING_REQUEST_SUCCESS:111,NOTIFICATION_RECALLED:112,NOTIFICATION_DISMISS:113,NOTIFICATION_CLICK:114,FEATURED_UNIT_PROFILE_QP_RENDERED:115,PIN_CARD_TAPPED:116,PIN_FEATURED_CARD_SUCCESS:117,PIN_FEATURED_CARD_FAILURE:118,CHANNELS_FEATURED_UNIT_RENDERED:119,CHANNELS_FEATURED_UNIT_SEE_ALL_TAPPED:120,RENDER_CHAT_INVITE_SHEET:121,RENDER_INVITE_PRESET_LIST:122,INVITE_PRESET_LIST_RENDERED:123,CREATE_POST_BUTTON_TAPPED:124,RENDER_CHANNEL_PAUSE_CONFIRMATION_DIALOG:125,RENDER_CHANNEL_RESUME_CONFIRMATION_DIALOG:126,DISMISS_PAUSE_CHANNEL_DIALOG:127,DISMISS_RESUME_CHANNEL_DIALOG:128,CANCEL_RESUME_CHANNEL:129,CANCEL_PAUSE_CHANNEL:130,DEEPLINK_LANDING_PAGE_RENDERED:131,DIRECT_INVITE_SHEET_SKIPPED:132,CREATE_POST_BUTTON:133,CYSC_QP_CARD_IMPRESSION:134,SHOW_ON_PROFILE_RENDERED:135,THREAD_PREVIEW_OPEN:136,NON_MEMBER_COMPOSER_SHOWN:137,REACTIONS_UNEXPECTED_DROP:138,REACTIONS_MUTATION_SUCCESS:139,REACTIONS_MUTATION_FAILURE:140,REACTIONS_TRAY_EMPTY_ERROR:141,SET_CHAT_CREATION_PHOTO:142,SHARE_LINK_TO_FB_CONFIRM:143,BIIM_INBOX_BROADCAST_CREATE_BUTTON_RENDERED:144,BIIM_INBOX_BROADCAST_CREATE_BUTTON_TAPPED:145,PUBLIC_BROADCAST_CHAT_NUX_QP_RENDERED:146,PUBLIC_BROADCAST_CHAT_NUX_QP_TAPPED:147,PIN_FEATURED_CARD_TOGGLE:148,PIN_TO_INBOX_SUCCESS:149,PIN_TO_INBOX_FAILURE:150,UNPIN_FROM_INBOX_SUCCESS:151,UNPIN_FROM_INBOX_FAILURE:152,PINNED_THREAD_RENDERED:153,CHANNELS_TAB_ITEM_RENDERED:154,CHANNELS_TAB_ITEM_TAPPED:155,PROFILE_CHANNELS_TAB_RENDERED:156,PROMPT_ACCOUNT_SWITCH_QP_RENDERED:157,PROMPT_ACCOUNT_SWITCH_QP_CREATE_CHANNEL_TAPPED:158,PROMPT_ACCOUNT_SWITCH_QP_DISMISSED:159,CYSC_NEWSFEED_QP_RENDERED:160,CREATE_CHANNEL_OPTION_RENDERED:161,CHANNELS_LIST_RENDERED:162,CHANNELS_LIST_NULL_STATE_RENDERED:163,PUBLIC_BROADCAST_CHANNEL_APPLUS_QP:164,BROADCAST_CHANNEL_TAPPED:165,MESSENGER_SEARCH_PUBLIC_CHANNEL_RENDERED:166,PROFILE_INTRO_CARD_CHANNEL_RENDERED:167,DIRECT_INVITE_JEWEL_NOTIFICATION_CHANNEL_RENDERED:168,PERSISTENT_INVITE_CHANNEL_RENDERED:169,KEEP_EDITING_BUTTON_TAPPED:170,THREAD_TOMBSTONE_IMPRESSION:171,VIEW_PAGE_STATUS_PRESSED:172,FIRST_CREATE_FULLSCREEN_NUX_RENDERED:173,FIRST_CREATE_FULLSCREEN_NUX_TAPPED:174,DIRECTORY_SEARCH_NULLSTATE_IMPRESSION:175,DIRECTORY_PEOPLE_TAB_IMPRESSION:176,DIRECTORY_OPEN:177,DIRECTORY_FEED_QP_IMPRESSION:178,DIRECTORY_RECOMMENDATION_LIST_IMPRESSION:179,SHARE_BUTTON_ON_THREAD_HEADER:180,DIRECTORY_FEED_SEE_ALL_TAPPED:181,CHANNELS_WAITLIST_RENDERED:182,REQUEST_ACCESS_ATTEMPT:183,LEARN_MORE_TAPPED:184,REQUEST_ACCESS_SUCCESS:185,CHANNELS_SURVERY_RENDERED:186,SUBMIT_SURVEY_ATTEMPT:187,SUBMIT_SURVEY_SUCCESS:188,ALREADY_REGISTERED_VIEW_RENDERED:189,NOT_ELIGIBLE_VIEW_RENDERED:190,LOGGED_OUT_VIEW_RENDERED:191,DISCOVER_CHANNELS_TAPPED:192,CHANNELS_WAITLIST_ACCOUNT_SWITCH_RENDERED:193,WAITLIST_ACCOUNT_SWITCH_ATTEMPT:194,ALREADY_HAS_ACCESS_VIEW_RENDERED:195,MBS_CHANNELS_TAB_IMPRESSION:196,MBS_CHANNELS_TAB_TAPPED:197,MBS_CHANNELS_ENTRYPOINT_BUTTON_IMPRESSION:198,MBS_CHANNELS_ENTRYPOINT_BUTTON_TAPPED:199,WEB_SUBSCRIBE_TO_THREAD_CREATION_STATUS_TABLE:200,WEB_THREAD_CREATION_STATUS_PENDING:201,WEB_SUBSCRIBE_TO_THREADS_TABLE_DURING_CREATE:202,WEB_THREAD_CREATED_WAITING_FOR_THREAD_LINK:203,JOIN_CHAT_NUX_CONFIRM:204,JOIN_CHAT_NUX_CANCEL:205,JOIN_CHAT_NUX_RENDERED:206,MUTE_ON_LEAVE_DIALOG_RENDERED:207,DIRECTORY_FEED_QP_PREVIEW_TAPPED:208,INVITED_AND_DIRECTORY_SCREEN_IMPRESSION:209,INVITED_CHANNELS_SCREEN_IMPRESSION:210,INVITED_AND_DIRECTORY_SCREEN_TAP_SEE_ALL:211,PROMPT_ACCOUNT_SWITCH_QP_ACCOUNT_SWITCH_STARTED:212,PROMPT_ACCOUNT_SWITCH_QP_ACCOUNT_SWITCH_COMPLETED:213,PROMPT_ACCOUNT_SWITCH_QP_CREATION_FLOW_STARTED:214,SHARE_TO_STORY_TAPPED:215,CHANNEL_STICKER_RENDERED:216,BUMP_THREAD_TO_INBOX_TAPPED:217,UNBUMP_THREAD_FROM_INBOX_TAPPED:218,DIRECTORY_FEED_QP_DISMISS_BUTTON_TAPPED:219,MBS_CHANNELS_TAB_WITH_BADGE_IMPRESSION:220,MBS_CHANNELS_TAB_WITH_BADGE_TAPPED:221,EARLY_ACCESS_AWARENESS_SCREEN_IMPRESSION:222,EARLY_ACCESS_AWARENESS_BUTTON_CLICK:223,SHARE_MESSAGE_TO_STORY_TAPPED:224,CHANNEL_MESSAGE_STICKER_RENDERED:225,SHARE_CHANNEL_TO_STORY_BOTTOMSHEET_RENDERED:226,EARLY_ACCESS_BROADCAST_CHANNEL_TOGGLE_RENDERED:227,EARLY_ACCESS_BROADCAST_CHANNEL_TOGGLE_CLICKED:228,EARLY_ACCESS_BROADCAST_CHANNEL_TIME_SETTING_CLICKED:229,EARLY_ACCESS_BROADCAST_CHANNEL_MESSAGE_EDITED:230,EARLY_ACCESS_BROADCAST_CHANNEL_LEARN_MORE_CLICKED:231,FORWARDED_MESSAGE_CHANNEL_CLICK:232,MESSAGE_FORWARD_CLICK:233,VIEW_PINNED_MESSAGES:234,PIN_MESSAGE:235,UNPIN_MESSAGE:236,HIGHLIGHTS_TAB_REACTION_CONTAINER:237,HIGHLIGHTS_TAB_REACTION_PILL:238,SHARE_TO_CHANNELS_ENTRY_POINT_RENDERED:239,SHARE_TO_CHANNELS_ENTRY_POINT_TAPPED:240,SHARE_TO_CHANNELS_PAGE_IMPRESSION:241,SHARE_TO_CHANNELS_CHANNEL_TAPPTED:242,SHARE_TO_CHANNELS_DEFAULT_TOGGLE_CLICKED:243,SHARE_TO_CHANNELS_SHARING_UNAVAILABLE:244,JOIN_TOAST_UNDO_TAPPED:245,MEMBERSHIP_MILESTONE_SCREEN_IMPRESSION:246,MEMBERSHIP_MILESTONE_IMAGE_CARD_TAPPED:247,MEMBERSHIP_MILESTONE_SEND_BUTTON_TAPPED:248,DM_VIEW_CHANNEL_BUTTON:249,MBS_CONTENT_CHANNELS_NULL_STATE_BUTTON_TAPPED:250,MBS_CONTENT_CHANNELS_NULL_STATE_BUTTON_IMPRESSION:251,MBS_CONTENT_CHANNELS_LIST_CHANNEL_TAPPED:252,CHANNELS_GUTTER_UNIT_RENDERED:253,SHARE_POST_TO_BC_EDUCATION_BOTTOMSHEET_IMPRESSION:254,TURN_ON_TAPPED:255,SHARE_POST_TO_BC_SCREEN_IMPRESSION:256,MBS_CONTENT_CHANNELS_NULL_STATE_COMPONENT_IMPRESSION:257,ENGAGEMENT_REMINDER_SCREEN_IMPRESSION:258,ENGAGEMENT_REMINDER_ADD_ATTACHMENT_TAPPED:259,ENGAGEMENT_REMINDER_SEND_BUTTON_TAPPED:260,PUBLIC_BROADCAST_CHANNEL_NUX_CAROUSEL_SLIDE_RENDERED:261,ABOUT_CHANNEL_TAP:262,ABOUT_CHANNEL_VIEW_PAGE_TAP:263,ABOUT_CHANNEL_CLOSE:264,TOP_FAN_PERKS_SETTINGS_BROADCAST_CHANNEL_VIEW_IMPRESSION:265,TOP_FAN_PERKS_SETTINGS_BROADCAST_CHANNEL_VIEW_BUTTON_CLICK:266,BROADCAST_CHANNELS_LEARN_MORE_IMPRESSION:267,BROADCAST_CHANNELS_LEARN_MORE_CONFIRM_BUTTON_CLICK:268,SHARE_TO_STORY_MSGR_TO_FB_DEEPLINK_HANDLED:269,UNJOINED_THREAD_ITEM_TAPPED:270,CONTENT_CHAINING_BUTTON_IMPRESSION:271,CONTENT_CHAINING_BUTTON_CLICKED:272,PIN_POST_TOGGLED_ON:273,PIN_POST_TOGGLED_OFF:274,CREATE_OR_MESSAGE_BOTTOMSHEET_IMPRESSION:275,BIIM_PERSONAL_INBOX_TOGGLE:276,PERSONAL_INBOX_VOICE_SWITCH_CONSENT_DIALOG_IMPRESSION:277,PERSONAL_INBOX_VOICE_SWITCH_CONSENT_DECLINED:278,PERSONAL_INBOX_VOICE_SWITCH_CONSENT_APPROVED_ALWAYS:279,PERSONAL_INBOX_VOICE_SWITCH_CONSENT_APPROVED_ONCE:280,UNJOINED_THREAD_HEADER_TAP:281,CONTENT_CHAINING_SCREEN_IMPRESSION:282,CONTENT_CHAINING_POST_CELL_IMPRESSION:283,CONTENT_CHAINING_POST_CELL_CLICKED:284,CONTENT_CHAINING_BUTTON_CELL_IMPRESSION:285,CONTENT_CHAINING_BUTTON_CELL_CLICKED:286,SHARE_TO_CHANNELS_SHARESHEET_ENTRY_POINT_IMPRESSION:287,SHARE_TO_CHANNELS_SHARESHEET_ENTRY_POINT_TAPPED:288,SHARE_TO_CHANNELS_SHARESHEET_CHANNEL_TAPPED:289,SHARE_TO_CHANNELS_SHARESHEET_SEND_BUTTON_TAPPED:290,CREATE_OR_MESSAGE_BOTTOMSHEET_LOADING_SCREEN_IMPRESSION:291,PIN_CHANNEL_TO_MESSENGER_TOGGLE_TAPPED:292,SHARE_TO_CHANNELS_SHARESHEET_SEND_SUCCESS:293,SHARE_TO_CHANNELS_SHARESHEET_SEND_FAILURE:294,SHARE_TO_CHANNELS_SHARESHEET_CONFIRMATION_TOAST_IMPRESSION:295,CONTENT_CHAINING_LAUNCH_FAILURE:296,RENDER_PROMPT_CREATION_PILL:297,RENDER_DAILY_PROMPT_CREATOR_NUX_SHEET:298,DAILY_PROMPT_CREATOR_NUX_SHEET_RENDERED:299,DISMISS_DAILY_PROMPT_CREATOR_NUX_SHEET:300,DAILY_PROMPT_CREATION_SHEET_RENDERED:301,RENDER_DAILY_PROMPT_CREATION_SHEET:302,CANCEL_DAILY_PROMPT_CREATION_SHEET:303,START_DAILY_PROMPT:304,RENDER_DAILY_PROMPT_RESPONSES_SHEET:305,DAILY_PROMPT_RESPONSES_SHEET_RENDERED:306,RENDER_DAILY_PROMPT_RESPONSE_REPLY_SHEET:307,REPLY_DAILY_PROMPT_RESPONSE:308,RENDER_DELETE_DAILY_PROMPT_RESPONSE_DIALOG:309,DELETE_DAILY_PROMPT_RESPONSE:310,DISMISS_DELETE_DAILY_PROMPT_RESPONSE:311,REPORT_DAILY_PROMPT_RESPONSE:312,DAILY_PROMPT_RESPONSE_REACT:313,DAILY_PROMPT_RESPONSE_CREATION_SHEET_RENDERED:314,CREATE_DAILY_PROMPT_RESPONSE:315,DELETE_DAILY_PROMPT_DIALOG_RENDERED:316,DELETE_DAILY_PROMPT:317,CANCEL_DELETE_DAILY_PROMPT:318,DAILY_PROMPT_SHARE_SHEET_RENDERED:319,COLLECT_FEEDBACK_SCREEN_IMPRESSION:320,COLLECT_FEEDBACK_POST_CARD_TAPPED:321,COLLECT_FEEDBACK_NEW_QUESTION_BUTTON_TAPPED:322,COLLECT_FEEDBACK_SEND_BUTTON_TAPPED:323,REPORT_DAILY_PROMPT_DIALOG_RENDERED:324,SHARE_TO_CHANNELS_PAGE_SAVE_TAPPED:325,COLLECT_FEEDBACK_SECTION_TOGGLED:326,SEND_A_MESSAGE_SECTION_TOGGLED:327,PERSONAL_INBOX_OPT_IN_ENTRY_POINT_RENDERED:328,PERSONAL_INBOX_OPT_IN:329,PERSONAL_INBOX_OPT_IN_ENTRY_POINT_DISMISSED:330,PERSONAL_INBOX_OPT_OUT_AND_VIEW_AS_MEMBER:331,CHANNEL_INSIGHTS:332,FIRST_MESSAGE_SCREEN_IMPRESSION:333,FIRST_MESSAGE_SCREEN_SKIP_BUTTON_TAPPED:334,FIRST_MESSAGE_SCREEN_SEND_BUTTON_TAPPED:335,FIRST_MESSAGE_SCREEN_SUGGESTION_HSCROLL:336,FIRST_MESSAGE_SCREEN_SUGGESTION_TAPPED:337,FIRST_MESSAGE_SCREEN_MESSAGE_EDITED:338,CHANNEL_INSIGHTS_HOME_IMPRESSION:339,CHANNEL_INSIGHTS_INTERACTION_HEADER:340,CHANNEL_INSIGHTS_INTERACTION_BREAKDOWN:341,PROMPT_CREATION_COMPOSER_TOOLTIP_IMPRESSION:342,MILESTONE_NOTIFICATION_BOTTOMSHEET_RENDERED:343,MILESTONE_NOTIFICATION_BOTTOMSHEET_BUTTON_TAPPED:344,INBOX_SNIPPET_RENDERED:345,INBOX_SNIPPET_ROW_TAPPED:346,NOTIFICATION_SETTING_BOTTOM_SHEET_SHOWN:347,NOTIFICATION_SETTING_BOTTOM_SHEET_NOTIFICATION_SETTING_TAPPED:348,NOTIFICATION_SETTING_BOTTOM_SHEET_DISMISSED:349,NOTIFICATION_SETTING_BOTTOM_SHEET_NOTIFICATION_TOGGLE_CHANGED:350,BEST_PRACTICES_PAGE_ACTION_TAPPED:351,BEST_PRACTICES_PAGE_RENDERED:352});c=a;f["default"]=c}),66);
__d("MWBroadcastChannelLoggingShapes",[],(function(a,b,c,d,e,f){"use strict";a={action:2,event:195,parentSurface:11,source:105,surface:73};b={action:2,event:191,parentSurface:11,source:105,surface:73};c={action:2,event:190,parentSurface:11,source:105,surface:73};d={action:2,event:189,parentSurface:11,source:105,surface:73};e={action:1,event:188,parentSurface:11,source:104,surface:74};var g={action:1,event:187,parentSurface:11,source:104,surface:74},h={action:2,event:186,parentSurface:11,source:103,surface:74},i={action:1,event:184,parentSurface:11,source:102,surface:73},j={action:1,event:185,parentSurface:11,source:101,surface:73},k={action:1,event:183,parentSurface:11,source:101,surface:73},l={action:2,event:182,parentSurface:11,source:100,surface:73},m={action:1,event:185,parentSurface:11,source:102,surface:72},n={action:1,event:184,parentSurface:11,source:102,surface:72},o={action:1,event:183,parentSurface:11,source:101,surface:72},p={action:2,event:182,parentSurface:11,source:100,surface:72},q={action:1,clientExtras:{entry_point:"public_chats:comet_www_inbox"},event:95,parentSurface:7,source:8,surface:4},r={action:2,clientExtras:{entry_point:"public_chats:comet_www_inbox"},event:161,parentSurface:7,source:8,surface:4},s={action:1,clientExtras:{entry_point:"public_chats:profile_channels_tab_item"},event:95,parentSurface:11,source:8,surface:58},t=babelHelpers["extends"]({},s,{clientExtras:{entry_point:"public_chats:profile_channels_tab_null_state"}}),u=babelHelpers["extends"]({},s,{clientExtras:{entry_point:"public_chats:profile_from_mbs"}}),v=babelHelpers["extends"]({},s,{clientExtras:{entry_point:"public_chats:fandom_create_channel_email"}}),w={action:2,clientExtras:{entry_point:"public_chats:profile_channels_tab_item"},event:162,parentSurface:21,source:90,surface:59},x={action:2,clientExtras:{entry_point:"public_chats:profile_channels_tab_null_state"},event:163,parentSurface:21,source:90,surface:59},y={action:2,clientExtras:{entry_point:"public_chats:profile_channels_tab_item"},event:161,parentSurface:21,source:90,surface:59},z=babelHelpers["extends"]({},y,{clientExtras:{entry_point:"public_chats:profile_channels_tab_null_state"}}),A={action:2,clientExtras:{entry_point:"public_chats:newsfeed_qp"},event:164,parentSurface:11,source:92,surface:65},B={action:2,clientExtras:{entry_point:"public_chats:profile_qp"},event:164,parentSurface:21,source:92,surface:66},C={action:2,clientExtras:{entry_point:"public_chats:newsfeed_qp"},event:161,parentSurface:11,source:92,surface:65},D={action:2,clientExtras:{entry_point:"public_chats:profile_qp"},event:161,parentSurface:21,source:92,surface:66},E={action:1,clientExtras:{entry_point:"public_chats:newsfeed_qp"},event:95,parentSurface:11,source:8,surface:65},F={action:1,clientExtras:{entry_point:"public_chats:profile_qp"},event:95,parentSurface:21,source:8,surface:66},G={action:1,clientExtras:{entry_point:"public_chats:profile_creation_bar"},event:95,parentSurface:11,source:88,surface:64},H={action:1,clientExtras:{entry_point:"public_chats:channel_creation_qp"},event:95,parentSurface:11,source:67,surface:27},I={action:1,clientExtras:{entry_point:"public_chats:newsfeed_composer"},event:95,parentSurface:11,source:88,surface:69},J={action:1,clientExtras:{entry_point:"public_chats:channels_gutter"},event:95,parentSurface:11,source:8,surface:91},K={action:2,clientExtras:{entry_point:"public_chats:profile_creation_bar"},event:161,parentSurface:11,source:88,surface:64},L={action:2,clientExtras:{entry_point:"public_chats:newsfeed_composer"},event:161,parentSurface:11,source:88,surface:69},M={action:1,event:147,parentSurface:4,source:81,surface:51},N={action:1,event:165,parentSurface:21,source:93,surface:58},O={action:1,event:148,parentSurface:11,source:89,surface:21},P={action:2,event:7,parentSurface:17,source:82,surface:41},Q={action:2,event:146,parentSurface:4,source:81,surface:51},R={action:2,event:261,parentSurface:4,source:81,surface:51},S={action:1,event:53,parentSurface:4,source:81,surface:51},T={action:1,event:8,parentSurface:17,source:8,surface:41},U={action:1,event:234,parentSurface:8,source:27,surface:16},V={action:1,event:234,parentSurface:7,source:62,surface:7},W={action:1,event:235,parentSurface:7,source:62,surface:7},X={action:1,event:236,parentSurface:7,source:62,surface:7},Y={action:2,event:239,parentSurface:11,source:147,surface:87},Z={action:1,event:240,parentSurface:11,source:147,surface:87},$={action:2,event:241,parentSurface:11,source:147,surface:87},aa={action:1,event:242,parentSurface:11,source:147,surface:87},ba={action:1,event:243,parentSurface:11,source:147,surface:87};f.CREATOR_WAITLIST_ALREADY_HAS_ACCESS_VIEW_RENDERED=a;f.CREATOR_WAITLIST_LOGGED_OUT_VIEW_RENDERED=b;f.CREATOR_WAITLIST_NOT_ELIGIBLE_VIEW_RENDERED=c;f.CREATOR_WAITLIST_ALREADY_REGISTERED_VIEW_RENDERED=d;f.CREATOR_WAITLIST_INTEREST_REASONS_SUBMIT_SUCCESS=e;f.CREATOR_WAITLIST_INTEREST_REASONS_SUBMIT_ATTEMPT=g;f.CREATOR_WAITLIST_INTEREST_REASONS_RENDERED=h;f.CREATOR_WAITLIST_LANDING_PAGE_LEARN_MORE_TAPPED=i;f.CREATOR_WAITLIST_LANDING_PAGE_REQUEST_ACCESS_SUCCESS=j;f.CREATOR_WAITLIST_LANDING_PAGE_REQUEST_ACCESS_ATTEMPT=k;f.CREATOR_WAITLIST_LANDING_PAGE_RENDERED=l;f.CREATOR_WAITLIST_NEWSFEED_QP_REQUEST_ACCESS_SUCCESS=m;f.CREATOR_WAITLIST_NEWSFEED_QP_LEARN_MORE_TAPPED=n;f.CREATOR_WAITLIST_NEWSFEED_QP_REQUEST_ACCESS_TAPPED=o;f.CREATOR_WAITLIST_NEWSFEED_QP_RENDERED=p;f.CREATE_CHANNEL_TAPPED_FULL_PAGE_SHAPE=q;f.CREATE_CHANNEL_OPTION_RENDERED_FULL_PAGE_SHAPE=r;f.CREATE_CHANNEL_TAPPED_CHANNELS_TAB_SHAPE=s;f.CREATE_CHANNEL_TAPPED_CHANNELS_TAB_NULL_STATE_SHAPE=t;f.CREATE_CHANNEL_TAPPED_CHANNELS_TAB_MBS_SHAPE=u;f.CREATE_CHANNEL_TAPPED_CHANNELS_TAB_FCC_EMAIL_SHAPE=v;f.CHANNELS_LIST_RENDERED_SHAPE=w;f.CHANNELS_LIST_NULL_STATE_RENDERED_SHAPE=x;f.CREATE_CHANNEL_OPTION_CHANNELS_TAB_RENDERED_SHAPE=y;f.CREATE_CHANNEL_OPTION_CHANNELS_TAB_NULL_STATE_RENDERED_SHAPE=z;f.CREATE_BROADCAST_CHANNEL_NEWSFEED_QP_RENDERED_SHAPE=A;f.CREATE_BROADCAST_CHANNEL_PROFILE_PAGE_QP_RENDERED_SHAPE=B;f.CREATE_CHANNEL_OPTION_NEWSFEED_QP_RENDERED_SHAPE=C;f.CREATE_CHANNEL_OPTION_PROFILE_PAGE_QP_RENDERED_SHAPE=D;f.CREATE_BROADCAST_CHANNEL_NEWSFEED_QP_TAP_SHAPE=E;f.CREATE_BROADCAST_CHANNEL_PROFILE_PAGE_QP_TAP_SHAPE=F;f.CREATE_BROADCAST_CHANNEL_PROFILE_COMPOSER_TAP_SHAPE=G;f.CREATE_BROADCAST_CHANNEL_JEWEL_QP_TAP_SHAPE=H;f.CREATE_BROADCAST_CHANNEL_NEWSFEED_COMPOSER_TAP_SHAPE=I;f.CREATE_BROADCAST_CHANNEL_FROM_GUTTER_TAP_SHAPE=J;f.CREATE_BROADCAST_CHANNEL_PROFILE_COMPOSER_RENDERED_SHAPE=K;f.CREATE_BROADCAST_CHANNEL_NEWSFEED_COMPOSER_RENDERED_SHAPE=L;f.APPLUS_BROADCAST_CHANNEL_EDUCATION_NUX_BUTTON_TAP_SHAPE=M;f.APPLUS_TAP_BROADCAST_CHANNEL_IN_CHANNELS_TAB_SHAPE=N;f.APPLUS_TAP_PIN_TO_FEATURE_IN_CREATION_FORM=O;f.PUBLIC_BROADCAST_CHAT_CREATION_SHEET_RENDERED_SHAPE=P;f.APPLUS_BROADCAST_CHANNEL_EDUCATION_NUX_RENDERED_SHAPE=Q;f.PUBLIC_BROADCAST_CHANNEL_NUX_CAROUSEL_SLIDE_RENDERED=R;f.BROADCAST_CHANNEL_CHANGE_IMAGE_TAP_SHAPE=S;f.THREAD_CREATE_TAP_SHAPE=T;f.VIEW_PINNED_MESSAGES_FROM_THREAD_DETAIL=U;f.VIEW_PINNED_MESSAGES_FROM_THREAD_VIEW_BANNER=V;f.PIN_MESSAGE=W;f.UNPIN_MESSAGE=X;f.SHARE_TO_CHANNELS_ENTRY_POINT_RENDERED=Y;f.SHARE_TO_CHANNELS_ENTRY_POINT_TAPPED=Z;f.SHARE_TO_CHANNELS_PAGE_IMPRESSION=$;f.SHARE_TO_CHANNELS_CHANNEL_TAPPED=aa;f.SHARE_TO_CHANNELS_DEFAULT_TOGGLE_CLICKED=ba}),66);
__d("MWLogBroadcastChannelFalcoEvent",["I64","emptyFunction","requireDeferred","uuidv4"],(function(a,b,c,d,e,f,g){"use strict";var h,i=c("requireDeferred")("MessengerDiscoverableBroadcastChatsClientEventsFalcoEvent").__setRef("MWLogBroadcastChannelFalcoEvent"),j=new Set([161,119]),k=5*60*1e3,l=null,m=null;function a(a){if(a.current)return c("emptyFunction");a.current=!0;return function(a){return n(a)}}function n(a){var b=a.action,e=b===void 0?1:b,f=a.clientExtras,g=a.event;b=a.parentSurface;var n=b===void 0?3:b,o=a.source,p=a.surface,q=a.threadFbid,r=a.recipientId;i.onReady(function(a){var b=Date.now();(l==null||m!=null&&b-m>k||j.has(g))&&(l=c("uuidv4")());m=b;a.log(function(){return{action:e,action_name:e,event:g,event_name:g,extra:f,parent_surface:n,parent_surface_name:n,recipient_id:r,session_id:l,source:o,source_name:o,surface:p,surface_name:p,thread_id:q!=null?(h||(h=d("I64"))).to_string(q):void 0}})})}g.useLogBroadcastChannelFalcoEventWithRef=a;g.logBroadcastChannelFalcoEvent=n}),98);/*FB_PKG_DELIM*/
__d("MAWEncryptedBackupsInitializeBackupDeferred",["EBSMAPI","MWChatEncryptedBackupsQPLEvents","QPLUserFlow","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.onBackupCreationSuccess,e=a.onFailure,f=a.onStart,g=a.qplEventName,h=g===void 0?d("MWChatEncryptedBackupsQPLEvents").backupSetupQplEvent:g,i=a.instanceKey;f==null?void 0:f();c("QPLUserFlow").addPoint(h,"SETUP_INITIALIZE_BACKUP_SPROC_START",{instanceKey:i});c("promiseDone")(c("EBSMAPI").initializeBackup({instanceKey:i}),function(a){a.success?(c("QPLUserFlow").addPoint(h,"SETUP_INITIALIZE_BACKUP_SPROC_END",{instanceKey:i}),c("QPLUserFlow").addPoint(h,"SETUP_INITIALIZE_BACKUP_END",{instanceKey:i}),b==null?void 0:b()):(c("QPLUserFlow").markError(h,"SETUP_INITIALIZE_BACKUP_SPROC_FAILURE",{instanceKey:i}),e())},function(){c("QPLUserFlow").markError(h,"SETUP_INITIALIZE_BACKUP_SPROC_FAILURE",{instanceKey:i}),e()})}g.initializeBackupDeferred=a}),98);
__d("MWChatEncryptedBackupsPinCodeConfirmStepContentWrapper.react",["FocusRegion.react","MWChatEncryptedBackupsNumericCodeErrorWrapper.react","MWChatEncryptedBackupsNumericCodeInput.react","focusScopeQueries","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(9);if(b[0]!==a){var e=a.inputSize;a.isMessenger;var f=babelHelpers.objectWithoutPropertiesLoose(a,["inputSize","isMessenger"]);e=e;f=f;b[0]=a;b[1]=f;b[2]=e}else f=b[1],e=b[2];a=e===void 0?"large":e;b[3]!==f||b[4]!==a?(e=i.jsx(d("FocusRegion.react").FocusRegion,{autoFocusQuery:d("focusScopeQueries").tabbableScopeQuery,children:i.jsx(c("MWChatEncryptedBackupsNumericCodeInput.react"),babelHelpers["extends"]({testid:void 0},f,{inputSize:a}))}),b[3]=f,b[4]=a,b[5]=e):e=b[5];b[6]!==a||b[7]!==e?(f=i.jsx(c("MWChatEncryptedBackupsNumericCodeErrorWrapper.react"),{inputSize:a,children:e}),b[6]=a,b[7]=e,b[8]=f):f=b[8];return f}g["default"]=a}),98);
__d("MessengerCheckmark.svg.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs("svg",babelHelpers["extends"]({viewBox:"0 0 36 36",width:"1em",height:"1em",fill:"currentColor"},a,{children:[a.title!=null&&i.jsx("title",{children:a.title}),a.children!=null&&i.jsx("defs",{children:a.children}),i.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M26.378 9.169c.597.347.8 1.112.453 1.709l-9 15.5a1.25 1.25 0 0 1-1.965.256l-6.5-6.5a1.25 1.25 0 1 1 1.768-1.768l5.121 5.121a.25.25 0 0 0 .393-.05L24.67 9.621a1.25 1.25 0 0 1 1.709-.453z"})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;b=a;g["default"]=b}),98);
__d("useCreateEncryptedBackup",["CometRelay","FBLogger","LSDataTraceCheckPoint","LSDataTraceType","LSIntEnum","MAWCurrentUser","MAWEncryptedBackupsInitializeBackupDeferred","MAWTraceUtils","MWChatEncryptedBackupsLogging","MWChatEncryptedBackupsQPLEvents","MWEBODSEntityName.enum","MWEncryptedBackupsCreateExtraVirtualDeviceDeferred","MWEncryptedBackupsGenerateRecoveryCode","MWEncryptedBackupsLocalStorageEntryEnum","QPLUserFlow","VestaBackupSecretRegister","cr:17321","gkx","promiseDone","requireDeferred","useLabyrinthLogging","useMWEBFlowSourceContext","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=c("requireDeferred")("MWEncryptedBackupsSharedState").__setRef("useCreateEncryptedBackup"),k=c("requireDeferred")("VestaDeleteAccount").__setRef("useCreateEncryptedBackup");function a(a){var e=a.backupExists,f=a.onInit,g=a.onLabyrinthError,l=a.onSuccess,m=a.onVestaError,n=(i||(i=c("useReStore")))();a=d("useLabyrinthLogging").useLabyrinthLoggingFlow();var o=a.startFlow,p=c("useMWEBFlowSourceContext")(),q=d("CometRelay").useRelayEnvironment(),r=async function(a,b,e){try{d("MAWTraceUtils").recordCheckpointForTrace(b,(h||(h=d("LSIntEnum"))).ofNumber(c("LSDataTraceCheckPoint").LABYRINTH_PLUGIN_CALLING_INITIALIZE_BACKUP),[],!1);c("QPLUserFlow").addPoint(d("MWChatEncryptedBackupsQPLEvents").onboardingAuthQplEvent,"ONBOARDING_INIT_BACKUP_START");await new Promise(function(b,c){return d("MAWEncryptedBackupsInitializeBackupDeferred").initializeBackupDeferred({db:n,instanceKey:e,onBackupCreationSuccess:function(){return b()},onFailure:function(){return c()},qplEventName:a})});c("QPLUserFlow").addPoint(d("MWChatEncryptedBackupsQPLEvents").onboardingAuthQplEvent,"ONBOARDING_INIT_BACKUP_END");c("QPLUserFlow").addPoint(a,"success_backup_initialization",{instanceKey:e});return!0}catch(f){d("MAWTraceUtils").recordCheckpointForTrace(b,(h||(h=d("LSIntEnum"))).ofNumber(c("LSDataTraceCheckPoint").LABYRINTH_PIN_SETUP_FAILURE),[],!1,f==null?void 0:f.message),c("QPLUserFlow").markError(d("MWChatEncryptedBackupsQPLEvents").onboardingAuthQplEvent,"ONBOARDING_INIT_BACKUP_FAILURE"),c("QPLUserFlow").markError(a,"failed_backup_initialization",{instanceKey:e}),c("FBLogger")("labyrinth_web").catching(f).mustfix("[labyrinth][onboarding] Error when initializing backup on device using PIN")}return!1},s=async function(a,b,e){try{d("MAWTraceUtils").recordCheckpointForTrace(b,(h||(h=d("LSIntEnum"))).ofNumber(c("LSDataTraceCheckPoint").LABYRINTH_PLUGIN_CALLING_CREATE_EXTRA_VIRTUAL_DEVICE),[],!1);await new Promise(function(a,b){return d("MWEncryptedBackupsCreateExtraVirtualDeviceDeferred").encryptedBackupsCreateExtraVirtualDeviceDeferred({db:n,onFailure:b,onSuccess:a})});c("QPLUserFlow").addPoint(a,"success_device_verification",{instanceKey:e});return!0}catch(f){d("MAWTraceUtils").recordCheckpointForTrace(b,(h||(h=d("LSIntEnum"))).ofNumber(c("LSDataTraceCheckPoint").LABYRINTH_PIN_SETUP_FAILURE),[],!1,f==null?void 0:f.message),c("QPLUserFlow").markError(a,"failed_device_verification",{instanceKey:e}),c("FBLogger")("labyrinth_web").catching(f).mustfix("Error when creating extra virtual device with PIN")}return!1};return async function(a,i,t){i===void 0&&(i=d("MWChatEncryptedBackupsQPLEvents").backupSetupQplEvent);f==null?void 0:f();var u=d("MAWTraceUtils").startNewTrace((h||(h=d("LSIntEnum"))).ofNumber(c("LSDataTraceType").SAP_VESTA_REGISTRATION),d("MAWTraceUtils").CONTEXT_VESTA_REGISTRATION);c("QPLUserFlow").addAnnotations(i,{string:{source:p()}},{instanceKey:t});var v;try{d("MAWTraceUtils").recordCheckpointForTrace(u,(h||(h=d("LSIntEnum"))).ofNumber(c("LSDataTraceCheckPoint").LABYRINTH_PLUGIN_CALLING_GENERATE_RECOVERY_CODE),[],!1);o({event:d("MWChatEncryptedBackupsQPLEvents").onboardingAuthQplEvent,odsEntityName:c("MWEBODSEntityName.enum").MW_EB_ONBOARDING_AUTH});c("QPLUserFlow").addPoint(d("MWChatEncryptedBackupsQPLEvents").onboardingAuthQplEvent,"ONBOARDING_RECOVERY_CODE_GENERATE_START");c("QPLUserFlow").addPoint(d("MWChatEncryptedBackupsQPLEvents").backupSetupQplEvent,"SETUP_RECOVERY_CODE_GENERATE_START");var w=await d("MWEncryptedBackupsGenerateRecoveryCode").encryptedBackupsGenerateRecoveryCode({db:n,virtualDeviceType:2}),x=w.recoveryCode;w=w.virtualDeviceId;v=w;if(x==null||w==null){c("FBLogger")("labyrinth_web").mustfix("Cannot setup a PIN Code without a recovery code");d("MAWTraceUtils").recordFailureAndFlushForTraceId(u,(h||(h=d("LSIntEnum"))).ofNumber(c("LSDataTraceCheckPoint").LABYRINTH_PIN_SETUP_FAILURE),[],"Cannot setup a PIN Code without a recovery code");c("QPLUserFlow").markError(i,"SETUP_RECOVERY_CODE_GENERATE_FAILURE",{instanceKey:t});d("MWChatEncryptedBackupsLogging").endFailure({annotations:{string:{errorReason:"ONBOARDING_RECOVERY_CODE_GENERATE_FAILURE"}},errorName:"ONBOARDING_RECOVERY_CODE_GENERATE_FAILURE",event:d("MWChatEncryptedBackupsQPLEvents").onboardingAuthQplEvent,odsEntityName:c("MWEBODSEntityName.enum").MW_EB_ONBOARDING_AUTH});g==null?void 0:g();return}d("MAWTraceUtils").recordCheckpointForTrace(u,h.ofNumber(c("LSDataTraceCheckPoint").SAP_VESTA_CALLING_VESTA_REGISTRATION),[],!1);var y=new TextEncoder();c("QPLUserFlow").addPoint(d("MWChatEncryptedBackupsQPLEvents").onboardingAuthQplEvent,"ONBOARDING_SAP_VESTA_REGISTRATION_START");c("QPLUserFlow").addPoint(i,"SETUP_SAP_VESTA_REGISTRATION_START",{instanceKey:t});await d("VestaBackupSecretRegister").vestaBackupSecretRegister({environment:q,input:{clientId:w,productUseCase:c("gkx")("24066")?"IGD_ENC_BACKUP":"MSGR_ENC_BACKUP",secret:y.encode(x),vestaAccountPin:a}});c("QPLUserFlow").addPoint(d("MWChatEncryptedBackupsQPLEvents").onboardingAuthQplEvent,"ONBOARDING_SAP_VESTA_REGISTRATION_END");c("QPLUserFlow").addPoint(i,"SETUP_SAP_VESTA_REGISTRATION_END",{instanceKey:t});d("MAWTraceUtils").recordCheckpointForTrace(u,h.ofNumber(c("LSDataTraceCheckPoint").SAP_VESTA_REGISTRATION_COMPLETION),[],!1);y=e?await s(i,u,t):await r(i,u,t);if(y)d("MAWTraceUtils").recordSuccessAndFlushForTraceId(u,(h||(h=d("LSIntEnum"))).ofNumber(c("LSDataTraceCheckPoint").LABYRINTH_PIN_SETUP_SUCCESS),[]),j.onReady(function(a){a=a.upsertEBSharedStateEntry;c("promiseDone")(a({db:n,stateKey:c("MWEncryptedBackupsLocalStorageEntryEnum").ENCRYPTED_BACKUPS_ONBOARDED_SUCCESSFULLY}))}),l&&l(),d("MWChatEncryptedBackupsLogging").endSuccess({event:d("MWChatEncryptedBackupsQPLEvents").onboardingAuthQplEvent,odsEntityName:c("MWEBODSEntityName.enum").MW_EB_ONBOARDING_AUTH}),d("MWChatEncryptedBackupsLogging").endSuccess({annotations:{string:{setup_type:"pin_code"}},event:i,instanceKey:t}),b("cr:17321")==null?void 0:b("cr:17321").fireAndForget("backend","addDeviceWithPinInWorker",{recoveryCode:x,userId:d("MAWCurrentUser").getID()});else{c("QPLUserFlow").markError(i,"pin_code_create_vd_error",{instanceKey:t});d("MAWTraceUtils").recordCheckpointForTrace(u,(h||(h=d("LSIntEnum"))).ofNumber(c("LSDataTraceCheckPoint").LABYRINTH_PIN_SETUP_FAILURE),[],!1,"Virtual device creation failure");c("QPLUserFlow").addPoint(d("MWChatEncryptedBackupsQPLEvents").onboardingAuthQplEvent,"ONBOARDING_DELETE_VESTA_ACCOUNT_START");a=await k.load();y=a.vestaDeleteAccount;y({clientId:w,environment:q,productUseCase:"MSGR_ENC_BACKUP",updater:function(a){var b;b=(b=a.getRootField("fbid_based_auth_layer_vesta_delete_account"))==null?void 0:b.getLinkedRecord("vesta_user_info");if(b!=null){(a=a.getRoot())==null?void 0:(a=a.getLinkedRecord("viewer"))==null?void 0:(a=a.getLinkedRecord("messenger_default_encrypted_backup"))==null?void 0:(a=a.getLinkedRecord("vesta_user_info"))==null?void 0:a.copyFieldsFrom(b)}}});c("QPLUserFlow").addPoint(d("MWChatEncryptedBackupsQPLEvents").onboardingAuthQplEvent,"ONBOARDING_DELETE_VESTA_ACCOUNT_END");d("MWChatEncryptedBackupsLogging").endFailure({annotations:{string:{errorReason:"ONBOARDING_VIRTUAL_DEVICE_CREATE_FAILURE"}},errorName:"ONBOARDING_RECOVERY_CODE_GENERATE_FAILURE",event:d("MWChatEncryptedBackupsQPLEvents").onboardingAuthQplEvent,odsEntityName:c("MWEBODSEntityName.enum").MW_EB_ONBOARDING_AUTH});d("MAWTraceUtils").recordCheckpointForTrace(u,h.ofNumber(c("LSDataTraceCheckPoint").FLOW_END_FOR_FAILURE),[],!0);g==null?void 0:g()}}catch(b){if(v!=null){x=await k.load();a=x.vestaDeleteAccount;a({clientId:v,environment:q,productUseCase:"MSGR_ENC_BACKUP",updater:function(a){var b;b=(b=a.getRootField("fbid_based_auth_layer_vesta_delete_account"))==null?void 0:b.getLinkedRecord("vesta_user_info");if(b!=null){(a=a.getRoot())==null?void 0:(a=a.getLinkedRecord("viewer"))==null?void 0:(a=a.getLinkedRecord("messenger_default_encrypted_backup"))==null?void 0:(a=a.getLinkedRecord("vesta_user_info"))==null?void 0:a.copyFieldsFrom(b)}}})}c("QPLUserFlow").markError(i,"pin_code_vesta_error",{instanceKey:t});d("MWChatEncryptedBackupsLogging").endFailure({annotations:{string:{errorReason:b.toString()}},errorName:"ONBOARDING_UNKNOWN_FAILURE",event:d("MWChatEncryptedBackupsQPLEvents").onboardingAuthQplEvent,odsEntityName:c("MWEBODSEntityName.enum").MW_EB_ONBOARDING_AUTH});d("MAWTraceUtils").recordFailureAndFlushForTraceId(u,(h||(h=d("LSIntEnum"))).ofNumber(c("LSDataTraceCheckPoint").LABYRINTH_PIN_SETUP_FAILURE),[],b.toString());m==null?void 0:m();c("FBLogger")("labyrinth_web").catching(b).mustfix("[labyrinth][onboarding] Error when setting the pin code up")}}}g.default=a}),98);
__d("useMWChatEncryptedBackupsOnPinCodeSetup",["fbt","BaseToasterStateManager","FDSCheckmarkCircleFilled24Icon","FDSIcon.react","MWChatEncryptedBackupsQPLEvents","MWEBUseLocalStorage","MWEncryptedBackupsLocalStorageEntryEnum","MWXIconRefresh","MWXIconStrict.react","MessengerCheckmark.svg.react","QPLUserFlow","SVGIcon","mwPushToast","react","react-compiler-runtime","useCreateEncryptedBackup"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react")),k=i.useRef,l=c("BaseToasterStateManager").getInstance();function a(a){var b=d("react-compiler-runtime").c(12),e=a.backupExists,f=a.onFinish,g=a.onStart,h=k(null);b[0]!==g?(a=function(){h.current=m(),g()},b[0]=g,b[1]=a):a=b[1];var i,j,l;b[2]!==f?(i=function(){f==null?void 0:f(),h.current=o(h)},j=function(){f==null?void 0:f(),d("MWEBUseLocalStorage").mwEBCreateLocalStorageEntry(c("MWEncryptedBackupsLocalStorageEntryEnum").MW_EB_HAS_SET_UP_IN_CURRENT_SESSION),h.current=n(h)},l=function(){f==null?void 0:f(),h.current=o(h)},b[2]=f,b[3]=i,b[4]=j,b[5]=l):(i=b[3],j=b[4],l=b[5]);var p;b[6]!==e||b[7]!==a||b[8]!==i||b[9]!==j||b[10]!==l?(p={backupExists:e,onInit:a,onLabyrinthError:i,onSuccess:j,onVestaError:l},b[6]=e,b[7]=a,b[8]=i,b[9]=j,b[10]=l,b[11]=p):p=b[11];return c("useCreateEncryptedBackup")(p)}function m(){var a=60*60*24*1e3;c("QPLUserFlow").addPoint(d("MWChatEncryptedBackupsQPLEvents").backupSetupQplEvent,"pin_code_creation_begin_toast");return d("mwPushToast").mwPushToast({icon:{comet:j.jsx(c("MWXIconStrict.react"),{icon:c("MWXIconRefresh"),size:20}),mds:c("MWXIconRefresh").originalComponent},title:h._(/*BTDS*/"Creating your PIN\u2026")},a)}function n(a){p(a);c("QPLUserFlow").addPoint(d("MWChatEncryptedBackupsQPLEvents").backupSetupQplEvent,"pin_code_creation_success_toast");return d("mwPushToast").mwPushToast({icon:{comet:j.jsx(c("FDSIcon.react"),{icon:c("FDSCheckmarkCircleFilled24Icon")}),mds:d("SVGIcon").svgIcon(c("MessengerCheckmark.svg.react"))},testid:"mw-encrypted-backups-pin-code-created-toast",title:h._(/*BTDS*/"PIN created")})}function o(a){p(a);c("QPLUserFlow").addPoint(d("MWChatEncryptedBackupsQPLEvents").backupSetupQplEvent,"pin_code_creation_failed_toast");return d("mwPushToast").mwPushErrorToast({body:h._(/*BTDS*/"Failed to create PIN. Try again.")})}function p(a){if(a.current==null)return;l.expire(a.current);a.current=null}g["default"]=a}),226);
__d("MWEBOnboardingConfirmPINJewelStep.react",["fbt","MWChatEncryptedBackupsPinCodeConfirmStepContentWrapper.react","MWChatEncryptedBackupsQPLEvents","MWChatEncryptedBackupsUpsellJewelChatTabLayout.react","MWEBConnections4AndroidIcon.react","MWEBPinCodeSize","MWXCircleButton.react","MWXColumn.react","MWXColumnItem.react","MWXIconArrowLeft","MWXText.react","promiseDone","react","react-compiler-runtime","useEncryptedBackupsQplImpressionRef","useMWChatEncryptedBackupsNumericCode","useMWChatEncryptedBackupsOnPinCodeSetup","xplatToDOMRef"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react"),k="eb-onboarding-insert-pin-dialog-step";function a(a){var b=d("react-compiler-runtime").c(62),e=a.enteredPinCode,f=a.isChatTab,g=a.onComplete,i=a.onReturn,l=a.setIsMismatchError,m=a.subtitle;a=a.title;var n=c("useEncryptedBackupsQplImpressionRef")(d("MWChatEncryptedBackupsQPLEvents").backupSetupQplEvent,"ONBOARDING_EB_PIN_CONFIRM_STEP_IMPRESSION"),o;b[0]!==g?(o={backupExists:!1,onStart:g},b[0]=g,b[1]=o):o=b[1];var p=c("useMWChatEncryptedBackupsOnPinCodeSetup")(o);b[2]!==i||b[3]!==l?(g=function(){l(!0),i()},b[2]=i,b[3]=l,b[4]=g):g=b[4];b[5]!==e||b[6]!==g?(o={onCodeMismatch:g,previouslyInsertedCode:e},b[5]=e,b[6]=g,b[7]=o):o=b[7];b[8]!==p?(e=function(a){c("promiseDone")(p(a,d("MWChatEncryptedBackupsQPLEvents").backupSetupQplEvent))},b[8]=p,b[9]=e):e=b[9];b[10]!==o||b[11]!==e?(g={checkPreviouslyInsertedCode:o,focusRegionId:k,inputSize:d("MWEBPinCodeSize").EB_PIN_CODE_SIZE,onComplete:e},b[10]=o,b[11]=e,b[12]=g):g=b[12];o=d("useMWChatEncryptedBackupsNumericCode").useMWChatEncryptedBackupsNumericCode(g);e=o[0];g=f?"small":"large";b[13]===Symbol["for"]("react.memo_cache_sentinel")?(o=h._(/*BTDS*/"Back"),b[13]=o):o=b[13];b[14]!==i?(o={align:"start",item:j.jsx(c("MWXCircleButton.react"),{color:"primary",icon:c("MWXIconArrowLeft"),label:o,onPress:i,size:32})},b[14]=i,b[15]=o):o=b[15];var q;b[16]!==n?(q=d("xplatToDOMRef").xplatToDOMRef(n),b[16]=n,b[17]=q):q=b[17];n=f?"small":"large";var r;b[18]!==n?(r=j.jsx(c("MWXColumnItem.react"),{children:j.jsx(c("MWEBConnections4AndroidIcon.react"),{size:n})}),b[18]=n,b[19]=r):r=b[19];n=f?0:20;var s=f?0:20,t;b[20]===Symbol["for"]("react.memo_cache_sentinel")?(t={className:"x78zum5 x141feeh"},b[20]=t):t=b[20];var u=f?0:20,v=f?0:8,w;b[21]===Symbol["for"]("react.memo_cache_sentinel")?(w={className:"xpvyfi4 x3ajldb"},b[21]=w):w=b[21];b[22]!==a?(w=j.jsx("div",babelHelpers["extends"]({},w,{children:j.jsx(c("MWXText.react"),{align:"center",type:"headlineEmphasized2",children:a})})),b[22]=a,b[23]=w):w=b[23];b[24]!==u||b[25]!==v||b[26]!==w?(a=j.jsx("div",babelHelpers["extends"]({},t,{children:j.jsx(c("MWXColumnItem.react"),{paddingHorizontal:u,paddingTop:v,verticalAlign:"bottom",children:w})})),b[24]=u,b[25]=v,b[26]=w,b[27]=a):a=b[27];b[28]!==n||b[29]!==s||b[30]!==a?(t=j.jsx(c("MWXColumnItem.react"),{paddingHorizontal:n,paddingTop:s,children:a}),b[28]=n,b[29]=s,b[30]=a,b[31]=t):t=b[31];u=f?0:16;v=f?0:12;b[32]!==m?(w=j.jsx(c("MWXText.react"),{align:"center",color:"secondary",type:"body3",children:m}),b[32]=m,b[33]=w):w=b[33];b[34]!==v||b[35]!==w?(n=j.jsx(c("MWXColumnItem.react"),{paddingVertical:v,children:w}),b[34]=v,b[35]=w,b[36]=n):n=b[36];b[37]!==u||b[38]!==n?(s=j.jsx(c("MWXColumnItem.react"),{align:"center",paddingHorizontal:u,paddingTop:20,children:n}),b[37]=u,b[38]=n,b[39]=s):s=b[39];a=f?12:20;m=f?0:8;v=f?"tiny":"small";b[40]!==e||b[41]!==v?(w=j.jsx(c("MWChatEncryptedBackupsPinCodeConfirmStepContentWrapper.react"),babelHelpers["extends"]({isMessenger:!1},e,{inputSize:v})),b[40]=e,b[41]=v,b[42]=w):w=b[42];b[43]!==m||b[44]!==w?(u=j.jsx(c("MWXColumnItem.react"),{align:"center",paddingTop:m,children:w}),b[43]=m,b[44]=w,b[45]=u):u=b[45];b[46]!==a||b[47]!==u?(n=j.jsx(c("MWXColumnItem.react"),{paddingTop:a,children:u}),b[46]=a,b[47]=u,b[48]=n):n=b[48];b[49]!==f?(e=f?null:j.jsx(c("MWXColumn.react"),{paddingVertical:20,children:j.jsx(c("MWXColumnItem.react"),{paddingTop:12,children:j.jsx("div",{className:"xx9tyur"})})}),b[49]=f,b[50]=e):e=b[50];b[51]!==r||b[52]!==t||b[53]!==s||b[54]!==n||b[55]!==e||b[56]!==q?(v=j.jsxs(c("MWXColumn.react"),{align:"center",paddingHorizontal:16,ref:q,children:[r,t,s,n,e]}),b[51]=r,b[52]=t,b[53]=s,b[54]=n,b[55]=e,b[56]=q,b[57]=v):v=b[57];b[58]!==v||b[59]!==g||b[60]!==o?(m=j.jsx(c("MWChatEncryptedBackupsUpsellJewelChatTabLayout.react"),{size:g,topItem:o,children:v}),b[58]=v,b[59]=g,b[60]=o,b[61]=m):m=b[61];return m}g["default"]=a}),226);/*FB_PKG_DELIM*/
__d("BrowserPushCommands",[],(function(a,b,c,d,e,f){a="browser_push_ack";b="browser_push_redirect";c="browser_push_window_visible";d="should_reuse_m_dot_com_tab";e="should_reuse_m_dot_com_tab_response";a={ACK:a,REDIRECT:b,WINDOW_VISIBLE:c,SHOULD_REUSE_M_DOT_COM_TAB:d,SHOULD_REUSE_M_DOT_COM_TAB_RESPONSE:e};f["default"]=a}),66);
__d("NotifUserSettingActionFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("6085");b=d("FalcoLoggerInternal").create("notif_user_setting_action",a);e=b;g["default"]=e}),98);
__d("BrowserPushMessageHandler",["BrowserPushCommands","EventListener","URI","URISchemes","cr:6901","isFacebookURI"],(function(a,b,c,d,e,f,g){var h,i;function j(a){if(a.data.command&&a.data.command===c("BrowserPushCommands").REDIRECT){if(typeof window.onbeforeunload==="function"&&window.onbeforeunload()===void 0)a.ports[0].postMessage({command:c("BrowserPushCommands").ACK,success:!0});else{a.ports[0].postMessage({command:c("BrowserPushCommands").ACK,success:!1});return}a=a.data.uri;if(/^([^.:/?#]+):/.test(a)&&!(i||(i=d("URISchemes"))).isAllowed(/^([^.:/?#]+):/.exec(a)[1])||!c("isFacebookURI")(new(h||(h=c("URI")))(a)))throw new Error("goURI: URI scheme rejected, URI: "+a);b("cr:6901")(a)&&(window.location.href=a)}}a={registerRedirectHandler:function(){c("EventListener").listen(window,"message",function(a){a.origin===""&&j(a)}),navigator.serviceWorker&&navigator.serviceWorker.addEventListener&&(navigator.serviceWorker.addEventListener("message",function(a){(navigator.serviceWorker&&navigator.serviceWorker.controller&&a.target&&a.target.controller&&a.target.controller===navigator.serviceWorker.controller||new RegExp("^"+window.location.protocol+"//"+window.location.host+"$").test(a.origin))&&j(a)}),navigator.serviceWorker.addEventListener("message",function(a){var b;b=(b=a.data)!=null?b:{};b=b.command;if(b!==c("BrowserPushCommands").SHOULD_REUSE_M_DOT_COM_TAB)return;b=[].concat(a==null?void 0:a.ports);a={command:c("BrowserPushCommands").SHOULD_REUSE_M_DOT_COM_TAB_RESPONSE,value:!1};b==null?void 0:b[0].postMessage(a)}))}};e=a;g["default"]=e}),98);
__d("BrowserPushVisibilityChanger",["BrowserPushCommands","ClientServiceWorkerMessage","Visibility"],(function(a,b,c,d,e,f,g){function h(){new(c("ClientServiceWorkerMessage"))(c("BrowserPushCommands").WINDOW_VISIBLE,null).sendViaController()}a={listenForVisibility:function(){c("Visibility").isHidden()||h(),c("Visibility").addListener(c("Visibility").VISIBLE,h)}};b=a;g["default"]=b}),98);
__d("NuxWizardFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1039");b=d("FalcoLoggerInternal").create("nux_wizard",a);e=b;g["default"]=e}),98);
__d("MPushPermissionUtil",["BanzaiLogger","NuxWizardFalcoEvent","gkx"],(function(a,b,c,d,e,f,g){function a(a,b){b===void 0&&(b=!1);var d=c("gkx")("21006");d&&c("BanzaiLogger").log("ChromePushPermissionEventsLoggerConfig",{event:a});if(b){var e=null,f="step";a==="allow"?(e="allow",f="conversion"):a==="deny"?e="deny":a==="install_ignore"?e="ignore":a==="turn_on_attempt"&&(e="show_browser_dialog");e!==null&&c("NuxWizardFalcoEvent").log(function(){return{event:e,event_type:f,platform:"mobile",step:"turn_on_notification"}})}}g.logEvent=a}),98);
__d("PushRegistrationUtils",[],(function(a,b,c,d,e,f){"use strict";function g(a){var b=a.endpoint;"subscriptionId"in a&&!new RegExp("/"+a.subscriptionId+"$").test(b)&&(b+="/"+a.subscriptionId);return b}function a(a,b){var c=g(a),d=null;a.toJSON?d=a.toJSON().keys:a.keys&&(d=a.keys);return{app_id:b,push_endpoint:c,subscription_keys:JSON.stringify(d)}}f.normalizeSubscriptionEndpoint=g;f.setupPushRegistrationData=a}),66);
__d("ServiceWorkerRegistration",["ClientServiceWorkerMessage","EventListener","Promise","Run","promiseDone"],(function(a,b,c,d,e,f){var g,h=!!navigator.serviceWorker,i={};function j(){var a=navigator.serviceWorker;if(!h||!a)throw new Error("serviceWorker is not supported in this browser");return a}var k={isSupported:function(){return h},registerWorkerIfUnregisteredAfterDD:function(a){b("Run").onAfterLoad(function(){k.registerWorkerIfUnregistered(a)})},registerWorkerIfUnregistered:function(a){if(i[a])return i[a];var c=j(),d=i[a]=new(g||(g=b("Promise")))(function(d,e){b("promiseDone")(k.getWorkerRegistration(a),function(f){if(!f){var h=b("EventListener").listen(window,"message",function(a){(a==null?void 0:(a=a.data)==null?void 0:a.command)==="ServiceWorkerInstallError"&&e()});b("promiseDone")((g||(g=b("Promise"))).resolve(c.register(a,{updateViaCache:"all"})),function(){h.remove(),b("promiseDone")((g||(g=b("Promise"))).resolve(c.ready),d)})}else d(f)})});return d},unregisterControllingWorker:function(){return new(g||(g=b("Promise")))(function(a,c){c=new(b("ClientServiceWorkerMessage"))("unregister",{},function(){a(!0)});c.sendViaController()})},getWorkerRegistration:function(a){var b=j();return b.getRegistration(a)},isAWorkerActivated:function(){return!navigator.serviceWorker||!navigator.serviceWorker.getRegistration?(g||(g=b("Promise"))).resolve(!1):navigator.serviceWorker.getRegistration().then(function(a){return!!(a&&a.active)})}};e.exports=k}),null);
__d("XAsyncPushMuteController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/notifications/settings/push/mute/",{appid:{type:"Int",required:!0},push_endpoint:{type:"String",required:!0},mute_for:{type:"Enum",enumType:0}})}),null);
__d("XAsyncPushMuteStateController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/notifications/settings/push/mute/state/",{appid:{type:"Int",required:!0},push_endpoint:{type:"String",required:!0}})}),null);
__d("PushRegistration",["BrowserPushMessageHandler","BrowserPushPubKey","BrowserPushVisibilityChanger","MPushPermissionUtil","Promise","PushRegistrationUtils","ServiceWorkerRegistration","XAsyncPushMuteController","XAsyncPushMuteStateController","emptyFunction","gkx","promiseDone"],(function(a,b,c,d,e,f){var g,h=window.Notification,i=new Map(),j=65,k=4;a=function(){"use strict";a.get=function(b,c){if(i.has(c))return i.get(c);b=new a(b,c);i.set(c,b);return b};function a(b,c){this.$3=b,this.appID=c,!a.$1&&!a.$2&&(a.$1=!1,a.$2=!1)}var c=a.prototype;c.getPushSubscription=function(){var c=this;return new(g||(g=b("Promise")))(function(d,e){a.pushPermissionIsDenied()&&(b("MPushPermissionUtil").logEvent("permission_denied_or_blocked"),e(new Error("No permission or not supported"))),b("ServiceWorkerRegistration").getWorkerRegistration(c.$3).then(function(a){if(!a){d(null);return}a.pushManager.getSubscription().then(function(a){d(a)})["catch"](e)})["catch"](e)})};c.$4=function(a,c,d){a=a.getURIBuilder().getURI();c=new c(a);c.setData(b("PushRegistrationUtils").setupPushRegistrationData(d,this.appID));c.setMethod("post");c.send()};c.getMutedUntilInServer=function(a){var c=this;return new(g||(g=b("Promise")))(function(d,e){c.getPushSubscription().then(function(f){if(f){f=b("PushRegistrationUtils").normalizeSubscriptionEndpoint(f);f=b("XAsyncPushMuteStateController").getURIBuilder().setString("push_endpoint",f).setInt("appid",c.appID).getURI();f=new a(f);f.listen("done",function(a){d(a.payload.muteUntilTimestampSec)});f.send()}else e("cannot check mute status for unsubscribed endpoint")})["catch"](e)})};c.muteNotifications=function(a,c){var d=this;return new(g||(g=b("Promise")))(function(e,f){d.getPushSubscription().then(function(g){if(g){g=b("PushRegistrationUtils").normalizeSubscriptionEndpoint(g);g=b("XAsyncPushMuteController").getURIBuilder().setEnum("mute_for",a).setString("push_endpoint",g).setInt("appid",d.appID).getURI();g=new c(g);g.setMethod("POST");g.listen("done",function(b){a!==0&&b.payload.muteUntilTimestampSec===0?f("operation failed in server"):e(b.payload.muteUntilTimestampSec)});g.send()}else f("no subscription found")})["catch"](f)})};c.getSubscription=function(){var a=this;return new(g||(g=b("Promise")))(function(c,d){a.getPushSubscription().then(function(a){a?c(b("PushRegistrationUtils").normalizeSubscriptionEndpoint(a)):c(null)})["catch"](d)})};c.maybeRegisterPushAgain=function(a,c){var d=this;return new(g||(g=b("Promise")))(function(e,f){d.getPushSubscription().then(function(f){f?(d.$4(a,c,f),e(b("PushRegistrationUtils").normalizeSubscriptionEndpoint(f))):e(null)})["catch"](function(){e(null)})})};c.$5=function(c,d,e){var f=this;return new(g||(g=b("Promise")))(function(b,g){if(a.$2&&!e){g(new Error("sending disable info already"));return}a.$2=!0;var h=c.getURIBuilder().getURI();h=new d(h.toString());h.setData({appid:f.appID,from_browser_settings:e});h.setMethod("post");h.listen?(h.listen("finally",b),h.listen("fail",function(){a.$2=!1,g()})):h.setErrorHandler&&h.setHandler?(h.setErrorHandler(function(){a.$2=!1,g()}),h.setHandler(b)):b();h.send()})};c.isPushRegistered=function(c,d,e,f,h,i){var j=this;h===void 0&&(h=!1);i===void 0&&(i=!1);b("BrowserPushMessageHandler").registerRedirectHandler();return new(g||(g=b("Promise")))(function(g,k){j.getPushSubscription().then(function(k){g(!!k||c&&!a.pushPermissionIsPending());var l=j.$6();l=j.$7(k,l);if(k&&l)h?j.$4(d,f,k):b("BrowserPushVisibilityChanger").listenForVisibility();else if((!k||!l)&&c){k=j.$8(k,!l);a.pushPermissionIsOn()?k.then(function(a){return j.registerPush(d,f,i)})["catch"](function(){}):j.$5(e,f,!1)}})["catch"](function(){c&&j.$5(e,f,!1),i&&b("ServiceWorkerRegistration").unregisterControllingWorker(),k()})})};c.$8=function(a,c){if(!!a&&c)return a.unsubscribe().then(function(a){return!!a})["catch"](function(a){throw new Error("Unsubscribing invalid PushToken failed")});else return(g||(g=b("Promise"))).resolve(!0)};c.$7=function(a,c){if(!b("gkx")("21098"))return!0;if(!a)return!1;var d=this.$9(a);return c?!d?!1:this.$10(a,b("BrowserPushPubKey").appServerKey):!d};c.$10=function(a,b){a=this.$11(a);if(!a)return!1;a=new Uint8Array(a);a=window.btoa(String.fromCharCode.apply(null,a));a=a.replace("/","_").replace("=","");return a===b};c.$9=function(a){a=this.$11(a);if(!!a&&a.byteLength===j){a=new Uint8Array(a);return a[0]===k}return!1};c.$11=function(a){return!!a&&!!a.options&&!!a.options.applicationServerKey?a.options.applicationServerKey:null};c.$12=function(){return new(g||(g=b("Promise")))(function(a,b){h.requestPermission(a)})};c.registerPushAndWaitForEndpoint=function(a,c,d){var e=this;d===void 0&&(d=!1);return new(g||(g=b("Promise")))(function(b,f){e.$13(a,c,!0,null,d).then(function(a){if(typeof a!=="string"){f(new Error("registerPushImpl did not return an endpoint"));return}b(a)})["catch"](f)})};c.registerPushOnKaiOS=function(a,c,d){var e=this;return new(g||(g=b("Promise")))(function(f,g){b("promiseDone")(d.waitForKaiOS(),function(){d.registerPush(function(d){d=JSON.parse(d.get("push_endpoint"));e.$4(a,c,d);f(b("PushRegistrationUtils").normalizeSubscriptionEndpoint(d))})})})};c.registerPush=function(a,c,d,e){d===void 0&&(d=!1);e===void 0&&(e=b("emptyFunction"));return this.registerPushWithFinishedCallBack(a,c,e,d)};c.registerPushWithFinishedCallBack=function(a,c,d,e){var f=this;e===void 0&&(e=!1);return new(g||(g=b("Promise")))(function(b,g){f.$13(a,c,!1,d,e).then(function(a){if(typeof a!=="boolean"){g(new Error("registerPushImpl did not return a boolean"));return}b(a)})["catch"](g)})};c.$13=function(c,d,e,f,h){var i=this;if(a.$1)return new(g||(g=b("Promise")))(function(a,b){b(new Error("registering already"))});if(!self.PushManager)return(g||(g=b("Promise"))).reject(new Error("PushManager not found."));a.$1=!0;return new(g||(g=b("Promise")))(function(j,k){var l=b("ServiceWorkerRegistration").registerWorkerIfUnregistered(i.$3),m=i.$12();(g||(g=b("Promise"))).all([l,m]).then(function(g){var l=g[0];if(!a.pushPermissionIsOn()){h&&l.unregister();throw new Error("Push permission was denied")}e||j(!0);g=b("BrowserPushPubKey").appServerKey;var m=i.$6();m=m?{userVisibleOnly:!0,applicationServerKey:g}:{userVisibleOnly:!0};l.pushManager.subscribe(m).then(function(a){e&&j(b("PushRegistrationUtils").normalizeSubscriptionEndpoint(a)),i.$4(c,d,a),f&&f(),b("BrowserPushVisibilityChanger").listenForVisibility()})["catch"](function(b){a.$1=!1,h&&l.unregister(),k(b)})})["catch"](function(b){a.$1=!1,k(b)})})};c.$6=function(){var a=b("BrowserPushPubKey").appServerKey;return b("gkx")("21099")&&a!=null&&a!=""};c.unregisterPushAndSWOnKaiOS=function(a,c,d,e){var f=this;return new(g||(g=b("Promise")))(function(b,g){f.$5(a,c,e).then(function(){d.unregisterPush(),b()})["catch"](g)})};c.unregisterPushAndSW=function(a,c){var d=this;return new(g||(g=b("Promise")))(function(e,f){d.$5(a,c,!0).then(function(){b("promiseDone")(b("ServiceWorkerRegistration").unregisterControllingWorker(),e)})["catch"](f)})};c.unregisterPushOnly=function(a,c){var d=this;return new(g||(g=b("Promise")))(function(b,e){d.getPushSubscription().then(function(f){f?f.unsubscribe().then(d.$5(a,c,!0)).then(function(){b(!0)})["catch"](e):e()})["catch"](e)})};a.pushPermissionIsPending=function(){return window.Notification&&window.Notification.permission==="default"};a.pushPermissionIsOn=function(){return window.Notification&&window.Notification.permission==="granted"};a.pushPermissionIsDenied=function(){return window.Notification&&window.Notification.permission==="denied"};return a}();e.exports=a}),null);
__d("XBrowserPushDisabledController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/notifications/client/push/disabled/",{})}),null);
__d("XBrowserPushXOutController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/notifications/client/push/xout/",{})}),null);
__d("XPushRegisterServiceWorkerController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/push/register/service_worker/",{})}),null);
__d("incognito",["UserAgent","WebStorage"],(function(a,b,c,d,e,f,g){"use strict";var h;async function a(){var a=window.RequestFileSystem||window.webkitRequestFileSystem;if(a)return new Promise(function(b){return a(window.TEMPORARY,10,function(){return b(!1)},function(){return b(!0)})});if(c("UserAgent").isBrowser("IE >= 10")||c("UserAgent").isBrowser("Edge"))return!window.indexedDB;if(c("UserAgent").isBrowser("Firefox >= 16"))return new Promise(function(a){var b=window.indexedDB.open("__test__");b.onsuccess=function(){return a(!1)};b.onerror=function(b){b.preventDefault(),a(!0)}});return c("UserAgent").isBrowser("Safari")?!(h||(h=c("WebStorage"))).getLocalStorage():!1}g.default=a}),98);
__d("BrowserPushDirectPromptInstallerComet",["AsyncRequest","BanzaiLogger","NotifUserSettingActionFalcoEvent","Promise","PushNotificationsEventEmitter","PushRegistration","QE2Logger","XBrowserPushDisabledController","XBrowserPushXOutController","XPushRegisterServiceWorkerController","incognito"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;function k(a,b,d){d===void 0&&(d="prompt");b=babelHelpers["extends"]({appID:b,event:a,surface:d},i);c("BanzaiLogger").log("BrowserPushLoggerConfig",b)}function a(a,b,d,e,f,g){c("NotifUserSettingActionFalcoEvent").log(function(){return{app_id:b,controller_class:g,cur_state:f,event_type:d,medium:"push",prev_state:e,recip_id:a,source:"web_settings_page"}})}function l(){i!=null&&i.xout_count===0&&j&&d("QE2Logger").logExposureForUser(j)}function m(a){var b=c("XBrowserPushXOutController").getURIBuilder().getURI();new(c("AsyncRequest"))().setURI(b).setMethod("POST").send();k("xout",a)}function e(a,b){a=c("PushRegistration").get(a,b);return a.getSubscription()}function f(a,b){a=c("PushRegistration").get(a,b);k("turn_off",b);return a.unregisterPushAndSW(c("XBrowserPushDisabledController"),c("AsyncRequest"))}function n(a,b,d,e,f){a=c("PushRegistration").get(a,b);k("turn_on",b);return a.registerPushAndWaitForEndpoint(c("XPushRegisterServiceWorkerController"),c("AsyncRequest"),e).then(function(){c("PushNotificationsEventEmitter").emit("closeInstallPush"),k("install",b),f==null?void 0:f()})["catch"](function(a){c("PushNotificationsEventEmitter").emit("closeInstallPush"),c("PushRegistration").pushPermissionIsDenied()?(c("PushNotificationsEventEmitter").emit("openPushBlockedNotice",d),k("deny",b)):k("install_ignore",b),m(b)})}function o(a,d,e,f,g,i,j,k){var m=c("PushRegistration").get(a,d);m=m.isPushRegistered(e,c("XPushRegisterServiceWorkerController"),c("XBrowserPushDisabledController"),c("AsyncRequest"),!!g,j);(h||(h=b("Promise"))).all([m,c("incognito")()]).then(function(b){var e=b[0];b=b[1];if(e||b)return;l();if(c("PushRegistration").pushPermissionIsPending()){if(!k||f)return;c("PushNotificationsEventEmitter").emit("openInstallPush",{appID:d,browserName:i,path:a,workerIsForPushOnly:j})}else f||n(a,d,i,j)})["catch"](function(){c("PushNotificationsEventEmitter").emit("closeInstallPush"),c("PushRegistration").pushPermissionIsDenied()&&l()})}function p(a){i=a}function q(a){j=a}g.logUserSettingAction=a;g.genPushSubscription=e;g.genDisableNotifications=f;g.genEnableNotifications=n;g.installPush=o;g.setLogExtraData=p;g.setQEUniverseName=q}),98);
__d("BrowserPushMessageRedirectUtil",["Bootloader"],(function(a,b,c,d,e,f,g){function a(a){var b="(messages)(.*?)(?:(tid=))([^&]*)";a=a.match(b);if(!a)return!0;var d=a.pop();c("Bootloader").loadModules(["FantaTabActions"],function(a){a.openTab(d)},"BrowserPushMessageRedirectUtil");return!1}g["default"]=a}),98);
__d("LoginDialog",["Cookie","setInterval"],(function(a,b,c,d,e,f,g){function a(){c("setInterval")(function(){c("Cookie").get("c_user")&&window.location.reload()},5e3)}function b(){window.location.reload()}g.pollLoginCookies=a;g.onClose=b}),98);
__d("legacy:cookie",["Cookie"],(function(a,b,c,d,e,f){a.getCookie=b("Cookie").get,a.setCookie=b("Cookie").set,a.clearCookie=b("Cookie").clear}),3);/*FB_PKG_DELIM*/
__d("LSFetchBackupsMetadata",["LSAppendDataTraceAddon","LSIsMobileClient","LSIssueNewEbTaskAndGetTaskIDV2","LSLogMebClientEvent.nop","justknobx"],(function(a,b,c,d,e,f,g){function a(){var a=arguments,d=a[a.length-1],e=[],f=[];return d.sequence([function(a){return d.sequence([function(a){return e[0]=d.i64.of_float(Date.now()),function(a){d.logger(a).info(a)}("[EncryptedBackups][LSEncryptedBackupsFetchBackupsMetadataStoredProcedure] Beginning execution."),c("justknobx")._("1101")?d.sequence([function(a){return d.sequence([function(a){return void 0!==void 0?d.storedProcedure(b("LSAppendDataTraceAddon"),void 0,d.i64.cast([0,1478]),d.i64.cast([0,2]),void 0,void 0):d.resolve()},function(a){return d.storedProcedure(b("LSIsMobileClient")).then(function(a){return a=a,e[9]=a[0],a})},function(a){return e[9]?e[10]=!0:e[10]=!1,e[10]&&!0?(function(a){d.logger(a).mustfix(a)}("[EncryptedBackups][MEBTraceUtils] LSDataTraceMciTraceLog native op not supported"),e[12]="LSDataTraceMciTraceLog native op not supported",function(a){d.logger(a).mustfix(a)}(["[EncryptedBackups][MEBTraceUtils] ","",e[12]].join("")),e[11]=d.createArray(),void 0!==void 0?e[13]=(e[11].push(void 0),e[11]):0,d.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBTraceUtils",e[12],e[11],d.i64.cast([0,3]))):d.resolve()}])},function(a){return d.forEach(d.db.table(196).fetch(),function(a){return a["delete"]()})},function(a){return d.db.table(172).fetch([[[d.i64.cast([0,1])]]]).next().then(function(a,b){var c=a.done;a=a.value;return c?e[7]=void 0:(b=a.item,e[7]=b.backupId)})},function(a){return d.i64.neq(e[7],void 0)?d.sequence([function(a){return d.forEach(d.filter(d.db.table(196).fetch([[[e[7]]]]),function(a){return d.i64.eq(a.backupId,e[7])&&d.i64.lt(a.authorityLevel,d.i64.cast([0,20]))}),function(a){return a["delete"]()})},function(a){return d.db.table(196).add({backupId:e[7],authorityLevel:d.i64.cast([0,20]),backupSize:d.i64.cast([0,0]),creationTime:d.i64.cast([0,0]),lastSyncTime:d.i64.cast([0,0])})},function(a){return e[9]=new d.Map(),e[9].set("trace_id",void 0),e[10]=d.toJSON(e[9]),d.storedProcedure(b("LSIssueNewEbTaskAndGetTaskIDV2"),"encrypted_backups_setup",d.i64.cast([0,50022]),e[10],d.i64.cast([0,0]),d.i64.cast([0,93]),d.i64.cast([0,0]),void 0,d.i64.cast([0,0])).then(function(a){return a=a,e[11]=a[0],a})}]):d.sequence([function(a){return e[9]="Backup is not initialized",e[9]!==void 0?(function(a){d.logger(a).mustfix(a)}(["[EncryptedBackups][LSEncryptedBackupsFetchBackupsMetadataStoredProcedure] ","",e[9]].join("")),e[10]=d.createArray(),void 0!==void 0?e[11]=(e[10].push(void 0),e[10]):0,d.nativeOperation(b("LSLogMebClientEvent.nop"),"LSEncryptedBackupsFetchBackupsMetadataStoredProcedure",e[9],e[10],d.i64.cast([0,3]))):d.resolve()},function(a){return d.forEach(d.db.table(196).fetch(),function(a){return a["delete"]()})},function(a){return d.forEach(d.filter(d.db.table(196).fetch([[[d.i64.cast([-1,4294967295])]]]),function(a){return d.i64.eq(a.backupId,d.i64.cast([-1,4294967295]))&&d.i64.lt(a.authorityLevel,d.i64.cast([0,80]))}),function(a){return a["delete"]()})},function(a){return d.db.table(196).add({backupId:d.i64.cast([-1,4294967295]),authorityLevel:d.i64.cast([0,80]),backupSize:d.i64.cast([-1,4294967295]),creationTime:d.i64.cast([-1,4294967295]),lastSyncTime:d.i64.cast([-1,4294967295])})}])}]):d.resolve(function(a){d.logger(a).info(a)}("[EncryptedBackups][LSEncryptedBackupsFetchBackupsMetadataStoredProcedure] is_backup_metadata_enabled is disabled"))},function(a){return e[1]=d.i64.of_float(Date.now()),e[2]=d.i64.random(),e[4]="Finishing execution. Execution time: ",e[5]=d.i64.to_string(d.i64.sub(e[1],e[0])),e[6]=" ms",e[3]="",function(a){d.logger(a).info(a)}(["[EncryptedBackups][LSEncryptedBackupsFetchBackupsMetadataStoredProcedure] ",e[3],e[4],e[3],e[5],e[3],e[6]].join("")),d.i64.eq(d.i64.mod_(e[2],d.i64.cast([0,1e3])),d.i64.cast([0,0]))?(e[7]=",",e[8]=d.createArray(),void 0!==void 0?e[9]=(e[8].push(void 0),e[8]):0,d.nativeOperation(b("LSLogMebClientEvent.nop"),"LSEncryptedBackupsFetchBackupsMetadataStoredProcedure",[e[4],e[7],e[5],e[7],e[6]].join(""),e[8],d.i64.cast([0,4]))):d.resolve()}])},function(a){return d.resolve(f)}])}a.__sproc_name__="LSEncryptedBackupsFetchBackupsMetadataStoredProcedure";a.__tables__=["encrypted_backups_metadata","encrypted_backups"];d=a;g["default"]=d}),98);
__d("LSFetchBackupsMetadataStoredProcedure",["LSFetchBackupsMetadata","LSSynchronousPromise","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){e===void 0&&(e={});a=a.storedProcedure(c("LSFetchBackupsMetadata"),e.traceId);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("MWChatEncryptedBackupsAccessCodeInput.react",["fbt","BaseTextArea.react","MWXText.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react")),k=i.useRef,l={input:{backgroundColor:"xjbqb8w",borderTopStyle:"x1ejq31n",borderEndStyle:"xd10rxx",borderBottomStyle:"x1sy0etr",borderStartStyle:"x17r0tee",color:"xzsf02u",fontSize:"x1lkfr7t",fontWeight:"x1s688f",height:"x5yr21d",end:"xds687c",start:"x17qophe",left:null,right:null,letterSpacing:"xoiqa5b",lineHeight:"x11m8ghp",overflowX:"x6ikm8r",overflowY:"x10wlt62",paddingBottom:"x18d9i69",paddingTop:"x1y1aw1k",top:"x1jzctok",width:"xh8yej3","::placeholder_color":"xha3pab",$$css:!0}},m="---- ---- ---- ---- ----\n---- ---- ---- ---- ----",n=40;function a(a){var b=d("react-compiler-runtime").c(30),e=a.autoSubmit,f=a.disabled,g=a.onComplete,i=a.onValueChange,r=a.smallInput,s=a.value,t=e===void 0?!1:e;a=f===void 0?!1:f;e=k();var u=o;b[0]!==t||b[1]!==g||b[2]!==i||b[3]!==s?(f=function(a){a=u(a).substring(0,n);var b=u(s);if(a===b)return;i(a);a.length===n&&t&&(g==null?void 0:g(a))},b[0]=t,b[1]=g,b[2]=i,b[3]=s,b[4]=f):f=b[4];f=f;var v;b[5]!==r?(v={0:{className:"x443n21 x1a2cdl4 xnhgr82 x1qt0ttw xgk8upj x1g2khh7 xyamay9 x2b8uid x10bruuh x1xmf6yo x1m6arcz x13omvei"},1:{className:"x443n21 x1a2cdl4 xnhgr82 x1qt0ttw xgk8upj xyamay9 x2b8uid x10bruuh x12nagc x18d9i69 x1s1gtqi"}}[!!r<<0],b[5]=r,b[6]=v):v=b[6];var w,x,y;b[7]===Symbol["for"]("react.memo_cache_sentinel")?(r=j.jsx(c("MWXText.react"),{type:"meta3",children:h._(/*BTDS*/"Includes numbers and letters")}),w={className:"xwzfr38 xr1yuqi xkrivgy x4ii5y1 x1gryazu x1n2onr6 x1hfn5x7"},x="x5yr21d x10l6tqk xh8yej3",y={fontFamily:"var(--font-family-code)"},b[7]=r,b[8]=w,b[9]=x,b[10]=y):(r=b[7],w=b[8],x=b[9],y=b[10]);var z;b[11]!==s?(z=s===""?m:q(s),b[11]=s,b[12]=z):z=b[12];b[13]!==a||b[14]!==z?(x=j.jsx("div",{className:x,style:y,children:j.jsx(c("BaseTextArea.react"),{disabled:a,maxRows:2,placeholder:m,readOnly:!0,suppressFocusRing:!0,unresizable:!0,value:z,xstyle:l.input})}),b[13]=a,b[14]=z,b[15]=x):x=b[15];b[16]===Symbol["for"]("react.memo_cache_sentinel")?(y="x5yr21d x10l6tqk xh8yej3",z={fontFamily:"var(--font-family-code)"},b[16]=y,b[17]=z):(y=b[16],z=b[17]);var A;b[18]!==s?(A=s===""?s:p(s),b[18]=s,b[19]=A):A=b[19];b[20]!==a||b[21]!==f||b[22]!==A?(y=j.jsx("div",{className:y,style:z,children:j.jsx(c("BaseTextArea.react"),{disabled:a,maxRows:2,onValueChange:f,ref:e,suppressFocusRing:!0,testid:void 0,unresizable:!0,value:A,xstyle:l.input})}),b[20]=a,b[21]=f,b[22]=A,b[23]=y):y=b[23];b[24]!==x||b[25]!==y?(z=j.jsxs("div",babelHelpers["extends"]({},w,{children:[x,y]})),b[24]=x,b[25]=y,b[26]=z):z=b[26];b[27]!==z||b[28]!==v?(e=j.jsxs("div",babelHelpers["extends"]({},v,{children:[r,z]})),b[27]=z,b[28]=v,b[29]=e):e=b[29];return e}function o(a){return a.toUpperCase().replace(/[^A-Z0-9]/g,"")}function p(a){a=a.split("");var b=0,c=[];for(a of a)c.length===24?c.push("\n"):b>0&&b%4===0&&c.push(" "),c.push(a),b+=1;return c.join("")}function q(a){var b=a.split("");return m.split("").map(function(a){if(a===" "||a==="\n"||b.length===0)return a;else{b.pop();return" "}}).join("")}g["default"]=a}),226);
__d("MWChatEncryptedBackupsChevronRightIconMedium.react",["MWXIconChevronRight","MWXIconStrict.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(2);a=a.disabled;a=a===void 0?!1:a;a=a?"disabled":"primary";var e;b[0]!==a?(e=i.jsx(c("MWXIconStrict.react"),{color:a,icon:c("MWXIconChevronRight"),size:24}),b[0]=a,b[1]=e):e=b[1];return e}g["default"]=a}),98);
__d("MWChatEncryptedBackupsUpsellJewelChatTabLayout.react",["CometScrollView.react","MWXColumnItem.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b,e=d("react-compiler-runtime").c(17),f=a.bottomItem,g=a.children,h=a.ref,j=a.size;a=a.topItem;b=(b=a==null?void 0:a.align)!=null?b:"start";j=j==="small"?8:16;var k;e[0]===Symbol["for"]("react.memo_cache_sentinel")?(k={className:"x21xpn4"},e[0]=k):k=e[0];a=a==null?void 0:a.item;e[1]!==a?(k=i.jsx("div",babelHelpers["extends"]({},k,{children:a})),e[1]=a,e[2]=k):k=e[2];e[3]!==b||e[4]!==j||e[5]!==k?(a=i.jsx(c("MWXColumnItem.react"),{align:b,paddingHorizontal:16,paddingTop:j,children:k}),e[3]=b,e[4]=j,e[5]=k,e[6]=a):a=e[6];e[7]===Symbol["for"]("react.memo_cache_sentinel")?(b={className:"x6s0dn4 x78zum5 x1iyjqo2"},e[7]=b):b=e[7];e[8]!==g?(j=i.jsx("div",babelHelpers["extends"]({},b,{ref:h,children:g})),e[8]=g,e[9]=j):j=e[9];e[10]===Symbol["for"]("react.memo_cache_sentinel")?(k={className:"xisnujt"},e[10]=k):k=e[10];e[11]!==f?(b=i.jsx(c("MWXColumnItem.react"),{paddingHorizontal:16,paddingVertical:12,children:i.jsx("div",babelHelpers["extends"]({},k,{children:f}))}),e[11]=f,e[12]=b):b=e[12];e[13]!==b||e[14]!==a||e[15]!==j?(h=i.jsxs(c("CometScrollView.react"),{children:[a,j,b]}),e[13]=b,e[14]=a,e[15]=j,e[16]=h):h=e[16];return h}b=a;e=b;g["default"]=e}),98);
__d("MWEBConnections4AndroidIcon.react",["ix","CometImageFromIXValue.react","gkx","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react"),k=c("gkx")("23433");function a(a){var b=d("react-compiler-runtime").c(6),e=a.alt,f=a.ref,g=a.size;a=a.xstyle;g=g===void 0?"large":g;var i;b[0]!==g?(i=g==="large"?k?h("398892"):h("398891"):h("398080"),b[0]=g,b[1]=i):i=b[1];g=i;b[2]!==e||b[3]!==g||b[4]!==a?(i=j.jsx(c("CometImageFromIXValue.react"),{alt:e,ref:f,source:g,xstyle:a}),b[2]=e,b[3]=g,b[4]=a,b[5]=i):i=b[5];return i}g["default"]=a}),98);
__d("MWEBSyncIcon.react",["ix","CometImageFromIXValue.react","gkx","react","react-compiler-runtime","stylex"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||d("react"),l=c("gkx")("23433");function a(a){var b=d("react-compiler-runtime").c(6),e=a.alt,f=a.ref;a=a.xstyle;var g;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(g=l?h("414642"):h("414641"),b[0]=g):g=b[0];g=g;b[1]!==e?(f=k.jsx(c("CometImageFromIXValue.react"),{alt:e,ref:f,source:g}),b[1]=e,b[2]=f):f=b[2];g=f;b[3]!==g||b[4]!==a?(e=a==null?g:k.jsx("div",babelHelpers["extends"]({},(i||(i=c("stylex"))).props(a),{children:g})),b[3]=g,b[4]=a,b[5]=e):e=b[5];return e}g["default"]=a}),98);
__d("MWEBThreadListPersistentBannerWrapperDeferred.react",["MWEncryptedBackupsDeferLocalStorageUpsell","deferredLoadComponent","react","react-compiler-runtime","requireDeferred","useMWEBGetUpsellState","useMWEBIsUpsellDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useState,k=c("deferredLoadComponent")(c("requireDeferred")("MWEBThreadListPersistentBannerWrapper.react").__setRef("MWEBThreadListPersistentBannerWrapperDeferred.react"));function a(a){var b=d("react-compiler-runtime").c(6),e=a.children;a=a.trigger;var f;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(f={upsellType:d("MWEncryptedBackupsDeferLocalStorageUpsell").MWEncryptedBackupsDeferableUpsellType.PERSISTENT_BANNER_JEWEL},b[0]=f):f=b[0];f=c("useMWEBIsUpsellDeferred")(f);f=j(f);var g=f[0];f=f[1];var h=c("useMWEBGetUpsellState")();h=h.isRestoreUpsellsDismissed;b[1]!==e||b[2]!==g||b[3]!==h||b[4]!==a?(f=!h&&!g?i.jsx(k,{setHasDismissedBanner:f,trigger:a}):e,b[1]=e,b[2]=g,b[3]=h,b[4]=a,b[5]=f):f=b[5];return f}g["default"]=a}),98);
__d("MWEncryptedBackupsFetchBackupMetadata",["LSFactory","LSFetchBackupsMetadataStoredProcedure"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return a.runInTransaction(function(a){return c("LSFetchBackupsMetadataStoredProcedure")(c("LSFactory")(a))},"readwrite",void 0,void 0,f.id+":17")}g.fetchBackupMetadata=a}),98);
__d("MWXDialogPage.react",["cr:2384","cr:6810","react","react-compiler-runtime","react-strict-dom"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={cometPageContent:{paddingTop:"xyamay9",paddingEnd:"x1pi30zi",paddingBottom:"x1l90r2v",paddingStart:"x1swvt13",$$css:!0}};function a(a){var c=d("react-compiler-runtime").c(16),e,f,g;c[0]!==a?(f=a.children,g=a.hasTextOnlyContent,e=babelHelpers.objectWithoutPropertiesLoose(a,["children","hasTextOnlyContent"]),c[0]=a,c[1]=e,c[2]=f,c[3]=g):(e=c[1],f=c[2],g=c[3]);if(b("cr:6810")!=null){if(c[4]!==e){a=e;a.scrollAreaFocusProps;a=babelHelpers.objectWithoutPropertiesLoose(a,["scrollAreaFocusProps"]);a=a;c[4]=e;c[5]=a}else a=c[5];var h;c[6]===Symbol["for"]("react.memo_cache_sentinel")?(h=[j.cometPageContent],c[6]=h):h=c[6];c[7]!==f?(h=i.jsx(d("react-strict-dom").html.div,{style:h,children:f}),c[7]=f,c[8]=h):h=c[8];var k;c[9]!==a||c[10]!==h?(k=i.jsx(b("cr:6810"),babelHelpers["extends"]({},a,{children:h})),c[9]=a,c[10]=h,c[11]=k):k=c[11];return k}if(b("cr:2384")!=null){c[12]!==e||c[13]!==f||c[14]!==g?(a=i.jsx(b("cr:2384"),babelHelpers["extends"]({hasTextOnlyContent:g},e,{children:f})),c[12]=e,c[13]=f,c[14]=g,c[15]=a):a=c[15];return a}return null}g["default"]=a}),98);
__d("MWXDialogPageLegacy.react",["cr:6308","cr:6309","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var c=d("react-compiler-runtime").c(19),e,f,g,h,j,k;c[0]!==a?(h=a.ref,j=a.callToActionGroupDirection,e=a.callToActionGroupLayout,f=a.children,k=a.includeFDSContentPadding_REMOVE_THIS_AFTER_CONTENT_PADDING_MIGRATION,g=babelHelpers.objectWithoutPropertiesLoose(a,["ref","callToActionGroupDirection","callToActionGroupLayout","children","includeFDSContentPadding_REMOVE_THIS_AFTER_CONTENT_PADDING_MIGRATION"]),c[0]=a,c[1]=e,c[2]=f,c[3]=g,c[4]=h,c[5]=j,c[6]=k):(e=c[1],f=c[2],g=c[3],h=c[4],j=c[5],k=c[6]);a=j===void 0?"backward":j;j=k===void 0?!0:k;if(b("cr:6308")){c[7]!==a||c[8]!==e||c[9]!==f||c[10]!==j||c[11]!==g||c[12]!==h?(k=i.jsx(b("cr:6308"),babelHelpers["extends"]({callToActionGroupDirection:a,callToActionGroupLayout:e,includeFDSContentPadding_REMOVE_THIS_AFTER_CONTENT_PADDING_MIGRATION:j},g,{ref:h,children:f})),c[7]=a,c[8]=e,c[9]=f,c[10]=j,c[11]=g,c[12]=h,c[13]=k):k=c[13];return k}if(b("cr:6309")){c[14]!==a||c[15]!==f||c[16]!==g||c[17]!==h?(e=i.jsx(b("cr:6309"),babelHelpers["extends"]({callToActionGroupDirection:a,ref:h},g,{children:f})),c[14]=a,c[15]=f,c[16]=g,c[17]=h,c[18]=e):e=c[18];return e}return null}g["default"]=a}),98);
__d("useEncryptedBackupsQplImpressionRef",["QPLUserFlow","react-compiler-runtime","useVisibilityObserver"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,e,f){var g=d("react-compiler-runtime").c(5),h;g[0]!==f||g[1]!==a||g[2]!==e||g[3]!==b?(h={onVisible:function(){c("QPLUserFlow").addPoint(a,b,{instanceKey:e}),f==null?void 0:f()}},g[0]=f,g[1]=a,g[2]=e,g[3]=b,g[4]=h):h=g[4];return c("useVisibilityObserver")(h)}g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("MAWFetchXMABlob",["FBLogger","Promise"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){var d=a.descriptionForLogging,e=a.url,f=a.xmaContentType;return e==null||e===""?(h||(h=b("Promise"))).resolve():window.fetch(e).then(function(a){return a.blob()})["catch"](function(a){c("FBLogger")("messenger_web_sharing").mustfix("Error fetching url in xma share from %s, with XMA content type %s and error %s",d,f,a);return(h||(h=b("Promise"))).resolve()})}g.fetchBlob=a}),98);
__d("MAWFetchXMADataUtils",["FBLogger","LSXmaContentType","MAWFetchXMABlob","MAWGetImageSpec","MAWParseXMAFBConfig","WAArmadilloXMA.pb","sendToSentQPLLogger"],(function(a,b,c,d,e,f,g){"use strict";var h={failed_to_fetch_blob_for_xma_share:"Failed to fetch blob xma data for MAWShareAttachent",failed_to_fetch_json_for_xma_share:"Failed execute MAWShareAttachment_LinkPreviewQuery for MAWShareAttachent",failed_to_parse_json_for_xma_share:"Failed to fetch blob xma data for MAWShareAttachent"};function a(a){var b=Object.entries(c("LSXmaContentType")).find(function(b){var c=b[0];b=b[1];return a===b&&d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE[c]!=null});b=b!=null?d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE[b[0]]:void 0;if(b===void 0)return void 0;if(!d("MAWParseXMAFBConfig").isFBSupportedTargetType({fbTargetType:b,silentExposure:!0})){c("FBLogger")("messenger_web_sharing").mustfix("Unsupported XMA Target Type in sending path: "+b);return d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.FB_FEED_SHARE}return b}async function b(a,b){var c=a.favicon_blob,e=a.header_image_blob,f=a.overlayIconGlyph;a=a.preview_blob;a=a==null?void 0:new File([a],"preview",{type:a.type});c=c==null?void 0:new File([c],"favicon",{type:c.type});e=e==null?void 0:new File([e],"header",{type:e.type});d("sendToSentQPLLogger").markSendToSentPoint(b,"preview_favicon_spec_start");f=f===d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_OVERLAY_ICON_GLYPH.PRIVATE?Promise.resolve({height:2,width:2}):a!=null?d("MAWGetImageSpec").getImageSpec_DEPRECATED(a):Promise.resolve();var g=c!=null?d("MAWGetImageSpec").getImageSpec_DEPRECATED(c):Promise.resolve(),h=e!=null?d("MAWGetImageSpec").getImageSpec_DEPRECATED(e):Promise.resolve();f=await Promise.all([f,g,h]);g=f[0];h=f[1];f=f[2];d("sendToSentQPLLogger").markSendToSentPoint(b,"preview_favicon_spec_ready");b=a==null||g==null?void 0:{file:a,height:g.height,width:g.width};a=c==null||h==null?void 0:{file:c,height:h.height,width:h.width};g=e==null||f==null?void 0:{file:e,height:f.height,width:f.width};return{faviconFileArgs:a,headerImageFileArgs:g,previewFileArgs:b}}async function e(a,b,e,f,g,i){a=await Promise.all([[(a==null?void 0:a.startsWith("ls"))===!0?null:a,"favicon"],[b,"image"],[e,"preview"],[f,"header_image"]].map(function(a){return d("MAWFetchXMABlob").fetchBlob({descriptionForLogging:"MAWFetchXMAData_"+a[1],url:a[0],xmaContentType:i}).then(function(a){return(a=a)!=null?a:void 0})})).catch(function(a){g.forEach(function(a){d("sendToSentQPLLogger").markSendToSentFail(a,"failed_to_fetch_blob_for_xma_share")});c("FBLogger")("messenger_web_sharing").catching(a).mustfix(h.failed_to_fetch_blob_for_xma_share);return[void 0,void 0,void 0,void 0]});b=a[0];e=a[1];f=a[2];a=a[3];return[b,e,f,a]}g.XMA_DATA_ERRORS=h;g.convertXmaContentTypeToMessageType=a;g.makeXMAFileArgs=b;g.getPreviewBlobs=e}),98);
__d("MAWFetchXMAData_LinkPreviewQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="29582612381352117"}),null);
__d("MAWFetchXMAData_LinkPreviewQuery.graphql",["MAWFetchXMAData_LinkPreviewQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a={defaultValue:null,kind:"LocalArgument",name:"maxPreviewHeight"},c={defaultValue:null,kind:"LocalArgument",name:"maxPreviewWidth"},d={defaultValue:null,kind:"LocalArgument",name:"url"},e=[{alias:null,args:[{fields:[{kind:"Variable",name:"maxPreviewHeight",variableName:"maxPreviewHeight"},{kind:"Variable",name:"maxPreviewWidth",variableName:"maxPreviewWidth"},{kind:"Variable",name:"url",variableName:"url"}],kind:"ObjectValue",name:"params"}],kind:"ScalarField",name:"post_reshare_xma",storageKey:null}];return{fragment:{argumentDefinitions:[a,c,d],kind:"Fragment",metadata:null,name:"MAWFetchXMAData_LinkPreviewQuery",selections:e,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[d,c,a],kind:"Operation",name:"MAWFetchXMAData_LinkPreviewQuery",selections:e},params:{id:b("MAWFetchXMAData_LinkPreviewQuery_facebookRelayOperation"),metadata:{},name:"MAWFetchXMAData_LinkPreviewQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("MAWFetchXMAData_fetchXmaPreviewDataQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="9840669832713841"}),null);
__d("MAWFetchXMAData_fetchXmaPreviewDataQuery.graphql",["MAWFetchXMAData_fetchXmaPreviewDataQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"url"}],c=[{alias:null,args:[{fields:[{kind:"Variable",name:"url",variableName:"url"}],kind:"ObjectValue",name:"params"}],concreteType:"XFBXMAPreviewData",kind:"LinkedField",name:"xma_preview_data",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"is_receiver_fetch_supported",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_public",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"post_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"default_cta_title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"header_title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"subtitle_text",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title_text",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"xma_content_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"favicon_url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"header_image_url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"preview_url",storageKey:null},{alias:null,args:null,concreteType:"XFBXMAPreviewDataCtaDataConnection",kind:"LinkedField",name:"cta_data",plural:!1,selections:[{alias:null,args:null,concreteType:"XFBXMACtaData",kind:"LinkedField",name:"nodes",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"cta_title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cta_action_url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cta_native_url",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"MAWFetchXMAData_fetchXmaPreviewDataQuery",selections:c,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"MAWFetchXMAData_fetchXmaPreviewDataQuery",selections:c},params:{id:b("MAWFetchXMAData_fetchXmaPreviewDataQuery_facebookRelayOperation"),metadata:{},name:"MAWFetchXMAData_fetchXmaPreviewDataQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("MAWUnshimUrl",["CometLinkShimUtils"],(function(a,b,c,d,e,f,g){"use strict";function a(a){if(a==null)return void 0;var b=d("CometLinkShimUtils").getLinkShimInfo(a,void 0,void 0,void 0,void 0,!0);return!b.shimmed?a:b.unshimmedHref}g.unshimUrl=a}),98);
__d("isReceiverFetchSenderSideEnabled",["gkx"],(function(a,b,c,d,e,f,g){"use strict";function a(){return c("gkx")("13708")===!0}g["default"]=a}),98);
__d("MAWFetchXMAData",["fbt","CometRelay","ConstUriUtils","FBLogger","LSXmaContentType","MAWFetchXMADataUtils","MAWFetchXMAData_LinkPreviewQuery.graphql","MAWFetchXMAData_fetchXmaPreviewDataQuery.graphql","MAWUnshimUrl","MSGDataclassTypes.flow","WAArmadilloXMA.pb","getJSEnumSafe","isReceiverFetchSenderSideEnabled","isStringNullOrEmpty","justknobx","sendToSentQPLLogger"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j;function k(a,b){b.forEach(function(a){d("sendToSentQPLLogger").addSendToSentAnnotations(a,{string:{xma_data_result:"private"}})});return{defaultCTA:{actionUrl:d("MAWUnshimUrl").unshimUrl(a),buttonType:(b=d("WAArmadilloXMA.pb")).EXTENDED_CONTENT_MESSAGE_CTA_BUTTON_TYPE.OPEN_NATIVE,nativeUrl:d("MAWUnshimUrl").unshimUrl(a),title:h._(/*BTDS*/"_j[\"Private post\",\"599d20d959e0009397c73fb9edb426dd\",1]").toString()},linkType:"internal",overlayIconGlyph:b.EXTENDED_CONTENT_MESSAGE_OVERLAY_ICON_GLYPH.PRIVATE,preview_blob:void 0,title_text:h._(/*BTDS*/"Facebook").toString(),transportLayerForLogging:"sender_copy",xma_message_type:b.EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.FB_FEED_SHARE,xmaTargetTypeForLogging:b.EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.FB_FEED_SHARE}}function l(a,e){return d("CometRelay").fetchQuery(a,i!==void 0?i:i=b("MAWFetchXMAData_LinkPreviewQuery.graphql"),{maxPreviewHeight:c("justknobx")._("1769"),maxPreviewWidth:c("justknobx")._("1769"),url:e}).toPromise()}async function m(a,b,e){var f;try{f=JSON.parse(b)}catch(a){throw c("FBLogger")("messenger_web_sharing").catching(a).mustfixThrow(d("MAWFetchXMADataUtils").XMA_DATA_ERRORS.failed_to_parse_json_for_xma_share)}b=f;var g=b.action_url,h=b.ctas,i=b.default_cta_title,j=b.favicon_url,k=b.header_image_url,l=b.header_title,m=b.image_url,n=b.preview_url,o=b.subtitle_text,p=b.title_text;b=b.xma_content_type;b=b;j=await d("MAWFetchXMADataUtils").getPreviewBlobs(j,m,n,k,e,b);m=j[0];n=j[1];k=j[2];e=j[3];j=h;h=d("MAWFetchXMADataUtils").convertXmaContentTypeToMessageType(b);b=j==null?void 0:j[0];g=d("MAWUnshimUrl").unshimUrl((g=(g=g)!=null?g:b==null?void 0:b.action_url)!=null?g:a);a=d("MAWUnshimUrl").unshimUrl((b==null?void 0:b.native_url)!=null&&(b==null?void 0:b.native_url)!==""?b==null?void 0:b.native_url:g);g={actionUrl:g,buttonType:d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_CTA_BUTTON_TYPE.OPEN_NATIVE,nativeUrl:a,title:(b=i)!=null?b:void 0};return{ctas:j==null?void 0:j.map(function(a){return{actionUrl:d("MAWUnshimUrl").unshimUrl(a.action_url!=null&&a.action_url!==""?a.action_url:void 0),buttonType:d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_CTA_BUTTON_TYPE.OPEN_NATIVE,nativeUrl:d("MAWUnshimUrl").unshimUrl(a.native_url!=null&&a.native_url!==""?a.native_url:void 0),title:(a=a.title)!=null?a:void 0}}),defaultCTA:g,favicon_blob:(a=m)!=null?a:void 0,header_image_blob:(i=e)!=null?i:void 0,header_title:(b=l)!=null?b:void 0,image_blob:(j=n)!=null?j:void 0,linkType:"internal",preview_blob:(g=k)!=null?g:void 0,subtitle_text:(m=o)!=null?m:void 0,title_text:(a=p)!=null?a:void 0,transportLayerForLogging:"sender_copy",xma_message_type:h,xmaTargetTypeForLogging:h}}function n(a,c){return d("CometRelay").fetchQuery(a,j!==void 0?j:j=b("MAWFetchXMAData_fetchXmaPreviewDataQuery.graphql"),{url:c}).toPromise()}async function o(a,b,e){a=await n(a,b).catch(function(a){e.forEach(function(b){d("sendToSentQPLLogger").markSendToSentFail(b,"failed_to_fetch_json_for_xma_share",a)}),c("FBLogger")("messenger_web_sharing").catching(a).mustfix(d("MAWFetchXMADataUtils").XMA_DATA_ERRORS.failed_to_fetch_json_for_xma_share)});e.forEach(function(a){d("sendToSentQPLLogger").markSendToSentPoint(a,"fetch_json_for_xma_share_end")});a=a==null?void 0:a.xma_preview_data;if(a==null){e.forEach(function(a){d("sendToSentQPLLogger").addSendToSentAnnotations(a,{string:{xma_data_result:"empty"}})});return k(b,e)}if(a.is_public!==!0)return k(b,e);e.forEach(function(a){d("sendToSentQPLLogger").addSendToSentAnnotations(a,{string:{xma_data_result:"public"}})});b={defaultCTA:{actionUrl:d("MAWUnshimUrl").unshimUrl(b),buttonType:d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_CTA_BUTTON_TYPE.OPEN_NATIVE,nativeUrl:d("MAWUnshimUrl").unshimUrl(b),title:(b=a.default_cta_title)!=null?b:void 0},linkType:"internal",title_text:(b=(b=a.title_text)!=null?b:a.header_title)!=null?b:void 0};var f=c("getJSEnumSafe")(c("LSXmaContentType"),a.xma_content_type),g=d("MAWFetchXMADataUtils").convertXmaContentTypeToMessageType(f),h=a.post_id,i=a.is_receiver_fetch_supported===!0;if(i&&h!=null){i={__typename:"XMSGMsgrXmaContentRefDataclass",action_type:d("MSGDataclassTypes.flow").XmsgMsgrXmaActionType.Share,content_type:d("MSGDataclassTypes.flow").XmsgMsgrReceiverFetchContentType.Statusupdate,fetch_params:{__typename:"XMSGMsgrReceiverFetchXmaStatusUpdateFetchParams",post_id:h},xma_content_type:c("getJSEnumSafe")(c("LSXmaContentType"),a.xma_content_type),xma_layout_type:d("MSGDataclassTypes.flow").XmsgMsgrReceiverFetchXmaLayoutType.Single};return babelHelpers.extends({},b,{contentRef:JSON.stringify(i),transportLayerForLogging:"receiver_fetch",xma_message_type:d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.MSG_RECEIVER_FETCH,xmaTargetTypeForLogging:g})}h=await d("MAWFetchXMADataUtils").getPreviewBlobs(a.favicon_url,null,a.preview_url,a.header_image_url,e,f);i=h[0];h[1];f=h[2];h=h[3];return babelHelpers.extends({},b,{ctas:(b=a.cta_data)==null?void 0:(b=b.nodes)==null?void 0:b.map(function(a){var b=d("MAWUnshimUrl").unshimUrl(c("isStringNullOrEmpty")(a.cta_action_url)?void 0:a.cta_action_url),e=d("MAWUnshimUrl").unshimUrl(c("isStringNullOrEmpty")(a.cta_native_url)?void 0:a.cta_native_url);return{actionUrl:b,buttonType:d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_CTA_BUTTON_TYPE.OPEN_NATIVE,ctaType:"xma_web_url",nativeUrl:e,title:(b=a.cta_title)!=null?b:void 0}}),favicon_blob:(b=i)!=null?b:void 0,header_image_blob:(i=h)!=null?i:void 0,header_title:c("isStringNullOrEmpty")(a.title_text)?void 0:(b=a.header_title)!=null?b:void 0,preview_blob:(h=f)!=null?h:void 0,subtitle_text:(i=a.subtitle_text)!=null?i:void 0,transportLayerForLogging:"sender_copy",xma_message_type:g,xmaTargetTypeForLogging:g})}async function a(a,b,e){b=d("ConstUriUtils").getUri(b);b=b==null?void 0:(b=b.setSubDomain("www"))==null?void 0:b.toString();if(b==null)return{linkType:"unknown",transportLayerForLogging:"sender_copy",xmaTargetTypeForLogging:null};var f=c("isReceiverFetchSenderSideEnabled")();e.forEach(function(a){d("sendToSentQPLLogger").markSendToSentPoint(a,"fetch_json_for_xma_share_start"),d("sendToSentQPLLogger").addSendToSentAnnotations(a,{bool:{is_rf_enabled:f}})});if(f)return o(a,b,e);a=await l(a,b).catch(function(a){e.forEach(function(b){d("sendToSentQPLLogger").markSendToSentFail(b,"failed_to_fetch_json_for_xma_share",a)}),c("FBLogger")("messenger_web_sharing").catching(a).mustfix(d("MAWFetchXMADataUtils").XMA_DATA_ERRORS.failed_to_fetch_json_for_xma_share)});e.forEach(function(a){d("sendToSentQPLLogger").markSendToSentPoint(a,"fetch_json_for_xma_share_end")});if(a==null){e.forEach(function(a){d("sendToSentQPLLogger").addSendToSentAnnotations(a,{string:{xma_data_result:"empty"}})});return{linkType:"unknown",transportLayerForLogging:"sender_copy",xmaTargetTypeForLogging:null}}a=a.post_reshare_xma;if(a==null){e.forEach(function(a){d("sendToSentQPLLogger").addSendToSentAnnotations(a,{string:{xma_data_result:"external"}})});return{linkType:"external",transportLayerForLogging:"sender_copy",xmaTargetTypeForLogging:null}}if(a==="private")return k(b,e);e.forEach(function(a){d("sendToSentQPLLogger").addSendToSentAnnotations(a,{string:{xma_data_result:"public"}})});return m(b,a,e)}g.fetchXMAData=a}),226);
__d("MAWGetProtocolMsgIdByMsgIdInUI",["I64","LSDatabaseSingleton","MAWBridgeSendAndReceive","MAWMpsGating","MAWThreadMappingUtils","WAJids","WAStanzaUtils"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=d("WAJids").createJidUtils({platform:"msgr"});async function k(a){var b=await (h||(h=d("LSDatabaseSingleton"))).getLSDatabaseSingletonPromiseOrValue();return b.runInTransaction(async function(b){var c=await b.messages.index("messageId").get(a);if(c==null)return null;b=await d("MAWThreadMappingUtils").getChatJidFromMappingTable(b,c.threadKey);if(b!=null)return{author:j.toUserJid((i||(i=d("I64"))).to_float(c.senderId).toString()),chat:b,externalId:d("WAStanzaUtils").toStanzaId(c.offlineThreadingId)}},"readonly",void 0,void 0,f.id+":32")}a=function(a){return d("MAWMpsGating").isFullMpsEnabled()?k(a):l(a)};var l=function(a){return d("MAWBridgeSendAndReceive").sendAndReceive("backend","getProtocolMsgIdByMsgId",{msgId:a})};g.getProtocolMsgIdByMsgIdUI=a}),98);
__d("MAWMessageSendReporter",["FBLogger","MAWMarkMessageSendAsFailedLSDB","MAWReportSendMessageSuccessResult","MAWSetupWorkerAuxStateForLogging","MWLogSendToSentFailedError","QPLUserFlow","WAGetSafeQPLError","justknobx","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";async function a(a,b,e,f){var g=e.qplEventType;e=e.qplInstanceKey;try{b=await b;if(b==null)return;if(b.success)b.value!=null?d("MAWReportSendMessageSuccessResult").reportSendMessageSuccessResultFn(b.value):c("QPLUserFlow").addPoint(g,"no-op",{instanceKey:e}),c("QPLUserFlow").endSuccess(g,{instanceKey:e});else{var i,j=b.error.isRetriable===!0;c("MWLogSendToSentFailedError")({qplEventType:g,qplInstanceKey:e},b.error.type,void 0,b.error.errorCode,b.error.applicationErrorCode);c("QPLUserFlow").endFailure(g,b.error.type,{annotations:{bool:{isRetriable:(i=b.error.isRetriable)!=null?i:!1,workerTerminatedPermanently:d("MAWSetupWorkerAuxStateForLogging").WorkerLifeCycleState.workerTerminatedPermanently},int:{errorCode:(i=b.error.errorCode)!=null?i:0},string:{details:(i=b.error.details)!=null?i:""},string_array:{worker_restart_msgs:d("MAWSetupWorkerAuxStateForLogging").WorkerLifeCycleState.restartMessageTypes,worker_restart_reasons:d("MAWSetupWorkerAuxStateForLogging").WorkerLifeCycleState.restartReasons}},instanceKey:e});h(a,j,f)}}catch(k){c("MWLogSendToSentFailedError")({qplEventType:g,qplInstanceKey:e},"runtime-failure",k);c("QPLUserFlow").endFailure(g,"runtime-failure",{annotations:{bool:{workerTerminatedPermanently:d("MAWSetupWorkerAuxStateForLogging").WorkerLifeCycleState.workerTerminatedPermanently},string:{errorDescription:d("WAGetSafeQPLError").getSafeQPLErrorMessage(k)},string_array:{worker_restart_msgs:d("MAWSetupWorkerAuxStateForLogging").WorkerLifeCycleState.restartMessageTypes,worker_restart_reasons:d("MAWSetupWorkerAuxStateForLogging").WorkerLifeCycleState.restartReasons}},instanceKey:e});h(a,!1,f,k);c("FBLogger")("messenger_web").catching(k).mustfix("MAWMessageSendReporter");if(c("justknobx")._("4010")&&typeof k==="object"){b=String(k==null?void 0:k.message);i=String(k==null?void 0:k.messageParams);j=String(k==null?void 0:k.stack);c("FBLogger")("messenger_web").mustfix("Failed to send, e: %s. error params: %s. call stack: %s",b,i,j)}}}function h(a,b,e,f){if(a==null)return;var g=a.chatJid;a=a.externalId;c("promiseDone")(d("MAWMarkMessageSendAsFailedLSDB").markMessageSendAsFailed(a,g,d("WAGetSafeQPLError").getSafeQPLErrorMessage(f),e,b))}g.MAWMessageSendReporter=a}),98);
__d("MAWSecureComposerText",["Lexical","LexicalText","MAWJids","MessengerLexicalActorNode","MessengerLexicalEntityTextNode"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return a.read(function(){var a=d("Lexical").$getRoot().getFirstChild();return a instanceof d("Lexical").ElementNode?a.getChildren().reduce(function(a,b){var c=d("MessengerLexicalActorNode").$isMessengerLexicalActorNode(b)&&b.getRangeType()==="t";if(d("MessengerLexicalEntityTextNode").isMessengerLexicalEntityTextNode(b)&&!c){c=b.getEntity();return a+("@"+d("MAWJids").toUserJid(c.id))}return a+b.getTextContent()},""):d("LexicalText").$rootTextContent()})}g.getTextFromEditorState=a}),98);
__d("useMAWMediaDownloadRetryCountFromContext",["MAWStateContext.react"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a=d("MAWStateContext.react").useMAWSelector(h);return a}function h(a){return a.mediaDownloadRetryCount}g["default"]=a}),98);
__d("useMAWMediaDownloadStatusFromContext",["MAWStateContext.react"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a=d("MAWStateContext.react").useMAWSelector(h);return a}function h(a){return a.mediaDownloadStatus}g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("CometMessagingJewelDropdownOnboardingPostDecisionUpsell.react",["CometMessagingJewelDropdown.entrypoint","MWChatEncryptedBackupsLogging","MWChatEncryptedBackupsQPLEvents","MWChatEncryptedBackupsQPLSource.enum","deferredLoadComponent","react","react-compiler-runtime","requireDeferredForDisplay","usePushPage"],(function(a,b,c,d,e,f,g){"use strict";var h,i;b=i||d("react");var j=h||(h=c("react"));b.useCallback;var k=b.useEffect,l=c("deferredLoadComponent")(c("requireDeferredForDisplay")("MWEBWebOnboardingPostDecisionDialogContent.react").__setRef("CometMessagingJewelDropdownOnboardingPostDecisionUpsell.react"));function a(a){var b=d("react-compiler-runtime").c(11),e=a.onClose,f=a.onSkip;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(a=[],b[0]=a):a=b[0];k(m,a);b[1]===Symbol["for"]("react.memo_cache_sentinel")?(a={},b[1]=a):a=b[1];a=c("usePushPage")(c("CometMessagingJewelDropdown.entrypoint"),a);var g=a[0];b[2]!==e||b[3]!==g?(a=function(){g({onClose:e})},b[2]=e,b[3]=g,b[4]=a):a=b[4];var h=a;b[5]!==h||b[6]!==f?(a=function(){d("MWChatEncryptedBackupsLogging").cancelFlow({cancelEndPoint:"unmount",event:d("MWChatEncryptedBackupsQPLEvents").backupSetupQplEvent}),f(),h()},b[5]=h,b[6]=f,b[7]=a):a=b[7];a=a;var i;b[8]!==h||b[9]!==a?(i=j.jsx(l,{onClose:h,onSkip:a,source:c("MWChatEncryptedBackupsQPLSource.enum").JEWEL_ONBOARDING_SOFTBLOCK,withCloseButton:!1}),b[8]=h,b[9]=a,b[10]=i):i=b[10];return i}function m(){c("CometMessagingJewelDropdown.entrypoint").root.preload()}g["default"]=a}),98);
__d("FBIconCloudArrowUpFilled12.svg.react",["XPlatReactSVG","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs(d("XPlatReactSVG").Svg,babelHelpers["extends"]({viewBox:"0 0 12 13",width:"1em",height:"1em",fill:"currentColor",title:a.title},a,{children:[a.children!=null&&i.jsx(d("XPlatReactSVG").Defs,{children:a.children}),i.jsx(d("XPlatReactSVG").G,{fillRule:"evenodd",transform:"translate(-450 -1073)",children:i.jsx(d("XPlatReactSVG").Path,{d:"M459.968 1078.513c-.23-1.715-1.67-3.003-3.468-3.013-1.366 0-2.358.53-2.835 1.502-1.263.05-2.358 1.155-2.438 2.444-.834.297-1.227 1.324-1.227 2.054 0 .83.534 2 1.722 2h3.528v-3.44l-.97.97a.75.75 0 1 1-1.06-1.06l2.25-2.25a.75.75 0 0 1 1.06 0l2.25 2.25a.75.75 0 1 1-1.06 1.06l-.97-.97v3.44h3.04c1.302 0 2.21-1.317 2.21-2.5 0-1.11-.855-2.346-2.032-2.487"})})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;b=a;g["default"]=b}),98);
__d("MWXIconCloudUpload",["MWXSvgIcon","SVGIcon","cr:12375","gkx"],(function(a,b,c,d,e,f,g){"use strict";a=d("MWXSvgIcon").mwxSvgIcon(d("SVGIcon").svgIcon(b("cr:12375")),c("gkx")("23219"));g["default"]=a}),98);
__d("MWEBWebOnboardingPostDecisionDialogContent.react",["fbt","AddOnStartOverride.react","CometRelay","MWChatEncryptedBackupsQPLEvents","MWEBDialogPage.react","MWEBOnboardingDismissOnboardingUpsellsInRelay","MWEBPinCodeSetupDialog.entrypoint","MWEncryptedBackupsRetrieveQplLoggingAnnotations","MWXColumn.react","MWXColumnItem.react","MWXDialogFooter.react","MWXIconCloudUpload","MWXIconForListCell.react","MWXList.react","MWXListCell.react","MWXText.react","MWXTextPairing.react","QPLUserFlow","cr:13913","cr:2060","react","react-compiler-runtime","useAsyncReStore","useLabyrinthLogging","usePushPage","useVisibilityObserver"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));i.useCallback;function k(a){var b=d("react-compiler-runtime").c(17),e=a.instanceKey,f=a.onClose,g=a.onSkip,i=a.withCloseButton;b[0]===Symbol.for("react.memo_cache_sentinel")?(a={},b[0]=a):a=b[0];a=c("usePushPage")(c("MWEBPinCodeSetupDialog.entrypoint"),a);var k=a[0];a=a[1];if(b[1]!==a){a.onHighIntent;var l=babelHelpers.objectWithoutPropertiesLoose(a,["onHighIntent"]);l=l;b[1]=a;b[2]=l}else l=b[2];var m=d("CometRelay").useRelayEnvironment();b[3]!==m||b[4]!==f?(a=function(){d("MWEBOnboardingDismissOnboardingUpsellsInRelay").dismissOnboardingUpsellsInRelayStore({environment:m,upsellsToDismiss:"all"}),f()},b[3]=m,b[4]=f,b[5]=a):a=b[5];var n=a;b[6]!==k||b[7]!==e||b[8]!==f||b[9]!==g||b[10]!==n||b[11]!==i?(a=function(){c("QPLUserFlow").addPoint(d("MWChatEncryptedBackupsQPLEvents").backupSetupQplEvent,"WEB_ONBOARDING_POST_DECISION_DIALOG_NEXT",{instanceKey:e}),k({instanceKey:e,onClose:f,onSkip:g,onStart:n,qplEventName:d("MWChatEncryptedBackupsQPLEvents").backupSetupQplEvent,withCloseButton:i})},b[6]=k,b[7]=e,b[8]=f,b[9]=g,b[10]=n,b[11]=i,b[12]=a):a=b[12];a=a;var o;b[13]===Symbol.for("react.memo_cache_sentinel")?(o=h._(/*BTDS*/"Back up chats"),b[13]=o):o=b[13];b[14]!==l||b[15]!==a?(o=j.jsx(c("MWXDialogFooter.react"),{primaryCallToAction:babelHelpers.extends({label:o,onPress:a},l)}),b[14]=l,b[15]=a,b[16]=o):o=b[16];return o}function a(a){var e=d("react-compiler-runtime").c(26),f=a.instanceKey,g=a.onClose,i=a.onSkip,l=a.source;a=a.withCloseButton;var m=d("useLabyrinthLogging").useLabyrinthLoggingFlow(),n=m.startFlow,o=c("useAsyncReStore")();e[0]!==o||e[1]!==f||e[2]!==l||e[3]!==n?(m=async function(){d("MWEncryptedBackupsRetrieveQplLoggingAnnotations").encryptedBackupsRetrieveQplLoggingAnnotations({db:await o,onFetch:function(a){var b=a.ebsmWiped,e=a.firstUpsellTime;a=a.hasUserOnboardedBefore;n({additionalAnnotations:{eb_session_identifier:e,ebsm_wiped:b,has_user_onboarded_before:a,requested_setup_type:"pin_code"},event:d("MWChatEncryptedBackupsQPLEvents").backupSetupQplEvent,instanceKey:f,source:l});c("QPLUserFlow").addPoint(d("MWChatEncryptedBackupsQPLEvents").backupSetupQplEvent,"WEB_ONBOARDING_POST_DECISION_DIALOG",{instanceKey:f})}})},e[0]=o,e[1]=f,e[2]=l,e[3]=n,e[4]=m):m=e[4];var p=m;e[5]!==p?(m={onVisible:function(){return void p()}},e[5]=p,e[6]=m):m=e[6];m=c("useVisibilityObserver")(m);var q;e[7]!==f||e[8]!==g||e[9]!==i||e[10]!==a?(q=j.jsx(k,{instanceKey:f,onClose:g,onSkip:i,withCloseButton:a}),e[7]=f,e[8]=g,e[9]=i,e[10]=a,e[11]=q):q=e[11];e[12]===Symbol.for("react.memo_cache_sentinel")?(g=j.jsx(c("MWXColumnItem.react"),{align:"center",children:j.jsx(b("cr:2060"),{})}),e[12]=g):g=e[12];e[13]===Symbol.for("react.memo_cache_sentinel")?(a=j.jsx(c("MWXColumnItem.react"),{children:j.jsx(c("MWXText.react"),{align:"center",type:"headlineEmphasized2",children:h._(/*BTDS*/"Keep your chat history safe")})}),e[13]=a):a=e[13];var r;e[14]===Symbol.for("react.memo_cache_sentinel")?(r=j.jsx(c("AddOnStartOverride.react"),{children:j.jsx(c("MWXIconForListCell.react"),{icon:b("cr:13913"),size:"large"})}),e[14]=r):r=e[14];var s;e[15]===Symbol.for("react.memo_cache_sentinel")?(s=h._(/*BTDS*/"Right now, messages are only saved on your browser."),e[15]=s):s=e[15];e[16]===Symbol.for("react.memo_cache_sentinel")?(r=j.jsx(c("MWXListCell.react"),{addOnStart:r,content:j.jsx(c("MWXTextPairing.react"),{body:s,bodyColor:"secondary",headline:h._(/*BTDS*/"Your chats aren\u2019t being backed up"),level:4})}),e[16]=r):r=e[16];e[17]===Symbol.for("react.memo_cache_sentinel")?(s=j.jsx(c("AddOnStartOverride.react"),{children:j.jsx(c("MWXIconForListCell.react"),{icon:c("MWXIconCloudUpload"),size:"large"})}),e[17]=s):s=e[17];var t;e[18]===Symbol.for("react.memo_cache_sentinel")?(t=h._(/*BTDS*/"Secure storage backs up your chats so you can restore them if you lose or replace your device."),e[18]=t):t=e[18];e[19]===Symbol.for("react.memo_cache_sentinel")?(r=j.jsx(c("MWXColumnItem.react"),{paddingHorizontal:0,children:j.jsxs(c("MWXList.react"),{children:[r,j.jsx(c("MWXListCell.react"),{addOnStart:s,content:j.jsx(c("MWXTextPairing.react"),{body:t,bodyColor:"secondary",headline:h._(/*BTDS*/"Start backing up your chats with secure storage"),level:4})})]})}),e[19]=r):r=e[19];e[20]!==m?(s=j.jsxs(c("MWXColumn.react"),{paddingTop:0,paddingVertical:8,ref:m,spacing:16,children:[g,a,r]}),e[20]=m,e[21]=s):s=e[21];e[22]!==i||e[23]!==s||e[24]!==q?(t=j.jsx(c("MWEBDialogPage.react"),{footer:q,onClose:i,children:s}),e[22]=i,e[23]=s,e[24]=q,e[25]=t):t=e[25];return t}g.default=a}),226);
__d("MWEBWebOnboardingPostDecisionPersistentBanner.react",["fbt","MWChatEncryptedBackupsQPLEvents","MWEBWebOnboardingPostDecisionDialog.entrypoint","MWXColumn.react","MWXColumnItem.react","MWXLink.react","MWXText.react","gkx","react","react-compiler-runtime","useMWEBUpsellLogging","useMWXEntryPointDialog"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));i.useCallback;function a(a){var b=d("react-compiler-runtime").c(18),e=a.onOpen,f=a.source;a=c("useMWEBUpsellLogging")(f,d("MWChatEncryptedBackupsQPLEvents").backupSetupQplEvent,"WEB_ONBOARDING_POST_DECISION_PERSISTENT_BANNER");var g=a.instanceKey,i=a.onDialogClose,k=a.onDialogOpen;a=a.ref;var l;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(l={},b[0]=l):l=b[0];l=c("useMWXEntryPointDialog")(c("MWEBWebOnboardingPostDecisionDialog.entrypoint"),l);var m=l[0],n=l[1],o=l[2];l=l[3];var p;b[1]!==g||b[2]!==i||b[3]!==k||b[4]!==e||b[5]!==m||b[6]!==f?(p=function(){k(),m({instanceKey:g,source:f},i),e()},b[1]=g,b[2]=i,b[3]=k,b[4]=e,b[5]=m,b[6]=f,b[7]=p):p=b[7];p=p;var q;b[8]!==p||b[9]!==n||b[10]!==o||b[11]!==l?(q=h._(/*BTDS*/"Chats aren\u2019t backed up. {cta}",[h._param("cta",j.jsx(c("MWXText.react"),{color:"blueLink",type:"bodyLink4",children:j.jsx(c("MWXLink.react"),{onClick:p,onHoverEnd:o,onHoverStart:n,onPressStart:l,children:h._(/*BTDS*/"Fix now")})}))]),b[8]=p,b[9]=n,b[10]=o,b[11]=l,b[12]=q):q=b[12];b[13]!==a||b[14]!==q?(p=j.jsx(c("MWXText.react"),{ref:a,type:"body4",children:q}),b[13]=a,b[14]=q,b[15]=p):p=b[15];n=p;b[16]!==n?(o=c("gkx")("23433")?j.jsx(c("MWXColumn.react"),{align:"center",paddingHorizontal:8,paddingTop:8,paddingVertical:16,children:j.jsx(c("MWXColumnItem.react"),{children:n})}):j.jsx("div",{className:"xlhe6ec x1lq5wgf xgqcy7u x30kzoy x9jhf4c x1xmf6yo x1e56ztr x1d52u69 xktsk01 x6ikm8r x10wlt62 xyamay9 x1l90r2v x1swvt13 x1pi30zi x1qh3cfz",children:n}),b[16]=n,b[17]=o):o=b[17];return o}g["default"]=a}),226);
__d("MWEBWebOnboardingPostDecisionQP.react",["fbt","MWChatEncryptedBackupsQPLEvents","MWChatEncryptedBackupsQPLSource.enum","MWEBQPAlphaIconSmall.react","MWEBWebOnboardingPostDecisionDialog.entrypoint","MWXQPCard.react","react","react-compiler-runtime","useMWEBUpsellLogging","useMWXEntryPointDialog"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));i.useCallback;var k={inline:{borderTopStartRadius:"x168nmei",borderTopEndRadius:"x13lgxp2",borderBottomEndRadius:"x5pf9jr",borderBottomStartRadius:"xo71vjh",marginTop:"xdj266r",marginEnd:"x11i5rnm",marginBottom:"xat24cr",marginStart:"x1mh8g0r",position:"x1n2onr6",zIndex:"x1vjfegm",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(24),e=a.onDismiss,f=a.source;a=c("useMWEBUpsellLogging")(f,d("MWChatEncryptedBackupsQPLEvents").backupSetupQplEvent,"WEB_ONBOARDING_POST_DECISION_QP");var g=a.instanceKey,i=a.onDialogClose,l=a.onDialogOpen;a=a.ref;var m;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(m={},b[0]=m):m=b[0];m=c("useMWXEntryPointDialog")(c("MWEBWebOnboardingPostDecisionDialog.entrypoint"),m);var n=m[0],o=m[1],p=m[2];m=m[3];var q;b[1]!==i||b[2]!==e?(q=function(){i(),e()},b[1]=i,b[2]=e,b[3]=q):q=b[3];var r=q;b[4]!==g||b[5]!==r||b[6]!==l||b[7]!==n||b[8]!==f?(q=function(){l(),n({instanceKey:g,source:f},r)},b[4]=g,b[5]=r,b[6]=l,b[7]=n,b[8]=f,b[9]=q):q=b[9];q=q;var s=f===c("MWChatEncryptedBackupsQPLSource.enum").CHAT_TAB_ONBOARDING_QP,t;b[10]===Symbol["for"]("react.memo_cache_sentinel")?(t=h._(/*BTDS*/"Fix now"),b[10]=t):t=b[10];b[11]!==o||b[12]!==p||b[13]!==q||b[14]!==m?(t={label:t,onHoverIn:o,onHoverOut:p,onPress:q,onPressIn:m},b[11]=o,b[12]=p,b[13]=q,b[14]=m,b[15]=t):t=b[15];b[16]===Symbol["for"]("react.memo_cache_sentinel")?(o=h._(/*BTDS*/"Back up your chats so you can restore them if you switch devices."),p=h._(/*BTDS*/"Your chats aren\u2019t backed up"),q={props:{src:d("MWEBQPAlphaIconSmall.react").getMWEBQPAlphaIconSmallProperties()},type:"image"},b[16]=o,b[17]=p,b[18]=q):(o=b[16],p=b[17],q=b[18]);m=s?k.inline:void 0;b[19]!==e||b[20]!==a||b[21]!==t||b[22]!==m?(s=j.jsx(c("MWXQPCard.react"),{addOnPrimary:t,body:o,headline:p,icon:q,onClose:e,ref:a,xstyle:m}),b[19]=e,b[20]=a,b[21]=t,b[22]=m,b[23]=s):s=b[23];return s}g["default"]=a}),226);
__d("MWEBWebOnboardingPostDecisionUpsellQuery.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"is_eb_onboarding_upsells_dismissed",storageKey:null}]}],storageKey:null};return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MWEBWebOnboardingPostDecisionUpsellQuery",selections:[{kind:"RequiredField",field:a,action:"THROW",path:"viewer"}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"MWEBWebOnboardingPostDecisionUpsellQuery",selections:[a]},params:{cacheID:"0a35e0e8d40d6cdb9a555c5766492e88",id:null,metadata:{},name:"MWEBWebOnboardingPostDecisionUpsellQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("MWEBWebOnboardingUpsellUtils",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum")({QP:"qp",PERSISTENT_BANNER:"persistent_banner",DISMISSED:"dismissed"});f.UpsellState=a}),66);
__d("MWEBWebOnboardingPostDecisionUpsell.react",["CometRelay","MWChatEncryptedBackupsQPLSource.enum","MWEBWebOnboardingPostDecisionPersistentBanner.react","MWEBWebOnboardingPostDecisionQP.react","MWEBWebOnboardingPostDecisionUpsellQuery.graphql","MWEBWebOnboardingUpsellUtils","MWEncryptedBackupsLocalStorageEntryEnum","MWEncryptedBackupsSharedState","promiseDone","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react"));e=i;e.useCallback;e.useMemo;function a(a){var e,f=d("react-compiler-runtime").c(11),g=a.children;a=a.source;var i=d("MWEncryptedBackupsSharedState").useEBSharedStateEntry(c("MWEncryptedBackupsLocalStorageEntryEnum").EB_POST_DECISION_WEB_ONLY_ONBOARDING+":"+a),k=i[0],l=i[1];k=(i=d("MWEBWebOnboardingUpsellUtils").UpsellState.cast(k))!=null?i:d("MWEBWebOnboardingUpsellUtils").UpsellState.QP;i=k;f[0]!==l?(k=function(){c("promiseDone")(l(d("MWEBWebOnboardingUpsellUtils").UpsellState.PERSISTENT_BANNER))},f[0]=l,f[1]=k):k=f[1];k=k;var m;f[2]!==l?(m=function(){c("promiseDone")(l(d("MWEBWebOnboardingUpsellUtils").UpsellState.DISMISSED))},f[2]=l,f[3]=m):m=f[3];m=m;e=((e=d("CometRelay").useClientQuery(h!==void 0?h:h=b("MWEBWebOnboardingPostDecisionUpsellQuery.graphql"),{}))==null?void 0:(e=e.viewer)==null?void 0:e.is_eb_onboarding_upsells_dismissed)===!0;if(e)return g;switch(i){case d("MWEBWebOnboardingUpsellUtils").UpsellState.QP:f[4]!==k||f[5]!==a?(e=j.jsx(c("MWEBWebOnboardingPostDecisionQP.react"),{onDismiss:k,source:a}),f[4]=k,f[5]=a,f[6]=e):e=f[6];return e;case d("MWEBWebOnboardingUpsellUtils").UpsellState.PERSISTENT_BANNER:f[7]!==g||f[8]!==m||f[9]!==a?(i=a===c("MWChatEncryptedBackupsQPLSource.enum").JEWEL_THREADLIST_QP||a===c("MWChatEncryptedBackupsQPLSource.enum").INBOX_THREADLIST_QP?j.jsx(c("MWEBWebOnboardingPostDecisionPersistentBanner.react"),{onOpen:m,source:a===c("MWChatEncryptedBackupsQPLSource.enum").JEWEL_THREADLIST_QP?c("MWChatEncryptedBackupsQPLSource.enum").JEWEL_THREADLIST_PERSISTENT_BANNER:c("MWChatEncryptedBackupsQPLSource.enum").INBOX_THREADLIST_PERSISTENT_BANNER}):g,f[7]=g,f[8]=m,f[9]=a,f[10]=i):i=f[10];return i;case d("MWEBWebOnboardingUpsellUtils").UpsellState.DISMISSED:return g}}g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("getOrCreateDOMID",["uniqueID"],(function(a,b,c,d,e,f,g){function a(a){a.id||(a.id=c("uniqueID")());return a.id}g["default"]=a}),98);
__d("ContextualThing",["CSS","containsNode","ge","getOrCreateDOMID"],(function(a,b,c,d,e,f,g){function a(a,b){a.setAttribute("data-ownerid",c("getOrCreateDOMID")(b))}function b(a,b){b=b;while(b){if(c("containsNode")(a,b))return!0;b=h(b)}return!1}function h(a){a=a;var b;while(a){if(a.getAttribute&&(b=a.getAttribute("data-ownerid")))return c("ge")(b);a=a.parentNode}return null}function e(a,b){a=a;var e;while(a&&!d("CSS").hasClass(a,b))a.getAttribute&&(e=a.getAttribute("data-ownerid"))?a=c("ge")(e):a=a.parentNode;return a}g.register=a;g.containsIncludingLayers=b;g.getContext=h;g.parentByClass=e}),98);
__d("DOMDimensions",["Style","getDocumentScrollElement"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a?a.offsetHeight:0;a=a?a.offsetWidth:0;return{height:b,width:a}}function b(a){a=c("getDocumentScrollElement")(a);var b=a.scrollWidth||0;a=a.scrollHeight||0;return{width:b,height:a}}function d(a,b,d,e,f){var g;switch(b){case"left":case"right":case"top":case"bottom":g=[b];break;case"width":g=["left","right"];break;case"height":g=["top","bottom"];break;default:throw Error("Invalid plane: "+b)}b=function(b,d){var e=0;for(var f=0;f<g.length;f++)e+=parseFloat(c("Style").get(a,b+"-"+g[f]+d))||0;return e};return(d?b("padding",""):0)+(e?b("border","-width"):0)+(f?b("margin",""):0)}g.getElementDimensions=a;g.getDocumentDimensions=b;g.measureElementBox=d}),98);
__d("getElementText",["isElementNode","isTextNode"],(function(a,b,c,d,e,f,g){var h=null;function a(a){if(c("isTextNode")(a))return a.data;else if(c("isElementNode")(a)){if(h===null){var b=document.createElement("div");h=b.textContent!=null?"textContent":"innerText"}return a[h]}else return""}g["default"]=a}),98);
__d("isContentEditable",[],(function(a,b,c,d,e,f){"use strict";function a(a){a=a;while(a instanceof HTMLElement){if(a.contentEditable==="true"||a.contentEditable==="plaintext-only")return!0;a=a.parentElement}return!1}f["default"]=a}),66);
__d("isElementInteractive",["isContentEditable"],(function(a,b,c,d,e,f,g){"use strict";var h=new Set(["EMBED","INPUT","OBJECT","SELECT","TEXTAREA"]),i=new Set(["button","checkbox","radio","submit"]);function a(a){if(!a instanceof HTMLElement)return!1;var b=c("isContentEditable")(a),d=h.has(a.nodeName);a=a instanceof HTMLInputElement&&i.has(a.type);return(b||d)&&!a}g["default"]=a}),98);
__d("KeyEventController",["Bootloader","DOMQuery","Event","Run","emptyFunction","getElementText","isContentEditable","isElementInteractive","isEmpty"],(function(a,b,c,d,e,f,g){var h,i=null,j={BACKSPACE:[8],TAB:[9],RETURN:[13],ALT:[18],ESCAPE:[27],LEFT:[37,63234],UP:[38,63232],RIGHT:[39,63235],DOWN:[40,63233],NUMPAD_ADD:[43],NUMPAD_SUBSTRACT:[45],DELETE:[46],COMMA:[188],PERIOD:[190],SLASH:[191],"`":[192],"[":[219],"]":[221],PAGE_UP:[33],PAGE_DOWN:[34],END:[35],HOME:[36],SPACE:[32],KP_DOT:[46,110],"-":[189],"=":[187],FORWARD_SLASH:[191]},k=(a={},a[8]=1,a[9]=1,a[13]=1,a[27]=1,a[32]=1,a[37]=1,a[63234]=1,a[38]=1,a[63232]=1,a[39]=1,a[63235]=1,a[40]=1,a[63233]=1,a[46]=1,a);b=function(){function a(){var a=this;this.handlers={};["keyup","keydown","keypress"].forEach(function(b){return document.addEventListener(b,a.onkeyevent.bind(a,"on"+b))})}var b=a.prototype;b.mapKey=function(a){a=a;if(/^[0-9]$/.test(a+"")){typeof a!=="number"&&(a=a.charCodeAt(0)-48);return[48+a,96+a]}a+="";var b=j[a.toUpperCase()];return b?b:[a.toUpperCase().charCodeAt(0)]};b.onkeyevent=function(a,b){var d=b;d=c("Event").$E(d);b=this.handlers[d.keyCode]||this.handlers[d.which];if(b)for(var e=0;e<b.length;e++){var f=b[e].callback,g=b[e].filter;try{if(!g||g(d,a)){g=function(){var b=f(d,a),e=d.which||d.keyCode;c("Bootloader").loadModules(["KeyEventTypedLogger"],function(a){new a().setAction("key_shortcut").setKey(d.key||"").setKeyChar(String.fromCharCode(e)).setKeyCode(e).addToExtraData("is_trusted",d.isTrusted).log()},"KeyEventController");if(b===!1)return{v:c("Event").kill(d)}}();if(typeof g==="object")return g.v}}catch(a){}}return!0};b.resetHandlers=function(){for(var a in this.handlers)if(Object.prototype.hasOwnProperty.call(this.handlers,a)){var b=this.handlers[a].filter(function(a){return a.preserve()});b.length?this.handlers[a]=b:delete this.handlers[a]}};a.getInstance=function(){return i||(i=new a())};a.defaultFilter=function(b,d){b=c("Event").$E(b);return a.filterEventTypes(b,d)&&a.filterEventTargets(b,d)&&a.filterEventModifiers(b,d)};a.filterEventTypes=function(a,b){return b==="onkeydown"?!0:!1};a.filterEventTargets=function(a,b){b=a.getTarget();return!c("isElementInteractive")(b)||a.keyCode in k&&(d("DOMQuery").isNodeOfType(b,["input","textarea"])&&b.value.length===0||c("isContentEditable")(b)&&c("getElementText")(b).length===0)};a.filterEventModifiers=function(a,b){return a.ctrlKey||a.altKey||a.metaKey||a.repeat?!1:!0};a.registerKeyAcrossTransitions=function(b,d,e,f){e===void 0&&(e=a.defaultFilter);f===void 0&&(f=!1);return a.registerKey(b,d,e,f,c("emptyFunction").thatReturnsTrue)};a.registerKey=function(b,e,f,g,i){f===void 0&&(f=a.defaultFilter);g===void 0&&(g=!1);i===void 0&&(i=c("emptyFunction").thatReturnsFalse);b=b;var j=a.getInstance(),k=b==null?[]:j.mapKey(b);(h||(h=c("isEmpty")))(j.handlers)&&d("Run").onLeave(j.resetHandlers.bind(j));var l={};for(var m=0;m<k.length;m++){b=""+k[m];(!j.handlers[b]||g)&&(j.handlers[b]=[]);var n={callback:e,filter:f,preserve:i};l[b]=n;j.handlers[b].push(n)}return{remove:function(){for(var a in l){if(j.handlers[a]&&j.handlers[a].length){var b=j.handlers[a].indexOf(l[a]);b>=0&&j.handlers[a].splice(b,1)}delete l[a]}}}};a.registerKeyForButtonCallback=function(b,c){return a.registerKey(b,function(){c.click();return!1})};return a}();g["default"]=b}),98);
__d("KeyStatus",["Event","ExecutionEnvironment"],(function(a,b,c,d,e,f,g){var h,i=null,j=null;function k(){j||(j=c("Event").listen(window,"blur",function(){i=null,l()}))}function l(){j&&(j.remove(),j=null)}function a(a){i=c("Event").getKeyCode(a),k()}function b(){i=null,l()}if((h||c("ExecutionEnvironment")).canUseDOM){f=document.documentElement;if(f)if(f.addEventListener)f.addEventListener("keydown",a,!0),f.addEventListener("keyup",b,!0);else if(f.attachEvent){f=f.attachEvent;f("onkeydown",a);f("onkeyup",b)}}function d(){return!!i}function e(){return i}g.isKeyDown=d;g.getKeyDownCode=e}),98);
__d("ReactDOM_DEPRECATED",["ReactDOMCompatibilityLayer","cr:1293","err","setupReactRefresh"],(function(a,b,c,d,e,f,g){b("setupReactRefresh");function a(){throw c("err")("This React API is not available on Workplace.")}f=(e=b("cr:1293").findDOMNode)!=null?e:a;g.findDOMNode_DEPRECATED=f;g.render_DEPRECATED=d("ReactDOMCompatibilityLayer").render_DEPRECATED;g.unmountComponentAtNode_DEPRECATED=d("ReactDOMCompatibilityLayer").unmountComponentAtNode_DEPRECATED}),98);
__d("isValidReactElement",[],(function(a,b,c,d,e,f){var g=typeof Symbol==="function"&&Symbol["for"]&&Symbol["for"]("react.element")||60103;function a(a){return!!(typeof a==="object"&&a!==null&&a.$$typeof===g)}f["default"]=a}),66);
__d("Layer",["invariant","ArbiterMixin","BehaviorsMixin","CSS","ContextualThing","DOM","DataStore","Event","FBLogger","HTML","KeyEventController","KeyStatus","Parent","ReactDOM_DEPRECATED","Style","ge","isNode","isValidReactElement","mixin","react","removeFromArray","setImmediate"],(function(a,b,c,d,e,f,g,h){var i,j,k=j||c("react"),l=(i||(i=d("react"))).useLayoutEffect;b("KeyStatus");var m=[],n=function(b){babelHelpers.inheritsLoose(a,b);function a(a,d){var e;e=b.call(this)||this;e._config=a||{};if(d){e._configure(e._config,d);a=e._config.addedBehaviors||[];e.enableBehaviors(e._getDefaultBehaviors().concat(a))}else c("FBLogger")("layer").warn("The markup param wasn't provided to the Layer constructor");return e}var e=a.prototype;e.init=function(a){this._configure(this._config,a);a=this._config.addedBehaviors||[];this.enableBehaviors(this._getDefaultBehaviors().concat(a));this._initialized=!0;return this};e._configure=function(a,b){var e=this;if(b){var f=c("isNode")(b),g=typeof b==="string"||c("HTML").isHTML(b);this.containsReactComponent=c("isValidReactElement")(b);!f&&!g&&!this.containsReactComponent&&c("FBLogger")("layer").warn("Layer must be init with HTML, DOM node or React instance");if(g)b=c("HTML")(b).getRootNode();else if(this.containsReactComponent){f=document.createElement("div");q(b,f,function(){e.inform("reactshow"),e.updatePosition()});b=this._reactContainer=f}}this._root=this._buildWrapper(a,b);a.attributes&&c("DOM").setAttributes(this._root,a.attributes);a.classNames&&a.classNames.forEach(d("CSS").addClass.bind(null,this._root));d("CSS").addClass(this._root,"uiLayer");a.causalElement&&(this._causalElement=c("ge")(a.causalElement));a.permanent&&(this._permanent=a.permanent);a.isStrictlyControlled&&(this._isStrictlyControlled=a.isStrictlyControlled);d("DataStore").set(this._root,"layer",this)};e._getDefaultBehaviors=function(){return[]};e.getCausalElement=function(){return this._causalElement};e.setCausalElement=function(a){this._causalElement=a;return this};e.getInsertParent=function(){return this._insertParent||document.body};e.getRoot=function(){this._root||(this._destroyed?c("FBLogger")("layer").warn("No root node for this Layer. It has either not yet been set or the Layer has been destroyed.  This layer has been destroyed."):c("FBLogger")("layer").warn("No root node for this Layer. It has probably not been set."));return this._root};e.getContentRoot=function(){return this.getRoot()};e._buildWrapper=function(a,b){return b};e.setInsertParent=function(a){a&&(this._shown&&a!==this.getInsertParent()&&(c("DOM").appendContent(a,this.getRoot()),this.updatePosition()),this._insertParent=a);return this};e.showAfterDelay=function(a){window.setTimeout(this.show.bind(this),a)};e.show=function(){var b=this;if(this._shown)return this;var e=this.getRoot();e!=null||h(0,5142);this.inform("beforeshow");c("Style").set(e,"visibility","hidden");c("Style").set(e,"overflow","hidden");d("CSS").show(e);c("DOM").appendContent(this.getInsertParent(),e);this.updatePosition()!==!1?(this._shown=!0,this.inform("show"),a.inform("show",this),this._permanent||window.setTimeout(function(){b._shown&&m.push(b)},0)):d("CSS").hide(e);c("Style").set(e,"visibility","");c("Style").set(e,"overflow","");c("Style").set(e,"opacity","1");this.inform("aftershow");return this};e.hide=function(a){if(this._isStrictlyControlled){this._shown&&this.inform("runhide",a);return this}return this._hide()};e._hide=function(){if(this._hiding||!this._shown||this.inform("beforehide")===!1)return this;this._hiding=!0;this.inform("starthide")!==!1&&this.finishHide();return this};e.conditionShow=function(a){return a?this.show():this._hide()};e.finishHide=function(){if(this._shown){this._permanent||c("removeFromArray")(m,this);this._hiding=!1;this._shown=!1;var b=this.getRoot();b!=null||h(0,5143);d("CSS").hide(b);this.inform("hide");a.inform("hide",this)}};e.isShown=function(){return this._shown};e.updatePosition=function(){return!0};e.destroy=function(){this.containsReactComponent&&d("ReactDOM_DEPRECATED").unmountComponentAtNode_DEPRECATED(this._reactContainer);this.finishHide();var b=this.getRoot();c("DOM").remove(b);this.destroyBehaviors();this.inform("destroy");a.inform("destroy",this);d("DataStore").remove(b,"layer");this._root=this._causalElement=null;this._destroyed=!0};a.init=function(a,b){a.init(b)};a.initAndShow=function(a,b){a.init(b).show()};a.show=function(a){a.show()};a.showAfterDelay=function(a,b){a.showAfterDelay(b)};a.getTopmostLayer=function(){return m[m.length-1]};a.informBlur=function(a){o=null;p=null;var b=m.length;if(!b)return;while(b--){var c=m[b],e=c.getContentRoot();e!=null||h(0,5144);if(d("ContextualThing").containsIncludingLayers(e,a))return;if(c.inform("blur",{target:a})===!1||c.isShown())return}};return a}(c("mixin")(c("ArbiterMixin"),c("BehaviorsMixin")));Object.assign(n,c("ArbiterMixin"));Object.assign(n.prototype,{_destroyed:!1,_initialized:!1,_root:null,_shown:!1,_hiding:!1,_causalElement:null,_reactContainer:null});c("Event").listen(document.documentElement,"keydown",function(a){if(c("KeyEventController").filterEventTargets(a,"keydown"))for(var b=m.length-1;b>=0;b--)if(m[b].inform("key",a)===!1)return!1;return!0},c("Event").Priority.URGENT);var o;c("Event").listen(document.documentElement,"mousedown",function(a){o=a.getTarget()});var p;c("Event").listen(document.documentElement,"mouseup",function(a){p=a.getTarget(),c("setImmediate")(function(){o=null,p=null})});c("Event").listen(document.documentElement,"click",function(a){var b=o,e=p;o=null;p=null;var f=m.length;if(!f)return;f=a.getTarget();if(f!==e||f!==b)return;if(!c("DOM").contains(document.documentElement,f))return;if(f.offsetWidth!=null&&!f.offsetWidth)return;if(d("Parent").byClass(f,"generic_dialog"))return;n.informBlur(f)});function q(a,b,e){c("setImmediate")(function(){d("ReactDOM_DEPRECATED").render_DEPRECATED(k.jsx(r,{onRender:e,children:a}),b)})}function r(a){var b=a.children,c=a.onRender;l(function(){c()},[c]);return b}r.displayName=r.name+" [from "+f.id+"]";g["default"]=n}),98);/*FB_PKG_DELIM*/
__d("CometNotificationsActionsMenu.react",["fbt","ix","FDSMenu.react","FDSMenuItem.react","XCometNotificationsControllerRouteBuilder","XCometSettingsControllerRouteBuilder","fbicon","gkx","react","requireDeferred","useCometRouterState"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=j||d("react"),l=c("requireDeferred")("NotifSeeAllFalcoEvent").__setRef("CometNotificationsActionsMenu.react");function a(a){var b,e,f=a.actorId,g=a.notificationsListRef,j=a.onSeeAllClick;a=c("useCometRouterState")();a=(a==null?void 0:a.main.route.tabKey)==="notifications";var m=function(){g.current!=null&&g.current.markAllNotificationsAsRead!=null&&g.current.markAllNotificationsAsRead()},n=function(){g.current!=null&&g.current.handleDebugModeClick!=null&&g.current.handleDebugModeClick()};b=g==null?void 0:(b=g.current)==null?void 0:(b=b.debugModeEnabled)==null?void 0:b.current;e=(e=c("gkx")("23784"))!=null?e:!1;return k.jsxs(c("FDSMenu.react"),{"aria-label":h._(/*BTDS*/"Notifications list actions"),withArrow:!0,children:[k.jsx(c("FDSMenuItem.react"),{icon:d("fbicon")._(i("477820"),20),onClick:m,primaryText:h._(/*BTDS*/"Mark all as read"),testid:void 0}),k.jsx(c("FDSMenuItem.react"),{href:c("XCometSettingsControllerRouteBuilder").buildURL({tab:"notifications"}),icon:d("fbicon")._(i("497570"),20),primaryText:h._(/*BTDS*/"Notification settings")}),e?k.jsx(c("FDSMenuItem.react"),{icon:d("fbicon")._(i("874274"),20),onClick:n,primaryText:"[FB Only] "+(b===!0?"Disable":"Enable")+" Debug Mode"}):null,!a&&c("gkx")("23785")?k.jsx(c("FDSMenuItem.react"),{href:c("XCometNotificationsControllerRouteBuilder").buildURL({}),icon:d("fbicon")._(i("1529371"),20),onClick:function(){j&&j(),l.onReady(function(a){a=a.log;return a(function(){return{notification_data:{user_id:f},ref:"www_tab"}})})},primaryText:h._(/*BTDS*/"Open Notifications")}):null]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("CometNotificationsRankingErrorFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1743388");b=d("FalcoLoggerInternal").create("comet_notifications_ranking_error",a);e=b;g["default"]=e}),98);
__d("CometNotificationsReceiveLiveQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="9665760683473351"}),null);
__d("CometNotificationsReceiveLiveQuery.graphql",["CometTextWithEntitiesRelay_textWithEntities$normalization.graphql","CometNotificationsReceiveLiveQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a={defaultValue:null,kind:"LocalArgument",name:"count"},c={defaultValue:null,kind:"LocalArgument",name:"environment"},d={defaultValue:null,kind:"LocalArgument",name:"filter_tokens"},e={defaultValue:null,kind:"LocalArgument",name:"notif_cache_ids"},f={defaultValue:null,kind:"LocalArgument",name:"refresh_num"},g={defaultValue:null,kind:"LocalArgument",name:"scale"},h={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},j=[i],k=[{kind:"Variable",name:"environment_alias_override",variableName:"environment"},{kind:"Variable",name:"filter_tokens",variableName:"filter_tokens"},{kind:"Variable",name:"first",variableName:"count"},{kind:"Variable",name:"notif_cache_ids",variableName:"notif_cache_ids"},{kind:"Literal",name:"notif_query_flags",value:["IS_COMET","INCLUDE_WA_P2B_NOTIFS"]},{kind:"Literal",name:"source",value:"unknown"}],l={alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null},m=[l],n={alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"title",plural:!1,selections:m,storageKey:null},o={alias:null,args:null,kind:"ScalarField",name:"tracking",storageKey:null},p={alias:null,args:null,kind:"ScalarField",name:"prefetch_score",storageKey:null},q={alias:null,args:null,kind:"ScalarField",name:"notif_id",storageKey:null},r={alias:null,args:null,kind:"ScalarField",name:"notif_cache_id",storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"seen_state",storageKey:null},t={alias:"creation_time",args:null,concreteType:"CreationTimeWithRelativeText",kind:"LinkedField",name:"creation_time_with_relative_text",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"timestamp",storageKey:null}],storageKey:null},u={alias:null,args:null,kind:"ScalarField",name:"notif_type",storageKey:null};return{fragment:{argumentDefinitions:[a,c,d,e,f,g],kind:"Fragment",metadata:null,name:"CometNotificationsReceiveLiveQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"CometNotificationsReceiveLiveQuery_notificationsListViewer"}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[c,d,g,e,a,f],kind:"Operation",name:"CometNotificationsReceiveLiveQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"actor",plural:!1,selections:[h,{kind:"TypeDiscriminator",abstractKey:"__isActor"},i,{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null}],storageKey:null},{alias:null,args:[{kind:"Literal",name:"environment",value:"COMET"},{kind:"Literal",name:"query_ego_units",value:!1},{kind:"Variable",name:"refresh_num",variableName:"refresh_num"}],concreteType:"SideFeedConnection",kind:"LinkedField",name:"side_feed",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"nodes",plural:!0,selections:[h,{kind:"InlineFragment",selections:[{args:null,documentName:"CometRightSideHeaderCards_viewerSideFeed",fragmentName:"PagesCometHomeAdminContainer_pagesPanel",fragmentPropName:"pagesPanel",kind:"ModuleImport"}],type:"PagesSideFeedUnit",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometRightSideHeaderCards_viewerSideFeed",fragmentName:"FriendingCometHomeInlineRHCContainer_friendsPanel",fragmentPropName:"friendsPanel",kind:"ModuleImport"}],type:"FriendingRequestsSideFeedUnit",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometRightSideHeaderCards_viewerSideFeed",fragmentName:"CometHomeRemindersContainer_reminderPanel",fragmentPropName:"reminderPanel",kind:"ModuleImport"}],type:"RemindersSideFeedUnit",abstractKey:null},{kind:"InlineFragment",selections:j,type:"Node",abstractKey:"__isNode"},{kind:"InlineFragment",selections:j,type:"AdsSideFeedUnitItem",abstractKey:null}],storageKey:null}],storageKey:null},{alias:null,args:[{kind:"Variable",name:"environment",variableName:"environment"}],kind:"ScalarField",name:"notifications_unseen_count",storageKey:null},{alias:null,args:k,concreteType:"ViewerNotificationsPageConnection",kind:"LinkedField",name:"notifications_page",plural:!1,selections:[{alias:null,args:null,concreteType:"NotifPageFilterConfig",kind:"LinkedField",name:"filter_config",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"selected_filter_tokens",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"filters",plural:!0,selections:[h,{kind:"InlineFragment",selections:[n,{alias:null,args:null,kind:"ScalarField",name:"notif_filter_token",storageKey:null}],type:"NotifPageSingleFilter",abstractKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"query_id",storageKey:null},{alias:null,args:null,concreteType:"ViewerNotificationsPageEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[h,{alias:null,args:null,kind:"ScalarField",name:"row_type",storageKey:null},o,{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"bucket_type",storageKey:null},{alias:null,args:null,concreteType:"NotifPageBucketHeaderLink",kind:"LinkedField",name:"header_link",plural:!1,selections:[l,{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null},n],type:"NotifPageBucketHeaderRow",abstractKey:null},{kind:"InlineFragment",selections:[p,{alias:null,args:null,concreteType:"Notification",kind:"LinkedField",name:"notif",plural:!1,selections:[q,i,r,s,t,o],storageKey:null}],type:"NotifPageCachedNotificationRow",abstractKey:null},{kind:"InlineFragment",selections:[p,{alias:null,args:null,concreteType:"Notification",kind:"LinkedField",name:"notif",plural:!1,selections:[q,s,i,r,{alias:null,args:null,kind:"ScalarField",name:"notif_tags",storageKey:null},o,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"notif_attachments",plural:!0,selections:[h,{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"sound_urls",storageKey:null}],type:"NotifSoundAttachment",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometNotificationsListItemAttachment_notification",fragmentName:"CometNotificationsListItemFriendRequestAttachment_notifAttachments",fragmentPropName:"notifAttachments",kind:"ModuleImport"}],type:"FriendRequestNotifAttachment",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometNotificationsListItemAttachment_notification",fragmentName:"CometNotificationsListItemInlineCTAAttachment_notifAttachments",fragmentPropName:"notifAttachments",kind:"ModuleImport"}],type:"InlineCTACometNotifAttachment",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometNotificationsListItemAttachment_notification",fragmentName:"CometNotificationsListItemPageInviteAttachment_notifAttachments",fragmentPropName:"notifAttachments",kind:"ModuleImport"}],type:"PageInviteNotifAttachment",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometNotificationsListItemAttachment_notification",fragmentName:"CometNotificationsListItemQuickPromotionAttachment_notifAttachments",fragmentPropName:"notifAttachments",kind:"ModuleImport"}],type:"QuickPromotionNotifAttachment",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometNotificationsListItemAttachment_notification",fragmentName:"CometNotificationsListItemInlineSurveyAttachment_attachment",fragmentPropName:"attachment",kind:"ModuleImport"},{alias:null,args:null,concreteType:"StructuredSurveySession",kind:"LinkedField",name:"inline_survey",plural:!1,selections:[h],storageKey:null}],type:"InlineSurveyNotifAttachment",abstractKey:null}],storageKey:null},t,u,{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"body",plural:!1,selections:[{args:null,fragment:b("CometTextWithEntitiesRelay_textWithEntities$normalization.graphql"),kind:"FragmentSpread"},l],storageKey:null},{alias:null,args:[{kind:"Literal",name:"height",value:56},{kind:"Variable",name:"scale",variableName:"scale"},{kind:"Literal",name:"width",value:56}],concreteType:"Image",kind:"LinkedField",name:"notif_image",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],storageKey:null},{alias:null,args:[{kind:"Literal",name:"site",value:"comet"}],kind:"ScalarField",name:"url",storageKey:'url(site:"comet")'},{alias:null,args:null,concreteType:"GlyphIconData",kind:"LinkedField",name:"icon_data",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"reaction_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"glyph_name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"glyph_icon_url",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"NotificationContextInfo",kind:"LinkedField",name:"context_info",plural:!1,selections:[{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"short_text",plural:!1,selections:m,storageKey:null},{alias:null,args:null,concreteType:"XFBUfiIconsAndCounts",kind:"LinkedField",name:"ufi_icons_and_counts",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"ufi_counts",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"ufi_icon_name",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"NotifNavigationEndpoint",kind:"LinkedField",name:"navigation_endpoint",plural:!1,selections:[{alias:null,args:[{kind:"Literal",name:"supported",value:"44kVfU"}],concreteType:null,kind:"LinkedField",name:"comet_custom_renderer",plural:!1,selections:[h,{kind:"InlineFragment",selections:[{args:null,documentName:"CometNotificationsList_viewerConnection",fragmentName:"CometTopFansFanNotificationListItem_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],type:"TopFansFanNotificationRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometNotificationsList_viewerConnection",fragmentName:"CometRisingFanNotificationListItem_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],type:"RisingFanNotificationRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometNotificationsList_viewerConnection",fragmentName:"CometCrossProfileNotificationsListItem_cpnInfo",fragmentPropName:"cpnInfo",kind:"ModuleImport"}],type:"CrossProfileNotificationInfo",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometNotificationsList_viewerConnection",fragmentName:"CometBusinessMessageNotificationListItem_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],type:"BusinessMessageNotificationRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometNotificationsList_viewerConnection",fragmentName:"CometGroupsNotificationsListItem_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],type:"GroupsNotificationRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometNotificationsList_viewerConnection",fragmentName:"CometXIPaidexNotificationsListItem_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],type:"XIPaidexNotificationRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometNotificationsList_viewerConnection",fragmentName:"CometAPPlusPostWaitlistNotificationsListItem_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],type:"APPlusPostWaitlistNotificationRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometNotificationsList_viewerConnection",fragmentName:"CometCustomBadgeNameIsLiveNotificationListItem_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],type:"CreatorCustomBadgeNameIsLiveNotificationRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometNotificationsList_viewerConnection",fragmentName:"CometCreatorCustomBadgeUserUpgradeNotificationListItem_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],type:"CreatorCustomBadgeUserUpgradeNotificationRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometNotificationsList_viewerConnection",fragmentName:"CometFXFetaUpgradeSuccessNotificationListItem_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],type:"FXFetaUpgradeSuccessNotificationRenderer",abstractKey:null}],storageKey:'comet_custom_renderer(supported:"44kVfU")'}],storageKey:null},{kind:"ClientExtension",selections:[{alias:"id_for_entrypoint",args:null,kind:"ScalarField",name:"__id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_hidden",storageKey:null}]}],storageKey:null}],type:"NotifPageNotificationRow",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"invalidation_reason",storageKey:null},{alias:null,args:null,concreteType:"Notification",kind:"LinkedField",name:"notif",plural:!1,selections:[q,u,i],storageKey:null}],type:"NotifPageDebugInvalidationRow",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"see_previous_text",storageKey:null}],type:"NotifPageSeePreviousButtonRow",abstractKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"page_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"end_cursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"has_next_page",storageKey:null}],storageKey:null},{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"__id",storageKey:null}]}],storageKey:null},{alias:null,args:k,filters:["environment_alias_override"],handle:"comet_notifications_thin_client",key:"CometNotificationsList_notifications_page",kind:"LinkedHandle",name:"notifications_page"},{alias:null,args:null,kind:"ScalarField",name:"last_update_timestamp",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"notifications_sound_path",storageKey:null},{alias:null,args:[{kind:"Literal",name:"promptType",value:"FOOTER"},{kind:"Literal",name:"surface",value:"JEWEL_COMET"}],concreteType:"XFBCometPushTurnOnStatus",kind:"LinkedField",name:"comet_push_turn_on_status",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"is_comet_push_turn_on_eligible",storageKey:null}],storageKey:'comet_push_turn_on_status(promptType:"FOOTER",surface:"JEWEL_COMET")'},{alias:null,args:null,concreteType:"BrowserPushConfig",kind:"LinkedField",name:"browser_push_config",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"browser_name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"service_worker_uri",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"app_id",storageKey:null}],storageKey:null}],storageKey:null}]},params:{id:b("CometNotificationsReceiveLiveQuery_facebookRelayOperation"),metadata:{live:{config_id:"comet_notifications_live_query_experimental"}},name:"CometNotificationsReceiveLiveQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("CometNotificationsReceiveLiveQuery_notificationsListViewer.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[{kind:"RootArgument",name:"count"},{kind:"RootArgument",name:"environment"},{kind:"RootArgument",name:"filter_tokens"},{kind:"RootArgument",name:"notif_cache_ids"}],kind:"Fragment",metadata:null,name:"CometNotificationsReceiveLiveQuery_notificationsListViewer",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"actor",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"CometToastNotification_actor"}],storageKey:null},{args:null,kind:"FragmentSpread",name:"CometRightSideHeaderCards_viewerSideFeed"},{alias:null,args:[{kind:"Variable",name:"environment",variableName:"environment"}],kind:"ScalarField",name:"notifications_unseen_count",storageKey:null},{args:[{kind:"Variable",name:"count",variableName:"count"},{kind:"Variable",name:"filter_tokens",variableName:"filter_tokens"},{kind:"Variable",name:"notif_cache_ids",variableName:"notif_cache_ids"}],kind:"FragmentSpread",name:"CometNotificationsList_viewerConnection"},{args:null,kind:"FragmentSpread",name:"CometNotificationsList_viewerData"},{alias:null,args:null,kind:"ScalarField",name:"last_update_timestamp",storageKey:null}],type:"Viewer",abstractKey:null};e.exports=a}),null);
__d("requestLiveQueryExperimental",["invariant","LiveQueryEventsLoggingResolver","ODS","RelayAPIConfig","RelayGraphQLRequestUtils","makeGraphQLLiveQueryRequest","nullthrows","promiseDone","relay-runtime","relay-runtime/store/RelayConcreteVariables"],(function(a,b,c,d,e,f,g,h){"use strict";var i;function j(a,b){var e={access_token:c("RelayAPIConfig").accessToken,actor_id:c("RelayAPIConfig").actorID,config_id:c("nullthrows")(a.params.metadata.live.config_id,"config_id should not be null")};a={doc_id:c("nullthrows")(a.params.id,"id in request params should not be null"),operation_name:a.params.name,config_id:e.config_id,actor_id:e.actor_id,variables:b};e.access_token!==""&&(a=babelHelpers["extends"]({},a,{access_token:e.access_token}));b=d("LiveQueryEventsLoggingResolver").tempResolveLoggingContext();b!=null&&(a=babelHelpers["extends"]({},a,{logging_context:b}));return a}function a(a,b){var e=b.query;b=b.variables;var f=d("relay-runtime").getRequest(e);e=k(f,b);var g=j(f,e),l,m=e;e=d("relay-runtime").createOperationDescriptor(f,b);b=d("relay-runtime").Observable.create(function(a){l=c("makeGraphQLLiveQueryRequest")(g).onResponse(function(b){var e;try{e=c("RelayGraphQLRequestUtils").parsePayload(b),typeof e==="object"||h(0,12937)}catch(b){(i||(i=d("ODS"))).bumpEntityKey(97,"comet_notifications.new_notification","lq.receive_invalid_payload");return a.error(b)}if(!("errors"in e)&&!("data"in e)){(i||(i=d("ODS"))).bumpEntityKey(97,"comet_notifications.new_notification","lq.receive_empty_response");return a.error(d("relay-runtime").RelayError.createWarning("EmptyResponseError","Parsed network response is empty"))}if(e.errors)for(b of e.errors)if(b.severity==="CRITICAL"){var f=c("RelayGraphQLRequestUtils").createErrorFromPayload(b);(i||(i=d("ODS"))).bumpEntityKey(97,"comet_notifications.new_notification","lq.receive_critical_error");return a.error(f)}a.closed||((i||(i=d("ODS"))).bumpEntityKey(97,"comet_notifications.new_notification","lq.receive_notification"),a.next(e))}).onRetryUpdateRequestBody(function(){return JSON.stringify({variables:m})}).send();return function(){c("promiseDone")(l,function(a){a.cancel()})}});a.executeWithSource({operation:e,source:b}).subscribe({});var n=!1,o;return{dispose:function(){!n&&l!=null&&(c("promiseDone")(l,function(a){a.cancel()}),n=!0)},updateVariables:function(a){if(!n&&l!=null){o=a;c("promiseDone")(l,function(a){if(o!=null&&!n){var b=k(f,o);a.amendExperimental({new_variables:b});m=b;o=null}});return!0}return!1}}}function k(a,b){return d("relay-runtime/store/RelayConcreteVariables").getOperationVariables(a.operation,a.params.providedVariables,b)}g["default"]=a}),98);
__d("CometNotificationsReceiveLiveQuery",["CometNotificationsReceiveLiveQuery.graphql","CometNotificationsReceiveLiveQuery_notificationsListViewer.graphql","requestLiveQueryExperimental"],(function(a,b,c,d,e,f,g){"use strict";var h,i;h!==void 0?h:h=b("CometNotificationsReceiveLiveQuery_notificationsListViewer.graphql");var j=i!==void 0?i:i=b("CometNotificationsReceiveLiveQuery.graphql");function a(a,b){return c("requestLiveQueryExperimental")(a,{query:j,variables:b})}g.subscribeToNotificationUpdates=a}),98);
__d("CometSeeMoreButtonClickFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("6039");b=d("FalcoLoggerInternal").create("comet_see_more_button_click",a);e=b;g["default"]=e}),98);
__d("CometSeeMoreButtonImpressionFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("6040");b=d("FalcoLoggerInternal").create("comet_see_more_button_impression",a);e=b;g["default"]=e}),98);
__d("GriffinTabOpenFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1743657");b=d("FalcoLoggerInternal").create("griffin_tab_open",a);e=b;g["default"]=e}),98);
__d("NoNotificationsFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1894842");b=d("FalcoLoggerInternal").create("no_notifications",a);e=b;g["default"]=e}),98);
__d("NotifDebugModeFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1836246");b=d("FalcoLoggerInternal").create("notif_debug_mode",a);e=b;g["default"]=e}),98);
__d("NotifFilterClickFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1836768");b=d("FalcoLoggerInternal").create("notif_filter_click",a);e=b;g["default"]=e}),98);
__d("NotifFilterImpressionFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1871");b=d("FalcoLoggerInternal").create("notif_filter_impression",a);e=b;g["default"]=e}),98);
__d("NotifListBottomCollisionFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1744067");b=d("FalcoLoggerInternal").create("notif_list_bottom_collision",a);e=b;g["default"]=e}),98);
__d("NotifSeeAllFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1836151");b=d("FalcoLoggerInternal").create("notif_see_all",a);e=b;g["default"]=e}),98);
__d("OpenJewelOptionsMenuFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1836319");b=d("FalcoLoggerInternal").create("open_jewel_options_menu",a);e=b;g["default"]=e}),98);/*FB_PKG_DELIM*/
__d("CometToastCard.react",["fbt","ix","CometAccessibilityAnnouncement.react","CometPressable.react","FDSCard.react","FDSIcon.react","FDSTextPairing.react","fbicon","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=j||(j=d("react")),l=j.useId;function a(a){var b=d("react-compiler-runtime").c(27),e=a.accessibilityAnnouncement,f=a.content,g=a.headline,j=a.onCloseClick;a=a.onMouseEnter;var m=l(),n;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(n={className:"x1lq5wgf xgqcy7u x30kzoy x9jhf4c xh5kl08 x9f619 x78zum5 xdt5ytf x6prxxf xi55695"},b[0]=n):n=b[0];var o,p;b[1]===Symbol["for"]("react.memo_cache_sentinel")?(o={className:"x14vqqas"},p={className:"x6s0dn4 x78zum5 x1qughib xexx8yu x18d9i69 x1swvt13 x1pi30zi"},b[1]=o,b[2]=p):(o=b[1],p=b[2]);var q;b[3]!==g?(q=k.jsx(c("FDSTextPairing.react"),{headline:g,isSemanticHeading:!0,level:4}),b[3]=g,b[4]=q):q=b[4];b[5]!==m||b[6]!==q?(g=k.jsx("div",{id:m,children:q}),b[5]=m,b[6]=q,b[7]=g):g=b[7];b[8]===Symbol["for"]("react.memo_cache_sentinel")?(q=h._(/*BTDS*/"Close"),b[8]=q):q=b[8];var r;b[9]===Symbol["for"]("react.memo_cache_sentinel")?(r={className:"x6s0dn4 x1qhmfi1 xnwf7zb x40j3uw x1s7lred x15gyhx8 x78zum5 xxk0z11 xl56j7k xvy4d1p"},b[9]=r):r=b[9];b[10]===Symbol["for"]("react.memo_cache_sentinel")?(r=k.jsx("span",babelHelpers["extends"]({},r,{children:k.jsx(c("FDSIcon.react"),{color:"primary",icon:d("fbicon")._(i("478231"),12),size:12})})),b[10]=r):r=b[10];b[11]!==j?(q=k.jsx(c("CometPressable.react"),{display:"inline",label:q,onPress:j,overlayDisabled:!0,testid:void 0,children:r}),b[11]=j,b[12]=q):q=b[12];b[13]!==g||b[14]!==q?(r=k.jsx("div",babelHelpers["extends"]({},o,{children:k.jsxs("div",babelHelpers["extends"]({},p,{children:[g,q]}))})),b[13]=g,b[14]=q,b[15]=r):r=b[15];b[16]===Symbol["for"]("react.memo_cache_sentinel")?(j={className:"x1sqdly8 xwib8y2 x1iorvi4"},b[16]=j):j=b[16];b[17]!==f?(o=k.jsx("div",babelHelpers["extends"]({},j,{children:f})),b[17]=f,b[18]=o):o=b[18];b[19]!==e?(p=e!=null&&k.jsx(c("CometAccessibilityAnnouncement.react"),{children:e.text},e.id),b[19]=e,b[20]=p):p=b[20];b[21]!==m||b[22]!==a||b[23]!==r||b[24]!==o||b[25]!==p?(g=k.jsx(c("FDSCard.react"),{background:"default",dropShadow:2,testid:void 0,children:k.jsxs("div",babelHelpers["extends"]({"aria-labelledby":m},n,{onMouseEnter:a,role:"complementary",children:[r,o,p]}))}),b[21]=m,b[22]=a,b[23]=r,b[24]=o,b[25]=p,b[26]=g):g=b[26];return g}g["default"]=a}),226);
__d("FDSEntityHeaderFacepileProfileIcon.react",["BaseImage.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={image:{borderTopColor:"xsdn2ir",borderEndColor:"x16rfsbj",borderBottomColor:"x13awxeq",borderStartColor:"x16sykr7",borderTopStartRadius:"x14yjl9h",borderTopEndRadius:"xudhj91",borderBottomEndRadius:"x18nykt9",borderBottomStartRadius:"xww2gxu",borderTopStyle:"x13fuv20",borderEndStyle:"xu3j5b3",borderBottomStyle:"x1q0q8m5",borderStartStyle:"x26u7qi",borderTopWidth:"xamhcws",borderEndWidth:"xol2nv",borderBottomWidth:"xlxy82",borderStartWidth:"x19p7ews",display:"x1lliihq",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(5),e=a.alt,f=a.size;a=a.src;f=f===void 0?32:f;var g;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(g={className:"x1rg5ohu"},b[0]=g):g=b[0];b[1]!==e||b[2]!==f||b[3]!==a?(g=i.jsx("div",babelHelpers["extends"]({},g,{children:i.jsx(c("BaseImage.react"),{alt:e,height:f,src:a,width:f,xstyle:j.image})})),b[1]=e,b[2]=f,b[3]=a,b[4]=g):g=b[4];return g}g["default"]=a}),98);
__d("FDSEntityHeaderFacepile.react",["fbt","CometLink.react","FDSEntityHeaderFacepileProfileIcon.react","FDSTooltip.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react"),k=8;function a(a){var b=d("react-compiler-runtime").c(6);a=a.profiles;var c;b[0]!==a?(c=a.length>k?a.slice(0,k):a,b[0]=a,b[1]=c):c=b[1];a=c;b[2]!==a?(c=a.map(l),b[2]=a,b[3]=c):c=b[3];a=c;b[4]!==a?(c=j.jsx("div",{children:a}),b[4]=a,b[5]=c):c=b[5];return c}function l(a,b){var d=a.name,e=a.pictureURI,f=a.profileURL;a=a.size;return j.jsx("div",{className:{0:"x1rg5ohu",1:"x1rg5ohu xbmpl8g"}[!!(b>0)<<0],style:{zIndex:b},children:j.jsx(c("FDSTooltip.react"),{align:"middle",position:"below",tooltip:h._(/*BTDS*/"{user's name}",[h._param("user's name",d)]),children:j.jsx(c("CometLink.react"),{href:f,children:j.jsx(c("FDSEntityHeaderFacepileProfileIcon.react"),{alt:d,size:a,src:e})},b)})},b)}l.displayName=l.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("LSHandleAutoRestoreDecisionResult",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.resolve(c)}a.__sproc_name__="LSEncryptedBackupsHandleAutoRestoreDecisionResultStoredProcedure";a.__tables__=[];e.exports=a}),null);
__d("LSHandleOnboardingStageResult",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.resolve(c)}a.__sproc_name__="LSEncryptedBackupsHandleOnboardingStageResultStoredProcedure";a.__tables__=[];e.exports=a}),null);
__d("LSUpdateBackupsTable",["LSAppendDataTraceAddon","LSArrayGetObjectAt","LSDeleteAndReenrollDeviceState","LSDeleteBackupOnClient","LSFlushDataTrace.nop","LSIsEncryptionVersionSecure","LSIsMobileClient","LSLogMebClientEvent.nop"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.sequence([function(e){return d[0]=c.i64.of_float(Date.now()),function(a){c.logger(a).info(a)}("[EncryptedBackups][LSEncryptedBackupsUpdateBackupsTableStoredProcedure] Beginning execution."),c.sequence([function(d){return a[5]!==void 0?c.storedProcedure(b("LSAppendDataTraceAddon"),a[5],c.i64.cast([0,1467]),c.i64.cast([0,2]),void 0,void 0):c.resolve()},function(a){return c.storedProcedure(b("LSIsMobileClient")).then(function(a){return a=a,d[7]=a[0],a})},function(a){return d[7]?d[8]=!0:d[8]=!1,d[8]&&!0?(function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBTraceUtils] LSDataTraceMciTraceLog native op not supported"),d[10]="LSDataTraceMciTraceLog native op not supported",function(a){c.logger(a).mustfix(a)}(["[EncryptedBackups][MEBTraceUtils] ","",d[10]].join("")),d[9]=c.createArray(),void 0!==void 0?d[11]=(d[9].push(void 0),d[9]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBTraceUtils",d[10],d[9],c.i64.cast([0,3]))):c.resolve()}])},function(e){return a[0]?c.sequence([function(a){return c.filter(c.db.table(168).fetch(),function(a){return c.i64.eq(a.authorityLevel,c.i64.cast([0,80]))}).next().then(function(a,b){b=a.done;a=a.value;return b?d[7]=!1:(a.item,d[7]=!0)})},function(e){return d[7]&&!0?c.sequence([function(a){return c.islc(c.filter(c.db.table(168).fetch(),function(a){return c.i64.eq(a.authorityLevel,c.i64.cast([0,80]))}),0,c.i64.to_float(c.i64.cast([0,1]))).next().then(function(a,e){var f=a.done;a=a.value;return f?(f=[void 0,void 0,void 0,void 0,void 0,void 0,void 0,c.i64.cast([0,1]),void 0,void 0,void 0,void 0,void 0,void 0,void 0,c.i64.cast([0,20]),void 0,void 0],d[11]=f[0],d[12]=f[1],d[13]=f[2],d[14]=f[3],d[15]=f[4],d[16]=f[5],d[17]=f[6],d[18]=f[7],d[19]=f[8],d[20]=f[9],d[21]=f[10],d[22]=f[11],d[23]=f[12],d[24]=f[13],d[25]=f[14],d[26]=f[15],d[27]=f[16],d[28]=f[17],f):(e=a.item,c.sequence([function(a){return d[37]=e.backupTenancy,d[36]=e.encryptionVersion,d[32]=void 0,c.i64.neq(d[32],void 0)?c.resolve(d[33]=d[32]):c.sequence([function(a){return d[38]=c.createArray(),c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,0])).then(function(a){return a=a,d[39]=a[0],a})},function(a){return d[39]?d[48]=(d[38].push(c.i64.cast([0,0])),d[38]):0,c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,2])).then(function(a){return a=a,d[40]=a[0],a})},function(a){return d[40]?d[48]=(d[38].push(c.i64.cast([0,2])),d[38]):0,c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,3])).then(function(a){return a=a,d[41]=a[0],a})},function(a){return d[41]?d[48]=(d[38].push(c.i64.cast([0,3])),d[38]):0,c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,4])).then(function(a){return a=a,d[42]=a[0],a})},function(a){return d[42]?d[48]=(d[38].push(c.i64.cast([0,4])),d[38]):0,d[43]=c.createArray(),d[44]=c.i64.of_int32(d[38].length),c.i64.gt(d[44],c.i64.cast([0,0]))?c.loopAsync(d[44],function(a){return d[48]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[38],d[48]).then(function(a){return a=a,d[49]=a[0],d[50]=a[1],a})},function(a){return d[51]=(d[43].push(d[49]),d[43])}])}):c.resolve()},function(a){return c.sequence([function(a){return d[48]=c.createArray(),d[49]=c.i64.of_int32(d[43].length),c.i64.gt(d[49],c.i64.cast([0,0]))?c.loopAsync(d[49],function(a){return d[51]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[43],d[51]).then(function(a){return a=a,d[52]=a[0],d[53]=a[1],a})},function(a){return d[54]=(d[48].push(c.i64.to_string(d[52])),d[48])}])}):c.resolve()},function(a){return d[50]=d[48].join(","),d[45]=d[50]}])},function(a){return d[43].some(function(a){return c.i64.eq(d[36],a)})?d[46]=d[36]:d[46]=void 0,c.i64.neq(d[46],void 0)?d[47]=d[46]:d[47]=void 0,d[33]=d[47]}])},function(a){return c.i64.neq(d[33],void 0)?d[34]=d[33]:d[34]=c.i64.cast([0,0]),c.i64.neq(d[37],void 0)?d[35]=d[37]:d[35]=c.i64.cast([0,1]),a=[e.backupId,e.deviceId,e.mailboxRootKeyBlob,e.ocmfClientStateBlob,void 0,void 0,d[34],d[35],e.epochAuthPublicKeyBlob,e.epochAuthPrivateKeyBlob,e.devicePublicKeyBlob,e.devicePrivateKeyBlob,e.epochStoragePublicKeyBlob,e.epochStoragePrivateKeyBlob,e.obliviousValidationTokenBlob,e.authorityLevel,void 0,void 0],d[11]=a[0],d[12]=a[1],d[13]=a[2],d[14]=a[3],d[15]=a[4],d[16]=a[5],d[17]=a[6],d[18]=a[7],d[19]=a[8],d[20]=a[9],d[21]=a[10],d[22]=a[11],d[23]=a[12],d[24]=a[13],d[25]=a[14],d[26]=a[15],d[27]=a[16],d[28]=a[17],a}]))})},function(e){return d[30]=!1,d[31]=c.i64.of_int32(a[3].length),c.i64.gt(d[31],c.i64.cast([0,0]))?c.loopAsync(d[31],function(e){return d[32]=e,c.sequence([function(e){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),a[3],d[32]).then(function(a){return a=a,d[33]=a[0],d[34]=a[1],a})},function(a){return d[35]=d[33].get("device_id"),d[30]=d[30]||c.i64.eq(d[12],d[35])}])}):c.resolve()},function(e){return d[30]?c.resolve():(function(a){c.logger(a).info(a)}("[EncryptedBackups][LSEncryptedBackupsUpdateBackupsTableStoredProcedure] Client device id not in the list of device ids associated with the backupDeleting backup client state"),c.i64.neq(d[12],void 0)?c.storedProcedure(b("LSDeleteBackupOnClient"),void 0,void 0,!1,a[5],void 0,!0):c.storedProcedure(b("LSDeleteBackupOnClient"),void 0,void 0,!1,a[5],void 0,!0))}]):c.resolve()},function(a){return c.forEach(c.filter(c.db.table(184).fetch(),function(a){return c.i64.neq(a.removalStatus,c.i64.cast([0,2]))}),function(a){return a["delete"]()})},function(e){return d[9]=c.i64.of_int32(a[2].length),c.i64.gt(d[9],c.i64.cast([0,0]))?c.loopAsync(d[9],function(e){return d[11]=e,c.sequence([function(e){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),a[2],d[11]).then(function(a){return a=a,d[12]=a[0],d[13]=a[1],a})},function(a){return d[14]=d[12].get("virtual_devices"),d[14]?d[15]=!1:d[15]=!0,d[15]?c.resolve():(d[16]=c.i64.of_int32(d[14].length),c.i64.gt(d[16],c.i64.cast([0,0]))?c.loopAsync(d[16],function(a){return d[17]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[14],d[17]).then(function(a){return a=a,d[18]=a[0],d[19]=a[1],a})},function(a){return d[20]=d[18].get("virtual_device_id"),d[21]=d[18].get("virtual_device_type"),d[22]=d[18].get("creation_time"),d[23]=d[18].get("device_created_on"),d[24]=d[18].get("cloud_service_account"),d[25]=d[18].get("hsm_pin_normalization_status"),d[26]=d[18].get("requires_hsm_migration"),d[27]=d[18].get("hsm_migration_status"),d[28]=d[18].get("security_question_type"),d[29]=d[18].get("trusted_contact_id"),d[30]=d[12].get("backup_id"),c.count(c.filter(c.db.table(184).fetch(),function(a){return c.i64.eq(a.backupId,d[30])&&c.blobs.eq(a.virtualDeviceId,d[20])})).then(function(a){return d[31]=a})},function(a){return c.i64.eq(d[31],c.i64.cast([0,0]))?(d[32]=d[12].get("backup_id"),c.db.table(184).add({pk:void 0,backupId:d[32],virtualDeviceId:d[20],virtualDeviceType:d[21],creationTime:d[22],deviceCreatedOn:d[23],requiresHsmMigration:d[26]})):c.resolve()}])}):c.resolve())}])}):c.resolve()},function(a){return c.forEach(c.db.table(172).fetch(),function(a){return a["delete"]()})},function(e){return d[10]=c.i64.of_int32(a[1].length),c.i64.gt(d[10],c.i64.cast([0,0]))?c.sequence([function(e){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),a[1],c.i64.cast([0,0])).then(function(a){return a=a,d[11]=a[0],d[12]=a[1],a})},function(a){return d[13]=d[11].get("backup_id"),d[14]=d[11].get("backup_tenancy"),c.forEach(c.filter(c.db.table(172).fetch([[[c.i64.cast([0,1])]]]),function(a){return c.i64.eq(a.pk,c.i64.cast([0,1]))&&c.i64.lt(a.authorityLevel,c.i64.cast([0,80]))}),function(a){return a["delete"]()})},function(b){return c.db.table(172).add({pk:c.i64.cast([0,1]),backupId:d[13],authorityLevel:c.i64.cast([0,80]),backupTenancy:d[14],isUserOptedOut:a[6],hasOtcEligibleDevices:a[7],encryptionManagementDelegatorId:a[8]})}]):c.sequence([function(a){return c.forEach(c.filter(c.db.table(172).fetch([[[c.i64.cast([0,1])]]]),function(a){return c.i64.eq(a.pk,c.i64.cast([0,1]))&&c.i64.lt(a.authorityLevel,c.i64.cast([0,80]))}),function(a){return a["delete"]()})},function(b){return c.db.table(172).add({pk:c.i64.cast([0,1]),authorityLevel:c.i64.cast([0,80]),isUserOptedOut:a[6],hasOtcEligibleDevices:a[7],encryptionManagementDelegatorId:a[8]})}])}]):c.sequence([function(e){return function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][LSEncryptedBackupsUpdateBackupsTableStoredProcedure] Fetch backup task did not succeed."),d[7]=c.createArray(),a[5]!==void 0?d[8]=(d[7].push(a[5]),d[7]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"LSEncryptedBackupsUpdateBackupsTableStoredProcedure","Fetch backup task did not succeed.",d[7],c.i64.cast([0,3]))},function(a){return c.forEach(c.db.table(172).fetch(),function(a){return a["delete"]()})},function(a){return c.forEach(c.filter(c.db.table(172).fetch([[[c.i64.cast([0,1])]]]),function(a){return c.i64.eq(a.pk,c.i64.cast([0,1]))&&c.i64.lt(a.authorityLevel,c.i64.cast([0,80]))}),function(a){return a["delete"]()})},function(a){return c.db.table(172).add({pk:c.i64.cast([0,1]),backupId:c.i64.cast([-1,4294967295]),authorityLevel:c.i64.cast([0,80]),hasOtcEligibleDevices:!1})},function(e){return c.sequence([function(d){return a[5]!==void 0?c.nativeOperation(b("LSFlushDataTrace.nop"),a[5]):c.resolve()},function(a){return c.storedProcedure(b("LSIsMobileClient")).then(function(a){return a=a,d[8]=a[0],a})},function(a){return d[8]?d[9]=!0:d[9]=!1,d[9]&&!0?(function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBTraceUtils] LSDataTraceMciTraceLog native op not supported"),d[11]="LSDataTraceMciTraceLog native op not supported",function(a){c.logger(a).mustfix(a)}(["[EncryptedBackups][MEBTraceUtils] ","",d[11]].join("")),d[10]=c.createArray(),void 0!==void 0?d[12]=(d[10].push(void 0),d[10]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBTraceUtils",d[11],d[10],c.i64.cast([0,3]))):c.resolve()}])}])},function(e){return c.sequence([function(d){return a[5]!==void 0?c.nativeOperation(b("LSFlushDataTrace.nop"),a[5]):c.resolve()},function(a){return c.storedProcedure(b("LSIsMobileClient")).then(function(a){return a=a,d[7]=a[0],a})},function(a){return d[7]?d[8]=!0:d[8]=!1,d[8]&&!0?(function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBTraceUtils] LSDataTraceMciTraceLog native op not supported"),d[10]="LSDataTraceMciTraceLog native op not supported",function(a){c.logger(a).mustfix(a)}(["[EncryptedBackups][MEBTraceUtils] ","",d[10]].join("")),d[9]=c.createArray(),void 0!==void 0?d[11]=(d[9].push(void 0),d[9]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBTraceUtils",d[10],d[9],c.i64.cast([0,3]))):c.resolve()}])},function(a){return d[1]=c.i64.of_float(Date.now()),d[2]=c.i64.random(),d[4]="Finishing execution. Execution time: ",d[5]=c.i64.to_string(c.i64.sub(d[1],d[0])),d[6]=" ms",d[3]="",function(a){c.logger(a).info(a)}(["[EncryptedBackups][LSEncryptedBackupsUpdateBackupsTableStoredProcedure] ",d[3],d[4],d[3],d[5],d[3],d[6]].join("")),c.i64.eq(c.i64.mod_(d[2],c.i64.cast([0,1e3])),c.i64.cast([0,0]))?(d[7]=",",d[8]=c.createArray(),void 0!==void 0?d[9]=(d[8].push(void 0),d[8]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"LSEncryptedBackupsUpdateBackupsTableStoredProcedure",[d[4],d[7],d[5],d[7],d[6]].join(""),d[8],c.i64.cast([0,4]))):c.resolve()}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSEncryptedBackupsUpdateBackupsTableStoredProcedure";a.__tables__=["secure_encrypted_backups_client_state","encrypted_backups_virtual_devices","encrypted_backups"];e.exports=a}),null);
__d("MWJewelThreadlistPreloader",["I64","LSDatabaseSingleton","loadMoreLSThreads","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(){c("promiseDone")((h||(h=d("LSDatabaseSingleton"))).LSDatabaseSingleton.then(function(a){return a.runInTransaction(async function(a){await c("loadMoreLSThreads")(a,(i||(i=d("I64"))).of_int32(0))},"readwrite",void 0,void 0,f.id+":21")}))}g.default=a}),98);
__d("XCometGamingVanityControllerRouteBuilder",["jsRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsRouteBuilder")("/gaming/{vanity}/",Object.freeze({}),void 0);b=a;g["default"]=b}),98);